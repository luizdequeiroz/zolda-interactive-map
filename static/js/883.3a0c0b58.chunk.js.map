{"version":3,"file":"static/js/883.3a0c0b58.chunk.js","mappings":"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,EACA,GACC,EACD,EACA,GACC,EACD,EACA,GACC,EACD,EACA,GACC,EACD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACC,EACD,EACA,GACC,EACD,EACA,GACC,EACD,EACA,GACC,EACD,GAEEe,EAAM,GAEN77G,EAAQ0sB,EAAQ1sB,OAAS0sB,EAAQn8B,MAAQ,EACzC2P,EAASwsB,EAAQxsB,QAAUwsB,EAAQn8B,MAAQ,EAC3CozB,EAAQ+I,EAAQ/I,OAAS+I,EAAQn8B,MAAQ,EACzCwhK,EAAOrlI,EAAQqlI,OAAQ,EACvB42E,OAAkC,IAAtBj8M,EAAQi8M,UAAuB,EAAIj8M,EAAQi8M,UACvDC,OAAwC,IAAzBl8M,EAAQk8M,aAA0B,EAAIl8M,EAAQk8M,aAK7DC,EAFW,CAAC,EAAG,EAAG,EAAG,GAFzBF,GAAaA,EAAY,GAAK,GAK1BG,EAFc,CAAC,EAAG,EAAG,EAAG,GAF5BF,GAAgBA,EAAe,GAAK,GAKhCG,EAAgB,CAClB,GACC,EACD,GACC,GACA,EACD,GACC,EACD,EACA,EACA,EACA,EACA,EACA,EACA,GACC,GACA,EACD,GACC,GACA,GACA,GACA,EACD,GACC,GACA,EACD,EACA,GACC,EACD,GACC,GACA,EACD,GACC,EACD,EACA,EACA,EACA,GACC,EACD,EACA,GACC,GACA,EACD,GACC,GACA,GACA,GACA,EACD,GACC,GACA,EACD,EACA,GACC,EACD,GACC,EACD,EACA,GACC,EACD,EACA,EACA,EACA,GACC,EACD,EACA,GACC,GACA,GACA,GACA,GACA,GACA,GACA,EACD,GAEF,GAAIh3E,EAAM,CACRnpG,EAAU,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IACxFmgL,EAAgB,EACb,EACD,EACA,EACA,EACA,EACA,EACA,GACC,EACD,GACC,GACA,EACD,EACA,EACA,GACC,GACA,EAC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","sources":["../node_modules/@3d-dice/dice-box/dist/world.onscreen.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateWrapper = (obj, member, setter, getter) => {\n  return {\n    set _(value) {\n      __privateSet(obj, member, value, setter);\n    },\n    get _() {\n      return __privateGet(obj, member, getter);\n    }\n  };\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _dieCache, _count, _sleeperCount, _dieRollTimer, _canvas, _engine, _scene, _camera, _lights, _container, _themeLoader, _physicsWorkerPort, _meshList, _add, add_fn;\nimport { d as deepCopy } from \"./dice-box.es.js\";\nvar Scalar = function() {\n  function Scalar2() {\n  }\n  Scalar2.WithinEpsilon = function(a, b, epsilon) {\n    if (epsilon === void 0) {\n      epsilon = 1401298e-51;\n    }\n    return Math.abs(a - b) <= epsilon;\n  };\n  Scalar2.ToHex = function(i) {\n    var str = i.toString(16);\n    if (i <= 15) {\n      return (\"0\" + str).toUpperCase();\n    }\n    return str.toUpperCase();\n  };\n  Scalar2.Sign = function(value) {\n    value = +value;\n    if (value === 0 || isNaN(value)) {\n      return value;\n    }\n    return value > 0 ? 1 : -1;\n  };\n  Scalar2.Clamp = function(value, min, max) {\n    if (min === void 0) {\n      min = 0;\n    }\n    if (max === void 0) {\n      max = 1;\n    }\n    return Math.min(max, Math.max(min, value));\n  };\n  Scalar2.Log2 = function(value) {\n    return Math.log(value) * Math.LOG2E;\n  };\n  Scalar2.ILog2 = function(value) {\n    if (Math.log2) {\n      return Math.floor(Math.log2(value));\n    }\n    if (value < 0) {\n      return NaN;\n    } else if (value === 0) {\n      return -Infinity;\n    }\n    var n = 0;\n    if (value < 1) {\n      while (value < 1) {\n        n++;\n        value = value * 2;\n      }\n      n = -n;\n    } else if (value > 1) {\n      while (value > 1) {\n        n++;\n        value = Math.floor(value / 2);\n      }\n    }\n    return n;\n  };\n  Scalar2.Repeat = function(value, length) {\n    return value - Math.floor(value / length) * length;\n  };\n  Scalar2.Normalize = function(value, min, max) {\n    return (value - min) / (max - min);\n  };\n  Scalar2.Denormalize = function(normalized, min, max) {\n    return normalized * (max - min) + min;\n  };\n  Scalar2.DeltaAngle = function(current, target) {\n    var num = Scalar2.Repeat(target - current, 360);\n    if (num > 180) {\n      num -= 360;\n    }\n    return num;\n  };\n  Scalar2.PingPong = function(tx, length) {\n    var t = Scalar2.Repeat(tx, length * 2);\n    return length - Math.abs(t - length);\n  };\n  Scalar2.SmoothStep = function(from, to, tx) {\n    var t = Scalar2.Clamp(tx);\n    t = -2 * t * t * t + 3 * t * t;\n    return to * t + from * (1 - t);\n  };\n  Scalar2.MoveTowards = function(current, target, maxDelta) {\n    var result = 0;\n    if (Math.abs(target - current) <= maxDelta) {\n      result = target;\n    } else {\n      result = current + Scalar2.Sign(target - current) * maxDelta;\n    }\n    return result;\n  };\n  Scalar2.MoveTowardsAngle = function(current, target, maxDelta) {\n    var num = Scalar2.DeltaAngle(current, target);\n    var result = 0;\n    if (-maxDelta < num && num < maxDelta) {\n      result = target;\n    } else {\n      target = current + num;\n      result = Scalar2.MoveTowards(current, target, maxDelta);\n    }\n    return result;\n  };\n  Scalar2.Lerp = function(start, end, amount) {\n    return start + (end - start) * amount;\n  };\n  Scalar2.LerpAngle = function(start, end, amount) {\n    var num = Scalar2.Repeat(end - start, 360);\n    if (num > 180) {\n      num -= 360;\n    }\n    return start + num * Scalar2.Clamp(amount);\n  };\n  Scalar2.InverseLerp = function(a, b, value) {\n    var result = 0;\n    if (a != b) {\n      result = Scalar2.Clamp((value - a) / (b - a));\n    } else {\n      result = 0;\n    }\n    return result;\n  };\n  Scalar2.Hermite = function(value1, tangent1, value2, tangent2, amount) {\n    var squared = amount * amount;\n    var cubed = amount * squared;\n    var part1 = 2 * cubed - 3 * squared + 1;\n    var part2 = -2 * cubed + 3 * squared;\n    var part3 = cubed - 2 * squared + amount;\n    var part4 = cubed - squared;\n    return value1 * part1 + value2 * part2 + tangent1 * part3 + tangent2 * part4;\n  };\n  Scalar2.Hermite1stDerivative = function(value1, tangent1, value2, tangent2, time) {\n    var t2 = time * time;\n    return (t2 - time) * 6 * value1 + (3 * t2 - 4 * time + 1) * tangent1 + (-t2 + time) * 6 * value2 + (3 * t2 - 2 * time) * tangent2;\n  };\n  Scalar2.RandomRange = function(min, max) {\n    if (min === max) {\n      return min;\n    }\n    return Math.random() * (max - min) + min;\n  };\n  Scalar2.RangeToPercent = function(number, min, max) {\n    return (number - min) / (max - min);\n  };\n  Scalar2.PercentToRange = function(percent, min, max) {\n    return (max - min) * percent + min;\n  };\n  Scalar2.NormalizeRadians = function(angle) {\n    angle -= Scalar2.TwoPi * Math.floor((angle + Math.PI) / Scalar2.TwoPi);\n    return angle;\n  };\n  Scalar2.HCF = function(a, b) {\n    var r = a % b;\n    if (r === 0) {\n      return b;\n    }\n    return Scalar2.HCF(b, r);\n  };\n  Scalar2.TwoPi = Math.PI * 2;\n  return Scalar2;\n}();\nvar ToGammaSpace = 1 / 2.2;\nvar ToLinearSpace = 2.2;\nvar Epsilon = 1e-3;\nvar ArrayTools = function() {\n  function ArrayTools2() {\n  }\n  ArrayTools2.BuildArray = function(size, itemBuilder) {\n    var a = [];\n    for (var i = 0; i < size; ++i) {\n      a.push(itemBuilder());\n    }\n    return a;\n  };\n  ArrayTools2.BuildTuple = function(size, itemBuilder) {\n    return ArrayTools2.BuildArray(size, itemBuilder);\n  };\n  return ArrayTools2;\n}();\nvar _RegisteredTypes = {};\nfunction RegisterClass(className, type) {\n  _RegisteredTypes[className] = type;\n}\nfunction GetClass(fqdn) {\n  return _RegisteredTypes[fqdn];\n}\nvar PerformanceConfigurator = function() {\n  function PerformanceConfigurator2() {\n  }\n  PerformanceConfigurator2.SetMatrixPrecision = function(use64bits) {\n    PerformanceConfigurator2.MatrixTrackPrecisionChange = false;\n    if (use64bits && !PerformanceConfigurator2.MatrixUse64Bits) {\n      if (PerformanceConfigurator2.MatrixTrackedMatrices) {\n        for (var m = 0; m < PerformanceConfigurator2.MatrixTrackedMatrices.length; ++m) {\n          var matrix = PerformanceConfigurator2.MatrixTrackedMatrices[m];\n          var values = matrix._m;\n          matrix._m = new Array(16);\n          for (var i = 0; i < 16; ++i) {\n            matrix._m[i] = values[i];\n          }\n        }\n      }\n    }\n    PerformanceConfigurator2.MatrixUse64Bits = use64bits;\n    PerformanceConfigurator2.MatrixCurrentType = PerformanceConfigurator2.MatrixUse64Bits ? Array : Float32Array;\n    PerformanceConfigurator2.MatrixTrackedMatrices = null;\n  };\n  PerformanceConfigurator2.MatrixUse64Bits = false;\n  PerformanceConfigurator2.MatrixTrackPrecisionChange = true;\n  PerformanceConfigurator2.MatrixCurrentType = Float32Array;\n  PerformanceConfigurator2.MatrixTrackedMatrices = [];\n  return PerformanceConfigurator2;\n}();\nvar EngineStore = function() {\n  function EngineStore2() {\n  }\n  Object.defineProperty(EngineStore2, \"LastCreatedEngine\", {\n    get: function() {\n      if (this.Instances.length === 0) {\n        return null;\n      }\n      return this.Instances[this.Instances.length - 1];\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(EngineStore2, \"LastCreatedScene\", {\n    get: function() {\n      return this._LastCreatedScene;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  EngineStore2.Instances = new Array();\n  EngineStore2._LastCreatedScene = null;\n  EngineStore2.UseFallbackTexture = true;\n  EngineStore2.FallbackTexture = \"\";\n  return EngineStore2;\n}();\nvar _ExtractAsInt = function(value) {\n  return parseInt(value.toString().replace(/\\W/g, \"\"));\n};\nvar Vector2 = function() {\n  function Vector22(x, y) {\n    if (x === void 0) {\n      x = 0;\n    }\n    if (y === void 0) {\n      y = 0;\n    }\n    this.x = x;\n    this.y = y;\n  }\n  Vector22.prototype.toString = function() {\n    return \"{X: \".concat(this.x, \" Y: \").concat(this.y, \"}\");\n  };\n  Vector22.prototype.getClassName = function() {\n    return \"Vector2\";\n  };\n  Vector22.prototype.getHashCode = function() {\n    var x = _ExtractAsInt(this.x);\n    var y = _ExtractAsInt(this.y);\n    var hash = x;\n    hash = hash * 397 ^ y;\n    return hash;\n  };\n  Vector22.prototype.toArray = function(array, index) {\n    if (index === void 0) {\n      index = 0;\n    }\n    array[index] = this.x;\n    array[index + 1] = this.y;\n    return this;\n  };\n  Vector22.prototype.fromArray = function(array, index) {\n    if (index === void 0) {\n      index = 0;\n    }\n    Vector22.FromArrayToRef(array, index, this);\n    return this;\n  };\n  Vector22.prototype.asArray = function() {\n    var result = new Array();\n    this.toArray(result, 0);\n    return result;\n  };\n  Vector22.prototype.copyFrom = function(source) {\n    this.x = source.x;\n    this.y = source.y;\n    return this;\n  };\n  Vector22.prototype.copyFromFloats = function(x, y) {\n    this.x = x;\n    this.y = y;\n    return this;\n  };\n  Vector22.prototype.set = function(x, y) {\n    return this.copyFromFloats(x, y);\n  };\n  Vector22.prototype.add = function(otherVector) {\n    return new Vector22(this.x + otherVector.x, this.y + otherVector.y);\n  };\n  Vector22.prototype.addToRef = function(otherVector, result) {\n    result.x = this.x + otherVector.x;\n    result.y = this.y + otherVector.y;\n    return this;\n  };\n  Vector22.prototype.addInPlace = function(otherVector) {\n    this.x += otherVector.x;\n    this.y += otherVector.y;\n    return this;\n  };\n  Vector22.prototype.addVector3 = function(otherVector) {\n    return new Vector22(this.x + otherVector.x, this.y + otherVector.y);\n  };\n  Vector22.prototype.subtract = function(otherVector) {\n    return new Vector22(this.x - otherVector.x, this.y - otherVector.y);\n  };\n  Vector22.prototype.subtractToRef = function(otherVector, result) {\n    result.x = this.x - otherVector.x;\n    result.y = this.y - otherVector.y;\n    return this;\n  };\n  Vector22.prototype.subtractInPlace = function(otherVector) {\n    this.x -= otherVector.x;\n    this.y -= otherVector.y;\n    return this;\n  };\n  Vector22.prototype.multiplyInPlace = function(otherVector) {\n    this.x *= otherVector.x;\n    this.y *= otherVector.y;\n    return this;\n  };\n  Vector22.prototype.multiply = function(otherVector) {\n    return new Vector22(this.x * otherVector.x, this.y * otherVector.y);\n  };\n  Vector22.prototype.multiplyToRef = function(otherVector, result) {\n    result.x = this.x * otherVector.x;\n    result.y = this.y * otherVector.y;\n    return this;\n  };\n  Vector22.prototype.multiplyByFloats = function(x, y) {\n    return new Vector22(this.x * x, this.y * y);\n  };\n  Vector22.prototype.divide = function(otherVector) {\n    return new Vector22(this.x / otherVector.x, this.y / otherVector.y);\n  };\n  Vector22.prototype.divideToRef = function(otherVector, result) {\n    result.x = this.x / otherVector.x;\n    result.y = this.y / otherVector.y;\n    return this;\n  };\n  Vector22.prototype.divideInPlace = function(otherVector) {\n    return this.divideToRef(otherVector, this);\n  };\n  Vector22.prototype.negate = function() {\n    return new Vector22(-this.x, -this.y);\n  };\n  Vector22.prototype.negateInPlace = function() {\n    this.x *= -1;\n    this.y *= -1;\n    return this;\n  };\n  Vector22.prototype.negateToRef = function(result) {\n    return result.copyFromFloats(this.x * -1, this.y * -1);\n  };\n  Vector22.prototype.scaleInPlace = function(scale) {\n    this.x *= scale;\n    this.y *= scale;\n    return this;\n  };\n  Vector22.prototype.scale = function(scale) {\n    var result = new Vector22(0, 0);\n    this.scaleToRef(scale, result);\n    return result;\n  };\n  Vector22.prototype.scaleToRef = function(scale, result) {\n    result.x = this.x * scale;\n    result.y = this.y * scale;\n    return this;\n  };\n  Vector22.prototype.scaleAndAddToRef = function(scale, result) {\n    result.x += this.x * scale;\n    result.y += this.y * scale;\n    return this;\n  };\n  Vector22.prototype.equals = function(otherVector) {\n    return otherVector && this.x === otherVector.x && this.y === otherVector.y;\n  };\n  Vector22.prototype.equalsWithEpsilon = function(otherVector, epsilon) {\n    if (epsilon === void 0) {\n      epsilon = Epsilon;\n    }\n    return otherVector && Scalar.WithinEpsilon(this.x, otherVector.x, epsilon) && Scalar.WithinEpsilon(this.y, otherVector.y, epsilon);\n  };\n  Vector22.prototype.floor = function() {\n    return new Vector22(Math.floor(this.x), Math.floor(this.y));\n  };\n  Vector22.prototype.fract = function() {\n    return new Vector22(this.x - Math.floor(this.x), this.y - Math.floor(this.y));\n  };\n  Vector22.prototype.rotateToRef = function(angle, result) {\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    result.x = cos * this.x - sin * this.y;\n    result.y = sin * this.x + cos * this.y;\n    return this;\n  };\n  Vector22.prototype.length = function() {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  };\n  Vector22.prototype.lengthSquared = function() {\n    return this.x * this.x + this.y * this.y;\n  };\n  Vector22.prototype.normalize = function() {\n    Vector22.NormalizeToRef(this, this);\n    return this;\n  };\n  Vector22.prototype.clone = function() {\n    return new Vector22(this.x, this.y);\n  };\n  Vector22.Zero = function() {\n    return new Vector22(0, 0);\n  };\n  Vector22.One = function() {\n    return new Vector22(1, 1);\n  };\n  Vector22.FromArray = function(array, offset) {\n    if (offset === void 0) {\n      offset = 0;\n    }\n    return new Vector22(array[offset], array[offset + 1]);\n  };\n  Vector22.FromArrayToRef = function(array, offset, result) {\n    result.x = array[offset];\n    result.y = array[offset + 1];\n  };\n  Vector22.CatmullRom = function(value1, value2, value3, value4, amount) {\n    var squared = amount * amount;\n    var cubed = amount * squared;\n    var x = 0.5 * (2 * value2.x + (-value1.x + value3.x) * amount + (2 * value1.x - 5 * value2.x + 4 * value3.x - value4.x) * squared + (-value1.x + 3 * value2.x - 3 * value3.x + value4.x) * cubed);\n    var y = 0.5 * (2 * value2.y + (-value1.y + value3.y) * amount + (2 * value1.y - 5 * value2.y + 4 * value3.y - value4.y) * squared + (-value1.y + 3 * value2.y - 3 * value3.y + value4.y) * cubed);\n    return new Vector22(x, y);\n  };\n  Vector22.Clamp = function(value, min, max) {\n    var x = value.x;\n    x = x > max.x ? max.x : x;\n    x = x < min.x ? min.x : x;\n    var y = value.y;\n    y = y > max.y ? max.y : y;\n    y = y < min.y ? min.y : y;\n    return new Vector22(x, y);\n  };\n  Vector22.Hermite = function(value1, tangent1, value2, tangent2, amount) {\n    var squared = amount * amount;\n    var cubed = amount * squared;\n    var part1 = 2 * cubed - 3 * squared + 1;\n    var part2 = -2 * cubed + 3 * squared;\n    var part3 = cubed - 2 * squared + amount;\n    var part4 = cubed - squared;\n    var x = value1.x * part1 + value2.x * part2 + tangent1.x * part3 + tangent2.x * part4;\n    var y = value1.y * part1 + value2.y * part2 + tangent1.y * part3 + tangent2.y * part4;\n    return new Vector22(x, y);\n  };\n  Vector22.Hermite1stDerivative = function(value1, tangent1, value2, tangent2, time) {\n    var result = Vector22.Zero();\n    this.Hermite1stDerivativeToRef(value1, tangent1, value2, tangent2, time, result);\n    return result;\n  };\n  Vector22.Hermite1stDerivativeToRef = function(value1, tangent1, value2, tangent2, time, result) {\n    var t2 = time * time;\n    result.x = (t2 - time) * 6 * value1.x + (3 * t2 - 4 * time + 1) * tangent1.x + (-t2 + time) * 6 * value2.x + (3 * t2 - 2 * time) * tangent2.x;\n    result.y = (t2 - time) * 6 * value1.y + (3 * t2 - 4 * time + 1) * tangent1.y + (-t2 + time) * 6 * value2.y + (3 * t2 - 2 * time) * tangent2.y;\n  };\n  Vector22.Lerp = function(start, end, amount) {\n    var x = start.x + (end.x - start.x) * amount;\n    var y = start.y + (end.y - start.y) * amount;\n    return new Vector22(x, y);\n  };\n  Vector22.Dot = function(left, right) {\n    return left.x * right.x + left.y * right.y;\n  };\n  Vector22.Normalize = function(vector) {\n    var newVector = Vector22.Zero();\n    this.NormalizeToRef(vector, newVector);\n    return newVector;\n  };\n  Vector22.NormalizeToRef = function(vector, result) {\n    var len = vector.length();\n    if (len === 0) {\n      return;\n    }\n    result.x = vector.x / len;\n    result.y = vector.y / len;\n  };\n  Vector22.Minimize = function(left, right) {\n    var x = left.x < right.x ? left.x : right.x;\n    var y = left.y < right.y ? left.y : right.y;\n    return new Vector22(x, y);\n  };\n  Vector22.Maximize = function(left, right) {\n    var x = left.x > right.x ? left.x : right.x;\n    var y = left.y > right.y ? left.y : right.y;\n    return new Vector22(x, y);\n  };\n  Vector22.Transform = function(vector, transformation) {\n    var r = Vector22.Zero();\n    Vector22.TransformToRef(vector, transformation, r);\n    return r;\n  };\n  Vector22.TransformToRef = function(vector, transformation, result) {\n    var m = transformation.m;\n    var x = vector.x * m[0] + vector.y * m[4] + m[12];\n    var y = vector.x * m[1] + vector.y * m[5] + m[13];\n    result.x = x;\n    result.y = y;\n  };\n  Vector22.PointInTriangle = function(p, p0, p1, p2) {\n    var a = 1 / 2 * (-p1.y * p2.x + p0.y * (-p1.x + p2.x) + p0.x * (p1.y - p2.y) + p1.x * p2.y);\n    var sign = a < 0 ? -1 : 1;\n    var s = (p0.y * p2.x - p0.x * p2.y + (p2.y - p0.y) * p.x + (p0.x - p2.x) * p.y) * sign;\n    var t = (p0.x * p1.y - p0.y * p1.x + (p0.y - p1.y) * p.x + (p1.x - p0.x) * p.y) * sign;\n    return s > 0 && t > 0 && s + t < 2 * a * sign;\n  };\n  Vector22.Distance = function(value1, value2) {\n    return Math.sqrt(Vector22.DistanceSquared(value1, value2));\n  };\n  Vector22.DistanceSquared = function(value1, value2) {\n    var x = value1.x - value2.x;\n    var y = value1.y - value2.y;\n    return x * x + y * y;\n  };\n  Vector22.Center = function(value1, value2) {\n    return Vector22.CenterToRef(value1, value2, Vector22.Zero());\n  };\n  Vector22.CenterToRef = function(value1, value2, ref) {\n    return ref.copyFromFloats((value1.x + value2.x) / 2, (value1.y + value2.y) / 2);\n  };\n  Vector22.DistanceOfPointFromSegment = function(p, segA, segB) {\n    var l2 = Vector22.DistanceSquared(segA, segB);\n    if (l2 === 0) {\n      return Vector22.Distance(p, segA);\n    }\n    var v = segB.subtract(segA);\n    var t = Math.max(0, Math.min(1, Vector22.Dot(p.subtract(segA), v) / l2));\n    var proj = segA.add(v.multiplyByFloats(t, t));\n    return Vector22.Distance(p, proj);\n  };\n  return Vector22;\n}();\nvar Vector3 = function() {\n  function Vector32(x, y, z) {\n    if (x === void 0) {\n      x = 0;\n    }\n    if (y === void 0) {\n      y = 0;\n    }\n    if (z === void 0) {\n      z = 0;\n    }\n    this._isDirty = true;\n    this._x = x;\n    this._y = y;\n    this._z = z;\n  }\n  Object.defineProperty(Vector32.prototype, \"x\", {\n    get: function() {\n      return this._x;\n    },\n    set: function(value) {\n      this._x = value;\n      this._isDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Vector32.prototype, \"y\", {\n    get: function() {\n      return this._y;\n    },\n    set: function(value) {\n      this._y = value;\n      this._isDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Vector32.prototype, \"z\", {\n    get: function() {\n      return this._z;\n    },\n    set: function(value) {\n      this._z = value;\n      this._isDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Vector32.prototype.toString = function() {\n    return \"{X: \".concat(this._x, \" Y: \").concat(this._y, \" Z: \").concat(this._z, \"}\");\n  };\n  Vector32.prototype.getClassName = function() {\n    return \"Vector3\";\n  };\n  Vector32.prototype.getHashCode = function() {\n    var x = _ExtractAsInt(this._x);\n    var y = _ExtractAsInt(this._y);\n    var z = _ExtractAsInt(this._z);\n    var hash = x;\n    hash = hash * 397 ^ y;\n    hash = hash * 397 ^ z;\n    return hash;\n  };\n  Vector32.prototype.asArray = function() {\n    var result = [];\n    this.toArray(result, 0);\n    return result;\n  };\n  Vector32.prototype.toArray = function(array, index) {\n    if (index === void 0) {\n      index = 0;\n    }\n    array[index] = this._x;\n    array[index + 1] = this._y;\n    array[index + 2] = this._z;\n    return this;\n  };\n  Vector32.prototype.fromArray = function(array, index) {\n    if (index === void 0) {\n      index = 0;\n    }\n    Vector32.FromArrayToRef(array, index, this);\n    return this;\n  };\n  Vector32.prototype.toQuaternion = function() {\n    return Quaternion.RotationYawPitchRoll(this._y, this._x, this._z);\n  };\n  Vector32.prototype.addInPlace = function(otherVector) {\n    return this.addInPlaceFromFloats(otherVector._x, otherVector._y, otherVector._z);\n  };\n  Vector32.prototype.addInPlaceFromFloats = function(x, y, z) {\n    this.x += x;\n    this.y += y;\n    this.z += z;\n    return this;\n  };\n  Vector32.prototype.add = function(otherVector) {\n    return new Vector32(this._x + otherVector._x, this._y + otherVector._y, this._z + otherVector._z);\n  };\n  Vector32.prototype.addToRef = function(otherVector, result) {\n    return result.copyFromFloats(this._x + otherVector._x, this._y + otherVector._y, this._z + otherVector._z);\n  };\n  Vector32.prototype.subtractInPlace = function(otherVector) {\n    this.x -= otherVector._x;\n    this.y -= otherVector._y;\n    this.z -= otherVector._z;\n    return this;\n  };\n  Vector32.prototype.subtract = function(otherVector) {\n    return new Vector32(this._x - otherVector._x, this._y - otherVector._y, this._z - otherVector._z);\n  };\n  Vector32.prototype.subtractToRef = function(otherVector, result) {\n    return this.subtractFromFloatsToRef(otherVector._x, otherVector._y, otherVector._z, result);\n  };\n  Vector32.prototype.subtractFromFloats = function(x, y, z) {\n    return new Vector32(this._x - x, this._y - y, this._z - z);\n  };\n  Vector32.prototype.subtractFromFloatsToRef = function(x, y, z, result) {\n    return result.copyFromFloats(this._x - x, this._y - y, this._z - z);\n  };\n  Vector32.prototype.negate = function() {\n    return new Vector32(-this._x, -this._y, -this._z);\n  };\n  Vector32.prototype.negateInPlace = function() {\n    this.x *= -1;\n    this.y *= -1;\n    this.z *= -1;\n    return this;\n  };\n  Vector32.prototype.negateToRef = function(result) {\n    return result.copyFromFloats(this._x * -1, this._y * -1, this._z * -1);\n  };\n  Vector32.prototype.scaleInPlace = function(scale) {\n    this.x *= scale;\n    this.y *= scale;\n    this.z *= scale;\n    return this;\n  };\n  Vector32.prototype.scale = function(scale) {\n    return new Vector32(this._x * scale, this._y * scale, this._z * scale);\n  };\n  Vector32.prototype.scaleToRef = function(scale, result) {\n    return result.copyFromFloats(this._x * scale, this._y * scale, this._z * scale);\n  };\n  Vector32.prototype.applyRotationQuaternionToRef = function(q, result) {\n    var ix = q.w * this.x + q.y * this.z - q.z * this.y;\n    var iy = q.w * this.y + q.z * this.x - q.x * this.z;\n    var iz = q.w * this.z + q.x * this.y - q.y * this.x;\n    var iw = -q.x * this.x - q.y * this.y - q.z * this.z;\n    result.x = ix * q.w + iw * -q.x + iy * -q.z - iz * -q.y;\n    result.y = iy * q.w + iw * -q.y + iz * -q.x - ix * -q.z;\n    result.z = iz * q.w + iw * -q.z + ix * -q.y - iy * -q.x;\n    return result;\n  };\n  Vector32.prototype.applyRotationQuaternionInPlace = function(q) {\n    return this.applyRotationQuaternionToRef(q, this);\n  };\n  Vector32.prototype.applyRotationQuaternion = function(q) {\n    return this.applyRotationQuaternionToRef(q, Vector32.Zero());\n  };\n  Vector32.prototype.scaleAndAddToRef = function(scale, result) {\n    return result.addInPlaceFromFloats(this._x * scale, this._y * scale, this._z * scale);\n  };\n  Vector32.prototype.projectOnPlane = function(plane, origin) {\n    var result = Vector32.Zero();\n    this.projectOnPlaneToRef(plane, origin, result);\n    return result;\n  };\n  Vector32.prototype.projectOnPlaneToRef = function(plane, origin, result) {\n    var n = plane.normal;\n    var d = plane.d;\n    var V = MathTmp.Vector3[0];\n    this.subtractToRef(origin, V);\n    V.normalize();\n    var denom = Vector32.Dot(V, n);\n    var t = -(Vector32.Dot(origin, n) + d) / denom;\n    var scaledV = V.scaleInPlace(t);\n    origin.addToRef(scaledV, result);\n  };\n  Vector32.prototype.equals = function(otherVector) {\n    return otherVector && this._x === otherVector._x && this._y === otherVector._y && this._z === otherVector._z;\n  };\n  Vector32.prototype.equalsWithEpsilon = function(otherVector, epsilon) {\n    if (epsilon === void 0) {\n      epsilon = Epsilon;\n    }\n    return otherVector && Scalar.WithinEpsilon(this._x, otherVector._x, epsilon) && Scalar.WithinEpsilon(this._y, otherVector._y, epsilon) && Scalar.WithinEpsilon(this._z, otherVector._z, epsilon);\n  };\n  Vector32.prototype.equalsToFloats = function(x, y, z) {\n    return this._x === x && this._y === y && this._z === z;\n  };\n  Vector32.prototype.multiplyInPlace = function(otherVector) {\n    this.x *= otherVector._x;\n    this.y *= otherVector._y;\n    this.z *= otherVector._z;\n    return this;\n  };\n  Vector32.prototype.multiply = function(otherVector) {\n    return this.multiplyByFloats(otherVector._x, otherVector._y, otherVector._z);\n  };\n  Vector32.prototype.multiplyToRef = function(otherVector, result) {\n    return result.copyFromFloats(this._x * otherVector._x, this._y * otherVector._y, this._z * otherVector._z);\n  };\n  Vector32.prototype.multiplyByFloats = function(x, y, z) {\n    return new Vector32(this._x * x, this._y * y, this._z * z);\n  };\n  Vector32.prototype.divide = function(otherVector) {\n    return new Vector32(this._x / otherVector._x, this._y / otherVector._y, this._z / otherVector._z);\n  };\n  Vector32.prototype.divideToRef = function(otherVector, result) {\n    return result.copyFromFloats(this._x / otherVector._x, this._y / otherVector._y, this._z / otherVector._z);\n  };\n  Vector32.prototype.divideInPlace = function(otherVector) {\n    return this.divideToRef(otherVector, this);\n  };\n  Vector32.prototype.minimizeInPlace = function(other) {\n    return this.minimizeInPlaceFromFloats(other._x, other._y, other._z);\n  };\n  Vector32.prototype.maximizeInPlace = function(other) {\n    return this.maximizeInPlaceFromFloats(other._x, other._y, other._z);\n  };\n  Vector32.prototype.minimizeInPlaceFromFloats = function(x, y, z) {\n    if (x < this._x) {\n      this.x = x;\n    }\n    if (y < this._y) {\n      this.y = y;\n    }\n    if (z < this._z) {\n      this.z = z;\n    }\n    return this;\n  };\n  Vector32.prototype.maximizeInPlaceFromFloats = function(x, y, z) {\n    if (x > this._x) {\n      this.x = x;\n    }\n    if (y > this._y) {\n      this.y = y;\n    }\n    if (z > this._z) {\n      this.z = z;\n    }\n    return this;\n  };\n  Vector32.prototype.isNonUniformWithinEpsilon = function(epsilon) {\n    var absX = Math.abs(this._x);\n    var absY = Math.abs(this._y);\n    if (!Scalar.WithinEpsilon(absX, absY, epsilon)) {\n      return true;\n    }\n    var absZ = Math.abs(this._z);\n    if (!Scalar.WithinEpsilon(absX, absZ, epsilon)) {\n      return true;\n    }\n    if (!Scalar.WithinEpsilon(absY, absZ, epsilon)) {\n      return true;\n    }\n    return false;\n  };\n  Object.defineProperty(Vector32.prototype, \"isNonUniform\", {\n    get: function() {\n      var absX = Math.abs(this._x);\n      var absY = Math.abs(this._y);\n      if (absX !== absY) {\n        return true;\n      }\n      var absZ = Math.abs(this._z);\n      if (absX !== absZ) {\n        return true;\n      }\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Vector32.prototype.floor = function() {\n    return new Vector32(Math.floor(this._x), Math.floor(this._y), Math.floor(this._z));\n  };\n  Vector32.prototype.fract = function() {\n    return new Vector32(this._x - Math.floor(this._x), this._y - Math.floor(this._y), this._z - Math.floor(this._z));\n  };\n  Vector32.prototype.length = function() {\n    return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z);\n  };\n  Vector32.prototype.lengthSquared = function() {\n    return this._x * this._x + this._y * this._y + this._z * this._z;\n  };\n  Object.defineProperty(Vector32.prototype, \"hasAZeroComponent\", {\n    get: function() {\n      return this._x * this._y * this._z === 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Vector32.prototype.normalize = function() {\n    return this.normalizeFromLength(this.length());\n  };\n  Vector32.prototype.reorderInPlace = function(order) {\n    var _this = this;\n    order = order.toLowerCase();\n    if (order === \"xyz\") {\n      return this;\n    }\n    MathTmp.Vector3[0].copyFrom(this);\n    [\"x\", \"y\", \"z\"].forEach(function(val, i) {\n      _this[val] = MathTmp.Vector3[0][order[i]];\n    });\n    return this;\n  };\n  Vector32.prototype.rotateByQuaternionToRef = function(quaternion, result) {\n    quaternion.toRotationMatrix(MathTmp.Matrix[0]);\n    Vector32.TransformCoordinatesToRef(this, MathTmp.Matrix[0], result);\n    return result;\n  };\n  Vector32.prototype.rotateByQuaternionAroundPointToRef = function(quaternion, point, result) {\n    this.subtractToRef(point, MathTmp.Vector3[0]);\n    MathTmp.Vector3[0].rotateByQuaternionToRef(quaternion, MathTmp.Vector3[0]);\n    point.addToRef(MathTmp.Vector3[0], result);\n    return result;\n  };\n  Vector32.prototype.cross = function(other) {\n    return Vector32.Cross(this, other);\n  };\n  Vector32.prototype.normalizeFromLength = function(len) {\n    if (len === 0 || len === 1) {\n      return this;\n    }\n    return this.scaleInPlace(1 / len);\n  };\n  Vector32.prototype.normalizeToNew = function() {\n    var normalized = new Vector32(0, 0, 0);\n    this.normalizeToRef(normalized);\n    return normalized;\n  };\n  Vector32.prototype.normalizeToRef = function(reference) {\n    var len = this.length();\n    if (len === 0 || len === 1) {\n      return reference.copyFromFloats(this._x, this._y, this._z);\n    }\n    return this.scaleToRef(1 / len, reference);\n  };\n  Vector32.prototype.clone = function() {\n    return new Vector32(this._x, this._y, this._z);\n  };\n  Vector32.prototype.copyFrom = function(source) {\n    return this.copyFromFloats(source._x, source._y, source._z);\n  };\n  Vector32.prototype.copyFromFloats = function(x, y, z) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    return this;\n  };\n  Vector32.prototype.set = function(x, y, z) {\n    return this.copyFromFloats(x, y, z);\n  };\n  Vector32.prototype.setAll = function(v) {\n    this.x = this.y = this.z = v;\n    return this;\n  };\n  Vector32.GetClipFactor = function(vector0, vector1, axis, size) {\n    var d0 = Vector32.Dot(vector0, axis) - size;\n    var d1 = Vector32.Dot(vector1, axis) - size;\n    var s = d0 / (d0 - d1);\n    return s;\n  };\n  Vector32.GetAngleBetweenVectors = function(vector0, vector1, normal) {\n    var v0 = vector0.normalizeToRef(MathTmp.Vector3[1]);\n    var v1 = vector1.normalizeToRef(MathTmp.Vector3[2]);\n    var dot = Vector32.Dot(v0, v1);\n    dot = Scalar.Clamp(dot, -1, 1);\n    var angle = Math.acos(dot);\n    var n = MathTmp.Vector3[3];\n    Vector32.CrossToRef(v0, v1, n);\n    if (Vector32.Dot(n, normal) > 0) {\n      return isNaN(angle) ? 0 : angle;\n    }\n    return isNaN(angle) ? -Math.PI : -Math.acos(dot);\n  };\n  Vector32.GetAngleBetweenVectorsOnPlane = function(vector0, vector1, normal) {\n    MathTmp.Vector3[0].copyFrom(vector0);\n    var v0 = MathTmp.Vector3[0];\n    MathTmp.Vector3[1].copyFrom(vector1);\n    var v1 = MathTmp.Vector3[1];\n    MathTmp.Vector3[2].copyFrom(normal);\n    var vNormal = MathTmp.Vector3[2];\n    var right = MathTmp.Vector3[3];\n    var forward = MathTmp.Vector3[4];\n    v0.normalize();\n    v1.normalize();\n    vNormal.normalize();\n    Vector32.CrossToRef(vNormal, v0, right);\n    Vector32.CrossToRef(right, vNormal, forward);\n    var angle = Math.atan2(Vector32.Dot(v1, right), Vector32.Dot(v1, forward));\n    return Scalar.NormalizeRadians(angle);\n  };\n  Vector32.SlerpToRef = function(vector0, vector1, slerp, result) {\n    slerp = Scalar.Clamp(slerp, 0, 1);\n    var vector0Dir = MathTmp.Vector3[0];\n    var vector1Dir = MathTmp.Vector3[1];\n    vector0Dir.copyFrom(vector0);\n    var vector0Length = vector0Dir.length();\n    vector0Dir.normalizeFromLength(vector0Length);\n    vector1Dir.copyFrom(vector1);\n    var vector1Length = vector1Dir.length();\n    vector1Dir.normalizeFromLength(vector1Length);\n    var dot = Vector32.Dot(vector0Dir, vector1Dir);\n    var scale0;\n    var scale1;\n    if (dot < 1 - Epsilon) {\n      var omega = Math.acos(dot);\n      var invSin = 1 / Math.sin(omega);\n      scale0 = Math.sin((1 - slerp) * omega) * invSin;\n      scale1 = Math.sin(slerp * omega) * invSin;\n    } else {\n      scale0 = 1 - slerp;\n      scale1 = slerp;\n    }\n    vector0Dir.scaleInPlace(scale0);\n    vector1Dir.scaleInPlace(scale1);\n    result.copyFrom(vector0Dir).addInPlace(vector1Dir);\n    result.scaleInPlace(Scalar.Lerp(vector0Length, vector1Length, slerp));\n  };\n  Vector32.SmoothToRef = function(source, goal, deltaTime, lerpTime, result) {\n    Vector32.SlerpToRef(source, goal, lerpTime === 0 ? 1 : deltaTime / lerpTime, result);\n  };\n  Vector32.FromArray = function(array, offset) {\n    if (offset === void 0) {\n      offset = 0;\n    }\n    return new Vector32(array[offset], array[offset + 1], array[offset + 2]);\n  };\n  Vector32.FromFloatArray = function(array, offset) {\n    return Vector32.FromArray(array, offset);\n  };\n  Vector32.FromArrayToRef = function(array, offset, result) {\n    result.x = array[offset];\n    result.y = array[offset + 1];\n    result.z = array[offset + 2];\n  };\n  Vector32.FromFloatArrayToRef = function(array, offset, result) {\n    return Vector32.FromArrayToRef(array, offset, result);\n  };\n  Vector32.FromFloatsToRef = function(x, y, z, result) {\n    result.copyFromFloats(x, y, z);\n  };\n  Vector32.Zero = function() {\n    return new Vector32(0, 0, 0);\n  };\n  Vector32.One = function() {\n    return new Vector32(1, 1, 1);\n  };\n  Vector32.Up = function() {\n    return new Vector32(0, 1, 0);\n  };\n  Object.defineProperty(Vector32, \"UpReadOnly\", {\n    get: function() {\n      return Vector32._UpReadOnly;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Vector32, \"RightReadOnly\", {\n    get: function() {\n      return Vector32._RightReadOnly;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Vector32, \"LeftReadOnly\", {\n    get: function() {\n      return Vector32._LeftReadOnly;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Vector32, \"LeftHandedForwardReadOnly\", {\n    get: function() {\n      return Vector32._LeftHandedForwardReadOnly;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Vector32, \"RightHandedForwardReadOnly\", {\n    get: function() {\n      return Vector32._RightHandedForwardReadOnly;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Vector32, \"ZeroReadOnly\", {\n    get: function() {\n      return Vector32._ZeroReadOnly;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Vector32.Down = function() {\n    return new Vector32(0, -1, 0);\n  };\n  Vector32.Forward = function(rightHandedSystem) {\n    if (rightHandedSystem === void 0) {\n      rightHandedSystem = false;\n    }\n    return new Vector32(0, 0, rightHandedSystem ? -1 : 1);\n  };\n  Vector32.Backward = function(rightHandedSystem) {\n    if (rightHandedSystem === void 0) {\n      rightHandedSystem = false;\n    }\n    return new Vector32(0, 0, rightHandedSystem ? 1 : -1);\n  };\n  Vector32.Right = function() {\n    return new Vector32(1, 0, 0);\n  };\n  Vector32.Left = function() {\n    return new Vector32(-1, 0, 0);\n  };\n  Vector32.TransformCoordinates = function(vector, transformation) {\n    var result = Vector32.Zero();\n    Vector32.TransformCoordinatesToRef(vector, transformation, result);\n    return result;\n  };\n  Vector32.TransformCoordinatesToRef = function(vector, transformation, result) {\n    Vector32.TransformCoordinatesFromFloatsToRef(vector._x, vector._y, vector._z, transformation, result);\n  };\n  Vector32.TransformCoordinatesFromFloatsToRef = function(x, y, z, transformation, result) {\n    var m = transformation.m;\n    var rx = x * m[0] + y * m[4] + z * m[8] + m[12];\n    var ry = x * m[1] + y * m[5] + z * m[9] + m[13];\n    var rz = x * m[2] + y * m[6] + z * m[10] + m[14];\n    var rw = 1 / (x * m[3] + y * m[7] + z * m[11] + m[15]);\n    result.x = rx * rw;\n    result.y = ry * rw;\n    result.z = rz * rw;\n  };\n  Vector32.TransformNormal = function(vector, transformation) {\n    var result = Vector32.Zero();\n    Vector32.TransformNormalToRef(vector, transformation, result);\n    return result;\n  };\n  Vector32.TransformNormalToRef = function(vector, transformation, result) {\n    this.TransformNormalFromFloatsToRef(vector._x, vector._y, vector._z, transformation, result);\n  };\n  Vector32.TransformNormalFromFloatsToRef = function(x, y, z, transformation, result) {\n    var m = transformation.m;\n    result.x = x * m[0] + y * m[4] + z * m[8];\n    result.y = x * m[1] + y * m[5] + z * m[9];\n    result.z = x * m[2] + y * m[6] + z * m[10];\n  };\n  Vector32.CatmullRom = function(value1, value2, value3, value4, amount) {\n    var squared = amount * amount;\n    var cubed = amount * squared;\n    var x = 0.5 * (2 * value2._x + (-value1._x + value3._x) * amount + (2 * value1._x - 5 * value2._x + 4 * value3._x - value4._x) * squared + (-value1._x + 3 * value2._x - 3 * value3._x + value4._x) * cubed);\n    var y = 0.5 * (2 * value2._y + (-value1._y + value3._y) * amount + (2 * value1._y - 5 * value2._y + 4 * value3._y - value4._y) * squared + (-value1._y + 3 * value2._y - 3 * value3._y + value4._y) * cubed);\n    var z = 0.5 * (2 * value2._z + (-value1._z + value3._z) * amount + (2 * value1._z - 5 * value2._z + 4 * value3._z - value4._z) * squared + (-value1._z + 3 * value2._z - 3 * value3._z + value4._z) * cubed);\n    return new Vector32(x, y, z);\n  };\n  Vector32.Clamp = function(value, min, max) {\n    var v = new Vector32();\n    Vector32.ClampToRef(value, min, max, v);\n    return v;\n  };\n  Vector32.ClampToRef = function(value, min, max, result) {\n    var x = value._x;\n    x = x > max._x ? max._x : x;\n    x = x < min._x ? min._x : x;\n    var y = value._y;\n    y = y > max._y ? max._y : y;\n    y = y < min._y ? min._y : y;\n    var z = value._z;\n    z = z > max._z ? max._z : z;\n    z = z < min._z ? min._z : z;\n    result.copyFromFloats(x, y, z);\n  };\n  Vector32.CheckExtends = function(v, min, max) {\n    min.minimizeInPlace(v);\n    max.maximizeInPlace(v);\n  };\n  Vector32.Hermite = function(value1, tangent1, value2, tangent2, amount) {\n    var squared = amount * amount;\n    var cubed = amount * squared;\n    var part1 = 2 * cubed - 3 * squared + 1;\n    var part2 = -2 * cubed + 3 * squared;\n    var part3 = cubed - 2 * squared + amount;\n    var part4 = cubed - squared;\n    var x = value1._x * part1 + value2._x * part2 + tangent1._x * part3 + tangent2._x * part4;\n    var y = value1._y * part1 + value2._y * part2 + tangent1._y * part3 + tangent2._y * part4;\n    var z = value1._z * part1 + value2._z * part2 + tangent1._z * part3 + tangent2._z * part4;\n    return new Vector32(x, y, z);\n  };\n  Vector32.Hermite1stDerivative = function(value1, tangent1, value2, tangent2, time) {\n    var result = Vector32.Zero();\n    this.Hermite1stDerivativeToRef(value1, tangent1, value2, tangent2, time, result);\n    return result;\n  };\n  Vector32.Hermite1stDerivativeToRef = function(value1, tangent1, value2, tangent2, time, result) {\n    var t2 = time * time;\n    result.x = (t2 - time) * 6 * value1.x + (3 * t2 - 4 * time + 1) * tangent1.x + (-t2 + time) * 6 * value2.x + (3 * t2 - 2 * time) * tangent2.x;\n    result.y = (t2 - time) * 6 * value1.y + (3 * t2 - 4 * time + 1) * tangent1.y + (-t2 + time) * 6 * value2.y + (3 * t2 - 2 * time) * tangent2.y;\n    result.z = (t2 - time) * 6 * value1.z + (3 * t2 - 4 * time + 1) * tangent1.z + (-t2 + time) * 6 * value2.z + (3 * t2 - 2 * time) * tangent2.z;\n  };\n  Vector32.Lerp = function(start, end, amount) {\n    var result = new Vector32(0, 0, 0);\n    Vector32.LerpToRef(start, end, amount, result);\n    return result;\n  };\n  Vector32.LerpToRef = function(start, end, amount, result) {\n    result.x = start._x + (end._x - start._x) * amount;\n    result.y = start._y + (end._y - start._y) * amount;\n    result.z = start._z + (end._z - start._z) * amount;\n  };\n  Vector32.Dot = function(left, right) {\n    return left._x * right._x + left._y * right._y + left._z * right._z;\n  };\n  Vector32.Cross = function(left, right) {\n    var result = Vector32.Zero();\n    Vector32.CrossToRef(left, right, result);\n    return result;\n  };\n  Vector32.CrossToRef = function(left, right, result) {\n    var x = left._y * right._z - left._z * right._y;\n    var y = left._z * right._x - left._x * right._z;\n    var z = left._x * right._y - left._y * right._x;\n    result.copyFromFloats(x, y, z);\n  };\n  Vector32.Normalize = function(vector) {\n    var result = Vector32.Zero();\n    Vector32.NormalizeToRef(vector, result);\n    return result;\n  };\n  Vector32.NormalizeToRef = function(vector, result) {\n    vector.normalizeToRef(result);\n  };\n  Vector32.Project = function(vector, world, transform, viewport) {\n    var result = new Vector32();\n    Vector32.ProjectToRef(vector, world, transform, viewport, result);\n    return result;\n  };\n  Vector32.ProjectToRef = function(vector, world, transform, viewport, result) {\n    var cw = viewport.width;\n    var ch = viewport.height;\n    var cx = viewport.x;\n    var cy = viewport.y;\n    var viewportMatrix = MathTmp.Matrix[1];\n    Matrix.FromValuesToRef(cw / 2, 0, 0, 0, 0, -ch / 2, 0, 0, 0, 0, 0.5, 0, cx + cw / 2, ch / 2 + cy, 0.5, 1, viewportMatrix);\n    var matrix = MathTmp.Matrix[0];\n    world.multiplyToRef(transform, matrix);\n    matrix.multiplyToRef(viewportMatrix, matrix);\n    Vector32.TransformCoordinatesToRef(vector, matrix, result);\n    return result;\n  };\n  Vector32._UnprojectFromInvertedMatrixToRef = function(source, matrix, result) {\n    Vector32.TransformCoordinatesToRef(source, matrix, result);\n    var m = matrix.m;\n    var num = source._x * m[3] + source._y * m[7] + source._z * m[11] + m[15];\n    if (Scalar.WithinEpsilon(num, 1)) {\n      result.scaleInPlace(1 / num);\n    }\n  };\n  Vector32.UnprojectFromTransform = function(source, viewportWidth, viewportHeight, world, transform) {\n    return this.Unproject(source, viewportWidth, viewportHeight, world, transform, Matrix.IdentityReadOnly);\n  };\n  Vector32.Unproject = function(source, viewportWidth, viewportHeight, world, view, projection) {\n    var result = Vector32.Zero();\n    Vector32.UnprojectToRef(source, viewportWidth, viewportHeight, world, view, projection, result);\n    return result;\n  };\n  Vector32.UnprojectToRef = function(source, viewportWidth, viewportHeight, world, view, projection, result) {\n    Vector32.UnprojectFloatsToRef(source._x, source._y, source._z, viewportWidth, viewportHeight, world, view, projection, result);\n  };\n  Vector32.UnprojectFloatsToRef = function(sourceX, sourceY, sourceZ, viewportWidth, viewportHeight, world, view, projection, result) {\n    var _a;\n    var matrix = MathTmp.Matrix[0];\n    world.multiplyToRef(view, matrix);\n    matrix.multiplyToRef(projection, matrix);\n    matrix.invert();\n    var screenSource = MathTmp.Vector3[0];\n    screenSource.x = sourceX / viewportWidth * 2 - 1;\n    screenSource.y = -(sourceY / viewportHeight * 2 - 1);\n    if ((_a = EngineStore.LastCreatedEngine) === null || _a === void 0 ? void 0 : _a.isNDCHalfZRange) {\n      screenSource.z = sourceZ;\n    } else {\n      screenSource.z = 2 * sourceZ - 1;\n    }\n    Vector32._UnprojectFromInvertedMatrixToRef(screenSource, matrix, result);\n  };\n  Vector32.Minimize = function(left, right) {\n    var min = left.clone();\n    min.minimizeInPlace(right);\n    return min;\n  };\n  Vector32.Maximize = function(left, right) {\n    var max = left.clone();\n    max.maximizeInPlace(right);\n    return max;\n  };\n  Vector32.Distance = function(value1, value2) {\n    return Math.sqrt(Vector32.DistanceSquared(value1, value2));\n  };\n  Vector32.DistanceSquared = function(value1, value2) {\n    var x = value1._x - value2._x;\n    var y = value1._y - value2._y;\n    var z = value1._z - value2._z;\n    return x * x + y * y + z * z;\n  };\n  Vector32.ProjectOnTriangleToRef = function(vector, p0, p1, p2, ref) {\n    var p1p0 = MathTmp.Vector3[0];\n    var p2p0 = MathTmp.Vector3[1];\n    var p2p1 = MathTmp.Vector3[2];\n    var normal = MathTmp.Vector3[3];\n    var vectorp0 = MathTmp.Vector3[4];\n    p1.subtractToRef(p0, p1p0);\n    p2.subtractToRef(p0, p2p0);\n    p2.subtractToRef(p1, p2p1);\n    var p1p0L = p1p0.length();\n    var p2p0L = p2p0.length();\n    var p2p1L = p2p1.length();\n    if (p1p0L < Epsilon || p2p0L < Epsilon || p2p1L < Epsilon) {\n      ref.copyFrom(p0);\n      return Vector32.Distance(vector, p0);\n    }\n    vector.subtractToRef(p0, vectorp0);\n    Vector32.CrossToRef(p1p0, p2p0, normal);\n    var nl = normal.length();\n    if (nl < Epsilon) {\n      ref.copyFrom(p0);\n      return Vector32.Distance(vector, p0);\n    }\n    normal.normalizeFromLength(nl);\n    var l = vectorp0.length();\n    if (l < Epsilon) {\n      ref.copyFrom(p0);\n      return 0;\n    }\n    vectorp0.normalizeFromLength(l);\n    var cosA = Vector32.Dot(normal, vectorp0);\n    var projVector = MathTmp.Vector3[5];\n    var proj = MathTmp.Vector3[6];\n    projVector.copyFrom(normal).scaleInPlace(-l * cosA);\n    proj.copyFrom(vector).addInPlace(projVector);\n    var v0 = MathTmp.Vector3[4];\n    var v1 = MathTmp.Vector3[5];\n    var v2 = MathTmp.Vector3[7];\n    var tmp = MathTmp.Vector3[8];\n    v0.copyFrom(p1p0).scaleInPlace(1 / p1p0L);\n    tmp.copyFrom(p2p0).scaleInPlace(1 / p2p0L);\n    v0.addInPlace(tmp).scaleInPlace(-1);\n    v1.copyFrom(p1p0).scaleInPlace(-1 / p1p0L);\n    tmp.copyFrom(p2p1).scaleInPlace(1 / p2p1L);\n    v1.addInPlace(tmp).scaleInPlace(-1);\n    v2.copyFrom(p2p1).scaleInPlace(-1 / p2p1L);\n    tmp.copyFrom(p2p0).scaleInPlace(-1 / p2p0L);\n    v2.addInPlace(tmp).scaleInPlace(-1);\n    var projP = MathTmp.Vector3[9];\n    var dot;\n    projP.copyFrom(proj).subtractInPlace(p0);\n    Vector32.CrossToRef(v0, projP, tmp);\n    dot = Vector32.Dot(tmp, normal);\n    var s0 = dot;\n    projP.copyFrom(proj).subtractInPlace(p1);\n    Vector32.CrossToRef(v1, projP, tmp);\n    dot = Vector32.Dot(tmp, normal);\n    var s1 = dot;\n    projP.copyFrom(proj).subtractInPlace(p2);\n    Vector32.CrossToRef(v2, projP, tmp);\n    dot = Vector32.Dot(tmp, normal);\n    var s2 = dot;\n    var edge = MathTmp.Vector3[10];\n    var e0, e1;\n    if (s0 > 0 && s1 < 0) {\n      edge.copyFrom(p1p0);\n      e0 = p0;\n      e1 = p1;\n    } else if (s1 > 0 && s2 < 0) {\n      edge.copyFrom(p2p1);\n      e0 = p1;\n      e1 = p2;\n    } else {\n      edge.copyFrom(p2p0).scaleInPlace(-1);\n      e0 = p2;\n      e1 = p0;\n    }\n    var tmp2 = MathTmp.Vector3[9];\n    var tmp3 = MathTmp.Vector3[4];\n    e0.subtractToRef(proj, tmp);\n    e1.subtractToRef(proj, tmp2);\n    Vector32.CrossToRef(tmp, tmp2, tmp3);\n    var isOutside = Vector32.Dot(tmp3, normal) < 0;\n    if (!isOutside) {\n      ref.copyFrom(proj);\n      return Math.abs(l * cosA);\n    }\n    var r = MathTmp.Vector3[5];\n    Vector32.CrossToRef(edge, tmp3, r);\n    r.normalize();\n    var e0proj = MathTmp.Vector3[9];\n    e0proj.copyFrom(e0).subtractInPlace(proj);\n    var e0projL = e0proj.length();\n    if (e0projL < Epsilon) {\n      ref.copyFrom(e0);\n      return Vector32.Distance(vector, e0);\n    }\n    e0proj.normalizeFromLength(e0projL);\n    var cosG = Vector32.Dot(r, e0proj);\n    var triProj = MathTmp.Vector3[7];\n    triProj.copyFrom(proj).addInPlace(r.scaleInPlace(e0projL * cosG));\n    tmp.copyFrom(triProj).subtractInPlace(e0);\n    l = edge.length();\n    edge.normalizeFromLength(l);\n    var t = Vector32.Dot(tmp, edge) / Math.max(l, Epsilon);\n    t = Scalar.Clamp(t, 0, 1);\n    triProj.copyFrom(e0).addInPlace(edge.scaleInPlace(t * l));\n    ref.copyFrom(triProj);\n    return Vector32.Distance(vector, triProj);\n  };\n  Vector32.Center = function(value1, value2) {\n    return Vector32.CenterToRef(value1, value2, Vector32.Zero());\n  };\n  Vector32.CenterToRef = function(value1, value2, ref) {\n    return ref.copyFromFloats((value1._x + value2._x) / 2, (value1._y + value2._y) / 2, (value1._z + value2._z) / 2);\n  };\n  Vector32.RotationFromAxis = function(axis1, axis2, axis3) {\n    var rotation = Vector32.Zero();\n    Vector32.RotationFromAxisToRef(axis1, axis2, axis3, rotation);\n    return rotation;\n  };\n  Vector32.RotationFromAxisToRef = function(axis1, axis2, axis3, ref) {\n    var quat = MathTmp.Quaternion[0];\n    Quaternion.RotationQuaternionFromAxisToRef(axis1, axis2, axis3, quat);\n    quat.toEulerAnglesToRef(ref);\n  };\n  Vector32._UpReadOnly = Vector32.Up();\n  Vector32._LeftHandedForwardReadOnly = Vector32.Forward(false);\n  Vector32._RightHandedForwardReadOnly = Vector32.Forward(true);\n  Vector32._RightReadOnly = Vector32.Right();\n  Vector32._LeftReadOnly = Vector32.Left();\n  Vector32._ZeroReadOnly = Vector32.Zero();\n  return Vector32;\n}();\nvar Vector4 = function() {\n  function Vector42(x, y, z, w) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.w = w;\n  }\n  Vector42.prototype.toString = function() {\n    return \"{X: \".concat(this.x, \" Y: \").concat(this.y, \" Z: \").concat(this.z, \" W: \").concat(this.w, \"}\");\n  };\n  Vector42.prototype.getClassName = function() {\n    return \"Vector4\";\n  };\n  Vector42.prototype.getHashCode = function() {\n    var x = _ExtractAsInt(this.x);\n    var y = _ExtractAsInt(this.y);\n    var z = _ExtractAsInt(this.z);\n    var w = _ExtractAsInt(this.w);\n    var hash = x;\n    hash = hash * 397 ^ y;\n    hash = hash * 397 ^ z;\n    hash = hash * 397 ^ w;\n    return hash;\n  };\n  Vector42.prototype.asArray = function() {\n    var result = new Array();\n    this.toArray(result, 0);\n    return result;\n  };\n  Vector42.prototype.toArray = function(array, index) {\n    if (index === void 0) {\n      index = 0;\n    }\n    array[index] = this.x;\n    array[index + 1] = this.y;\n    array[index + 2] = this.z;\n    array[index + 3] = this.w;\n    return this;\n  };\n  Vector42.prototype.fromArray = function(array, index) {\n    if (index === void 0) {\n      index = 0;\n    }\n    Vector42.FromArrayToRef(array, index, this);\n    return this;\n  };\n  Vector42.prototype.addInPlace = function(otherVector) {\n    this.x += otherVector.x;\n    this.y += otherVector.y;\n    this.z += otherVector.z;\n    this.w += otherVector.w;\n    return this;\n  };\n  Vector42.prototype.add = function(otherVector) {\n    return new Vector42(this.x + otherVector.x, this.y + otherVector.y, this.z + otherVector.z, this.w + otherVector.w);\n  };\n  Vector42.prototype.addToRef = function(otherVector, result) {\n    result.x = this.x + otherVector.x;\n    result.y = this.y + otherVector.y;\n    result.z = this.z + otherVector.z;\n    result.w = this.w + otherVector.w;\n    return this;\n  };\n  Vector42.prototype.subtractInPlace = function(otherVector) {\n    this.x -= otherVector.x;\n    this.y -= otherVector.y;\n    this.z -= otherVector.z;\n    this.w -= otherVector.w;\n    return this;\n  };\n  Vector42.prototype.subtract = function(otherVector) {\n    return new Vector42(this.x - otherVector.x, this.y - otherVector.y, this.z - otherVector.z, this.w - otherVector.w);\n  };\n  Vector42.prototype.subtractToRef = function(otherVector, result) {\n    result.x = this.x - otherVector.x;\n    result.y = this.y - otherVector.y;\n    result.z = this.z - otherVector.z;\n    result.w = this.w - otherVector.w;\n    return this;\n  };\n  Vector42.prototype.subtractFromFloats = function(x, y, z, w) {\n    return new Vector42(this.x - x, this.y - y, this.z - z, this.w - w);\n  };\n  Vector42.prototype.subtractFromFloatsToRef = function(x, y, z, w, result) {\n    result.x = this.x - x;\n    result.y = this.y - y;\n    result.z = this.z - z;\n    result.w = this.w - w;\n    return this;\n  };\n  Vector42.prototype.negate = function() {\n    return new Vector42(-this.x, -this.y, -this.z, -this.w);\n  };\n  Vector42.prototype.negateInPlace = function() {\n    this.x *= -1;\n    this.y *= -1;\n    this.z *= -1;\n    this.w *= -1;\n    return this;\n  };\n  Vector42.prototype.negateToRef = function(result) {\n    return result.copyFromFloats(this.x * -1, this.y * -1, this.z * -1, this.w * -1);\n  };\n  Vector42.prototype.scaleInPlace = function(scale) {\n    this.x *= scale;\n    this.y *= scale;\n    this.z *= scale;\n    this.w *= scale;\n    return this;\n  };\n  Vector42.prototype.scale = function(scale) {\n    return new Vector42(this.x * scale, this.y * scale, this.z * scale, this.w * scale);\n  };\n  Vector42.prototype.scaleToRef = function(scale, result) {\n    result.x = this.x * scale;\n    result.y = this.y * scale;\n    result.z = this.z * scale;\n    result.w = this.w * scale;\n    return this;\n  };\n  Vector42.prototype.scaleAndAddToRef = function(scale, result) {\n    result.x += this.x * scale;\n    result.y += this.y * scale;\n    result.z += this.z * scale;\n    result.w += this.w * scale;\n    return this;\n  };\n  Vector42.prototype.equals = function(otherVector) {\n    return otherVector && this.x === otherVector.x && this.y === otherVector.y && this.z === otherVector.z && this.w === otherVector.w;\n  };\n  Vector42.prototype.equalsWithEpsilon = function(otherVector, epsilon) {\n    if (epsilon === void 0) {\n      epsilon = Epsilon;\n    }\n    return otherVector && Scalar.WithinEpsilon(this.x, otherVector.x, epsilon) && Scalar.WithinEpsilon(this.y, otherVector.y, epsilon) && Scalar.WithinEpsilon(this.z, otherVector.z, epsilon) && Scalar.WithinEpsilon(this.w, otherVector.w, epsilon);\n  };\n  Vector42.prototype.equalsToFloats = function(x, y, z, w) {\n    return this.x === x && this.y === y && this.z === z && this.w === w;\n  };\n  Vector42.prototype.multiplyInPlace = function(otherVector) {\n    this.x *= otherVector.x;\n    this.y *= otherVector.y;\n    this.z *= otherVector.z;\n    this.w *= otherVector.w;\n    return this;\n  };\n  Vector42.prototype.multiply = function(otherVector) {\n    return new Vector42(this.x * otherVector.x, this.y * otherVector.y, this.z * otherVector.z, this.w * otherVector.w);\n  };\n  Vector42.prototype.multiplyToRef = function(otherVector, result) {\n    result.x = this.x * otherVector.x;\n    result.y = this.y * otherVector.y;\n    result.z = this.z * otherVector.z;\n    result.w = this.w * otherVector.w;\n    return this;\n  };\n  Vector42.prototype.multiplyByFloats = function(x, y, z, w) {\n    return new Vector42(this.x * x, this.y * y, this.z * z, this.w * w);\n  };\n  Vector42.prototype.divide = function(otherVector) {\n    return new Vector42(this.x / otherVector.x, this.y / otherVector.y, this.z / otherVector.z, this.w / otherVector.w);\n  };\n  Vector42.prototype.divideToRef = function(otherVector, result) {\n    result.x = this.x / otherVector.x;\n    result.y = this.y / otherVector.y;\n    result.z = this.z / otherVector.z;\n    result.w = this.w / otherVector.w;\n    return this;\n  };\n  Vector42.prototype.divideInPlace = function(otherVector) {\n    return this.divideToRef(otherVector, this);\n  };\n  Vector42.prototype.minimizeInPlace = function(other) {\n    if (other.x < this.x) {\n      this.x = other.x;\n    }\n    if (other.y < this.y) {\n      this.y = other.y;\n    }\n    if (other.z < this.z) {\n      this.z = other.z;\n    }\n    if (other.w < this.w) {\n      this.w = other.w;\n    }\n    return this;\n  };\n  Vector42.prototype.maximizeInPlace = function(other) {\n    if (other.x > this.x) {\n      this.x = other.x;\n    }\n    if (other.y > this.y) {\n      this.y = other.y;\n    }\n    if (other.z > this.z) {\n      this.z = other.z;\n    }\n    if (other.w > this.w) {\n      this.w = other.w;\n    }\n    return this;\n  };\n  Vector42.prototype.floor = function() {\n    return new Vector42(Math.floor(this.x), Math.floor(this.y), Math.floor(this.z), Math.floor(this.w));\n  };\n  Vector42.prototype.fract = function() {\n    return new Vector42(this.x - Math.floor(this.x), this.y - Math.floor(this.y), this.z - Math.floor(this.z), this.w - Math.floor(this.w));\n  };\n  Vector42.prototype.length = function() {\n    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n  };\n  Vector42.prototype.lengthSquared = function() {\n    return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n  };\n  Vector42.prototype.normalize = function() {\n    var len = this.length();\n    if (len === 0) {\n      return this;\n    }\n    return this.scaleInPlace(1 / len);\n  };\n  Vector42.prototype.toVector3 = function() {\n    return new Vector3(this.x, this.y, this.z);\n  };\n  Vector42.prototype.clone = function() {\n    return new Vector42(this.x, this.y, this.z, this.w);\n  };\n  Vector42.prototype.copyFrom = function(source) {\n    this.x = source.x;\n    this.y = source.y;\n    this.z = source.z;\n    this.w = source.w;\n    return this;\n  };\n  Vector42.prototype.copyFromFloats = function(x, y, z, w) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.w = w;\n    return this;\n  };\n  Vector42.prototype.set = function(x, y, z, w) {\n    return this.copyFromFloats(x, y, z, w);\n  };\n  Vector42.prototype.setAll = function(v) {\n    this.x = this.y = this.z = this.w = v;\n    return this;\n  };\n  Vector42.FromArray = function(array, offset) {\n    if (!offset) {\n      offset = 0;\n    }\n    return new Vector42(array[offset], array[offset + 1], array[offset + 2], array[offset + 3]);\n  };\n  Vector42.FromArrayToRef = function(array, offset, result) {\n    result.x = array[offset];\n    result.y = array[offset + 1];\n    result.z = array[offset + 2];\n    result.w = array[offset + 3];\n  };\n  Vector42.FromFloatArrayToRef = function(array, offset, result) {\n    Vector42.FromArrayToRef(array, offset, result);\n  };\n  Vector42.FromFloatsToRef = function(x, y, z, w, result) {\n    result.x = x;\n    result.y = y;\n    result.z = z;\n    result.w = w;\n  };\n  Vector42.Zero = function() {\n    return new Vector42(0, 0, 0, 0);\n  };\n  Vector42.One = function() {\n    return new Vector42(1, 1, 1, 1);\n  };\n  Vector42.Normalize = function(vector) {\n    var result = Vector42.Zero();\n    Vector42.NormalizeToRef(vector, result);\n    return result;\n  };\n  Vector42.NormalizeToRef = function(vector, result) {\n    result.copyFrom(vector);\n    result.normalize();\n  };\n  Vector42.Minimize = function(left, right) {\n    var min = left.clone();\n    min.minimizeInPlace(right);\n    return min;\n  };\n  Vector42.Maximize = function(left, right) {\n    var max = left.clone();\n    max.maximizeInPlace(right);\n    return max;\n  };\n  Vector42.Distance = function(value1, value2) {\n    return Math.sqrt(Vector42.DistanceSquared(value1, value2));\n  };\n  Vector42.DistanceSquared = function(value1, value2) {\n    var x = value1.x - value2.x;\n    var y = value1.y - value2.y;\n    var z = value1.z - value2.z;\n    var w = value1.w - value2.w;\n    return x * x + y * y + z * z + w * w;\n  };\n  Vector42.Center = function(value1, value2) {\n    return Vector42.CenterToRef(value1, value2, Vector42.Zero());\n  };\n  Vector42.CenterToRef = function(value1, value2, ref) {\n    return ref.copyFromFloats((value1.x + value2.x) / 2, (value1.y + value2.y) / 2, (value1.z + value2.z) / 2, (value1.w + value2.w) / 2);\n  };\n  Vector42.TransformCoordinates = function(vector, transformation) {\n    var result = Vector42.Zero();\n    Vector42.TransformCoordinatesToRef(vector, transformation, result);\n    return result;\n  };\n  Vector42.TransformCoordinatesToRef = function(vector, transformation, result) {\n    Vector42.TransformCoordinatesFromFloatsToRef(vector._x, vector._y, vector._z, transformation, result);\n  };\n  Vector42.TransformCoordinatesFromFloatsToRef = function(x, y, z, transformation, result) {\n    var m = transformation.m;\n    var rx = x * m[0] + y * m[4] + z * m[8] + m[12];\n    var ry = x * m[1] + y * m[5] + z * m[9] + m[13];\n    var rz = x * m[2] + y * m[6] + z * m[10] + m[14];\n    var rw = x * m[3] + y * m[7] + z * m[11] + m[15];\n    result.x = rx;\n    result.y = ry;\n    result.z = rz;\n    result.w = rw;\n  };\n  Vector42.TransformNormal = function(vector, transformation) {\n    var result = Vector42.Zero();\n    Vector42.TransformNormalToRef(vector, transformation, result);\n    return result;\n  };\n  Vector42.TransformNormalToRef = function(vector, transformation, result) {\n    var m = transformation.m;\n    var x = vector.x * m[0] + vector.y * m[4] + vector.z * m[8];\n    var y = vector.x * m[1] + vector.y * m[5] + vector.z * m[9];\n    var z = vector.x * m[2] + vector.y * m[6] + vector.z * m[10];\n    result.x = x;\n    result.y = y;\n    result.z = z;\n    result.w = vector.w;\n  };\n  Vector42.TransformNormalFromFloatsToRef = function(x, y, z, w, transformation, result) {\n    var m = transformation.m;\n    result.x = x * m[0] + y * m[4] + z * m[8];\n    result.y = x * m[1] + y * m[5] + z * m[9];\n    result.z = x * m[2] + y * m[6] + z * m[10];\n    result.w = w;\n  };\n  Vector42.FromVector3 = function(source, w) {\n    if (w === void 0) {\n      w = 0;\n    }\n    return new Vector42(source._x, source._y, source._z, w);\n  };\n  return Vector42;\n}();\nvar Quaternion = function() {\n  function Quaternion2(x, y, z, w) {\n    if (x === void 0) {\n      x = 0;\n    }\n    if (y === void 0) {\n      y = 0;\n    }\n    if (z === void 0) {\n      z = 0;\n    }\n    if (w === void 0) {\n      w = 1;\n    }\n    this._isDirty = true;\n    this._x = x;\n    this._y = y;\n    this._z = z;\n    this._w = w;\n  }\n  Object.defineProperty(Quaternion2.prototype, \"x\", {\n    get: function() {\n      return this._x;\n    },\n    set: function(value) {\n      this._x = value;\n      this._isDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Quaternion2.prototype, \"y\", {\n    get: function() {\n      return this._y;\n    },\n    set: function(value) {\n      this._y = value;\n      this._isDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Quaternion2.prototype, \"z\", {\n    get: function() {\n      return this._z;\n    },\n    set: function(value) {\n      this._z = value;\n      this._isDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Quaternion2.prototype, \"w\", {\n    get: function() {\n      return this._w;\n    },\n    set: function(value) {\n      this._w = value;\n      this._isDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Quaternion2.prototype.toString = function() {\n    return \"{X: \".concat(this._x, \" Y: \").concat(this._y, \" Z: \").concat(this._z, \" W: \").concat(this._w, \"}\");\n  };\n  Quaternion2.prototype.getClassName = function() {\n    return \"Quaternion\";\n  };\n  Quaternion2.prototype.getHashCode = function() {\n    var x = _ExtractAsInt(this._x);\n    var y = _ExtractAsInt(this._y);\n    var z = _ExtractAsInt(this._z);\n    var w = _ExtractAsInt(this._w);\n    var hash = x;\n    hash = hash * 397 ^ y;\n    hash = hash * 397 ^ z;\n    hash = hash * 397 ^ w;\n    return hash;\n  };\n  Quaternion2.prototype.asArray = function() {\n    return [this._x, this._y, this._z, this._w];\n  };\n  Quaternion2.prototype.equals = function(otherQuaternion) {\n    return otherQuaternion && this._x === otherQuaternion._x && this._y === otherQuaternion._y && this._z === otherQuaternion._z && this._w === otherQuaternion._w;\n  };\n  Quaternion2.prototype.equalsWithEpsilon = function(otherQuaternion, epsilon) {\n    if (epsilon === void 0) {\n      epsilon = Epsilon;\n    }\n    return otherQuaternion && Scalar.WithinEpsilon(this._x, otherQuaternion._x, epsilon) && Scalar.WithinEpsilon(this._y, otherQuaternion._y, epsilon) && Scalar.WithinEpsilon(this._z, otherQuaternion._z, epsilon) && Scalar.WithinEpsilon(this._w, otherQuaternion._w, epsilon);\n  };\n  Quaternion2.prototype.clone = function() {\n    return new Quaternion2(this._x, this._y, this._z, this._w);\n  };\n  Quaternion2.prototype.copyFrom = function(other) {\n    this.x = other._x;\n    this.y = other._y;\n    this.z = other._z;\n    this.w = other._w;\n    return this;\n  };\n  Quaternion2.prototype.copyFromFloats = function(x, y, z, w) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.w = w;\n    return this;\n  };\n  Quaternion2.prototype.set = function(x, y, z, w) {\n    return this.copyFromFloats(x, y, z, w);\n  };\n  Quaternion2.prototype.add = function(other) {\n    return new Quaternion2(this._x + other._x, this._y + other._y, this._z + other._z, this._w + other._w);\n  };\n  Quaternion2.prototype.addInPlace = function(other) {\n    this._x += other._x;\n    this._y += other._y;\n    this._z += other._z;\n    this._w += other._w;\n    return this;\n  };\n  Quaternion2.prototype.subtract = function(other) {\n    return new Quaternion2(this._x - other._x, this._y - other._y, this._z - other._z, this._w - other._w);\n  };\n  Quaternion2.prototype.subtractInPlace = function(other) {\n    this._x -= other._x;\n    this._y -= other._y;\n    this._z -= other._z;\n    this._w -= other._w;\n    return this;\n  };\n  Quaternion2.prototype.scale = function(value) {\n    return new Quaternion2(this._x * value, this._y * value, this._z * value, this._w * value);\n  };\n  Quaternion2.prototype.scaleToRef = function(scale, result) {\n    result.x = this._x * scale;\n    result.y = this._y * scale;\n    result.z = this._z * scale;\n    result.w = this._w * scale;\n    return this;\n  };\n  Quaternion2.prototype.scaleInPlace = function(value) {\n    this.x *= value;\n    this.y *= value;\n    this.z *= value;\n    this.w *= value;\n    return this;\n  };\n  Quaternion2.prototype.scaleAndAddToRef = function(scale, result) {\n    result.x += this._x * scale;\n    result.y += this._y * scale;\n    result.z += this._z * scale;\n    result.w += this._w * scale;\n    return this;\n  };\n  Quaternion2.prototype.multiply = function(q1) {\n    var result = new Quaternion2(0, 0, 0, 1);\n    this.multiplyToRef(q1, result);\n    return result;\n  };\n  Quaternion2.prototype.multiplyToRef = function(q1, result) {\n    var x = this._x * q1._w + this._y * q1._z - this._z * q1._y + this._w * q1._x;\n    var y = -this._x * q1._z + this._y * q1._w + this._z * q1._x + this._w * q1._y;\n    var z = this._x * q1._y - this._y * q1._x + this._z * q1._w + this._w * q1._z;\n    var w = -this._x * q1._x - this._y * q1._y - this._z * q1._z + this._w * q1._w;\n    result.copyFromFloats(x, y, z, w);\n    return this;\n  };\n  Quaternion2.prototype.multiplyInPlace = function(q1) {\n    this.multiplyToRef(q1, this);\n    return this;\n  };\n  Quaternion2.prototype.conjugateToRef = function(ref) {\n    ref.copyFromFloats(-this._x, -this._y, -this._z, this._w);\n    return this;\n  };\n  Quaternion2.prototype.conjugateInPlace = function() {\n    this.x *= -1;\n    this.y *= -1;\n    this.z *= -1;\n    return this;\n  };\n  Quaternion2.prototype.conjugate = function() {\n    return new Quaternion2(-this._x, -this._y, -this._z, this._w);\n  };\n  Quaternion2.prototype.invert = function() {\n    var conjugate = this.conjugate();\n    var lengthSquared = this.lengthSquared();\n    if (lengthSquared == 0 || lengthSquared == 1) {\n      return conjugate;\n    }\n    conjugate.scaleInPlace(1 / lengthSquared);\n    return conjugate;\n  };\n  Quaternion2.prototype.invertInPlace = function() {\n    this.conjugateInPlace();\n    var lengthSquared = this.lengthSquared();\n    if (lengthSquared == 0 || lengthSquared == 1) {\n      return this;\n    }\n    this.scaleInPlace(1 / lengthSquared);\n    return this;\n  };\n  Quaternion2.prototype.lengthSquared = function() {\n    return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n  };\n  Quaternion2.prototype.length = function() {\n    return Math.sqrt(this.lengthSquared());\n  };\n  Quaternion2.prototype.normalize = function() {\n    var len = this.length();\n    if (len === 0) {\n      return this;\n    }\n    var inv = 1 / len;\n    this.scaleInPlace(inv);\n    return this;\n  };\n  Quaternion2.prototype.normalizeToNew = function() {\n    var len = this.length();\n    if (len === 0) {\n      return this.clone();\n    }\n    var inv = 1 / len;\n    return this.scale(inv);\n  };\n  Quaternion2.prototype.toEulerAngles = function() {\n    var result = Vector3.Zero();\n    this.toEulerAnglesToRef(result);\n    return result;\n  };\n  Quaternion2.prototype.toEulerAnglesToRef = function(result) {\n    var qz = this._z;\n    var qx = this._x;\n    var qy = this._y;\n    var qw = this._w;\n    var zAxisY = qy * qz - qx * qw;\n    var limit = 0.4999999;\n    if (zAxisY < -limit) {\n      result.y = 2 * Math.atan2(qy, qw);\n      result.x = Math.PI / 2;\n      result.z = 0;\n    } else if (zAxisY > limit) {\n      result.y = 2 * Math.atan2(qy, qw);\n      result.x = -Math.PI / 2;\n      result.z = 0;\n    } else {\n      var sqw = qw * qw;\n      var sqz = qz * qz;\n      var sqx = qx * qx;\n      var sqy = qy * qy;\n      result.z = Math.atan2(2 * (qx * qy + qz * qw), -sqz - sqx + sqy + sqw);\n      result.x = Math.asin(-2 * zAxisY);\n      result.y = Math.atan2(2 * (qz * qx + qy * qw), sqz - sqx - sqy + sqw);\n    }\n    return this;\n  };\n  Quaternion2.prototype.toRotationMatrix = function(result) {\n    Matrix.FromQuaternionToRef(this, result);\n    return this;\n  };\n  Quaternion2.prototype.fromRotationMatrix = function(matrix) {\n    Quaternion2.FromRotationMatrixToRef(matrix, this);\n    return this;\n  };\n  Quaternion2.FromRotationMatrix = function(matrix) {\n    var result = new Quaternion2();\n    Quaternion2.FromRotationMatrixToRef(matrix, result);\n    return result;\n  };\n  Quaternion2.FromRotationMatrixToRef = function(matrix, result) {\n    var data = matrix.m;\n    var m11 = data[0], m12 = data[4], m13 = data[8];\n    var m21 = data[1], m22 = data[5], m23 = data[9];\n    var m31 = data[2], m32 = data[6], m33 = data[10];\n    var trace = m11 + m22 + m33;\n    var s;\n    if (trace > 0) {\n      s = 0.5 / Math.sqrt(trace + 1);\n      result.w = 0.25 / s;\n      result.x = (m32 - m23) * s;\n      result.y = (m13 - m31) * s;\n      result.z = (m21 - m12) * s;\n    } else if (m11 > m22 && m11 > m33) {\n      s = 2 * Math.sqrt(1 + m11 - m22 - m33);\n      result.w = (m32 - m23) / s;\n      result.x = 0.25 * s;\n      result.y = (m12 + m21) / s;\n      result.z = (m13 + m31) / s;\n    } else if (m22 > m33) {\n      s = 2 * Math.sqrt(1 + m22 - m11 - m33);\n      result.w = (m13 - m31) / s;\n      result.x = (m12 + m21) / s;\n      result.y = 0.25 * s;\n      result.z = (m23 + m32) / s;\n    } else {\n      s = 2 * Math.sqrt(1 + m33 - m11 - m22);\n      result.w = (m21 - m12) / s;\n      result.x = (m13 + m31) / s;\n      result.y = (m23 + m32) / s;\n      result.z = 0.25 * s;\n    }\n  };\n  Quaternion2.Dot = function(left, right) {\n    return left._x * right._x + left._y * right._y + left._z * right._z + left._w * right._w;\n  };\n  Quaternion2.AreClose = function(quat0, quat1) {\n    var dot = Quaternion2.Dot(quat0, quat1);\n    return dot >= 0;\n  };\n  Quaternion2.SmoothToRef = function(source, goal, deltaTime, lerpTime, result) {\n    var slerp = lerpTime === 0 ? 1 : deltaTime / lerpTime;\n    slerp = Scalar.Clamp(slerp, 0, 1);\n    Quaternion2.SlerpToRef(source, goal, slerp, result);\n  };\n  Quaternion2.Zero = function() {\n    return new Quaternion2(0, 0, 0, 0);\n  };\n  Quaternion2.Inverse = function(q) {\n    return new Quaternion2(-q._x, -q._y, -q._z, q._w);\n  };\n  Quaternion2.InverseToRef = function(q, result) {\n    result.set(-q._x, -q._y, -q._z, q._w);\n    return result;\n  };\n  Quaternion2.Identity = function() {\n    return new Quaternion2(0, 0, 0, 1);\n  };\n  Quaternion2.IsIdentity = function(quaternion) {\n    return quaternion && quaternion._x === 0 && quaternion._y === 0 && quaternion._z === 0 && quaternion._w === 1;\n  };\n  Quaternion2.RotationAxis = function(axis, angle) {\n    return Quaternion2.RotationAxisToRef(axis, angle, new Quaternion2());\n  };\n  Quaternion2.RotationAxisToRef = function(axis, angle, result) {\n    var sin = Math.sin(angle / 2);\n    axis.normalize();\n    result.w = Math.cos(angle / 2);\n    result.x = axis._x * sin;\n    result.y = axis._y * sin;\n    result.z = axis._z * sin;\n    return result;\n  };\n  Quaternion2.FromArray = function(array, offset) {\n    if (!offset) {\n      offset = 0;\n    }\n    return new Quaternion2(array[offset], array[offset + 1], array[offset + 2], array[offset + 3]);\n  };\n  Quaternion2.FromArrayToRef = function(array, offset, result) {\n    result.x = array[offset];\n    result.y = array[offset + 1];\n    result.z = array[offset + 2];\n    result.w = array[offset + 3];\n  };\n  Quaternion2.FromEulerAngles = function(x, y, z) {\n    var q = new Quaternion2();\n    Quaternion2.RotationYawPitchRollToRef(y, x, z, q);\n    return q;\n  };\n  Quaternion2.FromEulerAnglesToRef = function(x, y, z, result) {\n    Quaternion2.RotationYawPitchRollToRef(y, x, z, result);\n    return result;\n  };\n  Quaternion2.FromEulerVector = function(vec) {\n    var q = new Quaternion2();\n    Quaternion2.RotationYawPitchRollToRef(vec._y, vec._x, vec._z, q);\n    return q;\n  };\n  Quaternion2.FromEulerVectorToRef = function(vec, result) {\n    Quaternion2.RotationYawPitchRollToRef(vec._y, vec._x, vec._z, result);\n    return result;\n  };\n  Quaternion2.FromUnitVectorsToRef = function(vecFrom, vecTo, result) {\n    var r = Vector3.Dot(vecFrom, vecTo) + 1;\n    if (r < Epsilon) {\n      if (Math.abs(vecFrom.x) > Math.abs(vecFrom.z)) {\n        result.set(-vecFrom.y, vecFrom.x, 0, 0);\n      } else {\n        result.set(0, -vecFrom.z, vecFrom.y, 0);\n      }\n    } else {\n      Vector3.CrossToRef(vecFrom, vecTo, TmpVectors.Vector3[0]);\n      result.set(TmpVectors.Vector3[0].x, TmpVectors.Vector3[0].y, TmpVectors.Vector3[0].z, r);\n    }\n    return result.normalize();\n  };\n  Quaternion2.RotationYawPitchRoll = function(yaw, pitch, roll) {\n    var q = new Quaternion2();\n    Quaternion2.RotationYawPitchRollToRef(yaw, pitch, roll, q);\n    return q;\n  };\n  Quaternion2.RotationYawPitchRollToRef = function(yaw, pitch, roll, result) {\n    var halfRoll = roll * 0.5;\n    var halfPitch = pitch * 0.5;\n    var halfYaw = yaw * 0.5;\n    var sinRoll = Math.sin(halfRoll);\n    var cosRoll = Math.cos(halfRoll);\n    var sinPitch = Math.sin(halfPitch);\n    var cosPitch = Math.cos(halfPitch);\n    var sinYaw = Math.sin(halfYaw);\n    var cosYaw = Math.cos(halfYaw);\n    result.x = cosYaw * sinPitch * cosRoll + sinYaw * cosPitch * sinRoll;\n    result.y = sinYaw * cosPitch * cosRoll - cosYaw * sinPitch * sinRoll;\n    result.z = cosYaw * cosPitch * sinRoll - sinYaw * sinPitch * cosRoll;\n    result.w = cosYaw * cosPitch * cosRoll + sinYaw * sinPitch * sinRoll;\n  };\n  Quaternion2.RotationAlphaBetaGamma = function(alpha, beta, gamma) {\n    var result = new Quaternion2();\n    Quaternion2.RotationAlphaBetaGammaToRef(alpha, beta, gamma, result);\n    return result;\n  };\n  Quaternion2.RotationAlphaBetaGammaToRef = function(alpha, beta, gamma, result) {\n    var halfGammaPlusAlpha = (gamma + alpha) * 0.5;\n    var halfGammaMinusAlpha = (gamma - alpha) * 0.5;\n    var halfBeta = beta * 0.5;\n    result.x = Math.cos(halfGammaMinusAlpha) * Math.sin(halfBeta);\n    result.y = Math.sin(halfGammaMinusAlpha) * Math.sin(halfBeta);\n    result.z = Math.sin(halfGammaPlusAlpha) * Math.cos(halfBeta);\n    result.w = Math.cos(halfGammaPlusAlpha) * Math.cos(halfBeta);\n  };\n  Quaternion2.RotationQuaternionFromAxis = function(axis1, axis2, axis3) {\n    var quat = new Quaternion2(0, 0, 0, 0);\n    Quaternion2.RotationQuaternionFromAxisToRef(axis1, axis2, axis3, quat);\n    return quat;\n  };\n  Quaternion2.RotationQuaternionFromAxisToRef = function(axis1, axis2, axis3, ref) {\n    var rotMat = MathTmp.Matrix[0];\n    Matrix.FromXYZAxesToRef(axis1.normalize(), axis2.normalize(), axis3.normalize(), rotMat);\n    Quaternion2.FromRotationMatrixToRef(rotMat, ref);\n  };\n  Quaternion2.FromLookDirectionLH = function(forward, up) {\n    var quat = new Quaternion2();\n    Quaternion2.FromLookDirectionLHToRef(forward, up, quat);\n    return quat;\n  };\n  Quaternion2.FromLookDirectionLHToRef = function(forward, up, ref) {\n    var rotMat = MathTmp.Matrix[0];\n    Matrix.LookDirectionLHToRef(forward, up, rotMat);\n    Quaternion2.FromRotationMatrixToRef(rotMat, ref);\n  };\n  Quaternion2.FromLookDirectionRH = function(forward, up) {\n    var quat = new Quaternion2();\n    Quaternion2.FromLookDirectionRHToRef(forward, up, quat);\n    return quat;\n  };\n  Quaternion2.FromLookDirectionRHToRef = function(forward, up, ref) {\n    var rotMat = MathTmp.Matrix[0];\n    Matrix.LookDirectionRHToRef(forward, up, rotMat);\n    return Quaternion2.FromRotationMatrixToRef(rotMat, ref);\n  };\n  Quaternion2.Slerp = function(left, right, amount) {\n    var result = Quaternion2.Identity();\n    Quaternion2.SlerpToRef(left, right, amount, result);\n    return result;\n  };\n  Quaternion2.SlerpToRef = function(left, right, amount, result) {\n    var num2;\n    var num3;\n    var num4 = left._x * right._x + left._y * right._y + left._z * right._z + left._w * right._w;\n    var flag = false;\n    if (num4 < 0) {\n      flag = true;\n      num4 = -num4;\n    }\n    if (num4 > 0.999999) {\n      num3 = 1 - amount;\n      num2 = flag ? -amount : amount;\n    } else {\n      var num5 = Math.acos(num4);\n      var num6 = 1 / Math.sin(num5);\n      num3 = Math.sin((1 - amount) * num5) * num6;\n      num2 = flag ? -Math.sin(amount * num5) * num6 : Math.sin(amount * num5) * num6;\n    }\n    result.x = num3 * left._x + num2 * right._x;\n    result.y = num3 * left._y + num2 * right._y;\n    result.z = num3 * left._z + num2 * right._z;\n    result.w = num3 * left._w + num2 * right._w;\n  };\n  Quaternion2.Hermite = function(value1, tangent1, value2, tangent2, amount) {\n    var squared = amount * amount;\n    var cubed = amount * squared;\n    var part1 = 2 * cubed - 3 * squared + 1;\n    var part2 = -2 * cubed + 3 * squared;\n    var part3 = cubed - 2 * squared + amount;\n    var part4 = cubed - squared;\n    var x = value1._x * part1 + value2._x * part2 + tangent1._x * part3 + tangent2._x * part4;\n    var y = value1._y * part1 + value2._y * part2 + tangent1._y * part3 + tangent2._y * part4;\n    var z = value1._z * part1 + value2._z * part2 + tangent1._z * part3 + tangent2._z * part4;\n    var w = value1._w * part1 + value2._w * part2 + tangent1._w * part3 + tangent2._w * part4;\n    return new Quaternion2(x, y, z, w);\n  };\n  Quaternion2.Hermite1stDerivative = function(value1, tangent1, value2, tangent2, time) {\n    var result = Quaternion2.Zero();\n    this.Hermite1stDerivativeToRef(value1, tangent1, value2, tangent2, time, result);\n    return result;\n  };\n  Quaternion2.Hermite1stDerivativeToRef = function(value1, tangent1, value2, tangent2, time, result) {\n    var t2 = time * time;\n    result.x = (t2 - time) * 6 * value1.x + (3 * t2 - 4 * time + 1) * tangent1.x + (-t2 + time) * 6 * value2.x + (3 * t2 - 2 * time) * tangent2.x;\n    result.y = (t2 - time) * 6 * value1.y + (3 * t2 - 4 * time + 1) * tangent1.y + (-t2 + time) * 6 * value2.y + (3 * t2 - 2 * time) * tangent2.y;\n    result.z = (t2 - time) * 6 * value1.z + (3 * t2 - 4 * time + 1) * tangent1.z + (-t2 + time) * 6 * value2.z + (3 * t2 - 2 * time) * tangent2.z;\n    result.w = (t2 - time) * 6 * value1.w + (3 * t2 - 4 * time + 1) * tangent1.w + (-t2 + time) * 6 * value2.w + (3 * t2 - 2 * time) * tangent2.w;\n  };\n  return Quaternion2;\n}();\nvar Matrix = function() {\n  function Matrix2() {\n    this._isIdentity = false;\n    this._isIdentityDirty = true;\n    this._isIdentity3x2 = true;\n    this._isIdentity3x2Dirty = true;\n    this.updateFlag = -1;\n    if (PerformanceConfigurator.MatrixTrackPrecisionChange) {\n      PerformanceConfigurator.MatrixTrackedMatrices.push(this);\n    }\n    this._m = new PerformanceConfigurator.MatrixCurrentType(16);\n    this.markAsUpdated();\n  }\n  Object.defineProperty(Matrix2, \"Use64Bits\", {\n    get: function() {\n      return PerformanceConfigurator.MatrixUse64Bits;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Matrix2.prototype, \"m\", {\n    get: function() {\n      return this._m;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Matrix2.prototype.markAsUpdated = function() {\n    this.updateFlag = Matrix2._UpdateFlagSeed++;\n    this._isIdentity = false;\n    this._isIdentity3x2 = false;\n    this._isIdentityDirty = true;\n    this._isIdentity3x2Dirty = true;\n  };\n  Matrix2.prototype._updateIdentityStatus = function(isIdentity, isIdentityDirty, isIdentity3x2, isIdentity3x2Dirty) {\n    if (isIdentityDirty === void 0) {\n      isIdentityDirty = false;\n    }\n    if (isIdentity3x2 === void 0) {\n      isIdentity3x2 = false;\n    }\n    if (isIdentity3x2Dirty === void 0) {\n      isIdentity3x2Dirty = true;\n    }\n    this._isIdentity = isIdentity;\n    this._isIdentity3x2 = isIdentity || isIdentity3x2;\n    this._isIdentityDirty = this._isIdentity ? false : isIdentityDirty;\n    this._isIdentity3x2Dirty = this._isIdentity3x2 ? false : isIdentity3x2Dirty;\n  };\n  Matrix2.prototype.isIdentity = function() {\n    if (this._isIdentityDirty) {\n      this._isIdentityDirty = false;\n      var m = this._m;\n      this._isIdentity = m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 0 && m[4] === 0 && m[5] === 1 && m[6] === 0 && m[7] === 0 && m[8] === 0 && m[9] === 0 && m[10] === 1 && m[11] === 0 && m[12] === 0 && m[13] === 0 && m[14] === 0 && m[15] === 1;\n    }\n    return this._isIdentity;\n  };\n  Matrix2.prototype.isIdentityAs3x2 = function() {\n    if (this._isIdentity3x2Dirty) {\n      this._isIdentity3x2Dirty = false;\n      if (this._m[0] !== 1 || this._m[5] !== 1 || this._m[15] !== 1) {\n        this._isIdentity3x2 = false;\n      } else if (this._m[1] !== 0 || this._m[2] !== 0 || this._m[3] !== 0 || this._m[4] !== 0 || this._m[6] !== 0 || this._m[7] !== 0 || this._m[8] !== 0 || this._m[9] !== 0 || this._m[10] !== 0 || this._m[11] !== 0 || this._m[12] !== 0 || this._m[13] !== 0 || this._m[14] !== 0) {\n        this._isIdentity3x2 = false;\n      } else {\n        this._isIdentity3x2 = true;\n      }\n    }\n    return this._isIdentity3x2;\n  };\n  Matrix2.prototype.determinant = function() {\n    if (this._isIdentity === true) {\n      return 1;\n    }\n    var m = this._m;\n    var m00 = m[0], m01 = m[1], m02 = m[2], m03 = m[3];\n    var m10 = m[4], m11 = m[5], m12 = m[6], m13 = m[7];\n    var m20 = m[8], m21 = m[9], m22 = m[10], m23 = m[11];\n    var m30 = m[12], m31 = m[13], m32 = m[14], m33 = m[15];\n    var det_22_33 = m22 * m33 - m32 * m23;\n    var det_21_33 = m21 * m33 - m31 * m23;\n    var det_21_32 = m21 * m32 - m31 * m22;\n    var det_20_33 = m20 * m33 - m30 * m23;\n    var det_20_32 = m20 * m32 - m22 * m30;\n    var det_20_31 = m20 * m31 - m30 * m21;\n    var cofact_00 = +(m11 * det_22_33 - m12 * det_21_33 + m13 * det_21_32);\n    var cofact_01 = -(m10 * det_22_33 - m12 * det_20_33 + m13 * det_20_32);\n    var cofact_02 = +(m10 * det_21_33 - m11 * det_20_33 + m13 * det_20_31);\n    var cofact_03 = -(m10 * det_21_32 - m11 * det_20_32 + m12 * det_20_31);\n    return m00 * cofact_00 + m01 * cofact_01 + m02 * cofact_02 + m03 * cofact_03;\n  };\n  Matrix2.prototype.toArray = function() {\n    return this._m;\n  };\n  Matrix2.prototype.asArray = function() {\n    return this._m;\n  };\n  Matrix2.prototype.invert = function() {\n    this.invertToRef(this);\n    return this;\n  };\n  Matrix2.prototype.reset = function() {\n    Matrix2.FromValuesToRef(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, this);\n    this._updateIdentityStatus(false);\n    return this;\n  };\n  Matrix2.prototype.add = function(other) {\n    var result = new Matrix2();\n    this.addToRef(other, result);\n    return result;\n  };\n  Matrix2.prototype.addToRef = function(other, result) {\n    var m = this._m;\n    var resultM = result._m;\n    var otherM = other.m;\n    for (var index = 0; index < 16; index++) {\n      resultM[index] = m[index] + otherM[index];\n    }\n    result.markAsUpdated();\n    return this;\n  };\n  Matrix2.prototype.addToSelf = function(other) {\n    var m = this._m;\n    var otherM = other.m;\n    for (var index = 0; index < 16; index++) {\n      m[index] += otherM[index];\n    }\n    this.markAsUpdated();\n    return this;\n  };\n  Matrix2.prototype.invertToRef = function(other) {\n    if (this._isIdentity === true) {\n      Matrix2.IdentityToRef(other);\n      return this;\n    }\n    var m = this._m;\n    var m00 = m[0], m01 = m[1], m02 = m[2], m03 = m[3];\n    var m10 = m[4], m11 = m[5], m12 = m[6], m13 = m[7];\n    var m20 = m[8], m21 = m[9], m22 = m[10], m23 = m[11];\n    var m30 = m[12], m31 = m[13], m32 = m[14], m33 = m[15];\n    var det_22_33 = m22 * m33 - m32 * m23;\n    var det_21_33 = m21 * m33 - m31 * m23;\n    var det_21_32 = m21 * m32 - m31 * m22;\n    var det_20_33 = m20 * m33 - m30 * m23;\n    var det_20_32 = m20 * m32 - m22 * m30;\n    var det_20_31 = m20 * m31 - m30 * m21;\n    var cofact_00 = +(m11 * det_22_33 - m12 * det_21_33 + m13 * det_21_32);\n    var cofact_01 = -(m10 * det_22_33 - m12 * det_20_33 + m13 * det_20_32);\n    var cofact_02 = +(m10 * det_21_33 - m11 * det_20_33 + m13 * det_20_31);\n    var cofact_03 = -(m10 * det_21_32 - m11 * det_20_32 + m12 * det_20_31);\n    var det = m00 * cofact_00 + m01 * cofact_01 + m02 * cofact_02 + m03 * cofact_03;\n    if (det === 0) {\n      other.copyFrom(this);\n      return this;\n    }\n    var detInv = 1 / det;\n    var det_12_33 = m12 * m33 - m32 * m13;\n    var det_11_33 = m11 * m33 - m31 * m13;\n    var det_11_32 = m11 * m32 - m31 * m12;\n    var det_10_33 = m10 * m33 - m30 * m13;\n    var det_10_32 = m10 * m32 - m30 * m12;\n    var det_10_31 = m10 * m31 - m30 * m11;\n    var det_12_23 = m12 * m23 - m22 * m13;\n    var det_11_23 = m11 * m23 - m21 * m13;\n    var det_11_22 = m11 * m22 - m21 * m12;\n    var det_10_23 = m10 * m23 - m20 * m13;\n    var det_10_22 = m10 * m22 - m20 * m12;\n    var det_10_21 = m10 * m21 - m20 * m11;\n    var cofact_10 = -(m01 * det_22_33 - m02 * det_21_33 + m03 * det_21_32);\n    var cofact_11 = +(m00 * det_22_33 - m02 * det_20_33 + m03 * det_20_32);\n    var cofact_12 = -(m00 * det_21_33 - m01 * det_20_33 + m03 * det_20_31);\n    var cofact_13 = +(m00 * det_21_32 - m01 * det_20_32 + m02 * det_20_31);\n    var cofact_20 = +(m01 * det_12_33 - m02 * det_11_33 + m03 * det_11_32);\n    var cofact_21 = -(m00 * det_12_33 - m02 * det_10_33 + m03 * det_10_32);\n    var cofact_22 = +(m00 * det_11_33 - m01 * det_10_33 + m03 * det_10_31);\n    var cofact_23 = -(m00 * det_11_32 - m01 * det_10_32 + m02 * det_10_31);\n    var cofact_30 = -(m01 * det_12_23 - m02 * det_11_23 + m03 * det_11_22);\n    var cofact_31 = +(m00 * det_12_23 - m02 * det_10_23 + m03 * det_10_22);\n    var cofact_32 = -(m00 * det_11_23 - m01 * det_10_23 + m03 * det_10_21);\n    var cofact_33 = +(m00 * det_11_22 - m01 * det_10_22 + m02 * det_10_21);\n    Matrix2.FromValuesToRef(cofact_00 * detInv, cofact_10 * detInv, cofact_20 * detInv, cofact_30 * detInv, cofact_01 * detInv, cofact_11 * detInv, cofact_21 * detInv, cofact_31 * detInv, cofact_02 * detInv, cofact_12 * detInv, cofact_22 * detInv, cofact_32 * detInv, cofact_03 * detInv, cofact_13 * detInv, cofact_23 * detInv, cofact_33 * detInv, other);\n    return this;\n  };\n  Matrix2.prototype.addAtIndex = function(index, value) {\n    this._m[index] += value;\n    this.markAsUpdated();\n    return this;\n  };\n  Matrix2.prototype.multiplyAtIndex = function(index, value) {\n    this._m[index] *= value;\n    this.markAsUpdated();\n    return this;\n  };\n  Matrix2.prototype.setTranslationFromFloats = function(x, y, z) {\n    this._m[12] = x;\n    this._m[13] = y;\n    this._m[14] = z;\n    this.markAsUpdated();\n    return this;\n  };\n  Matrix2.prototype.addTranslationFromFloats = function(x, y, z) {\n    this._m[12] += x;\n    this._m[13] += y;\n    this._m[14] += z;\n    this.markAsUpdated();\n    return this;\n  };\n  Matrix2.prototype.setTranslation = function(vector3) {\n    return this.setTranslationFromFloats(vector3._x, vector3._y, vector3._z);\n  };\n  Matrix2.prototype.getTranslation = function() {\n    return new Vector3(this._m[12], this._m[13], this._m[14]);\n  };\n  Matrix2.prototype.getTranslationToRef = function(result) {\n    result.x = this._m[12];\n    result.y = this._m[13];\n    result.z = this._m[14];\n    return this;\n  };\n  Matrix2.prototype.removeRotationAndScaling = function() {\n    var m = this.m;\n    Matrix2.FromValuesToRef(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, m[12], m[13], m[14], m[15], this);\n    this._updateIdentityStatus(m[12] === 0 && m[13] === 0 && m[14] === 0 && m[15] === 1);\n    return this;\n  };\n  Matrix2.prototype.multiply = function(other) {\n    var result = new Matrix2();\n    this.multiplyToRef(other, result);\n    return result;\n  };\n  Matrix2.prototype.copyFrom = function(other) {\n    other.copyToArray(this._m);\n    var o = other;\n    this.updateFlag = o.updateFlag;\n    this._updateIdentityStatus(o._isIdentity, o._isIdentityDirty, o._isIdentity3x2, o._isIdentity3x2Dirty);\n    return this;\n  };\n  Matrix2.prototype.copyToArray = function(array, offset) {\n    if (offset === void 0) {\n      offset = 0;\n    }\n    var source = this._m;\n    array[offset] = source[0];\n    array[offset + 1] = source[1];\n    array[offset + 2] = source[2];\n    array[offset + 3] = source[3];\n    array[offset + 4] = source[4];\n    array[offset + 5] = source[5];\n    array[offset + 6] = source[6];\n    array[offset + 7] = source[7];\n    array[offset + 8] = source[8];\n    array[offset + 9] = source[9];\n    array[offset + 10] = source[10];\n    array[offset + 11] = source[11];\n    array[offset + 12] = source[12];\n    array[offset + 13] = source[13];\n    array[offset + 14] = source[14];\n    array[offset + 15] = source[15];\n    return this;\n  };\n  Matrix2.prototype.multiplyToRef = function(other, result) {\n    if (this._isIdentity) {\n      result.copyFrom(other);\n      return this;\n    }\n    if (other._isIdentity) {\n      result.copyFrom(this);\n      return this;\n    }\n    this.multiplyToArray(other, result._m, 0);\n    result.markAsUpdated();\n    return this;\n  };\n  Matrix2.prototype.multiplyToArray = function(other, result, offset) {\n    var m = this._m;\n    var otherM = other.m;\n    var tm0 = m[0], tm1 = m[1], tm2 = m[2], tm3 = m[3];\n    var tm4 = m[4], tm5 = m[5], tm6 = m[6], tm7 = m[7];\n    var tm8 = m[8], tm9 = m[9], tm10 = m[10], tm11 = m[11];\n    var tm12 = m[12], tm13 = m[13], tm14 = m[14], tm15 = m[15];\n    var om0 = otherM[0], om1 = otherM[1], om2 = otherM[2], om3 = otherM[3];\n    var om4 = otherM[4], om5 = otherM[5], om6 = otherM[6], om7 = otherM[7];\n    var om8 = otherM[8], om9 = otherM[9], om10 = otherM[10], om11 = otherM[11];\n    var om12 = otherM[12], om13 = otherM[13], om14 = otherM[14], om15 = otherM[15];\n    result[offset] = tm0 * om0 + tm1 * om4 + tm2 * om8 + tm3 * om12;\n    result[offset + 1] = tm0 * om1 + tm1 * om5 + tm2 * om9 + tm3 * om13;\n    result[offset + 2] = tm0 * om2 + tm1 * om6 + tm2 * om10 + tm3 * om14;\n    result[offset + 3] = tm0 * om3 + tm1 * om7 + tm2 * om11 + tm3 * om15;\n    result[offset + 4] = tm4 * om0 + tm5 * om4 + tm6 * om8 + tm7 * om12;\n    result[offset + 5] = tm4 * om1 + tm5 * om5 + tm6 * om9 + tm7 * om13;\n    result[offset + 6] = tm4 * om2 + tm5 * om6 + tm6 * om10 + tm7 * om14;\n    result[offset + 7] = tm4 * om3 + tm5 * om7 + tm6 * om11 + tm7 * om15;\n    result[offset + 8] = tm8 * om0 + tm9 * om4 + tm10 * om8 + tm11 * om12;\n    result[offset + 9] = tm8 * om1 + tm9 * om5 + tm10 * om9 + tm11 * om13;\n    result[offset + 10] = tm8 * om2 + tm9 * om6 + tm10 * om10 + tm11 * om14;\n    result[offset + 11] = tm8 * om3 + tm9 * om7 + tm10 * om11 + tm11 * om15;\n    result[offset + 12] = tm12 * om0 + tm13 * om4 + tm14 * om8 + tm15 * om12;\n    result[offset + 13] = tm12 * om1 + tm13 * om5 + tm14 * om9 + tm15 * om13;\n    result[offset + 14] = tm12 * om2 + tm13 * om6 + tm14 * om10 + tm15 * om14;\n    result[offset + 15] = tm12 * om3 + tm13 * om7 + tm14 * om11 + tm15 * om15;\n    return this;\n  };\n  Matrix2.prototype.equals = function(value) {\n    var other = value;\n    if (!other) {\n      return false;\n    }\n    if (this._isIdentity || other._isIdentity) {\n      if (!this._isIdentityDirty && !other._isIdentityDirty) {\n        return this._isIdentity && other._isIdentity;\n      }\n    }\n    var m = this.m;\n    var om = other.m;\n    return m[0] === om[0] && m[1] === om[1] && m[2] === om[2] && m[3] === om[3] && m[4] === om[4] && m[5] === om[5] && m[6] === om[6] && m[7] === om[7] && m[8] === om[8] && m[9] === om[9] && m[10] === om[10] && m[11] === om[11] && m[12] === om[12] && m[13] === om[13] && m[14] === om[14] && m[15] === om[15];\n  };\n  Matrix2.prototype.clone = function() {\n    var matrix = new Matrix2();\n    matrix.copyFrom(this);\n    return matrix;\n  };\n  Matrix2.prototype.getClassName = function() {\n    return \"Matrix\";\n  };\n  Matrix2.prototype.getHashCode = function() {\n    var hash = _ExtractAsInt(this._m[0]);\n    for (var i = 1; i < 16; i++) {\n      hash = hash * 397 ^ _ExtractAsInt(this._m[i]);\n    }\n    return hash;\n  };\n  Matrix2.prototype.decomposeToTransformNode = function(node) {\n    node.rotationQuaternion = node.rotationQuaternion || new Quaternion();\n    return this.decompose(node.scaling, node.rotationQuaternion, node.position);\n  };\n  Matrix2.prototype.decompose = function(scale, rotation, translation, preserveScalingNode) {\n    if (this._isIdentity) {\n      if (translation) {\n        translation.setAll(0);\n      }\n      if (scale) {\n        scale.setAll(1);\n      }\n      if (rotation) {\n        rotation.copyFromFloats(0, 0, 0, 1);\n      }\n      return true;\n    }\n    var m = this._m;\n    if (translation) {\n      translation.copyFromFloats(m[12], m[13], m[14]);\n    }\n    scale = scale || MathTmp.Vector3[0];\n    scale.x = Math.sqrt(m[0] * m[0] + m[1] * m[1] + m[2] * m[2]);\n    scale.y = Math.sqrt(m[4] * m[4] + m[5] * m[5] + m[6] * m[6]);\n    scale.z = Math.sqrt(m[8] * m[8] + m[9] * m[9] + m[10] * m[10]);\n    if (preserveScalingNode) {\n      var signX = preserveScalingNode.scaling.x < 0 ? -1 : 1;\n      var signY = preserveScalingNode.scaling.y < 0 ? -1 : 1;\n      var signZ = preserveScalingNode.scaling.z < 0 ? -1 : 1;\n      scale.x *= signX;\n      scale.y *= signY;\n      scale.z *= signZ;\n    } else {\n      if (this.determinant() <= 0) {\n        scale.y *= -1;\n      }\n    }\n    if (scale._x === 0 || scale._y === 0 || scale._z === 0) {\n      if (rotation) {\n        rotation.copyFromFloats(0, 0, 0, 1);\n      }\n      return false;\n    }\n    if (rotation) {\n      var sx = 1 / scale._x, sy = 1 / scale._y, sz = 1 / scale._z;\n      Matrix2.FromValuesToRef(m[0] * sx, m[1] * sx, m[2] * sx, 0, m[4] * sy, m[5] * sy, m[6] * sy, 0, m[8] * sz, m[9] * sz, m[10] * sz, 0, 0, 0, 0, 1, MathTmp.Matrix[0]);\n      Quaternion.FromRotationMatrixToRef(MathTmp.Matrix[0], rotation);\n    }\n    return true;\n  };\n  Matrix2.prototype.getRow = function(index) {\n    if (index < 0 || index > 3) {\n      return null;\n    }\n    var i = index * 4;\n    return new Vector4(this._m[i + 0], this._m[i + 1], this._m[i + 2], this._m[i + 3]);\n  };\n  Matrix2.prototype.setRow = function(index, row) {\n    return this.setRowFromFloats(index, row.x, row.y, row.z, row.w);\n  };\n  Matrix2.prototype.transpose = function() {\n    return Matrix2.Transpose(this);\n  };\n  Matrix2.prototype.transposeToRef = function(result) {\n    Matrix2.TransposeToRef(this, result);\n    return this;\n  };\n  Matrix2.prototype.setRowFromFloats = function(index, x, y, z, w) {\n    if (index < 0 || index > 3) {\n      return this;\n    }\n    var i = index * 4;\n    this._m[i + 0] = x;\n    this._m[i + 1] = y;\n    this._m[i + 2] = z;\n    this._m[i + 3] = w;\n    this.markAsUpdated();\n    return this;\n  };\n  Matrix2.prototype.scale = function(scale) {\n    var result = new Matrix2();\n    this.scaleToRef(scale, result);\n    return result;\n  };\n  Matrix2.prototype.scaleToRef = function(scale, result) {\n    for (var index = 0; index < 16; index++) {\n      result._m[index] = this._m[index] * scale;\n    }\n    result.markAsUpdated();\n    return this;\n  };\n  Matrix2.prototype.scaleAndAddToRef = function(scale, result) {\n    for (var index = 0; index < 16; index++) {\n      result._m[index] += this._m[index] * scale;\n    }\n    result.markAsUpdated();\n    return this;\n  };\n  Matrix2.prototype.toNormalMatrix = function(ref) {\n    var tmp = MathTmp.Matrix[0];\n    this.invertToRef(tmp);\n    tmp.transposeToRef(ref);\n    var m = ref._m;\n    Matrix2.FromValuesToRef(m[0], m[1], m[2], 0, m[4], m[5], m[6], 0, m[8], m[9], m[10], 0, 0, 0, 0, 1, ref);\n  };\n  Matrix2.prototype.getRotationMatrix = function() {\n    var result = new Matrix2();\n    this.getRotationMatrixToRef(result);\n    return result;\n  };\n  Matrix2.prototype.getRotationMatrixToRef = function(result) {\n    var scale = MathTmp.Vector3[0];\n    if (!this.decompose(scale)) {\n      Matrix2.IdentityToRef(result);\n      return this;\n    }\n    var m = this._m;\n    var sx = 1 / scale._x, sy = 1 / scale._y, sz = 1 / scale._z;\n    Matrix2.FromValuesToRef(m[0] * sx, m[1] * sx, m[2] * sx, 0, m[4] * sy, m[5] * sy, m[6] * sy, 0, m[8] * sz, m[9] * sz, m[10] * sz, 0, 0, 0, 0, 1, result);\n    return this;\n  };\n  Matrix2.prototype.toggleModelMatrixHandInPlace = function() {\n    var m = this._m;\n    m[2] *= -1;\n    m[6] *= -1;\n    m[8] *= -1;\n    m[9] *= -1;\n    m[14] *= -1;\n    this.markAsUpdated();\n  };\n  Matrix2.prototype.toggleProjectionMatrixHandInPlace = function() {\n    var m = this._m;\n    m[8] *= -1;\n    m[9] *= -1;\n    m[10] *= -1;\n    m[11] *= -1;\n    this.markAsUpdated();\n  };\n  Matrix2.FromArray = function(array, offset) {\n    if (offset === void 0) {\n      offset = 0;\n    }\n    var result = new Matrix2();\n    Matrix2.FromArrayToRef(array, offset, result);\n    return result;\n  };\n  Matrix2.FromArrayToRef = function(array, offset, result) {\n    for (var index = 0; index < 16; index++) {\n      result._m[index] = array[index + offset];\n    }\n    result.markAsUpdated();\n  };\n  Matrix2.FromFloat32ArrayToRefScaled = function(array, offset, scale, result) {\n    for (var index = 0; index < 16; index++) {\n      result._m[index] = array[index + offset] * scale;\n    }\n    result.markAsUpdated();\n  };\n  Object.defineProperty(Matrix2, \"IdentityReadOnly\", {\n    get: function() {\n      return Matrix2._IdentityReadOnly;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Matrix2.FromValuesToRef = function(initialM11, initialM12, initialM13, initialM14, initialM21, initialM22, initialM23, initialM24, initialM31, initialM32, initialM33, initialM34, initialM41, initialM42, initialM43, initialM44, result) {\n    var m = result._m;\n    m[0] = initialM11;\n    m[1] = initialM12;\n    m[2] = initialM13;\n    m[3] = initialM14;\n    m[4] = initialM21;\n    m[5] = initialM22;\n    m[6] = initialM23;\n    m[7] = initialM24;\n    m[8] = initialM31;\n    m[9] = initialM32;\n    m[10] = initialM33;\n    m[11] = initialM34;\n    m[12] = initialM41;\n    m[13] = initialM42;\n    m[14] = initialM43;\n    m[15] = initialM44;\n    result.markAsUpdated();\n  };\n  Matrix2.FromValues = function(initialM11, initialM12, initialM13, initialM14, initialM21, initialM22, initialM23, initialM24, initialM31, initialM32, initialM33, initialM34, initialM41, initialM42, initialM43, initialM44) {\n    var result = new Matrix2();\n    var m = result._m;\n    m[0] = initialM11;\n    m[1] = initialM12;\n    m[2] = initialM13;\n    m[3] = initialM14;\n    m[4] = initialM21;\n    m[5] = initialM22;\n    m[6] = initialM23;\n    m[7] = initialM24;\n    m[8] = initialM31;\n    m[9] = initialM32;\n    m[10] = initialM33;\n    m[11] = initialM34;\n    m[12] = initialM41;\n    m[13] = initialM42;\n    m[14] = initialM43;\n    m[15] = initialM44;\n    result.markAsUpdated();\n    return result;\n  };\n  Matrix2.Compose = function(scale, rotation, translation) {\n    var result = new Matrix2();\n    Matrix2.ComposeToRef(scale, rotation, translation, result);\n    return result;\n  };\n  Matrix2.ComposeToRef = function(scale, rotation, translation, result) {\n    var m = result._m;\n    var x = rotation._x, y = rotation._y, z = rotation._z, w = rotation._w;\n    var x2 = x + x, y2 = y + y, z2 = z + z;\n    var xx = x * x2, xy = x * y2, xz = x * z2;\n    var yy = y * y2, yz = y * z2, zz = z * z2;\n    var wx = w * x2, wy = w * y2, wz = w * z2;\n    var sx = scale._x, sy = scale._y, sz = scale._z;\n    m[0] = (1 - (yy + zz)) * sx;\n    m[1] = (xy + wz) * sx;\n    m[2] = (xz - wy) * sx;\n    m[3] = 0;\n    m[4] = (xy - wz) * sy;\n    m[5] = (1 - (xx + zz)) * sy;\n    m[6] = (yz + wx) * sy;\n    m[7] = 0;\n    m[8] = (xz + wy) * sz;\n    m[9] = (yz - wx) * sz;\n    m[10] = (1 - (xx + yy)) * sz;\n    m[11] = 0;\n    m[12] = translation._x;\n    m[13] = translation._y;\n    m[14] = translation._z;\n    m[15] = 1;\n    result.markAsUpdated();\n  };\n  Matrix2.Identity = function() {\n    var identity = Matrix2.FromValues(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    identity._updateIdentityStatus(true);\n    return identity;\n  };\n  Matrix2.IdentityToRef = function(result) {\n    Matrix2.FromValuesToRef(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, result);\n    result._updateIdentityStatus(true);\n  };\n  Matrix2.Zero = function() {\n    var zero = Matrix2.FromValues(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n    zero._updateIdentityStatus(false);\n    return zero;\n  };\n  Matrix2.RotationX = function(angle) {\n    var result = new Matrix2();\n    Matrix2.RotationXToRef(angle, result);\n    return result;\n  };\n  Matrix2.Invert = function(source) {\n    var result = new Matrix2();\n    source.invertToRef(result);\n    return result;\n  };\n  Matrix2.RotationXToRef = function(angle, result) {\n    var s = Math.sin(angle);\n    var c = Math.cos(angle);\n    Matrix2.FromValuesToRef(1, 0, 0, 0, 0, c, s, 0, 0, -s, c, 0, 0, 0, 0, 1, result);\n    result._updateIdentityStatus(c === 1 && s === 0);\n  };\n  Matrix2.RotationY = function(angle) {\n    var result = new Matrix2();\n    Matrix2.RotationYToRef(angle, result);\n    return result;\n  };\n  Matrix2.RotationYToRef = function(angle, result) {\n    var s = Math.sin(angle);\n    var c = Math.cos(angle);\n    Matrix2.FromValuesToRef(c, 0, -s, 0, 0, 1, 0, 0, s, 0, c, 0, 0, 0, 0, 1, result);\n    result._updateIdentityStatus(c === 1 && s === 0);\n  };\n  Matrix2.RotationZ = function(angle) {\n    var result = new Matrix2();\n    Matrix2.RotationZToRef(angle, result);\n    return result;\n  };\n  Matrix2.RotationZToRef = function(angle, result) {\n    var s = Math.sin(angle);\n    var c = Math.cos(angle);\n    Matrix2.FromValuesToRef(c, s, 0, 0, -s, c, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, result);\n    result._updateIdentityStatus(c === 1 && s === 0);\n  };\n  Matrix2.RotationAxis = function(axis, angle) {\n    var result = new Matrix2();\n    Matrix2.RotationAxisToRef(axis, angle, result);\n    return result;\n  };\n  Matrix2.RotationAxisToRef = function(axis, angle, result) {\n    var s = Math.sin(-angle);\n    var c = Math.cos(-angle);\n    var c1 = 1 - c;\n    axis.normalize();\n    var m = result._m;\n    m[0] = axis._x * axis._x * c1 + c;\n    m[1] = axis._x * axis._y * c1 - axis._z * s;\n    m[2] = axis._x * axis._z * c1 + axis._y * s;\n    m[3] = 0;\n    m[4] = axis._y * axis._x * c1 + axis._z * s;\n    m[5] = axis._y * axis._y * c1 + c;\n    m[6] = axis._y * axis._z * c1 - axis._x * s;\n    m[7] = 0;\n    m[8] = axis._z * axis._x * c1 - axis._y * s;\n    m[9] = axis._z * axis._y * c1 + axis._x * s;\n    m[10] = axis._z * axis._z * c1 + c;\n    m[11] = 0;\n    m[12] = 0;\n    m[13] = 0;\n    m[14] = 0;\n    m[15] = 1;\n    result.markAsUpdated();\n  };\n  Matrix2.RotationAlignToRef = function(from, to, result) {\n    var c = Vector3.Dot(to, from);\n    var m = result._m;\n    if (c < -1 + Epsilon) {\n      m[0] = -1;\n      m[1] = 0;\n      m[2] = 0;\n      m[3] = 0;\n      m[4] = 0;\n      m[5] = -1;\n      m[6] = 0;\n      m[7] = 0;\n      m[8] = 0;\n      m[9] = 0;\n      m[10] = 1;\n      m[11] = 0;\n    } else {\n      var v = Vector3.Cross(to, from);\n      var k = 1 / (1 + c);\n      m[0] = v._x * v._x * k + c;\n      m[1] = v._y * v._x * k - v._z;\n      m[2] = v._z * v._x * k + v._y;\n      m[3] = 0;\n      m[4] = v._x * v._y * k + v._z;\n      m[5] = v._y * v._y * k + c;\n      m[6] = v._z * v._y * k - v._x;\n      m[7] = 0;\n      m[8] = v._x * v._z * k - v._y;\n      m[9] = v._y * v._z * k + v._x;\n      m[10] = v._z * v._z * k + c;\n      m[11] = 0;\n    }\n    m[12] = 0;\n    m[13] = 0;\n    m[14] = 0;\n    m[15] = 1;\n    result.markAsUpdated();\n  };\n  Matrix2.RotationYawPitchRoll = function(yaw, pitch, roll) {\n    var result = new Matrix2();\n    Matrix2.RotationYawPitchRollToRef(yaw, pitch, roll, result);\n    return result;\n  };\n  Matrix2.RotationYawPitchRollToRef = function(yaw, pitch, roll, result) {\n    Quaternion.RotationYawPitchRollToRef(yaw, pitch, roll, MathTmp.Quaternion[0]);\n    MathTmp.Quaternion[0].toRotationMatrix(result);\n  };\n  Matrix2.Scaling = function(x, y, z) {\n    var result = new Matrix2();\n    Matrix2.ScalingToRef(x, y, z, result);\n    return result;\n  };\n  Matrix2.ScalingToRef = function(x, y, z, result) {\n    Matrix2.FromValuesToRef(x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1, result);\n    result._updateIdentityStatus(x === 1 && y === 1 && z === 1);\n  };\n  Matrix2.Translation = function(x, y, z) {\n    var result = new Matrix2();\n    Matrix2.TranslationToRef(x, y, z, result);\n    return result;\n  };\n  Matrix2.TranslationToRef = function(x, y, z, result) {\n    Matrix2.FromValuesToRef(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, x, y, z, 1, result);\n    result._updateIdentityStatus(x === 0 && y === 0 && z === 0);\n  };\n  Matrix2.Lerp = function(startValue, endValue, gradient) {\n    var result = new Matrix2();\n    Matrix2.LerpToRef(startValue, endValue, gradient, result);\n    return result;\n  };\n  Matrix2.LerpToRef = function(startValue, endValue, gradient, result) {\n    var resultM = result._m;\n    var startM = startValue.m;\n    var endM = endValue.m;\n    for (var index = 0; index < 16; index++) {\n      resultM[index] = startM[index] * (1 - gradient) + endM[index] * gradient;\n    }\n    result.markAsUpdated();\n  };\n  Matrix2.DecomposeLerp = function(startValue, endValue, gradient) {\n    var result = new Matrix2();\n    Matrix2.DecomposeLerpToRef(startValue, endValue, gradient, result);\n    return result;\n  };\n  Matrix2.DecomposeLerpToRef = function(startValue, endValue, gradient, result) {\n    var startScale = MathTmp.Vector3[0];\n    var startRotation = MathTmp.Quaternion[0];\n    var startTranslation = MathTmp.Vector3[1];\n    startValue.decompose(startScale, startRotation, startTranslation);\n    var endScale = MathTmp.Vector3[2];\n    var endRotation = MathTmp.Quaternion[1];\n    var endTranslation = MathTmp.Vector3[3];\n    endValue.decompose(endScale, endRotation, endTranslation);\n    var resultScale = MathTmp.Vector3[4];\n    Vector3.LerpToRef(startScale, endScale, gradient, resultScale);\n    var resultRotation = MathTmp.Quaternion[2];\n    Quaternion.SlerpToRef(startRotation, endRotation, gradient, resultRotation);\n    var resultTranslation = MathTmp.Vector3[5];\n    Vector3.LerpToRef(startTranslation, endTranslation, gradient, resultTranslation);\n    Matrix2.ComposeToRef(resultScale, resultRotation, resultTranslation, result);\n  };\n  Matrix2.LookAtLH = function(eye, target, up) {\n    var result = new Matrix2();\n    Matrix2.LookAtLHToRef(eye, target, up, result);\n    return result;\n  };\n  Matrix2.LookAtLHToRef = function(eye, target, up, result) {\n    var xAxis = MathTmp.Vector3[0];\n    var yAxis = MathTmp.Vector3[1];\n    var zAxis = MathTmp.Vector3[2];\n    target.subtractToRef(eye, zAxis);\n    zAxis.normalize();\n    Vector3.CrossToRef(up, zAxis, xAxis);\n    var xSquareLength = xAxis.lengthSquared();\n    if (xSquareLength === 0) {\n      xAxis.x = 1;\n    } else {\n      xAxis.normalizeFromLength(Math.sqrt(xSquareLength));\n    }\n    Vector3.CrossToRef(zAxis, xAxis, yAxis);\n    yAxis.normalize();\n    var ex = -Vector3.Dot(xAxis, eye);\n    var ey = -Vector3.Dot(yAxis, eye);\n    var ez = -Vector3.Dot(zAxis, eye);\n    Matrix2.FromValuesToRef(xAxis._x, yAxis._x, zAxis._x, 0, xAxis._y, yAxis._y, zAxis._y, 0, xAxis._z, yAxis._z, zAxis._z, 0, ex, ey, ez, 1, result);\n  };\n  Matrix2.LookAtRH = function(eye, target, up) {\n    var result = new Matrix2();\n    Matrix2.LookAtRHToRef(eye, target, up, result);\n    return result;\n  };\n  Matrix2.LookAtRHToRef = function(eye, target, up, result) {\n    var xAxis = MathTmp.Vector3[0];\n    var yAxis = MathTmp.Vector3[1];\n    var zAxis = MathTmp.Vector3[2];\n    eye.subtractToRef(target, zAxis);\n    zAxis.normalize();\n    Vector3.CrossToRef(up, zAxis, xAxis);\n    var xSquareLength = xAxis.lengthSquared();\n    if (xSquareLength === 0) {\n      xAxis.x = 1;\n    } else {\n      xAxis.normalizeFromLength(Math.sqrt(xSquareLength));\n    }\n    Vector3.CrossToRef(zAxis, xAxis, yAxis);\n    yAxis.normalize();\n    var ex = -Vector3.Dot(xAxis, eye);\n    var ey = -Vector3.Dot(yAxis, eye);\n    var ez = -Vector3.Dot(zAxis, eye);\n    Matrix2.FromValuesToRef(xAxis._x, yAxis._x, zAxis._x, 0, xAxis._y, yAxis._y, zAxis._y, 0, xAxis._z, yAxis._z, zAxis._z, 0, ex, ey, ez, 1, result);\n  };\n  Matrix2.LookDirectionLH = function(forward, up) {\n    var result = new Matrix2();\n    Matrix2.LookDirectionLHToRef(forward, up, result);\n    return result;\n  };\n  Matrix2.LookDirectionLHToRef = function(forward, up, result) {\n    var back = MathTmp.Vector3[0];\n    back.copyFrom(forward);\n    back.scaleInPlace(-1);\n    var left = MathTmp.Vector3[1];\n    Vector3.CrossToRef(up, back, left);\n    Matrix2.FromValuesToRef(left._x, left._y, left._z, 0, up._x, up._y, up._z, 0, back._x, back._y, back._z, 0, 0, 0, 0, 1, result);\n  };\n  Matrix2.LookDirectionRH = function(forward, up) {\n    var result = new Matrix2();\n    Matrix2.LookDirectionRHToRef(forward, up, result);\n    return result;\n  };\n  Matrix2.LookDirectionRHToRef = function(forward, up, result) {\n    var right = MathTmp.Vector3[2];\n    Vector3.CrossToRef(up, forward, right);\n    Matrix2.FromValuesToRef(right._x, right._y, right._z, 0, up._x, up._y, up._z, 0, forward._x, forward._y, forward._z, 0, 0, 0, 0, 1, result);\n  };\n  Matrix2.OrthoLH = function(width, height, znear, zfar, halfZRange) {\n    var matrix = new Matrix2();\n    Matrix2.OrthoLHToRef(width, height, znear, zfar, matrix, halfZRange);\n    return matrix;\n  };\n  Matrix2.OrthoLHToRef = function(width, height, znear, zfar, result, halfZRange) {\n    var n = znear;\n    var f = zfar;\n    var a = 2 / width;\n    var b = 2 / height;\n    var c = 2 / (f - n);\n    var d = -(f + n) / (f - n);\n    Matrix2.FromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 0, 0, 0, d, 1, result);\n    if (halfZRange) {\n      result.multiplyToRef(mtxConvertNDCToHalfZRange, result);\n    }\n    result._updateIdentityStatus(a === 1 && b === 1 && c === 1 && d === 0);\n  };\n  Matrix2.OrthoOffCenterLH = function(left, right, bottom, top, znear, zfar, halfZRange) {\n    var matrix = new Matrix2();\n    Matrix2.OrthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, matrix, halfZRange);\n    return matrix;\n  };\n  Matrix2.OrthoOffCenterLHToRef = function(left, right, bottom, top, znear, zfar, result, halfZRange) {\n    var n = znear;\n    var f = zfar;\n    var a = 2 / (right - left);\n    var b = 2 / (top - bottom);\n    var c = 2 / (f - n);\n    var d = -(f + n) / (f - n);\n    var i0 = (left + right) / (left - right);\n    var i1 = (top + bottom) / (bottom - top);\n    Matrix2.FromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 0, i0, i1, d, 1, result);\n    if (halfZRange) {\n      result.multiplyToRef(mtxConvertNDCToHalfZRange, result);\n    }\n    result.markAsUpdated();\n  };\n  Matrix2.OrthoOffCenterRH = function(left, right, bottom, top, znear, zfar, halfZRange) {\n    var matrix = new Matrix2();\n    Matrix2.OrthoOffCenterRHToRef(left, right, bottom, top, znear, zfar, matrix, halfZRange);\n    return matrix;\n  };\n  Matrix2.OrthoOffCenterRHToRef = function(left, right, bottom, top, znear, zfar, result, halfZRange) {\n    Matrix2.OrthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, result, halfZRange);\n    result._m[10] *= -1;\n  };\n  Matrix2.PerspectiveLH = function(width, height, znear, zfar, halfZRange, projectionPlaneTilt) {\n    if (projectionPlaneTilt === void 0) {\n      projectionPlaneTilt = 0;\n    }\n    var matrix = new Matrix2();\n    var n = znear;\n    var f = zfar;\n    var a = 2 * n / width;\n    var b = 2 * n / height;\n    var c = (f + n) / (f - n);\n    var d = -2 * f * n / (f - n);\n    var rot = Math.tan(projectionPlaneTilt);\n    Matrix2.FromValuesToRef(a, 0, 0, 0, 0, b, 0, rot, 0, 0, c, 1, 0, 0, d, 0, matrix);\n    if (halfZRange) {\n      matrix.multiplyToRef(mtxConvertNDCToHalfZRange, matrix);\n    }\n    matrix._updateIdentityStatus(false);\n    return matrix;\n  };\n  Matrix2.PerspectiveFovLH = function(fov, aspect, znear, zfar, halfZRange, projectionPlaneTilt, reverseDepthBufferMode) {\n    if (projectionPlaneTilt === void 0) {\n      projectionPlaneTilt = 0;\n    }\n    if (reverseDepthBufferMode === void 0) {\n      reverseDepthBufferMode = false;\n    }\n    var matrix = new Matrix2();\n    Matrix2.PerspectiveFovLHToRef(fov, aspect, znear, zfar, matrix, true, halfZRange, projectionPlaneTilt, reverseDepthBufferMode);\n    return matrix;\n  };\n  Matrix2.PerspectiveFovLHToRef = function(fov, aspect, znear, zfar, result, isVerticalFovFixed, halfZRange, projectionPlaneTilt, reverseDepthBufferMode) {\n    if (isVerticalFovFixed === void 0) {\n      isVerticalFovFixed = true;\n    }\n    if (projectionPlaneTilt === void 0) {\n      projectionPlaneTilt = 0;\n    }\n    if (reverseDepthBufferMode === void 0) {\n      reverseDepthBufferMode = false;\n    }\n    var n = znear;\n    var f = zfar;\n    var t = 1 / Math.tan(fov * 0.5);\n    var a = isVerticalFovFixed ? t / aspect : t;\n    var b = isVerticalFovFixed ? t : t * aspect;\n    var c = reverseDepthBufferMode && n === 0 ? -1 : f !== 0 ? (f + n) / (f - n) : 1;\n    var d = reverseDepthBufferMode && n === 0 ? 2 * f : f !== 0 ? -2 * f * n / (f - n) : -2 * n;\n    var rot = Math.tan(projectionPlaneTilt);\n    Matrix2.FromValuesToRef(a, 0, 0, 0, 0, b, 0, rot, 0, 0, c, 1, 0, 0, d, 0, result);\n    if (halfZRange) {\n      result.multiplyToRef(mtxConvertNDCToHalfZRange, result);\n    }\n    result._updateIdentityStatus(false);\n  };\n  Matrix2.PerspectiveFovReverseLHToRef = function(fov, aspect, znear, zfar, result, isVerticalFovFixed, halfZRange, projectionPlaneTilt) {\n    if (isVerticalFovFixed === void 0) {\n      isVerticalFovFixed = true;\n    }\n    if (projectionPlaneTilt === void 0) {\n      projectionPlaneTilt = 0;\n    }\n    var t = 1 / Math.tan(fov * 0.5);\n    var a = isVerticalFovFixed ? t / aspect : t;\n    var b = isVerticalFovFixed ? t : t * aspect;\n    var rot = Math.tan(projectionPlaneTilt);\n    Matrix2.FromValuesToRef(a, 0, 0, 0, 0, b, 0, rot, 0, 0, -znear, 1, 0, 0, 1, 0, result);\n    if (halfZRange) {\n      result.multiplyToRef(mtxConvertNDCToHalfZRange, result);\n    }\n    result._updateIdentityStatus(false);\n  };\n  Matrix2.PerspectiveFovRH = function(fov, aspect, znear, zfar, halfZRange, projectionPlaneTilt, reverseDepthBufferMode) {\n    if (projectionPlaneTilt === void 0) {\n      projectionPlaneTilt = 0;\n    }\n    if (reverseDepthBufferMode === void 0) {\n      reverseDepthBufferMode = false;\n    }\n    var matrix = new Matrix2();\n    Matrix2.PerspectiveFovRHToRef(fov, aspect, znear, zfar, matrix, true, halfZRange, projectionPlaneTilt, reverseDepthBufferMode);\n    return matrix;\n  };\n  Matrix2.PerspectiveFovRHToRef = function(fov, aspect, znear, zfar, result, isVerticalFovFixed, halfZRange, projectionPlaneTilt, reverseDepthBufferMode) {\n    if (isVerticalFovFixed === void 0) {\n      isVerticalFovFixed = true;\n    }\n    if (projectionPlaneTilt === void 0) {\n      projectionPlaneTilt = 0;\n    }\n    if (reverseDepthBufferMode === void 0) {\n      reverseDepthBufferMode = false;\n    }\n    var n = znear;\n    var f = zfar;\n    var t = 1 / Math.tan(fov * 0.5);\n    var a = isVerticalFovFixed ? t / aspect : t;\n    var b = isVerticalFovFixed ? t : t * aspect;\n    var c = reverseDepthBufferMode && n === 0 ? 1 : f !== 0 ? -(f + n) / (f - n) : -1;\n    var d = reverseDepthBufferMode && n === 0 ? 2 * f : f !== 0 ? -2 * f * n / (f - n) : -2 * n;\n    var rot = Math.tan(projectionPlaneTilt);\n    Matrix2.FromValuesToRef(a, 0, 0, 0, 0, b, 0, rot, 0, 0, c, -1, 0, 0, d, 0, result);\n    if (halfZRange) {\n      result.multiplyToRef(mtxConvertNDCToHalfZRange, result);\n    }\n    result._updateIdentityStatus(false);\n  };\n  Matrix2.PerspectiveFovReverseRHToRef = function(fov, aspect, znear, zfar, result, isVerticalFovFixed, halfZRange, projectionPlaneTilt) {\n    if (isVerticalFovFixed === void 0) {\n      isVerticalFovFixed = true;\n    }\n    if (projectionPlaneTilt === void 0) {\n      projectionPlaneTilt = 0;\n    }\n    var t = 1 / Math.tan(fov * 0.5);\n    var a = isVerticalFovFixed ? t / aspect : t;\n    var b = isVerticalFovFixed ? t : t * aspect;\n    var rot = Math.tan(projectionPlaneTilt);\n    Matrix2.FromValuesToRef(a, 0, 0, 0, 0, b, 0, rot, 0, 0, -znear, -1, 0, 0, -1, 0, result);\n    if (halfZRange) {\n      result.multiplyToRef(mtxConvertNDCToHalfZRange, result);\n    }\n    result._updateIdentityStatus(false);\n  };\n  Matrix2.PerspectiveFovWebVRToRef = function(fov, znear, zfar, result, rightHanded, halfZRange, projectionPlaneTilt) {\n    if (rightHanded === void 0) {\n      rightHanded = false;\n    }\n    if (projectionPlaneTilt === void 0) {\n      projectionPlaneTilt = 0;\n    }\n    var rightHandedFactor = rightHanded ? -1 : 1;\n    var upTan = Math.tan(fov.upDegrees * Math.PI / 180);\n    var downTan = Math.tan(fov.downDegrees * Math.PI / 180);\n    var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180);\n    var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180);\n    var xScale = 2 / (leftTan + rightTan);\n    var yScale = 2 / (upTan + downTan);\n    var rot = Math.tan(projectionPlaneTilt);\n    var m = result._m;\n    m[0] = xScale;\n    m[1] = m[2] = m[3] = m[4] = 0;\n    m[5] = yScale;\n    m[6] = 0;\n    m[7] = rot;\n    m[8] = (leftTan - rightTan) * xScale * 0.5;\n    m[9] = -((upTan - downTan) * yScale * 0.5);\n    m[10] = -zfar / (znear - zfar);\n    m[11] = 1 * rightHandedFactor;\n    m[12] = m[13] = m[15] = 0;\n    m[14] = -(2 * zfar * znear) / (zfar - znear);\n    if (halfZRange) {\n      result.multiplyToRef(mtxConvertNDCToHalfZRange, result);\n    }\n    result.markAsUpdated();\n  };\n  Matrix2.GetFinalMatrix = function(viewport, world, view, projection, zmin, zmax) {\n    var cw = viewport.width;\n    var ch = viewport.height;\n    var cx = viewport.x;\n    var cy = viewport.y;\n    var viewportMatrix = Matrix2.FromValues(cw / 2, 0, 0, 0, 0, -ch / 2, 0, 0, 0, 0, zmax - zmin, 0, cx + cw / 2, ch / 2 + cy, zmin, 1);\n    var matrix = MathTmp.Matrix[0];\n    world.multiplyToRef(view, matrix);\n    matrix.multiplyToRef(projection, matrix);\n    return matrix.multiply(viewportMatrix);\n  };\n  Matrix2.GetAsMatrix2x2 = function(matrix) {\n    var m = matrix.m;\n    var arr = [m[0], m[1], m[4], m[5]];\n    return PerformanceConfigurator.MatrixUse64Bits ? arr : new Float32Array(arr);\n  };\n  Matrix2.GetAsMatrix3x3 = function(matrix) {\n    var m = matrix.m;\n    var arr = [m[0], m[1], m[2], m[4], m[5], m[6], m[8], m[9], m[10]];\n    return PerformanceConfigurator.MatrixUse64Bits ? arr : new Float32Array(arr);\n  };\n  Matrix2.Transpose = function(matrix) {\n    var result = new Matrix2();\n    Matrix2.TransposeToRef(matrix, result);\n    return result;\n  };\n  Matrix2.TransposeToRef = function(matrix, result) {\n    var rm = result._m;\n    var mm = matrix.m;\n    rm[0] = mm[0];\n    rm[1] = mm[4];\n    rm[2] = mm[8];\n    rm[3] = mm[12];\n    rm[4] = mm[1];\n    rm[5] = mm[5];\n    rm[6] = mm[9];\n    rm[7] = mm[13];\n    rm[8] = mm[2];\n    rm[9] = mm[6];\n    rm[10] = mm[10];\n    rm[11] = mm[14];\n    rm[12] = mm[3];\n    rm[13] = mm[7];\n    rm[14] = mm[11];\n    rm[15] = mm[15];\n    result.markAsUpdated();\n    result._updateIdentityStatus(matrix._isIdentity, matrix._isIdentityDirty);\n  };\n  Matrix2.Reflection = function(plane) {\n    var matrix = new Matrix2();\n    Matrix2.ReflectionToRef(plane, matrix);\n    return matrix;\n  };\n  Matrix2.ReflectionToRef = function(plane, result) {\n    plane.normalize();\n    var x = plane.normal.x;\n    var y = plane.normal.y;\n    var z = plane.normal.z;\n    var temp = -2 * x;\n    var temp2 = -2 * y;\n    var temp3 = -2 * z;\n    Matrix2.FromValuesToRef(temp * x + 1, temp2 * x, temp3 * x, 0, temp * y, temp2 * y + 1, temp3 * y, 0, temp * z, temp2 * z, temp3 * z + 1, 0, temp * plane.d, temp2 * plane.d, temp3 * plane.d, 1, result);\n  };\n  Matrix2.FromXYZAxesToRef = function(xaxis, yaxis, zaxis, result) {\n    Matrix2.FromValuesToRef(xaxis._x, xaxis._y, xaxis._z, 0, yaxis._x, yaxis._y, yaxis._z, 0, zaxis._x, zaxis._y, zaxis._z, 0, 0, 0, 0, 1, result);\n  };\n  Matrix2.FromQuaternionToRef = function(quat, result) {\n    var xx = quat._x * quat._x;\n    var yy = quat._y * quat._y;\n    var zz = quat._z * quat._z;\n    var xy = quat._x * quat._y;\n    var zw = quat._z * quat._w;\n    var zx = quat._z * quat._x;\n    var yw = quat._y * quat._w;\n    var yz = quat._y * quat._z;\n    var xw = quat._x * quat._w;\n    result._m[0] = 1 - 2 * (yy + zz);\n    result._m[1] = 2 * (xy + zw);\n    result._m[2] = 2 * (zx - yw);\n    result._m[3] = 0;\n    result._m[4] = 2 * (xy - zw);\n    result._m[5] = 1 - 2 * (zz + xx);\n    result._m[6] = 2 * (yz + xw);\n    result._m[7] = 0;\n    result._m[8] = 2 * (zx + yw);\n    result._m[9] = 2 * (yz - xw);\n    result._m[10] = 1 - 2 * (yy + xx);\n    result._m[11] = 0;\n    result._m[12] = 0;\n    result._m[13] = 0;\n    result._m[14] = 0;\n    result._m[15] = 1;\n    result.markAsUpdated();\n  };\n  Matrix2._UpdateFlagSeed = 0;\n  Matrix2._IdentityReadOnly = Matrix2.Identity();\n  return Matrix2;\n}();\nvar MathTmp = function() {\n  function MathTmp2() {\n  }\n  MathTmp2.Vector3 = ArrayTools.BuildTuple(11, Vector3.Zero);\n  MathTmp2.Matrix = ArrayTools.BuildTuple(2, Matrix.Identity);\n  MathTmp2.Quaternion = ArrayTools.BuildTuple(3, Quaternion.Zero);\n  return MathTmp2;\n}();\nvar TmpVectors = function() {\n  function TmpVectors2() {\n  }\n  TmpVectors2.Vector2 = ArrayTools.BuildTuple(3, Vector2.Zero);\n  TmpVectors2.Vector3 = ArrayTools.BuildTuple(13, Vector3.Zero);\n  TmpVectors2.Vector4 = ArrayTools.BuildTuple(3, Vector4.Zero);\n  TmpVectors2.Quaternion = ArrayTools.BuildTuple(2, Quaternion.Zero);\n  TmpVectors2.Matrix = ArrayTools.BuildTuple(8, Matrix.Identity);\n  return TmpVectors2;\n}();\nRegisterClass(\"BABYLON.Vector2\", Vector2);\nRegisterClass(\"BABYLON.Vector3\", Vector3);\nRegisterClass(\"BABYLON.Vector4\", Vector4);\nRegisterClass(\"BABYLON.Matrix\", Matrix);\nvar mtxConvertNDCToHalfZRange = Matrix.FromValues(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 1);\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {\n    d2.__proto__ = b2;\n  } || function(d2, b2) {\n    for (var p in b2)\n      if (Object.prototype.hasOwnProperty.call(b2, p))\n        d2[p] = b2[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function() {\n  __assign = Object.assign || function __assign2(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s)\n        if (Object.prototype.hasOwnProperty.call(s, p))\n          t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nfunction __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function(resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function(resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nfunction __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() {\n    if (t[0] & 1)\n      throw t[1];\n    return t[1];\n  }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n    return this;\n  }), g;\n  function verb(n) {\n    return function(v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f)\n      throw new TypeError(\"Generator is already executing.\");\n    while (_)\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)\n          return t;\n        if (y = 0, t)\n          op = [op[0] & 2, t.value];\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n          case 4:\n            _.label++;\n            return { value: op[1], done: false };\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n          case 7:\n            op = _.ops.pop();\n            _.trys.pop();\n            continue;\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n              _.ops.push(op);\n              break;\n            }\n            if (t[2])\n              _.ops.pop();\n            _.trys.pop();\n            continue;\n        }\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    if (op[0] & 5)\n      throw op[1];\n    return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\nvar EventState = function() {\n  function EventState2(mask, skipNextObservers, target, currentTarget) {\n    if (skipNextObservers === void 0) {\n      skipNextObservers = false;\n    }\n    this.initialize(mask, skipNextObservers, target, currentTarget);\n  }\n  EventState2.prototype.initialize = function(mask, skipNextObservers, target, currentTarget) {\n    if (skipNextObservers === void 0) {\n      skipNextObservers = false;\n    }\n    this.mask = mask;\n    this.skipNextObservers = skipNextObservers;\n    this.target = target;\n    this.currentTarget = currentTarget;\n    return this;\n  };\n  return EventState2;\n}();\nvar Observer = function() {\n  function Observer2(callback, mask, scope) {\n    if (scope === void 0) {\n      scope = null;\n    }\n    this.callback = callback;\n    this.mask = mask;\n    this.scope = scope;\n    this._willBeUnregistered = false;\n    this.unregisterOnNextCall = false;\n  }\n  return Observer2;\n}();\nvar Observable = function() {\n  function Observable2(onObserverAdded) {\n    this._observers = new Array();\n    this._eventState = new EventState(0);\n    if (onObserverAdded) {\n      this._onObserverAdded = onObserverAdded;\n    }\n  }\n  Observable2.FromPromise = function(promise, onErrorObservable) {\n    var observable = new Observable2();\n    promise.then(function(ret) {\n      observable.notifyObservers(ret);\n    }).catch(function(err) {\n      if (onErrorObservable) {\n        onErrorObservable.notifyObservers(err);\n      } else {\n        throw err;\n      }\n    });\n    return observable;\n  };\n  Object.defineProperty(Observable2.prototype, \"observers\", {\n    get: function() {\n      return this._observers;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Observable2.prototype.add = function(callback, mask, insertFirst, scope, unregisterOnFirstCall) {\n    if (mask === void 0) {\n      mask = -1;\n    }\n    if (insertFirst === void 0) {\n      insertFirst = false;\n    }\n    if (scope === void 0) {\n      scope = null;\n    }\n    if (unregisterOnFirstCall === void 0) {\n      unregisterOnFirstCall = false;\n    }\n    if (!callback) {\n      return null;\n    }\n    var observer = new Observer(callback, mask, scope);\n    observer.unregisterOnNextCall = unregisterOnFirstCall;\n    if (insertFirst) {\n      this._observers.unshift(observer);\n    } else {\n      this._observers.push(observer);\n    }\n    if (this._onObserverAdded) {\n      this._onObserverAdded(observer);\n    }\n    return observer;\n  };\n  Observable2.prototype.addOnce = function(callback) {\n    return this.add(callback, void 0, void 0, void 0, true);\n  };\n  Observable2.prototype.remove = function(observer) {\n    if (!observer) {\n      return false;\n    }\n    var index = this._observers.indexOf(observer);\n    if (index !== -1) {\n      this._deferUnregister(observer);\n      return true;\n    }\n    return false;\n  };\n  Observable2.prototype.removeCallback = function(callback, scope) {\n    for (var index = 0; index < this._observers.length; index++) {\n      var observer = this._observers[index];\n      if (observer._willBeUnregistered) {\n        continue;\n      }\n      if (observer.callback === callback && (!scope || scope === observer.scope)) {\n        this._deferUnregister(observer);\n        return true;\n      }\n    }\n    return false;\n  };\n  Observable2.prototype._deferUnregister = function(observer) {\n    var _this = this;\n    observer.unregisterOnNextCall = false;\n    observer._willBeUnregistered = true;\n    setTimeout(function() {\n      _this._remove(observer);\n    }, 0);\n  };\n  Observable2.prototype._remove = function(observer) {\n    if (!observer) {\n      return false;\n    }\n    var index = this._observers.indexOf(observer);\n    if (index !== -1) {\n      this._observers.splice(index, 1);\n      return true;\n    }\n    return false;\n  };\n  Observable2.prototype.makeObserverTopPriority = function(observer) {\n    this._remove(observer);\n    this._observers.unshift(observer);\n  };\n  Observable2.prototype.makeObserverBottomPriority = function(observer) {\n    this._remove(observer);\n    this._observers.push(observer);\n  };\n  Observable2.prototype.notifyObservers = function(eventData, mask, target, currentTarget, userInfo) {\n    if (mask === void 0) {\n      mask = -1;\n    }\n    if (!this._observers.length) {\n      return true;\n    }\n    var state = this._eventState;\n    state.mask = mask;\n    state.target = target;\n    state.currentTarget = currentTarget;\n    state.skipNextObservers = false;\n    state.lastReturnValue = eventData;\n    state.userInfo = userInfo;\n    for (var _i = 0, _a = this._observers; _i < _a.length; _i++) {\n      var obs = _a[_i];\n      if (obs._willBeUnregistered) {\n        continue;\n      }\n      if (obs.mask & mask) {\n        if (obs.scope) {\n          state.lastReturnValue = obs.callback.apply(obs.scope, [eventData, state]);\n        } else {\n          state.lastReturnValue = obs.callback(eventData, state);\n        }\n        if (obs.unregisterOnNextCall) {\n          this._deferUnregister(obs);\n        }\n      }\n      if (state.skipNextObservers) {\n        return false;\n      }\n    }\n    return true;\n  };\n  Observable2.prototype.notifyObserversWithPromise = function(eventData, mask, target, currentTarget, userInfo) {\n    var _this = this;\n    if (mask === void 0) {\n      mask = -1;\n    }\n    var p = Promise.resolve(eventData);\n    if (!this._observers.length) {\n      return p;\n    }\n    var state = this._eventState;\n    state.mask = mask;\n    state.target = target;\n    state.currentTarget = currentTarget;\n    state.skipNextObservers = false;\n    state.userInfo = userInfo;\n    this._observers.forEach(function(obs) {\n      if (state.skipNextObservers) {\n        return;\n      }\n      if (obs._willBeUnregistered) {\n        return;\n      }\n      if (obs.mask & mask) {\n        if (obs.scope) {\n          p = p.then(function(lastReturnedValue) {\n            state.lastReturnValue = lastReturnedValue;\n            return obs.callback.apply(obs.scope, [eventData, state]);\n          });\n        } else {\n          p = p.then(function(lastReturnedValue) {\n            state.lastReturnValue = lastReturnedValue;\n            return obs.callback(eventData, state);\n          });\n        }\n        if (obs.unregisterOnNextCall) {\n          _this._deferUnregister(obs);\n        }\n      }\n    });\n    return p.then(function() {\n      return eventData;\n    });\n  };\n  Observable2.prototype.notifyObserver = function(observer, eventData, mask) {\n    if (mask === void 0) {\n      mask = -1;\n    }\n    if (observer._willBeUnregistered) {\n      return;\n    }\n    var state = this._eventState;\n    state.mask = mask;\n    state.skipNextObservers = false;\n    observer.callback(eventData, state);\n    if (observer.unregisterOnNextCall) {\n      this._deferUnregister(observer);\n    }\n  };\n  Observable2.prototype.hasObservers = function() {\n    return this._observers.length > 0;\n  };\n  Observable2.prototype.clear = function() {\n    this._observers = new Array();\n    this._onObserverAdded = null;\n  };\n  Observable2.prototype.clone = function() {\n    var result = new Observable2();\n    result._observers = this._observers.slice(0);\n    return result;\n  };\n  Observable2.prototype.hasSpecificMask = function(mask) {\n    if (mask === void 0) {\n      mask = -1;\n    }\n    for (var _i = 0, _a = this._observers; _i < _a.length; _i++) {\n      var obs = _a[_i];\n      if (obs.mask & mask || obs.mask === mask) {\n        return true;\n      }\n    }\n    return false;\n  };\n  return Observable2;\n}();\nvar TextureSampler = function() {\n  function TextureSampler2() {\n    this.samplingMode = -1;\n    this._useMipMaps = true;\n    this._cachedWrapU = null;\n    this._cachedWrapV = null;\n    this._cachedWrapR = null;\n    this._cachedAnisotropicFilteringLevel = null;\n    this._comparisonFunction = 0;\n  }\n  Object.defineProperty(TextureSampler2.prototype, \"wrapU\", {\n    get: function() {\n      return this._cachedWrapU;\n    },\n    set: function(value) {\n      this._cachedWrapU = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TextureSampler2.prototype, \"wrapV\", {\n    get: function() {\n      return this._cachedWrapV;\n    },\n    set: function(value) {\n      this._cachedWrapV = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TextureSampler2.prototype, \"wrapR\", {\n    get: function() {\n      return this._cachedWrapR;\n    },\n    set: function(value) {\n      this._cachedWrapR = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TextureSampler2.prototype, \"anisotropicFilteringLevel\", {\n    get: function() {\n      return this._cachedAnisotropicFilteringLevel;\n    },\n    set: function(value) {\n      this._cachedAnisotropicFilteringLevel = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TextureSampler2.prototype, \"comparisonFunction\", {\n    get: function() {\n      return this._comparisonFunction;\n    },\n    set: function(value) {\n      this._comparisonFunction = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TextureSampler2.prototype, \"useMipMaps\", {\n    get: function() {\n      return this._useMipMaps;\n    },\n    set: function(value) {\n      this._useMipMaps = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  TextureSampler2.prototype.setParameters = function(wrapU, wrapV, wrapR, anisotropicFilteringLevel, samplingMode, comparisonFunction) {\n    if (wrapU === void 0) {\n      wrapU = 1;\n    }\n    if (wrapV === void 0) {\n      wrapV = 1;\n    }\n    if (wrapR === void 0) {\n      wrapR = 1;\n    }\n    if (anisotropicFilteringLevel === void 0) {\n      anisotropicFilteringLevel = 1;\n    }\n    if (samplingMode === void 0) {\n      samplingMode = 2;\n    }\n    if (comparisonFunction === void 0) {\n      comparisonFunction = 0;\n    }\n    this._cachedWrapU = wrapU;\n    this._cachedWrapV = wrapV;\n    this._cachedWrapR = wrapR;\n    this._cachedAnisotropicFilteringLevel = anisotropicFilteringLevel;\n    this.samplingMode = samplingMode;\n    this._comparisonFunction = comparisonFunction;\n    return this;\n  };\n  TextureSampler2.prototype.compareSampler = function(other) {\n    return this._cachedWrapU === other._cachedWrapU && this._cachedWrapV === other._cachedWrapV && this._cachedWrapR === other._cachedWrapR && this._cachedAnisotropicFilteringLevel === other._cachedAnisotropicFilteringLevel && this.samplingMode === other.samplingMode && this._comparisonFunction === other._comparisonFunction && this._useMipMaps === other._useMipMaps;\n  };\n  return TextureSampler2;\n}();\nvar InternalTextureSource;\n(function(InternalTextureSource2) {\n  InternalTextureSource2[InternalTextureSource2[\"Unknown\"] = 0] = \"Unknown\";\n  InternalTextureSource2[InternalTextureSource2[\"Url\"] = 1] = \"Url\";\n  InternalTextureSource2[InternalTextureSource2[\"Temp\"] = 2] = \"Temp\";\n  InternalTextureSource2[InternalTextureSource2[\"Raw\"] = 3] = \"Raw\";\n  InternalTextureSource2[InternalTextureSource2[\"Dynamic\"] = 4] = \"Dynamic\";\n  InternalTextureSource2[InternalTextureSource2[\"RenderTarget\"] = 5] = \"RenderTarget\";\n  InternalTextureSource2[InternalTextureSource2[\"MultiRenderTarget\"] = 6] = \"MultiRenderTarget\";\n  InternalTextureSource2[InternalTextureSource2[\"Cube\"] = 7] = \"Cube\";\n  InternalTextureSource2[InternalTextureSource2[\"CubeRaw\"] = 8] = \"CubeRaw\";\n  InternalTextureSource2[InternalTextureSource2[\"CubePrefiltered\"] = 9] = \"CubePrefiltered\";\n  InternalTextureSource2[InternalTextureSource2[\"Raw3D\"] = 10] = \"Raw3D\";\n  InternalTextureSource2[InternalTextureSource2[\"Raw2DArray\"] = 11] = \"Raw2DArray\";\n  InternalTextureSource2[InternalTextureSource2[\"DepthStencil\"] = 12] = \"DepthStencil\";\n  InternalTextureSource2[InternalTextureSource2[\"CubeRawRGBD\"] = 13] = \"CubeRawRGBD\";\n  InternalTextureSource2[InternalTextureSource2[\"Depth\"] = 14] = \"Depth\";\n})(InternalTextureSource || (InternalTextureSource = {}));\nvar InternalTexture = function(_super) {\n  __extends(InternalTexture2, _super);\n  function InternalTexture2(engine, source, delayAllocation) {\n    if (delayAllocation === void 0) {\n      delayAllocation = false;\n    }\n    var _this = _super.call(this) || this;\n    _this.isReady = false;\n    _this.isCube = false;\n    _this.is3D = false;\n    _this.is2DArray = false;\n    _this.isMultiview = false;\n    _this.url = \"\";\n    _this.generateMipMaps = false;\n    _this.samples = 0;\n    _this.type = -1;\n    _this.format = -1;\n    _this.onLoadedObservable = new Observable();\n    _this.onErrorObservable = new Observable();\n    _this.onRebuildCallback = null;\n    _this.width = 0;\n    _this.height = 0;\n    _this.depth = 0;\n    _this.baseWidth = 0;\n    _this.baseHeight = 0;\n    _this.baseDepth = 0;\n    _this.invertY = false;\n    _this._invertVScale = false;\n    _this._associatedChannel = -1;\n    _this._source = InternalTextureSource.Unknown;\n    _this._buffer = null;\n    _this._bufferView = null;\n    _this._bufferViewArray = null;\n    _this._bufferViewArrayArray = null;\n    _this._size = 0;\n    _this._extension = \"\";\n    _this._files = null;\n    _this._workingCanvas = null;\n    _this._workingContext = null;\n    _this._cachedCoordinatesMode = null;\n    _this._isDisabled = false;\n    _this._compression = null;\n    _this._sphericalPolynomial = null;\n    _this._sphericalPolynomialPromise = null;\n    _this._sphericalPolynomialComputed = false;\n    _this._lodGenerationScale = 0;\n    _this._lodGenerationOffset = 0;\n    _this._useSRGBBuffer = false;\n    _this._lodTextureHigh = null;\n    _this._lodTextureMid = null;\n    _this._lodTextureLow = null;\n    _this._isRGBD = false;\n    _this._linearSpecularLOD = false;\n    _this._irradianceTexture = null;\n    _this._hardwareTexture = null;\n    _this._maxLodLevel = null;\n    _this._references = 1;\n    _this._gammaSpace = null;\n    _this._engine = engine;\n    _this._source = source;\n    _this._uniqueId = InternalTexture2._Counter++;\n    if (!delayAllocation) {\n      _this._hardwareTexture = engine._createHardwareTexture();\n    }\n    return _this;\n  }\n  Object.defineProperty(InternalTexture2.prototype, \"useMipMaps\", {\n    get: function() {\n      return this.generateMipMaps;\n    },\n    set: function(value) {\n      this.generateMipMaps = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(InternalTexture2.prototype, \"uniqueId\", {\n    get: function() {\n      return this._uniqueId;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  InternalTexture2.prototype.getEngine = function() {\n    return this._engine;\n  };\n  Object.defineProperty(InternalTexture2.prototype, \"source\", {\n    get: function() {\n      return this._source;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  InternalTexture2.prototype.incrementReferences = function() {\n    this._references++;\n  };\n  InternalTexture2.prototype.updateSize = function(width, height, depth) {\n    if (depth === void 0) {\n      depth = 1;\n    }\n    this._engine.updateTextureDimensions(this, width, height, depth);\n    this.width = width;\n    this.height = height;\n    this.depth = depth;\n    this.baseWidth = width;\n    this.baseHeight = height;\n    this.baseDepth = depth;\n    this._size = width * height * depth;\n  };\n  InternalTexture2.prototype._rebuild = function() {\n    var _this = this;\n    var _a;\n    this.isReady = false;\n    this._cachedCoordinatesMode = null;\n    this._cachedWrapU = null;\n    this._cachedWrapV = null;\n    this._cachedWrapR = null;\n    this._cachedAnisotropicFilteringLevel = null;\n    if (this.onRebuildCallback) {\n      var data_1 = this.onRebuildCallback(this);\n      var swapAndSetIsReady = function(proxyInternalTexture) {\n        proxyInternalTexture._swapAndDie(_this, false);\n        _this.isReady = data_1.isReady;\n      };\n      if (data_1.isAsync) {\n        data_1.proxy.then(swapAndSetIsReady);\n      } else {\n        swapAndSetIsReady(data_1.proxy);\n      }\n      return;\n    }\n    var proxy;\n    switch (this.source) {\n      case InternalTextureSource.Temp:\n        break;\n      case InternalTextureSource.Url:\n        proxy = this._engine.createTexture((_a = this._originalUrl) !== null && _a !== void 0 ? _a : this.url, !this.generateMipMaps, this.invertY, null, this.samplingMode, function() {\n          proxy._swapAndDie(_this, false);\n          _this.isReady = true;\n        }, null, this._buffer, void 0, this.format, this._extension, void 0, void 0, void 0, this._useSRGBBuffer);\n        return;\n      case InternalTextureSource.Raw:\n        proxy = this._engine.createRawTexture(this._bufferView, this.baseWidth, this.baseHeight, this.format, this.generateMipMaps, this.invertY, this.samplingMode, this._compression, this.type, void 0, this._useSRGBBuffer);\n        proxy._swapAndDie(this, false);\n        this.isReady = true;\n        break;\n      case InternalTextureSource.Raw3D:\n        proxy = this._engine.createRawTexture3D(this._bufferView, this.baseWidth, this.baseHeight, this.baseDepth, this.format, this.generateMipMaps, this.invertY, this.samplingMode, this._compression, this.type);\n        proxy._swapAndDie(this, false);\n        this.isReady = true;\n        break;\n      case InternalTextureSource.Raw2DArray:\n        proxy = this._engine.createRawTexture2DArray(this._bufferView, this.baseWidth, this.baseHeight, this.baseDepth, this.format, this.generateMipMaps, this.invertY, this.samplingMode, this._compression, this.type);\n        proxy._swapAndDie(this, false);\n        this.isReady = true;\n        break;\n      case InternalTextureSource.Dynamic:\n        proxy = this._engine.createDynamicTexture(this.baseWidth, this.baseHeight, this.generateMipMaps, this.samplingMode);\n        proxy._swapAndDie(this, false);\n        this._engine.updateDynamicTexture(this, this._engine.getRenderingCanvas(), this.invertY, void 0, void 0, true);\n        break;\n      case InternalTextureSource.Cube:\n        proxy = this._engine.createCubeTexture(this.url, null, this._files, !this.generateMipMaps, function() {\n          proxy._swapAndDie(_this, false);\n          _this.isReady = true;\n        }, null, this.format, this._extension, false, 0, 0, null, void 0, this._useSRGBBuffer);\n        return;\n      case InternalTextureSource.CubeRaw:\n        proxy = this._engine.createRawCubeTexture(this._bufferViewArray, this.width, this.format, this.type, this.generateMipMaps, this.invertY, this.samplingMode, this._compression);\n        proxy._swapAndDie(this, false);\n        this.isReady = true;\n        break;\n      case InternalTextureSource.CubeRawRGBD:\n        return;\n      case InternalTextureSource.CubePrefiltered:\n        proxy = this._engine.createPrefilteredCubeTexture(this.url, null, this._lodGenerationScale, this._lodGenerationOffset, function(proxy2) {\n          if (proxy2) {\n            proxy2._swapAndDie(_this, false);\n          }\n          _this.isReady = true;\n        }, null, this.format, this._extension);\n        proxy._sphericalPolynomial = this._sphericalPolynomial;\n        return;\n    }\n  };\n  InternalTexture2.prototype._swapAndDie = function(target, swapAll) {\n    var _a;\n    if (swapAll === void 0) {\n      swapAll = true;\n    }\n    (_a = this._hardwareTexture) === null || _a === void 0 ? void 0 : _a.setUsage(target._source, this.generateMipMaps, this.isCube, this.width, this.height);\n    target._hardwareTexture = this._hardwareTexture;\n    if (swapAll) {\n      target._isRGBD = this._isRGBD;\n    }\n    if (this._lodTextureHigh) {\n      if (target._lodTextureHigh) {\n        target._lodTextureHigh.dispose();\n      }\n      target._lodTextureHigh = this._lodTextureHigh;\n    }\n    if (this._lodTextureMid) {\n      if (target._lodTextureMid) {\n        target._lodTextureMid.dispose();\n      }\n      target._lodTextureMid = this._lodTextureMid;\n    }\n    if (this._lodTextureLow) {\n      if (target._lodTextureLow) {\n        target._lodTextureLow.dispose();\n      }\n      target._lodTextureLow = this._lodTextureLow;\n    }\n    if (this._irradianceTexture) {\n      if (target._irradianceTexture) {\n        target._irradianceTexture.dispose();\n      }\n      target._irradianceTexture = this._irradianceTexture;\n    }\n    var cache = this._engine.getLoadedTexturesCache();\n    var index = cache.indexOf(this);\n    if (index !== -1) {\n      cache.splice(index, 1);\n    }\n    index = cache.indexOf(target);\n    if (index === -1) {\n      cache.push(target);\n    }\n  };\n  InternalTexture2.prototype.dispose = function() {\n    this._references--;\n    this.onLoadedObservable.clear();\n    this.onErrorObservable.clear();\n    if (this._references === 0) {\n      this._engine._releaseTexture(this);\n      this._hardwareTexture = null;\n    }\n  };\n  InternalTexture2._Counter = 0;\n  return InternalTexture2;\n}(TextureSampler);\nfunction IsWindowObjectExist() {\n  return typeof window !== \"undefined\";\n}\nfunction IsNavigatorAvailable() {\n  return typeof navigator !== \"undefined\";\n}\nfunction IsDocumentAvailable() {\n  return typeof document !== \"undefined\";\n}\nfunction GetDOMTextContent(element) {\n  var result = \"\";\n  var child = element.firstChild;\n  while (child) {\n    if (child.nodeType === 3) {\n      result += child.textContent;\n    }\n    child = child.nextSibling;\n  }\n  return result;\n}\nvar DomManagement = {\n  IsWindowObjectExist,\n  IsNavigatorAvailable,\n  IsDocumentAvailable,\n  GetDOMTextContent\n};\nfunction _WarnImport(name2) {\n  return \"\".concat(name2, \" needs to be imported before as it contains a side-effect required by your code.\");\n}\nvar Logger = function() {\n  function Logger2() {\n  }\n  Logger2._CheckLimit = function(message, limit) {\n    var entry = Logger2._LogLimitOutputs[message];\n    if (!entry) {\n      entry = { limit, current: 1 };\n      Logger2._LogLimitOutputs[message] = entry;\n    } else {\n      entry.current++;\n    }\n    return entry.current <= entry.limit;\n  };\n  Logger2._GenerateLimitMessage = function(message, messageType) {\n    var entry = Logger2._LogLimitOutputs[message];\n    if (!entry || !Logger2.MessageLimitReached) {\n      return;\n    }\n    if (entry.current === entry.limit) {\n      switch (messageType) {\n        case 0:\n          Logger2.Log(Logger2.MessageLimitReached.replace(/%LIMIT%/g, \"\" + entry.limit).replace(/%TYPE%/g, \"log\"));\n          break;\n        case 1:\n          Logger2.Warn(Logger2.MessageLimitReached.replace(/%LIMIT%/g, \"\" + entry.limit).replace(/%TYPE%/g, \"warning\"));\n          break;\n        case 2:\n          Logger2.Error(Logger2.MessageLimitReached.replace(/%LIMIT%/g, \"\" + entry.limit).replace(/%TYPE%/g, \"error\"));\n          break;\n      }\n    }\n  };\n  Logger2._AddLogEntry = function(entry) {\n    Logger2._LogCache = entry + Logger2._LogCache;\n    if (Logger2.OnNewCacheEntry) {\n      Logger2.OnNewCacheEntry(entry);\n    }\n  };\n  Logger2._FormatMessage = function(message) {\n    var padStr = function(i) {\n      return i < 10 ? \"0\" + i : \"\" + i;\n    };\n    var date = new Date();\n    return \"[\" + padStr(date.getHours()) + \":\" + padStr(date.getMinutes()) + \":\" + padStr(date.getSeconds()) + \"]: \" + message;\n  };\n  Logger2._LogDisabled = function(message, limit) {\n  };\n  Logger2._LogEnabled = function(message, limit) {\n    if (limit !== void 0 && !Logger2._CheckLimit(message, limit)) {\n      return;\n    }\n    var formattedMessage = Logger2._FormatMessage(message);\n    console.log(\"BJS - \" + formattedMessage);\n    var entry = \"<div style='color:white'>\" + formattedMessage + \"</div><br>\";\n    Logger2._AddLogEntry(entry);\n    Logger2._GenerateLimitMessage(message, 0);\n  };\n  Logger2._WarnDisabled = function(message, limit) {\n  };\n  Logger2._WarnEnabled = function(message, limit) {\n    if (limit !== void 0 && !Logger2._CheckLimit(message, limit)) {\n      return;\n    }\n    var formattedMessage = Logger2._FormatMessage(message);\n    console.warn(\"BJS - \" + formattedMessage);\n    var entry = \"<div style='color:orange'>\" + message + \"</div><br>\";\n    Logger2._AddLogEntry(entry);\n    Logger2._GenerateLimitMessage(message, 1);\n  };\n  Logger2._ErrorDisabled = function(message, limit) {\n  };\n  Logger2._ErrorEnabled = function(message, limit) {\n    if (limit !== void 0 && !Logger2._CheckLimit(message, limit)) {\n      return;\n    }\n    var formattedMessage = Logger2._FormatMessage(message);\n    Logger2.errorsCount++;\n    console.error(\"BJS - \" + formattedMessage);\n    var entry = \"<div style='color:red'>\" + formattedMessage + \"</div><br>\";\n    Logger2._AddLogEntry(entry);\n    Logger2._GenerateLimitMessage(message, 2);\n  };\n  Object.defineProperty(Logger2, \"LogCache\", {\n    get: function() {\n      return Logger2._LogCache;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Logger2.ClearLogCache = function() {\n    Logger2._LogCache = \"\";\n    Logger2._LogLimitOutputs = {};\n    Logger2.errorsCount = 0;\n  };\n  Object.defineProperty(Logger2, \"LogLevels\", {\n    set: function(level) {\n      if ((level & Logger2.MessageLogLevel) === Logger2.MessageLogLevel) {\n        Logger2.Log = Logger2._LogEnabled;\n      } else {\n        Logger2.Log = Logger2._LogDisabled;\n      }\n      if ((level & Logger2.WarningLogLevel) === Logger2.WarningLogLevel) {\n        Logger2.Warn = Logger2._WarnEnabled;\n      } else {\n        Logger2.Warn = Logger2._WarnDisabled;\n      }\n      if ((level & Logger2.ErrorLogLevel) === Logger2.ErrorLogLevel) {\n        Logger2.Error = Logger2._ErrorEnabled;\n      } else {\n        Logger2.Error = Logger2._ErrorDisabled;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Logger2.NoneLogLevel = 0;\n  Logger2.MessageLogLevel = 1;\n  Logger2.WarningLogLevel = 2;\n  Logger2.ErrorLogLevel = 4;\n  Logger2.AllLogLevel = 7;\n  Logger2.MessageLimitReached = \"Too many %TYPE%s (%LIMIT%), no more %TYPE%s will be reported for this message.\";\n  Logger2._LogCache = \"\";\n  Logger2._LogLimitOutputs = {};\n  Logger2.errorsCount = 0;\n  Logger2.Log = Logger2._LogEnabled;\n  Logger2.Warn = Logger2._WarnEnabled;\n  Logger2.Error = Logger2._ErrorEnabled;\n  return Logger2;\n}();\nvar ShaderCodeNode = function() {\n  function ShaderCodeNode2() {\n    this.children = [];\n  }\n  ShaderCodeNode2.prototype.isValid = function(preprocessors) {\n    return true;\n  };\n  ShaderCodeNode2.prototype.process = function(preprocessors, options) {\n    var result = \"\";\n    if (this.line) {\n      var value = this.line;\n      var processor = options.processor;\n      if (processor) {\n        if (processor.lineProcessor) {\n          value = processor.lineProcessor(value, options.isFragment, options.processingContext);\n        }\n        if (processor.attributeProcessor && this.line.startsWith(\"attribute\")) {\n          value = processor.attributeProcessor(this.line, preprocessors, options.processingContext);\n        } else if (processor.varyingProcessor && this.line.startsWith(\"varying\")) {\n          value = processor.varyingProcessor(this.line, options.isFragment, preprocessors, options.processingContext);\n        } else if (processor.uniformProcessor && processor.uniformRegexp && processor.uniformRegexp.test(this.line)) {\n          if (!options.lookForClosingBracketForUniformBuffer) {\n            value = processor.uniformProcessor(this.line, options.isFragment, preprocessors, options.processingContext);\n          }\n        } else if (processor.uniformBufferProcessor && processor.uniformBufferRegexp && processor.uniformBufferRegexp.test(this.line)) {\n          if (!options.lookForClosingBracketForUniformBuffer) {\n            value = processor.uniformBufferProcessor(this.line, options.isFragment, options.processingContext);\n            options.lookForClosingBracketForUniformBuffer = true;\n          }\n        } else if (processor.textureProcessor && processor.textureRegexp && processor.textureRegexp.test(this.line)) {\n          value = processor.textureProcessor(this.line, options.isFragment, preprocessors, options.processingContext);\n        } else if ((processor.uniformProcessor || processor.uniformBufferProcessor) && this.line.startsWith(\"uniform\") && !options.lookForClosingBracketForUniformBuffer) {\n          var regex = /uniform\\s+(?:(?:highp)?|(?:lowp)?)\\s*(\\S+)\\s+(\\S+)\\s*;/;\n          if (regex.test(this.line)) {\n            if (processor.uniformProcessor) {\n              value = processor.uniformProcessor(this.line, options.isFragment, preprocessors, options.processingContext);\n            }\n          } else {\n            if (processor.uniformBufferProcessor) {\n              value = processor.uniformBufferProcessor(this.line, options.isFragment, options.processingContext);\n              options.lookForClosingBracketForUniformBuffer = true;\n            }\n          }\n        }\n        if (options.lookForClosingBracketForUniformBuffer && this.line.indexOf(\"}\") !== -1) {\n          options.lookForClosingBracketForUniformBuffer = false;\n          if (processor.endOfUniformBufferProcessor) {\n            value = processor.endOfUniformBufferProcessor(this.line, options.isFragment, options.processingContext);\n          }\n        }\n      }\n      result += value + \"\\r\\n\";\n    }\n    this.children.forEach(function(child) {\n      result += child.process(preprocessors, options);\n    });\n    if (this.additionalDefineKey) {\n      preprocessors[this.additionalDefineKey] = this.additionalDefineValue || \"true\";\n    }\n    return result;\n  };\n  return ShaderCodeNode2;\n}();\nvar ShaderCodeCursor = function() {\n  function ShaderCodeCursor2() {\n  }\n  Object.defineProperty(ShaderCodeCursor2.prototype, \"currentLine\", {\n    get: function() {\n      return this._lines[this.lineIndex];\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShaderCodeCursor2.prototype, \"canRead\", {\n    get: function() {\n      return this.lineIndex < this._lines.length - 1;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShaderCodeCursor2.prototype, \"lines\", {\n    set: function(value) {\n      this._lines = [];\n      for (var _i = 0, value_1 = value; _i < value_1.length; _i++) {\n        var line = value_1[_i];\n        if (line[0] === \"#\") {\n          this._lines.push(line);\n          continue;\n        }\n        if (line.trim().startsWith(\"//\")) {\n          this._lines.push(line);\n          continue;\n        }\n        var split = line.split(\";\");\n        for (var index = 0; index < split.length; index++) {\n          var subLine = split[index];\n          subLine = subLine.trim();\n          if (!subLine) {\n            continue;\n          }\n          this._lines.push(subLine + (index !== split.length - 1 ? \";\" : \"\"));\n        }\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ShaderCodeCursor2;\n}();\nvar ShaderCodeConditionNode = function(_super) {\n  __extends(ShaderCodeConditionNode2, _super);\n  function ShaderCodeConditionNode2() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  ShaderCodeConditionNode2.prototype.process = function(preprocessors, options) {\n    for (var index = 0; index < this.children.length; index++) {\n      var node = this.children[index];\n      if (node.isValid(preprocessors)) {\n        return node.process(preprocessors, options);\n      }\n    }\n    return \"\";\n  };\n  return ShaderCodeConditionNode2;\n}(ShaderCodeNode);\nvar ShaderCodeTestNode = function(_super) {\n  __extends(ShaderCodeTestNode2, _super);\n  function ShaderCodeTestNode2() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  ShaderCodeTestNode2.prototype.isValid = function(preprocessors) {\n    return this.testExpression.isTrue(preprocessors);\n  };\n  return ShaderCodeTestNode2;\n}(ShaderCodeNode);\nvar ShaderDefineExpression = function() {\n  function ShaderDefineExpression2() {\n  }\n  ShaderDefineExpression2.prototype.isTrue = function(preprocessors) {\n    return true;\n  };\n  ShaderDefineExpression2.postfixToInfix = function(postfix) {\n    var stack = [];\n    for (var _i = 0, postfix_1 = postfix; _i < postfix_1.length; _i++) {\n      var c = postfix_1[_i];\n      if (ShaderDefineExpression2._OperatorPriority[c] === void 0) {\n        stack.push(c);\n      } else {\n        var v1 = stack[stack.length - 1], v2 = stack[stack.length - 2];\n        stack.length -= 2;\n        stack.push(\"(\".concat(v2).concat(c).concat(v1, \")\"));\n      }\n    }\n    return stack[stack.length - 1];\n  };\n  ShaderDefineExpression2.infixToPostfix = function(infix) {\n    var result = [];\n    var stackIdx = -1;\n    var pushOperand = function() {\n      operand = operand.trim();\n      if (operand !== \"\") {\n        result.push(operand);\n        operand = \"\";\n      }\n    };\n    var push = function(s) {\n      if (stackIdx < ShaderDefineExpression2._Stack.length - 1) {\n        ShaderDefineExpression2._Stack[++stackIdx] = s;\n      }\n    };\n    var peek = function() {\n      return ShaderDefineExpression2._Stack[stackIdx];\n    };\n    var pop = function() {\n      return stackIdx === -1 ? \"!!INVALID EXPRESSION!!\" : ShaderDefineExpression2._Stack[stackIdx--];\n    };\n    var idx = 0, operand = \"\";\n    while (idx < infix.length) {\n      var c = infix.charAt(idx), token = idx < infix.length - 1 ? infix.substr(idx, 2) : \"\";\n      if (c === \"(\") {\n        operand = \"\";\n        push(c);\n      } else if (c === \")\") {\n        pushOperand();\n        while (stackIdx !== -1 && peek() !== \"(\") {\n          result.push(pop());\n        }\n        pop();\n      } else if (ShaderDefineExpression2._OperatorPriority[token] > 1) {\n        pushOperand();\n        while (stackIdx !== -1 && ShaderDefineExpression2._OperatorPriority[peek()] >= ShaderDefineExpression2._OperatorPriority[token]) {\n          result.push(pop());\n        }\n        push(token);\n        idx++;\n      } else {\n        operand += c;\n      }\n      idx++;\n    }\n    pushOperand();\n    while (stackIdx !== -1) {\n      if (peek() === \"(\") {\n        pop();\n      } else {\n        result.push(pop());\n      }\n    }\n    return result;\n  };\n  ShaderDefineExpression2._OperatorPriority = {\n    \")\": 0,\n    \"(\": 1,\n    \"||\": 2,\n    \"&&\": 3\n  };\n  ShaderDefineExpression2._Stack = [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"];\n  return ShaderDefineExpression2;\n}();\nvar ShaderDefineIsDefinedOperator = function(_super) {\n  __extends(ShaderDefineIsDefinedOperator2, _super);\n  function ShaderDefineIsDefinedOperator2(define, not) {\n    if (not === void 0) {\n      not = false;\n    }\n    var _this = _super.call(this) || this;\n    _this.define = define;\n    _this.not = not;\n    return _this;\n  }\n  ShaderDefineIsDefinedOperator2.prototype.isTrue = function(preprocessors) {\n    var condition = preprocessors[this.define] !== void 0;\n    if (this.not) {\n      condition = !condition;\n    }\n    return condition;\n  };\n  return ShaderDefineIsDefinedOperator2;\n}(ShaderDefineExpression);\nvar ShaderDefineOrOperator = function(_super) {\n  __extends(ShaderDefineOrOperator2, _super);\n  function ShaderDefineOrOperator2() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  ShaderDefineOrOperator2.prototype.isTrue = function(preprocessors) {\n    return this.leftOperand.isTrue(preprocessors) || this.rightOperand.isTrue(preprocessors);\n  };\n  return ShaderDefineOrOperator2;\n}(ShaderDefineExpression);\nvar ShaderDefineAndOperator = function(_super) {\n  __extends(ShaderDefineAndOperator2, _super);\n  function ShaderDefineAndOperator2() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  ShaderDefineAndOperator2.prototype.isTrue = function(preprocessors) {\n    return this.leftOperand.isTrue(preprocessors) && this.rightOperand.isTrue(preprocessors);\n  };\n  return ShaderDefineAndOperator2;\n}(ShaderDefineExpression);\nvar ShaderDefineArithmeticOperator = function(_super) {\n  __extends(ShaderDefineArithmeticOperator2, _super);\n  function ShaderDefineArithmeticOperator2(define, operand, testValue) {\n    var _this = _super.call(this) || this;\n    _this.define = define;\n    _this.operand = operand;\n    _this.testValue = testValue;\n    return _this;\n  }\n  ShaderDefineArithmeticOperator2.prototype.isTrue = function(preprocessors) {\n    var value = preprocessors[this.define];\n    if (value === void 0) {\n      value = this.define;\n    }\n    var condition = false;\n    var left = parseInt(value);\n    var right = parseInt(this.testValue);\n    switch (this.operand) {\n      case \">\":\n        condition = left > right;\n        break;\n      case \"<\":\n        condition = left < right;\n        break;\n      case \"<=\":\n        condition = left <= right;\n        break;\n      case \">=\":\n        condition = left >= right;\n        break;\n      case \"==\":\n        condition = left === right;\n        break;\n    }\n    return condition;\n  };\n  return ShaderDefineArithmeticOperator2;\n}(ShaderDefineExpression);\nvar ShaderLanguage;\n(function(ShaderLanguage2) {\n  ShaderLanguage2[ShaderLanguage2[\"GLSL\"] = 0] = \"GLSL\";\n  ShaderLanguage2[ShaderLanguage2[\"WGSL\"] = 1] = \"WGSL\";\n})(ShaderLanguage || (ShaderLanguage = {}));\nvar regexSE = /defined\\s*?\\((.+?)\\)/g;\nvar regexSERevert = /defined\\s*?\\[(.+?)\\]/g;\nvar regexShaderInclude = /#include\\s?<(.+)>(\\((.*)\\))*(\\[(.*)\\])*/g;\nvar ShaderProcessor = function() {\n  function ShaderProcessor2() {\n  }\n  ShaderProcessor2.Initialize = function(options) {\n    if (options.processor && options.processor.initializeShaders) {\n      options.processor.initializeShaders(options.processingContext);\n    }\n  };\n  ShaderProcessor2.Process = function(sourceCode, options, callback, engine) {\n    var _this = this;\n    var _a;\n    if ((_a = options.processor) === null || _a === void 0 ? void 0 : _a.preProcessShaderCode) {\n      sourceCode = options.processor.preProcessShaderCode(sourceCode, options.isFragment);\n    }\n    this._ProcessIncludes(sourceCode, options, function(codeWithIncludes) {\n      if (options.processCodeAfterIncludes) {\n        codeWithIncludes = options.processCodeAfterIncludes(options.isFragment ? \"fragment\" : \"vertex\", codeWithIncludes);\n      }\n      var migratedCode = _this._ProcessShaderConversion(codeWithIncludes, options, engine);\n      callback(migratedCode);\n    });\n  };\n  ShaderProcessor2.PreProcess = function(sourceCode, options, callback, engine) {\n    var _this = this;\n    var _a;\n    if ((_a = options.processor) === null || _a === void 0 ? void 0 : _a.preProcessShaderCode) {\n      sourceCode = options.processor.preProcessShaderCode(sourceCode, options.isFragment);\n    }\n    this._ProcessIncludes(sourceCode, options, function(codeWithIncludes) {\n      if (options.processCodeAfterIncludes) {\n        codeWithIncludes = options.processCodeAfterIncludes(options.isFragment ? \"fragment\" : \"vertex\", codeWithIncludes);\n      }\n      var migratedCode = _this._ApplyPreProcessing(codeWithIncludes, options, engine);\n      callback(migratedCode);\n    });\n  };\n  ShaderProcessor2.Finalize = function(vertexCode, fragmentCode, options) {\n    if (!options.processor || !options.processor.finalizeShaders) {\n      return { vertexCode, fragmentCode };\n    }\n    return options.processor.finalizeShaders(vertexCode, fragmentCode, options.processingContext);\n  };\n  ShaderProcessor2._ProcessPrecision = function(source, options) {\n    var _a;\n    if ((_a = options.processor) === null || _a === void 0 ? void 0 : _a.noPrecision) {\n      return source;\n    }\n    var shouldUseHighPrecisionShader = options.shouldUseHighPrecisionShader;\n    if (source.indexOf(\"precision highp float\") === -1) {\n      if (!shouldUseHighPrecisionShader) {\n        source = \"precision mediump float;\\n\" + source;\n      } else {\n        source = \"precision highp float;\\n\" + source;\n      }\n    } else {\n      if (!shouldUseHighPrecisionShader) {\n        source = source.replace(\"precision highp float\", \"precision mediump float\");\n      }\n    }\n    return source;\n  };\n  ShaderProcessor2._ExtractOperation = function(expression) {\n    var regex = /defined\\((.+)\\)/;\n    var match = regex.exec(expression);\n    if (match && match.length) {\n      return new ShaderDefineIsDefinedOperator(match[1].trim(), expression[0] === \"!\");\n    }\n    var operators = [\"==\", \">=\", \"<=\", \"<\", \">\"];\n    var operator = \"\";\n    var indexOperator = 0;\n    for (var _i = 0, operators_1 = operators; _i < operators_1.length; _i++) {\n      operator = operators_1[_i];\n      indexOperator = expression.indexOf(operator);\n      if (indexOperator > -1) {\n        break;\n      }\n    }\n    if (indexOperator === -1) {\n      return new ShaderDefineIsDefinedOperator(expression);\n    }\n    var define = expression.substring(0, indexOperator).trim();\n    var value = expression.substring(indexOperator + operator.length).trim();\n    return new ShaderDefineArithmeticOperator(define, operator, value);\n  };\n  ShaderProcessor2._BuildSubExpression = function(expression) {\n    expression = expression.replace(regexSE, \"defined[$1]\");\n    var postfix = ShaderDefineExpression.infixToPostfix(expression);\n    var stack = [];\n    for (var _i = 0, postfix_1 = postfix; _i < postfix_1.length; _i++) {\n      var c = postfix_1[_i];\n      if (c !== \"||\" && c !== \"&&\") {\n        stack.push(c);\n      } else if (stack.length >= 2) {\n        var v1 = stack[stack.length - 1], v2 = stack[stack.length - 2];\n        stack.length -= 2;\n        var operator = c == \"&&\" ? new ShaderDefineAndOperator() : new ShaderDefineOrOperator();\n        if (typeof v1 === \"string\") {\n          v1 = v1.replace(regexSERevert, \"defined($1)\");\n        }\n        if (typeof v2 === \"string\") {\n          v2 = v2.replace(regexSERevert, \"defined($1)\");\n        }\n        operator.leftOperand = typeof v2 === \"string\" ? this._ExtractOperation(v2) : v2;\n        operator.rightOperand = typeof v1 === \"string\" ? this._ExtractOperation(v1) : v1;\n        stack.push(operator);\n      }\n    }\n    var result = stack[stack.length - 1];\n    if (typeof result === \"string\") {\n      result = result.replace(regexSERevert, \"defined($1)\");\n    }\n    return typeof result === \"string\" ? this._ExtractOperation(result) : result;\n  };\n  ShaderProcessor2._BuildExpression = function(line, start) {\n    var node = new ShaderCodeTestNode();\n    var command = line.substring(0, start);\n    var expression = line.substring(start);\n    expression = expression.substring(0, (expression.indexOf(\"//\") + 1 || expression.length + 1) - 1).trim();\n    if (command === \"#ifdef\") {\n      node.testExpression = new ShaderDefineIsDefinedOperator(expression);\n    } else if (command === \"#ifndef\") {\n      node.testExpression = new ShaderDefineIsDefinedOperator(expression, true);\n    } else {\n      node.testExpression = this._BuildSubExpression(expression);\n    }\n    return node;\n  };\n  ShaderProcessor2._MoveCursorWithinIf = function(cursor, rootNode, ifNode) {\n    var line = cursor.currentLine;\n    while (this._MoveCursor(cursor, ifNode)) {\n      line = cursor.currentLine;\n      var first5 = line.substring(0, 5).toLowerCase();\n      if (first5 === \"#else\") {\n        var elseNode = new ShaderCodeNode();\n        rootNode.children.push(elseNode);\n        this._MoveCursor(cursor, elseNode);\n        return;\n      } else if (first5 === \"#elif\") {\n        var elifNode = this._BuildExpression(line, 5);\n        rootNode.children.push(elifNode);\n        ifNode = elifNode;\n      }\n    }\n  };\n  ShaderProcessor2._MoveCursor = function(cursor, rootNode) {\n    while (cursor.canRead) {\n      cursor.lineIndex++;\n      var line = cursor.currentLine;\n      var keywords = /(#ifdef)|(#else)|(#elif)|(#endif)|(#ifndef)|(#if)/;\n      var matches = keywords.exec(line);\n      if (matches && matches.length) {\n        var keyword = matches[0];\n        switch (keyword) {\n          case \"#ifdef\": {\n            var newRootNode = new ShaderCodeConditionNode();\n            rootNode.children.push(newRootNode);\n            var ifNode = this._BuildExpression(line, 6);\n            newRootNode.children.push(ifNode);\n            this._MoveCursorWithinIf(cursor, newRootNode, ifNode);\n            break;\n          }\n          case \"#else\":\n          case \"#elif\":\n            return true;\n          case \"#endif\":\n            return false;\n          case \"#ifndef\": {\n            var newRootNode = new ShaderCodeConditionNode();\n            rootNode.children.push(newRootNode);\n            var ifNode = this._BuildExpression(line, 7);\n            newRootNode.children.push(ifNode);\n            this._MoveCursorWithinIf(cursor, newRootNode, ifNode);\n            break;\n          }\n          case \"#if\": {\n            var newRootNode = new ShaderCodeConditionNode();\n            var ifNode = this._BuildExpression(line, 3);\n            rootNode.children.push(newRootNode);\n            newRootNode.children.push(ifNode);\n            this._MoveCursorWithinIf(cursor, newRootNode, ifNode);\n            break;\n          }\n        }\n      } else {\n        var newNode = new ShaderCodeNode();\n        newNode.line = line;\n        rootNode.children.push(newNode);\n        if (line[0] === \"#\" && line[1] === \"d\") {\n          var split = line.replace(\";\", \"\").split(\" \");\n          newNode.additionalDefineKey = split[1];\n          if (split.length === 3) {\n            newNode.additionalDefineValue = split[2];\n          }\n        }\n      }\n    }\n    return false;\n  };\n  ShaderProcessor2._EvaluatePreProcessors = function(sourceCode, preprocessors, options) {\n    var rootNode = new ShaderCodeNode();\n    var cursor = new ShaderCodeCursor();\n    cursor.lineIndex = -1;\n    cursor.lines = sourceCode.split(\"\\n\");\n    this._MoveCursor(cursor, rootNode);\n    return rootNode.process(preprocessors, options);\n  };\n  ShaderProcessor2._PreparePreProcessors = function(options, engine) {\n    var _a;\n    var defines = options.defines;\n    var preprocessors = {};\n    for (var _i = 0, defines_1 = defines; _i < defines_1.length; _i++) {\n      var define = defines_1[_i];\n      var keyValue = define.replace(\"#define\", \"\").replace(\";\", \"\").trim();\n      var split = keyValue.split(\" \");\n      preprocessors[split[0]] = split.length > 1 ? split[1] : \"\";\n    }\n    if (((_a = options.processor) === null || _a === void 0 ? void 0 : _a.shaderLanguage) === ShaderLanguage.GLSL) {\n      preprocessors[\"GL_ES\"] = \"true\";\n    }\n    preprocessors[\"__VERSION__\"] = options.version;\n    preprocessors[options.platformName] = \"true\";\n    engine._getGlobalDefines(preprocessors);\n    return preprocessors;\n  };\n  ShaderProcessor2._ProcessShaderConversion = function(sourceCode, options, engine) {\n    var preparedSourceCode = this._ProcessPrecision(sourceCode, options);\n    if (!options.processor) {\n      return preparedSourceCode;\n    }\n    if (options.processor.shaderLanguage === ShaderLanguage.GLSL && preparedSourceCode.indexOf(\"#version 3\") !== -1) {\n      return preparedSourceCode.replace(\"#version 300 es\", \"\");\n    }\n    var defines = options.defines;\n    var preprocessors = this._PreparePreProcessors(options, engine);\n    if (options.processor.preProcessor) {\n      preparedSourceCode = options.processor.preProcessor(preparedSourceCode, defines, options.isFragment, options.processingContext);\n    }\n    preparedSourceCode = this._EvaluatePreProcessors(preparedSourceCode, preprocessors, options);\n    if (options.processor.postProcessor) {\n      preparedSourceCode = options.processor.postProcessor(preparedSourceCode, defines, options.isFragment, options.processingContext, engine);\n    }\n    if (engine._features.needShaderCodeInlining) {\n      preparedSourceCode = engine.inlineShaderCode(preparedSourceCode);\n    }\n    return preparedSourceCode;\n  };\n  ShaderProcessor2._ApplyPreProcessing = function(sourceCode, options, engine) {\n    var _a, _b;\n    var preparedSourceCode = sourceCode;\n    var defines = options.defines;\n    var preprocessors = this._PreparePreProcessors(options, engine);\n    if ((_a = options.processor) === null || _a === void 0 ? void 0 : _a.preProcessor) {\n      preparedSourceCode = options.processor.preProcessor(preparedSourceCode, defines, options.isFragment, options.processingContext);\n    }\n    preparedSourceCode = this._EvaluatePreProcessors(preparedSourceCode, preprocessors, options);\n    if ((_b = options.processor) === null || _b === void 0 ? void 0 : _b.postProcessor) {\n      preparedSourceCode = options.processor.postProcessor(preparedSourceCode, defines, options.isFragment, options.processingContext, engine);\n    }\n    if (engine._features.needShaderCodeInlining) {\n      preparedSourceCode = engine.inlineShaderCode(preparedSourceCode);\n    }\n    return preparedSourceCode;\n  };\n  ShaderProcessor2._ProcessIncludes = function(sourceCode, options, callback) {\n    var _this = this;\n    var match = regexShaderInclude.exec(sourceCode);\n    var returnValue = new String(sourceCode);\n    var keepProcessing = false;\n    var _loop_1 = function() {\n      var includeFile = match[1];\n      if (includeFile.indexOf(\"__decl__\") !== -1) {\n        includeFile = includeFile.replace(/__decl__/, \"\");\n        if (options.supportsUniformBuffers) {\n          includeFile = includeFile.replace(/Vertex/, \"Ubo\");\n          includeFile = includeFile.replace(/Fragment/, \"Ubo\");\n        }\n        includeFile = includeFile + \"Declaration\";\n      }\n      if (options.includesShadersStore[includeFile]) {\n        var includeContent = options.includesShadersStore[includeFile];\n        if (match[2]) {\n          var splits = match[3].split(\",\");\n          for (var index = 0; index < splits.length; index += 2) {\n            var source = new RegExp(splits[index], \"g\");\n            var dest = splits[index + 1];\n            includeContent = includeContent.replace(source, dest);\n          }\n        }\n        if (match[4]) {\n          var indexString = match[5];\n          if (indexString.indexOf(\"..\") !== -1) {\n            var indexSplits = indexString.split(\"..\");\n            var minIndex = parseInt(indexSplits[0]);\n            var maxIndex = parseInt(indexSplits[1]);\n            var sourceIncludeContent = includeContent.slice(0);\n            includeContent = \"\";\n            if (isNaN(maxIndex)) {\n              maxIndex = options.indexParameters[indexSplits[1]];\n            }\n            for (var i = minIndex; i < maxIndex; i++) {\n              if (!options.supportsUniformBuffers) {\n                sourceIncludeContent = sourceIncludeContent.replace(/light\\{X\\}.(\\w*)/g, function(str, p1) {\n                  return p1 + \"{X}\";\n                });\n              }\n              includeContent += sourceIncludeContent.replace(/\\{X\\}/g, i.toString()) + \"\\n\";\n            }\n          } else {\n            if (!options.supportsUniformBuffers) {\n              includeContent = includeContent.replace(/light\\{X\\}.(\\w*)/g, function(str, p1) {\n                return p1 + \"{X}\";\n              });\n            }\n            includeContent = includeContent.replace(/\\{X\\}/g, indexString);\n          }\n        }\n        returnValue = returnValue.replace(match[0], includeContent);\n        keepProcessing = keepProcessing || includeContent.indexOf(\"#include<\") >= 0 || includeContent.indexOf(\"#include <\") >= 0;\n      } else {\n        var includeShaderUrl = options.shadersRepository + \"ShadersInclude/\" + includeFile + \".fx\";\n        ShaderProcessor2._FileToolsLoadFile(includeShaderUrl, function(fileContent) {\n          options.includesShadersStore[includeFile] = fileContent;\n          _this._ProcessIncludes(returnValue, options, callback);\n        });\n        return { value: void 0 };\n      }\n      match = regexShaderInclude.exec(sourceCode);\n    };\n    while (match != null) {\n      var state_1 = _loop_1();\n      if (typeof state_1 === \"object\")\n        return state_1.value;\n    }\n    if (keepProcessing) {\n      this._ProcessIncludes(returnValue.toString(), options, callback);\n    } else {\n      callback(returnValue);\n    }\n  };\n  ShaderProcessor2._FileToolsLoadFile = function(url, onSuccess, onProgress, offlineProvider, useArrayBuffer, onError) {\n    throw _WarnImport(\"FileTools\");\n  };\n  return ShaderProcessor2;\n}();\nvar ShaderStore = function() {\n  function ShaderStore2() {\n  }\n  ShaderStore2.GetShadersRepository = function(shaderLanguage) {\n    if (shaderLanguage === void 0) {\n      shaderLanguage = ShaderLanguage.GLSL;\n    }\n    return shaderLanguage === ShaderLanguage.GLSL ? ShaderStore2.ShadersRepository : ShaderStore2.ShadersRepositoryWGSL;\n  };\n  ShaderStore2.GetShadersStore = function(shaderLanguage) {\n    if (shaderLanguage === void 0) {\n      shaderLanguage = ShaderLanguage.GLSL;\n    }\n    return shaderLanguage === ShaderLanguage.GLSL ? ShaderStore2.ShadersStore : ShaderStore2.ShadersStoreWGSL;\n  };\n  ShaderStore2.GetIncludesShadersStore = function(shaderLanguage) {\n    if (shaderLanguage === void 0) {\n      shaderLanguage = ShaderLanguage.GLSL;\n    }\n    return shaderLanguage === ShaderLanguage.GLSL ? ShaderStore2.IncludesShadersStore : ShaderStore2.IncludesShadersStoreWGSL;\n  };\n  ShaderStore2.ShadersRepository = \"src/Shaders/\";\n  ShaderStore2.ShadersStore = {};\n  ShaderStore2.IncludesShadersStore = {};\n  ShaderStore2.ShadersRepositoryWGSL = \"src/ShadersWGSL/\";\n  ShaderStore2.ShadersStoreWGSL = {};\n  ShaderStore2.IncludesShadersStoreWGSL = {};\n  return ShaderStore2;\n}();\nvar Effect = function() {\n  function Effect2(baseName, attributesNamesOrOptions, uniformsNamesOrEngine, samplers, engine, defines, fallbacks, onCompiled, onError, indexParameters, key, shaderLanguage) {\n    if (samplers === void 0) {\n      samplers = null;\n    }\n    if (defines === void 0) {\n      defines = null;\n    }\n    if (fallbacks === void 0) {\n      fallbacks = null;\n    }\n    if (onCompiled === void 0) {\n      onCompiled = null;\n    }\n    if (onError === void 0) {\n      onError = null;\n    }\n    if (key === void 0) {\n      key = \"\";\n    }\n    if (shaderLanguage === void 0) {\n      shaderLanguage = ShaderLanguage.GLSL;\n    }\n    var _this = this;\n    var _a, _b, _c;\n    this.name = null;\n    this.defines = \"\";\n    this.onCompiled = null;\n    this.onError = null;\n    this.onBind = null;\n    this.uniqueId = 0;\n    this.onCompileObservable = new Observable();\n    this.onErrorObservable = new Observable();\n    this._onBindObservable = null;\n    this._wasPreviouslyReady = false;\n    this._isDisposed = false;\n    this._bonesComputationForcedToCPU = false;\n    this._uniformBuffersNames = {};\n    this._multiTarget = false;\n    this._samplers = {};\n    this._isReady = false;\n    this._compilationError = \"\";\n    this._allFallbacksProcessed = false;\n    this._uniforms = {};\n    this._key = \"\";\n    this._fallbacks = null;\n    this._vertexSourceCodeOverride = \"\";\n    this._fragmentSourceCodeOverride = \"\";\n    this._transformFeedbackVaryings = null;\n    this._pipelineContext = null;\n    this._vertexSourceCode = \"\";\n    this._fragmentSourceCode = \"\";\n    this._rawVertexSourceCode = \"\";\n    this._rawFragmentSourceCode = \"\";\n    this.name = baseName;\n    this._key = key;\n    var processCodeAfterIncludes = void 0;\n    var processFinalCode = null;\n    if (attributesNamesOrOptions.attributes) {\n      var options = attributesNamesOrOptions;\n      this._engine = uniformsNamesOrEngine;\n      this._attributesNames = options.attributes;\n      this._uniformsNames = options.uniformsNames.concat(options.samplers);\n      this._samplerList = options.samplers.slice();\n      this.defines = options.defines;\n      this.onError = options.onError;\n      this.onCompiled = options.onCompiled;\n      this._fallbacks = options.fallbacks;\n      this._indexParameters = options.indexParameters;\n      this._transformFeedbackVaryings = options.transformFeedbackVaryings || null;\n      this._multiTarget = !!options.multiTarget;\n      this._shaderLanguage = (_a = options.shaderLanguage) !== null && _a !== void 0 ? _a : ShaderLanguage.GLSL;\n      if (options.uniformBuffersNames) {\n        this._uniformBuffersNamesList = options.uniformBuffersNames.slice();\n        for (var i = 0; i < options.uniformBuffersNames.length; i++) {\n          this._uniformBuffersNames[options.uniformBuffersNames[i]] = i;\n        }\n      }\n      processFinalCode = (_b = options.processFinalCode) !== null && _b !== void 0 ? _b : null;\n      processCodeAfterIncludes = (_c = options.processCodeAfterIncludes) !== null && _c !== void 0 ? _c : void 0;\n    } else {\n      this._engine = engine;\n      this.defines = defines == null ? \"\" : defines;\n      this._uniformsNames = uniformsNamesOrEngine.concat(samplers);\n      this._samplerList = samplers ? samplers.slice() : [];\n      this._attributesNames = attributesNamesOrOptions;\n      this._uniformBuffersNamesList = [];\n      this._shaderLanguage = shaderLanguage;\n      this.onError = onError;\n      this.onCompiled = onCompiled;\n      this._indexParameters = indexParameters;\n      this._fallbacks = fallbacks;\n    }\n    this._attributeLocationByName = {};\n    this.uniqueId = Effect2._UniqueIdSeed++;\n    var vertexSource;\n    var fragmentSource;\n    var hostDocument = IsWindowObjectExist() ? this._engine.getHostDocument() : null;\n    if (baseName.vertexSource) {\n      vertexSource = \"source:\" + baseName.vertexSource;\n    } else if (baseName.vertexElement) {\n      vertexSource = hostDocument ? hostDocument.getElementById(baseName.vertexElement) : null;\n      if (!vertexSource) {\n        vertexSource = baseName.vertexElement;\n      }\n    } else {\n      vertexSource = baseName.vertex || baseName;\n    }\n    if (baseName.fragmentSource) {\n      fragmentSource = \"source:\" + baseName.fragmentSource;\n    } else if (baseName.fragmentElement) {\n      fragmentSource = hostDocument ? hostDocument.getElementById(baseName.fragmentElement) : null;\n      if (!fragmentSource) {\n        fragmentSource = baseName.fragmentElement;\n      }\n    } else {\n      fragmentSource = baseName.fragment || baseName;\n    }\n    this._processingContext = this._engine._getShaderProcessingContext(this._shaderLanguage);\n    var processorOptions = {\n      defines: this.defines.split(\"\\n\"),\n      indexParameters: this._indexParameters,\n      isFragment: false,\n      shouldUseHighPrecisionShader: this._engine._shouldUseHighPrecisionShader,\n      processor: this._engine._getShaderProcessor(this._shaderLanguage),\n      supportsUniformBuffers: this._engine.supportsUniformBuffers,\n      shadersRepository: ShaderStore.GetShadersRepository(this._shaderLanguage),\n      includesShadersStore: ShaderStore.GetIncludesShadersStore(this._shaderLanguage),\n      version: (this._engine.version * 100).toString(),\n      platformName: this._engine.shaderPlatformName,\n      processingContext: this._processingContext,\n      isNDCHalfZRange: this._engine.isNDCHalfZRange,\n      useReverseDepthBuffer: this._engine.useReverseDepthBuffer,\n      processCodeAfterIncludes\n    };\n    var shaderCodes = [void 0, void 0];\n    var shadersLoaded = function() {\n      if (shaderCodes[0] && shaderCodes[1]) {\n        processorOptions.isFragment = true;\n        var migratedVertexCode_1 = shaderCodes[0], fragmentCode = shaderCodes[1];\n        ShaderProcessor.Process(fragmentCode, processorOptions, function(migratedFragmentCode) {\n          if (processFinalCode) {\n            migratedFragmentCode = processFinalCode(\"fragment\", migratedFragmentCode);\n          }\n          var finalShaders = ShaderProcessor.Finalize(migratedVertexCode_1, migratedFragmentCode, processorOptions);\n          _this._useFinalCode(finalShaders.vertexCode, finalShaders.fragmentCode, baseName);\n        }, _this._engine);\n      }\n    };\n    this._loadShader(vertexSource, \"Vertex\", \"\", function(vertexCode) {\n      ShaderProcessor.Initialize(processorOptions);\n      ShaderProcessor.Process(vertexCode, processorOptions, function(migratedVertexCode) {\n        _this._rawVertexSourceCode = vertexCode;\n        if (processFinalCode) {\n          migratedVertexCode = processFinalCode(\"vertex\", migratedVertexCode);\n        }\n        shaderCodes[0] = migratedVertexCode;\n        shadersLoaded();\n      }, _this._engine);\n    });\n    this._loadShader(fragmentSource, \"Fragment\", \"Pixel\", function(fragmentCode) {\n      _this._rawFragmentSourceCode = fragmentCode;\n      shaderCodes[1] = fragmentCode;\n      shadersLoaded();\n    });\n  }\n  Object.defineProperty(Effect2, \"ShadersRepository\", {\n    get: function() {\n      return ShaderStore.ShadersRepository;\n    },\n    set: function(repo) {\n      ShaderStore.ShadersRepository = repo;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Effect2.prototype, \"onBindObservable\", {\n    get: function() {\n      if (!this._onBindObservable) {\n        this._onBindObservable = new Observable();\n      }\n      return this._onBindObservable;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Effect2.prototype._useFinalCode = function(migratedVertexCode, migratedFragmentCode, baseName) {\n    if (baseName) {\n      var vertex = baseName.vertexElement || baseName.vertex || baseName.spectorName || baseName;\n      var fragment = baseName.fragmentElement || baseName.fragment || baseName.spectorName || baseName;\n      this._vertexSourceCode = (this._shaderLanguage === ShaderLanguage.WGSL ? \"//\" : \"\") + \"#define SHADER_NAME vertex:\" + vertex + \"\\n\" + migratedVertexCode;\n      this._fragmentSourceCode = (this._shaderLanguage === ShaderLanguage.WGSL ? \"//\" : \"\") + \"#define SHADER_NAME fragment:\" + fragment + \"\\n\" + migratedFragmentCode;\n    } else {\n      this._vertexSourceCode = migratedVertexCode;\n      this._fragmentSourceCode = migratedFragmentCode;\n    }\n    this._prepareEffect();\n  };\n  Object.defineProperty(Effect2.prototype, \"key\", {\n    get: function() {\n      return this._key;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Effect2.prototype.isReady = function() {\n    try {\n      return this._isReadyInternal();\n    } catch (_a) {\n      return false;\n    }\n  };\n  Effect2.prototype._isReadyInternal = function() {\n    if (this._isReady) {\n      return true;\n    }\n    if (this._pipelineContext) {\n      return this._pipelineContext.isReady;\n    }\n    return false;\n  };\n  Effect2.prototype.getEngine = function() {\n    return this._engine;\n  };\n  Effect2.prototype.getPipelineContext = function() {\n    return this._pipelineContext;\n  };\n  Effect2.prototype.getAttributesNames = function() {\n    return this._attributesNames;\n  };\n  Effect2.prototype.getAttributeLocation = function(index) {\n    return this._attributes[index];\n  };\n  Effect2.prototype.getAttributeLocationByName = function(name2) {\n    return this._attributeLocationByName[name2];\n  };\n  Effect2.prototype.getAttributesCount = function() {\n    return this._attributes.length;\n  };\n  Effect2.prototype.getUniformIndex = function(uniformName) {\n    return this._uniformsNames.indexOf(uniformName);\n  };\n  Effect2.prototype.getUniform = function(uniformName) {\n    return this._uniforms[uniformName];\n  };\n  Effect2.prototype.getSamplers = function() {\n    return this._samplerList;\n  };\n  Effect2.prototype.getUniformNames = function() {\n    return this._uniformsNames;\n  };\n  Effect2.prototype.getUniformBuffersNames = function() {\n    return this._uniformBuffersNamesList;\n  };\n  Effect2.prototype.getIndexParameters = function() {\n    return this._indexParameters;\n  };\n  Effect2.prototype.getCompilationError = function() {\n    return this._compilationError;\n  };\n  Effect2.prototype.allFallbacksProcessed = function() {\n    return this._allFallbacksProcessed;\n  };\n  Effect2.prototype.executeWhenCompiled = function(func) {\n    var _this = this;\n    if (this.isReady()) {\n      func(this);\n      return;\n    }\n    this.onCompileObservable.add(function(effect) {\n      func(effect);\n    });\n    if (!this._pipelineContext || this._pipelineContext.isAsync) {\n      setTimeout(function() {\n        _this._checkIsReady(null);\n      }, 16);\n    }\n  };\n  Effect2.prototype._checkIsReady = function(previousPipelineContext) {\n    var _this = this;\n    try {\n      if (this._isReadyInternal()) {\n        return;\n      }\n    } catch (e) {\n      this._processCompilationErrors(e, previousPipelineContext);\n      return;\n    }\n    if (this._isDisposed) {\n      return;\n    }\n    setTimeout(function() {\n      _this._checkIsReady(previousPipelineContext);\n    }, 16);\n  };\n  Effect2.prototype._loadShader = function(shader2, key, optionalKey, callback) {\n    if (typeof HTMLElement !== \"undefined\") {\n      if (shader2 instanceof HTMLElement) {\n        var shaderCode = GetDOMTextContent(shader2);\n        callback(shaderCode);\n        return;\n      }\n    }\n    if (shader2.substr(0, 7) === \"source:\") {\n      callback(shader2.substr(7));\n      return;\n    }\n    if (shader2.substr(0, 7) === \"base64:\") {\n      var shaderBinary = window.atob(shader2.substr(7));\n      callback(shaderBinary);\n      return;\n    }\n    var shaderStore = ShaderStore.GetShadersStore(this._shaderLanguage);\n    if (shaderStore[shader2 + key + \"Shader\"]) {\n      callback(shaderStore[shader2 + key + \"Shader\"]);\n      return;\n    }\n    if (optionalKey && shaderStore[shader2 + optionalKey + \"Shader\"]) {\n      callback(shaderStore[shader2 + optionalKey + \"Shader\"]);\n      return;\n    }\n    var shaderUrl;\n    if (shader2[0] === \".\" || shader2[0] === \"/\" || shader2.indexOf(\"http\") > -1) {\n      shaderUrl = shader2;\n    } else {\n      shaderUrl = ShaderStore.GetShadersRepository(this._shaderLanguage) + shader2;\n    }\n    this._engine._loadFile(shaderUrl + \".\" + key.toLowerCase() + \".fx\", callback);\n  };\n  Object.defineProperty(Effect2.prototype, \"vertexSourceCode\", {\n    get: function() {\n      var _a, _b;\n      return this._vertexSourceCodeOverride && this._fragmentSourceCodeOverride ? this._vertexSourceCodeOverride : (_b = (_a = this._pipelineContext) === null || _a === void 0 ? void 0 : _a._getVertexShaderCode()) !== null && _b !== void 0 ? _b : this._vertexSourceCode;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Effect2.prototype, \"fragmentSourceCode\", {\n    get: function() {\n      var _a, _b;\n      return this._vertexSourceCodeOverride && this._fragmentSourceCodeOverride ? this._fragmentSourceCodeOverride : (_b = (_a = this._pipelineContext) === null || _a === void 0 ? void 0 : _a._getFragmentShaderCode()) !== null && _b !== void 0 ? _b : this._fragmentSourceCode;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Effect2.prototype, \"rawVertexSourceCode\", {\n    get: function() {\n      return this._rawVertexSourceCode;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Effect2.prototype, \"rawFragmentSourceCode\", {\n    get: function() {\n      return this._rawFragmentSourceCode;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Effect2.prototype._rebuildProgram = function(vertexSourceCode, fragmentSourceCode, onCompiled, onError) {\n    var _this = this;\n    this._isReady = false;\n    this._vertexSourceCodeOverride = vertexSourceCode;\n    this._fragmentSourceCodeOverride = fragmentSourceCode;\n    this.onError = function(effect, error) {\n      if (onError) {\n        onError(error);\n      }\n    };\n    this.onCompiled = function() {\n      var scenes = _this.getEngine().scenes;\n      if (scenes) {\n        for (var i = 0; i < scenes.length; i++) {\n          scenes[i].markAllMaterialsAsDirty(63);\n        }\n      }\n      _this._pipelineContext._handlesSpectorRebuildCallback(onCompiled);\n    };\n    this._fallbacks = null;\n    this._prepareEffect();\n  };\n  Effect2.prototype._prepareEffect = function() {\n    var _this = this;\n    var attributesNames = this._attributesNames;\n    var defines = this.defines;\n    var previousPipelineContext = this._pipelineContext;\n    this._isReady = false;\n    try {\n      var engine_1 = this._engine;\n      this._pipelineContext = engine_1.createPipelineContext(this._processingContext);\n      this._pipelineContext._name = this._key;\n      var rebuildRebind = this._rebuildProgram.bind(this);\n      if (this._vertexSourceCodeOverride && this._fragmentSourceCodeOverride) {\n        engine_1._preparePipelineContext(this._pipelineContext, this._vertexSourceCodeOverride, this._fragmentSourceCodeOverride, true, this._rawVertexSourceCode, this._rawFragmentSourceCode, rebuildRebind, null, this._transformFeedbackVaryings, this._key);\n      } else {\n        engine_1._preparePipelineContext(this._pipelineContext, this._vertexSourceCode, this._fragmentSourceCode, false, this._rawVertexSourceCode, this._rawFragmentSourceCode, rebuildRebind, defines, this._transformFeedbackVaryings, this._key);\n      }\n      engine_1._executeWhenRenderingStateIsCompiled(this._pipelineContext, function() {\n        _this._attributes = [];\n        _this._pipelineContext._fillEffectInformation(_this, _this._uniformBuffersNames, _this._uniformsNames, _this._uniforms, _this._samplerList, _this._samplers, attributesNames, _this._attributes);\n        if (attributesNames) {\n          for (var i = 0; i < attributesNames.length; i++) {\n            var name_1 = attributesNames[i];\n            _this._attributeLocationByName[name_1] = _this._attributes[i];\n          }\n        }\n        engine_1.bindSamplers(_this);\n        _this._compilationError = \"\";\n        _this._isReady = true;\n        if (_this.onCompiled) {\n          _this.onCompiled(_this);\n        }\n        _this.onCompileObservable.notifyObservers(_this);\n        _this.onCompileObservable.clear();\n        if (_this._fallbacks) {\n          _this._fallbacks.unBindMesh();\n        }\n        if (previousPipelineContext) {\n          _this.getEngine()._deletePipelineContext(previousPipelineContext);\n        }\n      });\n      if (this._pipelineContext.isAsync) {\n        this._checkIsReady(previousPipelineContext);\n      }\n    } catch (e) {\n      this._processCompilationErrors(e, previousPipelineContext);\n    }\n  };\n  Effect2.prototype._getShaderCodeAndErrorLine = function(code, error, isFragment) {\n    var regexp = isFragment ? /FRAGMENT SHADER ERROR: 0:(\\d+?):/ : /VERTEX SHADER ERROR: 0:(\\d+?):/;\n    var errorLine = null;\n    if (error && code) {\n      var res = error.match(regexp);\n      if (res && res.length === 2) {\n        var lineNumber = parseInt(res[1]);\n        var lines = code.split(\"\\n\", -1);\n        if (lines.length >= lineNumber) {\n          errorLine = \"Offending line [\".concat(lineNumber, \"] in \").concat(isFragment ? \"fragment\" : \"vertex\", \" code: \").concat(lines[lineNumber - 1]);\n        }\n      }\n    }\n    return [code, errorLine];\n  };\n  Effect2.prototype._processCompilationErrors = function(e, previousPipelineContext) {\n    var _a, _b;\n    var _c, _d, _e;\n    if (previousPipelineContext === void 0) {\n      previousPipelineContext = null;\n    }\n    this._compilationError = e.message;\n    var attributesNames = this._attributesNames;\n    var fallbacks = this._fallbacks;\n    Logger.Error(\"Unable to compile effect:\");\n    Logger.Error(\"Uniforms: \" + this._uniformsNames.map(function(uniform) {\n      return \" \" + uniform;\n    }));\n    Logger.Error(\"Attributes: \" + attributesNames.map(function(attribute) {\n      return \" \" + attribute;\n    }));\n    Logger.Error(\"Defines:\\r\\n\" + this.defines);\n    if (Effect2.LogShaderCodeOnCompilationError) {\n      var lineErrorVertex = null, lineErrorFragment = null, code = null;\n      if ((_c = this._pipelineContext) === null || _c === void 0 ? void 0 : _c._getVertexShaderCode()) {\n        _a = this._getShaderCodeAndErrorLine(this._pipelineContext._getVertexShaderCode(), this._compilationError, false), code = _a[0], lineErrorVertex = _a[1];\n        if (code) {\n          Logger.Error(\"Vertex code:\");\n          Logger.Error(code);\n        }\n      }\n      if ((_d = this._pipelineContext) === null || _d === void 0 ? void 0 : _d._getFragmentShaderCode()) {\n        _b = this._getShaderCodeAndErrorLine((_e = this._pipelineContext) === null || _e === void 0 ? void 0 : _e._getFragmentShaderCode(), this._compilationError, true), code = _b[0], lineErrorFragment = _b[1];\n        if (code) {\n          Logger.Error(\"Fragment code:\");\n          Logger.Error(code);\n        }\n      }\n      if (lineErrorVertex) {\n        Logger.Error(lineErrorVertex);\n      }\n      if (lineErrorFragment) {\n        Logger.Error(lineErrorFragment);\n      }\n    }\n    Logger.Error(\"Error: \" + this._compilationError);\n    if (previousPipelineContext) {\n      this._pipelineContext = previousPipelineContext;\n      this._isReady = true;\n      if (this.onError) {\n        this.onError(this, this._compilationError);\n      }\n      this.onErrorObservable.notifyObservers(this);\n    }\n    if (fallbacks) {\n      this._pipelineContext = null;\n      if (fallbacks.hasMoreFallbacks) {\n        this._allFallbacksProcessed = false;\n        Logger.Error(\"Trying next fallback.\");\n        this.defines = fallbacks.reduce(this.defines, this);\n        this._prepareEffect();\n      } else {\n        this._allFallbacksProcessed = true;\n        if (this.onError) {\n          this.onError(this, this._compilationError);\n        }\n        this.onErrorObservable.notifyObservers(this);\n        this.onErrorObservable.clear();\n        if (this._fallbacks) {\n          this._fallbacks.unBindMesh();\n        }\n      }\n    } else {\n      this._allFallbacksProcessed = true;\n    }\n  };\n  Object.defineProperty(Effect2.prototype, \"isSupported\", {\n    get: function() {\n      return this._compilationError === \"\";\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Effect2.prototype._bindTexture = function(channel, texture) {\n    this._engine._bindTexture(this._samplers[channel], texture, channel);\n  };\n  Effect2.prototype.setTexture = function(channel, texture) {\n    this._engine.setTexture(this._samplers[channel], this._uniforms[channel], texture, channel);\n  };\n  Effect2.prototype.setDepthStencilTexture = function(channel, texture) {\n    this._engine.setDepthStencilTexture(this._samplers[channel], this._uniforms[channel], texture, channel);\n  };\n  Effect2.prototype.setTextureArray = function(channel, textures) {\n    var exName = channel + \"Ex\";\n    if (this._samplerList.indexOf(exName + \"0\") === -1) {\n      var initialPos = this._samplerList.indexOf(channel);\n      for (var index = 1; index < textures.length; index++) {\n        var currentExName = exName + (index - 1).toString();\n        this._samplerList.splice(initialPos + index, 0, currentExName);\n      }\n      var channelIndex = 0;\n      for (var _i = 0, _a = this._samplerList; _i < _a.length; _i++) {\n        var key = _a[_i];\n        this._samplers[key] = channelIndex;\n        channelIndex += 1;\n      }\n    }\n    this._engine.setTextureArray(this._samplers[channel], this._uniforms[channel], textures, channel);\n  };\n  Effect2.prototype.setTextureFromPostProcess = function(channel, postProcess) {\n    this._engine.setTextureFromPostProcess(this._samplers[channel], postProcess, channel);\n  };\n  Effect2.prototype.setTextureFromPostProcessOutput = function(channel, postProcess) {\n    this._engine.setTextureFromPostProcessOutput(this._samplers[channel], postProcess, channel);\n  };\n  Effect2.prototype.bindUniformBuffer = function(buffer, name2) {\n    var bufferName = this._uniformBuffersNames[name2];\n    if (bufferName === void 0 || Effect2._BaseCache[bufferName] === buffer && this._engine._features.useUBOBindingCache) {\n      return;\n    }\n    Effect2._BaseCache[bufferName] = buffer;\n    this._engine.bindUniformBufferBase(buffer, bufferName, name2);\n  };\n  Effect2.prototype.bindUniformBlock = function(blockName, index) {\n    this._engine.bindUniformBlock(this._pipelineContext, blockName, index);\n  };\n  Effect2.prototype.setInt = function(uniformName, value) {\n    this._pipelineContext.setInt(uniformName, value);\n    return this;\n  };\n  Effect2.prototype.setInt2 = function(uniformName, x, y) {\n    this._pipelineContext.setInt2(uniformName, x, y);\n    return this;\n  };\n  Effect2.prototype.setInt3 = function(uniformName, x, y, z) {\n    this._pipelineContext.setInt3(uniformName, x, y, z);\n    return this;\n  };\n  Effect2.prototype.setInt4 = function(uniformName, x, y, z, w) {\n    this._pipelineContext.setInt4(uniformName, x, y, z, w);\n    return this;\n  };\n  Effect2.prototype.setIntArray = function(uniformName, array) {\n    this._pipelineContext.setIntArray(uniformName, array);\n    return this;\n  };\n  Effect2.prototype.setIntArray2 = function(uniformName, array) {\n    this._pipelineContext.setIntArray2(uniformName, array);\n    return this;\n  };\n  Effect2.prototype.setIntArray3 = function(uniformName, array) {\n    this._pipelineContext.setIntArray3(uniformName, array);\n    return this;\n  };\n  Effect2.prototype.setIntArray4 = function(uniformName, array) {\n    this._pipelineContext.setIntArray4(uniformName, array);\n    return this;\n  };\n  Effect2.prototype.setFloatArray = function(uniformName, array) {\n    this._pipelineContext.setArray(uniformName, array);\n    return this;\n  };\n  Effect2.prototype.setFloatArray2 = function(uniformName, array) {\n    this._pipelineContext.setArray2(uniformName, array);\n    return this;\n  };\n  Effect2.prototype.setFloatArray3 = function(uniformName, array) {\n    this._pipelineContext.setArray3(uniformName, array);\n    return this;\n  };\n  Effect2.prototype.setFloatArray4 = function(uniformName, array) {\n    this._pipelineContext.setArray4(uniformName, array);\n    return this;\n  };\n  Effect2.prototype.setArray = function(uniformName, array) {\n    this._pipelineContext.setArray(uniformName, array);\n    return this;\n  };\n  Effect2.prototype.setArray2 = function(uniformName, array) {\n    this._pipelineContext.setArray2(uniformName, array);\n    return this;\n  };\n  Effect2.prototype.setArray3 = function(uniformName, array) {\n    this._pipelineContext.setArray3(uniformName, array);\n    return this;\n  };\n  Effect2.prototype.setArray4 = function(uniformName, array) {\n    this._pipelineContext.setArray4(uniformName, array);\n    return this;\n  };\n  Effect2.prototype.setMatrices = function(uniformName, matrices) {\n    this._pipelineContext.setMatrices(uniformName, matrices);\n    return this;\n  };\n  Effect2.prototype.setMatrix = function(uniformName, matrix) {\n    this._pipelineContext.setMatrix(uniformName, matrix);\n    return this;\n  };\n  Effect2.prototype.setMatrix3x3 = function(uniformName, matrix) {\n    this._pipelineContext.setMatrix3x3(uniformName, matrix);\n    return this;\n  };\n  Effect2.prototype.setMatrix2x2 = function(uniformName, matrix) {\n    this._pipelineContext.setMatrix2x2(uniformName, matrix);\n    return this;\n  };\n  Effect2.prototype.setFloat = function(uniformName, value) {\n    this._pipelineContext.setFloat(uniformName, value);\n    return this;\n  };\n  Effect2.prototype.setBool = function(uniformName, bool) {\n    this._pipelineContext.setInt(uniformName, bool ? 1 : 0);\n    return this;\n  };\n  Effect2.prototype.setVector2 = function(uniformName, vector2) {\n    this._pipelineContext.setVector2(uniformName, vector2);\n    return this;\n  };\n  Effect2.prototype.setFloat2 = function(uniformName, x, y) {\n    this._pipelineContext.setFloat2(uniformName, x, y);\n    return this;\n  };\n  Effect2.prototype.setVector3 = function(uniformName, vector3) {\n    this._pipelineContext.setVector3(uniformName, vector3);\n    return this;\n  };\n  Effect2.prototype.setFloat3 = function(uniformName, x, y, z) {\n    this._pipelineContext.setFloat3(uniformName, x, y, z);\n    return this;\n  };\n  Effect2.prototype.setVector4 = function(uniformName, vector4) {\n    this._pipelineContext.setVector4(uniformName, vector4);\n    return this;\n  };\n  Effect2.prototype.setQuaternion = function(uniformName, quaternion) {\n    this._pipelineContext.setQuaternion(uniformName, quaternion);\n    return this;\n  };\n  Effect2.prototype.setFloat4 = function(uniformName, x, y, z, w) {\n    this._pipelineContext.setFloat4(uniformName, x, y, z, w);\n    return this;\n  };\n  Effect2.prototype.setColor3 = function(uniformName, color3) {\n    this._pipelineContext.setColor3(uniformName, color3);\n    return this;\n  };\n  Effect2.prototype.setColor4 = function(uniformName, color3, alpha) {\n    this._pipelineContext.setColor4(uniformName, color3, alpha);\n    return this;\n  };\n  Effect2.prototype.setDirectColor4 = function(uniformName, color4) {\n    this._pipelineContext.setDirectColor4(uniformName, color4);\n    return this;\n  };\n  Effect2.prototype.dispose = function() {\n    if (this._pipelineContext) {\n      this._pipelineContext.dispose();\n    }\n    this._engine._releaseEffect(this);\n    this._isDisposed = true;\n  };\n  Effect2.RegisterShader = function(name2, pixelShader, vertexShader, shaderLanguage) {\n    if (shaderLanguage === void 0) {\n      shaderLanguage = ShaderLanguage.GLSL;\n    }\n    if (pixelShader) {\n      ShaderStore.GetShadersStore(shaderLanguage)[\"\".concat(name2, \"PixelShader\")] = pixelShader;\n    }\n    if (vertexShader) {\n      ShaderStore.GetShadersStore(shaderLanguage)[\"\".concat(name2, \"VertexShader\")] = vertexShader;\n    }\n  };\n  Effect2.ResetCache = function() {\n    Effect2._BaseCache = {};\n  };\n  Effect2.LogShaderCodeOnCompilationError = true;\n  Effect2._UniqueIdSeed = 0;\n  Effect2._BaseCache = {};\n  Effect2.ShadersStore = ShaderStore.ShadersStore;\n  Effect2.IncludesShadersStore = ShaderStore.IncludesShadersStore;\n  return Effect2;\n}();\nvar DepthCullingState = function() {\n  function DepthCullingState2(reset) {\n    if (reset === void 0) {\n      reset = true;\n    }\n    this._isDepthTestDirty = false;\n    this._isDepthMaskDirty = false;\n    this._isDepthFuncDirty = false;\n    this._isCullFaceDirty = false;\n    this._isCullDirty = false;\n    this._isZOffsetDirty = false;\n    this._isFrontFaceDirty = false;\n    if (reset) {\n      this.reset();\n    }\n  }\n  Object.defineProperty(DepthCullingState2.prototype, \"isDirty\", {\n    get: function() {\n      return this._isDepthFuncDirty || this._isDepthTestDirty || this._isDepthMaskDirty || this._isCullFaceDirty || this._isCullDirty || this._isZOffsetDirty || this._isFrontFaceDirty;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DepthCullingState2.prototype, \"zOffset\", {\n    get: function() {\n      return this._zOffset;\n    },\n    set: function(value) {\n      if (this._zOffset === value) {\n        return;\n      }\n      this._zOffset = value;\n      this._isZOffsetDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DepthCullingState2.prototype, \"zOffsetUnits\", {\n    get: function() {\n      return this._zOffsetUnits;\n    },\n    set: function(value) {\n      if (this._zOffsetUnits === value) {\n        return;\n      }\n      this._zOffsetUnits = value;\n      this._isZOffsetDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DepthCullingState2.prototype, \"cullFace\", {\n    get: function() {\n      return this._cullFace;\n    },\n    set: function(value) {\n      if (this._cullFace === value) {\n        return;\n      }\n      this._cullFace = value;\n      this._isCullFaceDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DepthCullingState2.prototype, \"cull\", {\n    get: function() {\n      return this._cull;\n    },\n    set: function(value) {\n      if (this._cull === value) {\n        return;\n      }\n      this._cull = value;\n      this._isCullDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DepthCullingState2.prototype, \"depthFunc\", {\n    get: function() {\n      return this._depthFunc;\n    },\n    set: function(value) {\n      if (this._depthFunc === value) {\n        return;\n      }\n      this._depthFunc = value;\n      this._isDepthFuncDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DepthCullingState2.prototype, \"depthMask\", {\n    get: function() {\n      return this._depthMask;\n    },\n    set: function(value) {\n      if (this._depthMask === value) {\n        return;\n      }\n      this._depthMask = value;\n      this._isDepthMaskDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DepthCullingState2.prototype, \"depthTest\", {\n    get: function() {\n      return this._depthTest;\n    },\n    set: function(value) {\n      if (this._depthTest === value) {\n        return;\n      }\n      this._depthTest = value;\n      this._isDepthTestDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DepthCullingState2.prototype, \"frontFace\", {\n    get: function() {\n      return this._frontFace;\n    },\n    set: function(value) {\n      if (this._frontFace === value) {\n        return;\n      }\n      this._frontFace = value;\n      this._isFrontFaceDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  DepthCullingState2.prototype.reset = function() {\n    this._depthMask = true;\n    this._depthTest = true;\n    this._depthFunc = null;\n    this._cullFace = null;\n    this._cull = null;\n    this._zOffset = 0;\n    this._zOffsetUnits = 0;\n    this._frontFace = null;\n    this._isDepthTestDirty = true;\n    this._isDepthMaskDirty = true;\n    this._isDepthFuncDirty = false;\n    this._isCullFaceDirty = false;\n    this._isCullDirty = false;\n    this._isZOffsetDirty = true;\n    this._isFrontFaceDirty = false;\n  };\n  DepthCullingState2.prototype.apply = function(gl) {\n    if (!this.isDirty) {\n      return;\n    }\n    if (this._isCullDirty) {\n      if (this.cull) {\n        gl.enable(gl.CULL_FACE);\n      } else {\n        gl.disable(gl.CULL_FACE);\n      }\n      this._isCullDirty = false;\n    }\n    if (this._isCullFaceDirty) {\n      gl.cullFace(this.cullFace);\n      this._isCullFaceDirty = false;\n    }\n    if (this._isDepthMaskDirty) {\n      gl.depthMask(this.depthMask);\n      this._isDepthMaskDirty = false;\n    }\n    if (this._isDepthTestDirty) {\n      if (this.depthTest) {\n        gl.enable(gl.DEPTH_TEST);\n      } else {\n        gl.disable(gl.DEPTH_TEST);\n      }\n      this._isDepthTestDirty = false;\n    }\n    if (this._isDepthFuncDirty) {\n      gl.depthFunc(this.depthFunc);\n      this._isDepthFuncDirty = false;\n    }\n    if (this._isZOffsetDirty) {\n      if (this.zOffset || this.zOffsetUnits) {\n        gl.enable(gl.POLYGON_OFFSET_FILL);\n        gl.polygonOffset(this.zOffset, this.zOffsetUnits);\n      } else {\n        gl.disable(gl.POLYGON_OFFSET_FILL);\n      }\n      this._isZOffsetDirty = false;\n    }\n    if (this._isFrontFaceDirty) {\n      gl.frontFace(this.frontFace);\n      this._isFrontFaceDirty = false;\n    }\n  };\n  return DepthCullingState2;\n}();\nvar StencilState = function() {\n  function StencilState2() {\n    this.reset();\n  }\n  StencilState2.prototype.reset = function() {\n    this.enabled = false;\n    this.mask = 255;\n    this.func = StencilState2.ALWAYS;\n    this.funcRef = 1;\n    this.funcMask = 255;\n    this.opStencilFail = StencilState2.KEEP;\n    this.opDepthFail = StencilState2.KEEP;\n    this.opStencilDepthPass = StencilState2.REPLACE;\n  };\n  Object.defineProperty(StencilState2.prototype, \"stencilFunc\", {\n    get: function() {\n      return this.func;\n    },\n    set: function(value) {\n      this.func = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StencilState2.prototype, \"stencilFuncRef\", {\n    get: function() {\n      return this.funcRef;\n    },\n    set: function(value) {\n      this.funcRef = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StencilState2.prototype, \"stencilFuncMask\", {\n    get: function() {\n      return this.funcMask;\n    },\n    set: function(value) {\n      this.funcMask = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StencilState2.prototype, \"stencilOpStencilFail\", {\n    get: function() {\n      return this.opStencilFail;\n    },\n    set: function(value) {\n      this.opStencilFail = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StencilState2.prototype, \"stencilOpDepthFail\", {\n    get: function() {\n      return this.opDepthFail;\n    },\n    set: function(value) {\n      this.opDepthFail = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StencilState2.prototype, \"stencilOpStencilDepthPass\", {\n    get: function() {\n      return this.opStencilDepthPass;\n    },\n    set: function(value) {\n      this.opStencilDepthPass = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StencilState2.prototype, \"stencilMask\", {\n    get: function() {\n      return this.mask;\n    },\n    set: function(value) {\n      this.mask = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StencilState2.prototype, \"stencilTest\", {\n    get: function() {\n      return this.enabled;\n    },\n    set: function(value) {\n      this.enabled = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  StencilState2.ALWAYS = 519;\n  StencilState2.KEEP = 7680;\n  StencilState2.REPLACE = 7681;\n  return StencilState2;\n}();\nvar AlphaState = function() {\n  function AlphaState2() {\n    this._blendFunctionParameters = new Array(4);\n    this._blendEquationParameters = new Array(2);\n    this._blendConstants = new Array(4);\n    this._isBlendConstantsDirty = false;\n    this._alphaBlend = false;\n    this._isAlphaBlendDirty = false;\n    this._isBlendFunctionParametersDirty = false;\n    this._isBlendEquationParametersDirty = false;\n    this.reset();\n  }\n  Object.defineProperty(AlphaState2.prototype, \"isDirty\", {\n    get: function() {\n      return this._isAlphaBlendDirty || this._isBlendFunctionParametersDirty || this._isBlendEquationParametersDirty;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AlphaState2.prototype, \"alphaBlend\", {\n    get: function() {\n      return this._alphaBlend;\n    },\n    set: function(value) {\n      if (this._alphaBlend === value) {\n        return;\n      }\n      this._alphaBlend = value;\n      this._isAlphaBlendDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  AlphaState2.prototype.setAlphaBlendConstants = function(r, g, b, a) {\n    if (this._blendConstants[0] === r && this._blendConstants[1] === g && this._blendConstants[2] === b && this._blendConstants[3] === a) {\n      return;\n    }\n    this._blendConstants[0] = r;\n    this._blendConstants[1] = g;\n    this._blendConstants[2] = b;\n    this._blendConstants[3] = a;\n    this._isBlendConstantsDirty = true;\n  };\n  AlphaState2.prototype.setAlphaBlendFunctionParameters = function(value0, value1, value2, value3) {\n    if (this._blendFunctionParameters[0] === value0 && this._blendFunctionParameters[1] === value1 && this._blendFunctionParameters[2] === value2 && this._blendFunctionParameters[3] === value3) {\n      return;\n    }\n    this._blendFunctionParameters[0] = value0;\n    this._blendFunctionParameters[1] = value1;\n    this._blendFunctionParameters[2] = value2;\n    this._blendFunctionParameters[3] = value3;\n    this._isBlendFunctionParametersDirty = true;\n  };\n  AlphaState2.prototype.setAlphaEquationParameters = function(rgb, alpha) {\n    if (this._blendEquationParameters[0] === rgb && this._blendEquationParameters[1] === alpha) {\n      return;\n    }\n    this._blendEquationParameters[0] = rgb;\n    this._blendEquationParameters[1] = alpha;\n    this._isBlendEquationParametersDirty = true;\n  };\n  AlphaState2.prototype.reset = function() {\n    this._alphaBlend = false;\n    this._blendFunctionParameters[0] = null;\n    this._blendFunctionParameters[1] = null;\n    this._blendFunctionParameters[2] = null;\n    this._blendFunctionParameters[3] = null;\n    this._blendEquationParameters[0] = null;\n    this._blendEquationParameters[1] = null;\n    this._blendConstants[0] = null;\n    this._blendConstants[1] = null;\n    this._blendConstants[2] = null;\n    this._blendConstants[3] = null;\n    this._isAlphaBlendDirty = true;\n    this._isBlendFunctionParametersDirty = false;\n    this._isBlendEquationParametersDirty = false;\n    this._isBlendConstantsDirty = false;\n  };\n  AlphaState2.prototype.apply = function(gl) {\n    if (!this.isDirty) {\n      return;\n    }\n    if (this._isAlphaBlendDirty) {\n      if (this._alphaBlend) {\n        gl.enable(gl.BLEND);\n      } else {\n        gl.disable(gl.BLEND);\n      }\n      this._isAlphaBlendDirty = false;\n    }\n    if (this._isBlendFunctionParametersDirty) {\n      gl.blendFuncSeparate(this._blendFunctionParameters[0], this._blendFunctionParameters[1], this._blendFunctionParameters[2], this._blendFunctionParameters[3]);\n      this._isBlendFunctionParametersDirty = false;\n    }\n    if (this._isBlendEquationParametersDirty) {\n      gl.blendEquationSeparate(this._blendEquationParameters[0], this._blendEquationParameters[1]);\n      this._isBlendEquationParametersDirty = false;\n    }\n    if (this._isBlendConstantsDirty) {\n      gl.blendColor(this._blendConstants[0], this._blendConstants[1], this._blendConstants[2], this._blendConstants[3]);\n      this._isBlendConstantsDirty = false;\n    }\n  };\n  return AlphaState2;\n}();\nvar WebGLShaderProcessor = function() {\n  function WebGLShaderProcessor2() {\n    this.shaderLanguage = ShaderLanguage.GLSL;\n  }\n  WebGLShaderProcessor2.prototype.postProcessor = function(code, defines, isFragment, processingContext, engine) {\n    if (!engine.getCaps().drawBuffersExtension) {\n      var regex = /#extension.+GL_EXT_draw_buffers.+(enable|require)/g;\n      code = code.replace(regex, \"\");\n    }\n    return code;\n  };\n  return WebGLShaderProcessor2;\n}();\nvar WebGL2ShaderProcessor = function() {\n  function WebGL2ShaderProcessor2() {\n    this.shaderLanguage = ShaderLanguage.GLSL;\n  }\n  WebGL2ShaderProcessor2.prototype.attributeProcessor = function(attribute) {\n    return attribute.replace(\"attribute\", \"in\");\n  };\n  WebGL2ShaderProcessor2.prototype.varyingProcessor = function(varying, isFragment) {\n    return varying.replace(\"varying\", isFragment ? \"in\" : \"out\");\n  };\n  WebGL2ShaderProcessor2.prototype.postProcessor = function(code, defines, isFragment) {\n    var hasDrawBuffersExtension = code.search(/#extension.+GL_EXT_draw_buffers.+require/) !== -1;\n    var regex = /#extension.+(GL_OVR_multiview2|GL_OES_standard_derivatives|GL_EXT_shader_texture_lod|GL_EXT_frag_depth|GL_EXT_draw_buffers).+(enable|require)/g;\n    code = code.replace(regex, \"\");\n    code = code.replace(/texture2D\\s*\\(/g, \"texture(\");\n    if (isFragment) {\n      code = code.replace(/texture2DLodEXT\\s*\\(/g, \"textureLod(\");\n      code = code.replace(/textureCubeLodEXT\\s*\\(/g, \"textureLod(\");\n      code = code.replace(/textureCube\\s*\\(/g, \"texture(\");\n      code = code.replace(/gl_FragDepthEXT/g, \"gl_FragDepth\");\n      code = code.replace(/gl_FragColor/g, \"glFragColor\");\n      code = code.replace(/gl_FragData/g, \"glFragData\");\n      code = code.replace(/void\\s+?main\\s*\\(/g, (hasDrawBuffersExtension ? \"\" : \"out vec4 glFragColor;\\n\") + \"void main(\");\n    } else {\n      var hasMultiviewExtension = defines.indexOf(\"#define MULTIVIEW\") !== -1;\n      if (hasMultiviewExtension) {\n        return \"#extension GL_OVR_multiview2 : require\\nlayout (num_views = 2) in;\\n\" + code;\n      }\n    }\n    return code;\n  };\n  return WebGL2ShaderProcessor2;\n}();\nvar DataBuffer = function() {\n  function DataBuffer2() {\n    this.references = 0;\n    this.capacity = 0;\n    this.is32Bits = false;\n    this.uniqueId = DataBuffer2._Counter++;\n  }\n  Object.defineProperty(DataBuffer2.prototype, \"underlyingResource\", {\n    get: function() {\n      return null;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  DataBuffer2._Counter = 0;\n  return DataBuffer2;\n}();\nvar WebGLDataBuffer = function(_super) {\n  __extends(WebGLDataBuffer2, _super);\n  function WebGLDataBuffer2(resource) {\n    var _this = _super.call(this) || this;\n    _this._buffer = resource;\n    return _this;\n  }\n  Object.defineProperty(WebGLDataBuffer2.prototype, \"underlyingResource\", {\n    get: function() {\n      return this._buffer;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return WebGLDataBuffer2;\n}(DataBuffer);\nvar WebGLPipelineContext = function() {\n  function WebGLPipelineContext2() {\n    this._valueCache = {};\n    this.vertexCompilationError = null;\n    this.fragmentCompilationError = null;\n    this.programLinkError = null;\n    this.programValidationError = null;\n  }\n  Object.defineProperty(WebGLPipelineContext2.prototype, \"isAsync\", {\n    get: function() {\n      return this.isParallelCompiled;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WebGLPipelineContext2.prototype, \"isReady\", {\n    get: function() {\n      if (this.program) {\n        if (this.isParallelCompiled) {\n          return this.engine._isRenderingStateCompiled(this);\n        }\n        return true;\n      }\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  WebGLPipelineContext2.prototype._handlesSpectorRebuildCallback = function(onCompiled) {\n    if (onCompiled && this.program) {\n      onCompiled(this.program);\n    }\n  };\n  WebGLPipelineContext2.prototype._fillEffectInformation = function(effect, uniformBuffersNames, uniformsNames, uniforms, samplerList, samplers, attributesNames, attributes) {\n    var engine = this.engine;\n    if (engine.supportsUniformBuffers) {\n      for (var name_1 in uniformBuffersNames) {\n        effect.bindUniformBlock(name_1, uniformBuffersNames[name_1]);\n      }\n    }\n    var effectAvailableUniforms = this.engine.getUniforms(this, uniformsNames);\n    effectAvailableUniforms.forEach(function(uniform, index2) {\n      uniforms[uniformsNames[index2]] = uniform;\n    });\n    this._uniforms = uniforms;\n    var index;\n    for (index = 0; index < samplerList.length; index++) {\n      var sampler = effect.getUniform(samplerList[index]);\n      if (sampler == null) {\n        samplerList.splice(index, 1);\n        index--;\n      }\n    }\n    samplerList.forEach(function(name2, index2) {\n      samplers[name2] = index2;\n    });\n    for (var _i = 0, _a = engine.getAttributes(this, attributesNames); _i < _a.length; _i++) {\n      var attr = _a[_i];\n      attributes.push(attr);\n    }\n  };\n  WebGLPipelineContext2.prototype.dispose = function() {\n    this._uniforms = {};\n  };\n  WebGLPipelineContext2.prototype._cacheMatrix = function(uniformName, matrix) {\n    var cache = this._valueCache[uniformName];\n    var flag = matrix.updateFlag;\n    if (cache !== void 0 && cache === flag) {\n      return false;\n    }\n    this._valueCache[uniformName] = flag;\n    return true;\n  };\n  WebGLPipelineContext2.prototype._cacheFloat2 = function(uniformName, x, y) {\n    var cache = this._valueCache[uniformName];\n    if (!cache || cache.length !== 2) {\n      cache = [x, y];\n      this._valueCache[uniformName] = cache;\n      return true;\n    }\n    var changed = false;\n    if (cache[0] !== x) {\n      cache[0] = x;\n      changed = true;\n    }\n    if (cache[1] !== y) {\n      cache[1] = y;\n      changed = true;\n    }\n    return changed;\n  };\n  WebGLPipelineContext2.prototype._cacheFloat3 = function(uniformName, x, y, z) {\n    var cache = this._valueCache[uniformName];\n    if (!cache || cache.length !== 3) {\n      cache = [x, y, z];\n      this._valueCache[uniformName] = cache;\n      return true;\n    }\n    var changed = false;\n    if (cache[0] !== x) {\n      cache[0] = x;\n      changed = true;\n    }\n    if (cache[1] !== y) {\n      cache[1] = y;\n      changed = true;\n    }\n    if (cache[2] !== z) {\n      cache[2] = z;\n      changed = true;\n    }\n    return changed;\n  };\n  WebGLPipelineContext2.prototype._cacheFloat4 = function(uniformName, x, y, z, w) {\n    var cache = this._valueCache[uniformName];\n    if (!cache || cache.length !== 4) {\n      cache = [x, y, z, w];\n      this._valueCache[uniformName] = cache;\n      return true;\n    }\n    var changed = false;\n    if (cache[0] !== x) {\n      cache[0] = x;\n      changed = true;\n    }\n    if (cache[1] !== y) {\n      cache[1] = y;\n      changed = true;\n    }\n    if (cache[2] !== z) {\n      cache[2] = z;\n      changed = true;\n    }\n    if (cache[3] !== w) {\n      cache[3] = w;\n      changed = true;\n    }\n    return changed;\n  };\n  WebGLPipelineContext2.prototype.setInt = function(uniformName, value) {\n    var cache = this._valueCache[uniformName];\n    if (cache !== void 0 && cache === value) {\n      return;\n    }\n    if (this.engine.setInt(this._uniforms[uniformName], value)) {\n      this._valueCache[uniformName] = value;\n    }\n  };\n  WebGLPipelineContext2.prototype.setInt2 = function(uniformName, x, y) {\n    if (this._cacheFloat2(uniformName, x, y)) {\n      if (!this.engine.setInt2(this._uniforms[uniformName], x, y)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  };\n  WebGLPipelineContext2.prototype.setInt3 = function(uniformName, x, y, z) {\n    if (this._cacheFloat3(uniformName, x, y, z)) {\n      if (!this.engine.setInt3(this._uniforms[uniformName], x, y, z)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  };\n  WebGLPipelineContext2.prototype.setInt4 = function(uniformName, x, y, z, w) {\n    if (this._cacheFloat4(uniformName, x, y, z, w)) {\n      if (!this.engine.setInt4(this._uniforms[uniformName], x, y, z, w)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  };\n  WebGLPipelineContext2.prototype.setIntArray = function(uniformName, array) {\n    this._valueCache[uniformName] = null;\n    this.engine.setIntArray(this._uniforms[uniformName], array);\n  };\n  WebGLPipelineContext2.prototype.setIntArray2 = function(uniformName, array) {\n    this._valueCache[uniformName] = null;\n    this.engine.setIntArray2(this._uniforms[uniformName], array);\n  };\n  WebGLPipelineContext2.prototype.setIntArray3 = function(uniformName, array) {\n    this._valueCache[uniformName] = null;\n    this.engine.setIntArray3(this._uniforms[uniformName], array);\n  };\n  WebGLPipelineContext2.prototype.setIntArray4 = function(uniformName, array) {\n    this._valueCache[uniformName] = null;\n    this.engine.setIntArray4(this._uniforms[uniformName], array);\n  };\n  WebGLPipelineContext2.prototype.setArray = function(uniformName, array) {\n    this._valueCache[uniformName] = null;\n    this.engine.setArray(this._uniforms[uniformName], array);\n  };\n  WebGLPipelineContext2.prototype.setArray2 = function(uniformName, array) {\n    this._valueCache[uniformName] = null;\n    this.engine.setArray2(this._uniforms[uniformName], array);\n  };\n  WebGLPipelineContext2.prototype.setArray3 = function(uniformName, array) {\n    this._valueCache[uniformName] = null;\n    this.engine.setArray3(this._uniforms[uniformName], array);\n  };\n  WebGLPipelineContext2.prototype.setArray4 = function(uniformName, array) {\n    this._valueCache[uniformName] = null;\n    this.engine.setArray4(this._uniforms[uniformName], array);\n  };\n  WebGLPipelineContext2.prototype.setMatrices = function(uniformName, matrices) {\n    if (!matrices) {\n      return;\n    }\n    this._valueCache[uniformName] = null;\n    this.engine.setMatrices(this._uniforms[uniformName], matrices);\n  };\n  WebGLPipelineContext2.prototype.setMatrix = function(uniformName, matrix) {\n    if (this._cacheMatrix(uniformName, matrix)) {\n      if (!this.engine.setMatrices(this._uniforms[uniformName], matrix.toArray())) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  };\n  WebGLPipelineContext2.prototype.setMatrix3x3 = function(uniformName, matrix) {\n    this._valueCache[uniformName] = null;\n    this.engine.setMatrix3x3(this._uniforms[uniformName], matrix);\n  };\n  WebGLPipelineContext2.prototype.setMatrix2x2 = function(uniformName, matrix) {\n    this._valueCache[uniformName] = null;\n    this.engine.setMatrix2x2(this._uniforms[uniformName], matrix);\n  };\n  WebGLPipelineContext2.prototype.setFloat = function(uniformName, value) {\n    var cache = this._valueCache[uniformName];\n    if (cache !== void 0 && cache === value) {\n      return;\n    }\n    if (this.engine.setFloat(this._uniforms[uniformName], value)) {\n      this._valueCache[uniformName] = value;\n    }\n  };\n  WebGLPipelineContext2.prototype.setVector2 = function(uniformName, vector2) {\n    if (this._cacheFloat2(uniformName, vector2.x, vector2.y)) {\n      if (!this.engine.setFloat2(this._uniforms[uniformName], vector2.x, vector2.y)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  };\n  WebGLPipelineContext2.prototype.setFloat2 = function(uniformName, x, y) {\n    if (this._cacheFloat2(uniformName, x, y)) {\n      if (!this.engine.setFloat2(this._uniforms[uniformName], x, y)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  };\n  WebGLPipelineContext2.prototype.setVector3 = function(uniformName, vector3) {\n    if (this._cacheFloat3(uniformName, vector3.x, vector3.y, vector3.z)) {\n      if (!this.engine.setFloat3(this._uniforms[uniformName], vector3.x, vector3.y, vector3.z)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  };\n  WebGLPipelineContext2.prototype.setFloat3 = function(uniformName, x, y, z) {\n    if (this._cacheFloat3(uniformName, x, y, z)) {\n      if (!this.engine.setFloat3(this._uniforms[uniformName], x, y, z)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  };\n  WebGLPipelineContext2.prototype.setVector4 = function(uniformName, vector4) {\n    if (this._cacheFloat4(uniformName, vector4.x, vector4.y, vector4.z, vector4.w)) {\n      if (!this.engine.setFloat4(this._uniforms[uniformName], vector4.x, vector4.y, vector4.z, vector4.w)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  };\n  WebGLPipelineContext2.prototype.setQuaternion = function(uniformName, quaternion) {\n    if (this._cacheFloat4(uniformName, quaternion.x, quaternion.y, quaternion.z, quaternion.w)) {\n      if (!this.engine.setFloat4(this._uniforms[uniformName], quaternion.x, quaternion.y, quaternion.z, quaternion.w)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  };\n  WebGLPipelineContext2.prototype.setFloat4 = function(uniformName, x, y, z, w) {\n    if (this._cacheFloat4(uniformName, x, y, z, w)) {\n      if (!this.engine.setFloat4(this._uniforms[uniformName], x, y, z, w)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  };\n  WebGLPipelineContext2.prototype.setColor3 = function(uniformName, color3) {\n    if (this._cacheFloat3(uniformName, color3.r, color3.g, color3.b)) {\n      if (!this.engine.setFloat3(this._uniforms[uniformName], color3.r, color3.g, color3.b)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  };\n  WebGLPipelineContext2.prototype.setColor4 = function(uniformName, color3, alpha) {\n    if (this._cacheFloat4(uniformName, color3.r, color3.g, color3.b, alpha)) {\n      if (!this.engine.setFloat4(this._uniforms[uniformName], color3.r, color3.g, color3.b, alpha)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  };\n  WebGLPipelineContext2.prototype.setDirectColor4 = function(uniformName, color4) {\n    if (this._cacheFloat4(uniformName, color4.r, color4.g, color4.b, color4.a)) {\n      if (!this.engine.setFloat4(this._uniforms[uniformName], color4.r, color4.g, color4.b, color4.a)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  };\n  WebGLPipelineContext2.prototype._getVertexShaderCode = function() {\n    return this.vertexShader ? this.engine._getShaderSource(this.vertexShader) : null;\n  };\n  WebGLPipelineContext2.prototype._getFragmentShaderCode = function() {\n    return this.fragmentShader ? this.engine._getShaderSource(this.fragmentShader) : null;\n  };\n  return WebGLPipelineContext2;\n}();\nvar WebGLHardwareTexture = function() {\n  function WebGLHardwareTexture2(existingTexture, context) {\n    if (existingTexture === void 0) {\n      existingTexture = null;\n    }\n    this._MSAARenderBuffer = null;\n    this._context = context;\n    if (!existingTexture) {\n      existingTexture = context.createTexture();\n      if (!existingTexture) {\n        throw new Error(\"Unable to create webGL texture\");\n      }\n    }\n    this.set(existingTexture);\n  }\n  Object.defineProperty(WebGLHardwareTexture2.prototype, \"underlyingResource\", {\n    get: function() {\n      return this._webGLTexture;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  WebGLHardwareTexture2.prototype.setUsage = function() {\n  };\n  WebGLHardwareTexture2.prototype.set = function(hardwareTexture) {\n    this._webGLTexture = hardwareTexture;\n  };\n  WebGLHardwareTexture2.prototype.reset = function() {\n    this._webGLTexture = null;\n    this._MSAARenderBuffer = null;\n  };\n  WebGLHardwareTexture2.prototype.release = function() {\n    if (this._MSAARenderBuffer) {\n      this._context.deleteRenderbuffer(this._MSAARenderBuffer);\n      this._MSAARenderBuffer = null;\n    }\n    if (this._webGLTexture) {\n      this._context.deleteTexture(this._webGLTexture);\n    }\n    this.reset();\n  };\n  return WebGLHardwareTexture2;\n}();\nvar DrawWrapper = function() {\n  function DrawWrapper2(engine, createMaterialContext) {\n    if (createMaterialContext === void 0) {\n      createMaterialContext = true;\n    }\n    this.effect = null;\n    this.defines = null;\n    this.drawContext = engine.createDrawContext();\n    if (createMaterialContext) {\n      this.materialContext = engine.createMaterialContext();\n    }\n  }\n  DrawWrapper2.IsWrapper = function(effect) {\n    return effect.getPipelineContext === void 0;\n  };\n  DrawWrapper2.GetEffect = function(effect) {\n    return effect.getPipelineContext === void 0 ? effect.effect : effect;\n  };\n  DrawWrapper2.prototype.setEffect = function(effect, defines, resetContext) {\n    var _a;\n    if (resetContext === void 0) {\n      resetContext = true;\n    }\n    this.effect = effect;\n    if (defines !== void 0) {\n      this.defines = defines;\n    }\n    if (resetContext) {\n      (_a = this.drawContext) === null || _a === void 0 ? void 0 : _a.reset();\n    }\n  };\n  DrawWrapper2.prototype.dispose = function() {\n    var _a;\n    (_a = this.drawContext) === null || _a === void 0 ? void 0 : _a.dispose();\n  };\n  return DrawWrapper2;\n}();\nvar StencilStateComposer = function() {\n  function StencilStateComposer2(reset) {\n    if (reset === void 0) {\n      reset = true;\n    }\n    this._isStencilTestDirty = false;\n    this._isStencilMaskDirty = false;\n    this._isStencilFuncDirty = false;\n    this._isStencilOpDirty = false;\n    this.useStencilGlobalOnly = false;\n    if (reset) {\n      this.reset();\n    }\n  }\n  Object.defineProperty(StencilStateComposer2.prototype, \"isDirty\", {\n    get: function() {\n      return this._isStencilTestDirty || this._isStencilMaskDirty || this._isStencilFuncDirty || this._isStencilOpDirty;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StencilStateComposer2.prototype, \"func\", {\n    get: function() {\n      return this._func;\n    },\n    set: function(value) {\n      if (this._func === value) {\n        return;\n      }\n      this._func = value;\n      this._isStencilFuncDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StencilStateComposer2.prototype, \"funcRef\", {\n    get: function() {\n      return this._funcRef;\n    },\n    set: function(value) {\n      if (this._funcRef === value) {\n        return;\n      }\n      this._funcRef = value;\n      this._isStencilFuncDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StencilStateComposer2.prototype, \"funcMask\", {\n    get: function() {\n      return this._funcMask;\n    },\n    set: function(value) {\n      if (this._funcMask === value) {\n        return;\n      }\n      this._funcMask = value;\n      this._isStencilFuncDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StencilStateComposer2.prototype, \"opStencilFail\", {\n    get: function() {\n      return this._opStencilFail;\n    },\n    set: function(value) {\n      if (this._opStencilFail === value) {\n        return;\n      }\n      this._opStencilFail = value;\n      this._isStencilOpDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StencilStateComposer2.prototype, \"opDepthFail\", {\n    get: function() {\n      return this._opDepthFail;\n    },\n    set: function(value) {\n      if (this._opDepthFail === value) {\n        return;\n      }\n      this._opDepthFail = value;\n      this._isStencilOpDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StencilStateComposer2.prototype, \"opStencilDepthPass\", {\n    get: function() {\n      return this._opStencilDepthPass;\n    },\n    set: function(value) {\n      if (this._opStencilDepthPass === value) {\n        return;\n      }\n      this._opStencilDepthPass = value;\n      this._isStencilOpDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StencilStateComposer2.prototype, \"mask\", {\n    get: function() {\n      return this._mask;\n    },\n    set: function(value) {\n      if (this._mask === value) {\n        return;\n      }\n      this._mask = value;\n      this._isStencilMaskDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StencilStateComposer2.prototype, \"enabled\", {\n    get: function() {\n      return this._enabled;\n    },\n    set: function(value) {\n      if (this._enabled === value) {\n        return;\n      }\n      this._enabled = value;\n      this._isStencilTestDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  StencilStateComposer2.prototype.reset = function() {\n    var _a;\n    this.stencilMaterial = void 0;\n    (_a = this.stencilGlobal) === null || _a === void 0 ? void 0 : _a.reset();\n    this._isStencilTestDirty = true;\n    this._isStencilMaskDirty = true;\n    this._isStencilFuncDirty = true;\n    this._isStencilOpDirty = true;\n  };\n  StencilStateComposer2.prototype.apply = function(gl) {\n    var _a;\n    if (!gl) {\n      return;\n    }\n    var stencilMaterialEnabled = !this.useStencilGlobalOnly && !!((_a = this.stencilMaterial) === null || _a === void 0 ? void 0 : _a.enabled);\n    this.enabled = stencilMaterialEnabled ? this.stencilMaterial.enabled : this.stencilGlobal.enabled;\n    this.func = stencilMaterialEnabled ? this.stencilMaterial.func : this.stencilGlobal.func;\n    this.funcRef = stencilMaterialEnabled ? this.stencilMaterial.funcRef : this.stencilGlobal.funcRef;\n    this.funcMask = stencilMaterialEnabled ? this.stencilMaterial.funcMask : this.stencilGlobal.funcMask;\n    this.opStencilFail = stencilMaterialEnabled ? this.stencilMaterial.opStencilFail : this.stencilGlobal.opStencilFail;\n    this.opDepthFail = stencilMaterialEnabled ? this.stencilMaterial.opDepthFail : this.stencilGlobal.opDepthFail;\n    this.opStencilDepthPass = stencilMaterialEnabled ? this.stencilMaterial.opStencilDepthPass : this.stencilGlobal.opStencilDepthPass;\n    this.mask = stencilMaterialEnabled ? this.stencilMaterial.mask : this.stencilGlobal.mask;\n    if (!this.isDirty) {\n      return;\n    }\n    if (this._isStencilTestDirty) {\n      if (this.enabled) {\n        gl.enable(gl.STENCIL_TEST);\n      } else {\n        gl.disable(gl.STENCIL_TEST);\n      }\n      this._isStencilTestDirty = false;\n    }\n    if (this._isStencilMaskDirty) {\n      gl.stencilMask(this.mask);\n      this._isStencilMaskDirty = false;\n    }\n    if (this._isStencilFuncDirty) {\n      gl.stencilFunc(this.func, this.funcRef, this.funcMask);\n      this._isStencilFuncDirty = false;\n    }\n    if (this._isStencilOpDirty) {\n      gl.stencilOp(this.opStencilFail, this.opDepthFail, this.opStencilDepthPass);\n      this._isStencilOpDirty = false;\n    }\n  };\n  return StencilStateComposer2;\n}();\nvar BufferPointer = function() {\n  function BufferPointer2() {\n  }\n  return BufferPointer2;\n}();\nvar ThinEngine = function() {\n  function ThinEngine2(canvasOrContext, antialias, options, adaptToDeviceRatio) {\n    var _this = this;\n    this._name = \"WebGL\";\n    this.forcePOTTextures = false;\n    this.isFullscreen = false;\n    this.cullBackFaces = null;\n    this.renderEvenInBackground = true;\n    this.preventCacheWipeBetweenFrames = false;\n    this.validateShaderPrograms = false;\n    this._useReverseDepthBuffer = false;\n    this.isNDCHalfZRange = false;\n    this.hasOriginBottomLeft = true;\n    this.disableUniformBuffers = false;\n    this.onDisposeObservable = new Observable();\n    this._frameId = 0;\n    this._uniformBuffers = new Array();\n    this._storageBuffers = new Array();\n    this._webGLVersion = 1;\n    this._windowIsBackground = false;\n    this._highPrecisionShadersAllowed = true;\n    this._badOS = false;\n    this._badDesktopOS = false;\n    this._renderingQueueLaunched = false;\n    this._activeRenderLoops = new Array();\n    this.onContextLostObservable = new Observable();\n    this.onContextRestoredObservable = new Observable();\n    this._contextWasLost = false;\n    this._doNotHandleContextLost = false;\n    this.disableVertexArrayObjects = false;\n    this._colorWrite = true;\n    this._colorWriteChanged = true;\n    this._depthCullingState = new DepthCullingState();\n    this._stencilStateComposer = new StencilStateComposer();\n    this._stencilState = new StencilState();\n    this._alphaState = new AlphaState();\n    this._alphaMode = 1;\n    this._alphaEquation = 0;\n    this._internalTexturesCache = new Array();\n    this._renderTargetWrapperCache = new Array();\n    this._activeChannel = 0;\n    this._currentTextureChannel = -1;\n    this._boundTexturesCache = {};\n    this._compiledEffects = {};\n    this._vertexAttribArraysEnabled = [];\n    this._uintIndicesCurrentlySet = false;\n    this._currentBoundBuffer = new Array();\n    this._currentFramebuffer = null;\n    this._dummyFramebuffer = null;\n    this._currentBufferPointers = new Array();\n    this._currentInstanceLocations = new Array();\n    this._currentInstanceBuffers = new Array();\n    this._vaoRecordInProgress = false;\n    this._mustWipeVertexAttributes = false;\n    this._nextFreeTextureSlots = new Array();\n    this._maxSimultaneousTextures = 0;\n    this._maxMSAASamplesOverride = null;\n    this._activeRequests = new Array();\n    this._adaptToDeviceRatio = false;\n    this._transformTextureUrl = null;\n    this.hostInformation = {\n      isMobile: false\n    };\n    this.premultipliedAlpha = true;\n    this.onBeforeTextureInitObservable = new Observable();\n    this._isWebGPU = false;\n    this._snapshotRenderingMode = 0;\n    this._viewportCached = { x: 0, y: 0, z: 0, w: 0 };\n    this._unpackFlipYCached = null;\n    this.enableUnpackFlipYCached = true;\n    this._boundUniforms = {};\n    var canvas = null;\n    options = options || {};\n    this._creationOptions = options;\n    this._adaptToDeviceRatio = adaptToDeviceRatio !== null && adaptToDeviceRatio !== void 0 ? adaptToDeviceRatio : false;\n    this._stencilStateComposer.stencilGlobal = this._stencilState;\n    PerformanceConfigurator.SetMatrixPrecision(!!options.useHighPrecisionMatrix);\n    if (!canvasOrContext) {\n      return;\n    }\n    adaptToDeviceRatio = adaptToDeviceRatio || options.adaptToDeviceRatio || false;\n    if (canvasOrContext.getContext) {\n      canvas = canvasOrContext;\n      this._renderingCanvas = canvas;\n      if (antialias !== void 0) {\n        options.antialias = antialias;\n      }\n      if (options.deterministicLockstep === void 0) {\n        options.deterministicLockstep = false;\n      }\n      if (options.lockstepMaxSteps === void 0) {\n        options.lockstepMaxSteps = 4;\n      }\n      if (options.timeStep === void 0) {\n        options.timeStep = 1 / 60;\n      }\n      if (options.preserveDrawingBuffer === void 0) {\n        options.preserveDrawingBuffer = false;\n      }\n      if (options.audioEngine === void 0) {\n        options.audioEngine = true;\n      }\n      if (options.audioEngineOptions !== void 0 && options.audioEngineOptions.audioContext !== void 0) {\n        this._audioContext = options.audioEngineOptions.audioContext;\n      }\n      if (options.audioEngineOptions !== void 0 && options.audioEngineOptions.audioDestination !== void 0) {\n        this._audioDestination = options.audioEngineOptions.audioDestination;\n      }\n      if (options.stencil === void 0) {\n        options.stencil = true;\n      }\n      if (options.premultipliedAlpha === false) {\n        this.premultipliedAlpha = false;\n      }\n      if (options.xrCompatible === void 0) {\n        options.xrCompatible = true;\n      }\n      this._doNotHandleContextLost = options.doNotHandleContextLost ? true : false;\n      if (navigator && navigator.userAgent) {\n        this._checkForMobile = function() {\n          var currentUA = navigator.userAgent;\n          _this.hostInformation.isMobile = currentUA.indexOf(\"Mobile\") !== -1 || currentUA.indexOf(\"Mac\") !== -1 && IsDocumentAvailable() && \"ontouchend\" in document;\n        };\n        this._checkForMobile();\n        if (IsWindowObjectExist()) {\n          window.addEventListener(\"resize\", this._checkForMobile);\n        }\n        var ua = navigator.userAgent;\n        for (var _i = 0, _a = ThinEngine2.ExceptionList; _i < _a.length; _i++) {\n          var exception = _a[_i];\n          var key = exception.key;\n          var targets = exception.targets;\n          var check = new RegExp(key);\n          if (check.test(ua)) {\n            if (exception.capture && exception.captureConstraint) {\n              var capture = exception.capture;\n              var constraint = exception.captureConstraint;\n              var regex = new RegExp(capture);\n              var matches = regex.exec(ua);\n              if (matches && matches.length > 0) {\n                var capturedValue = parseInt(matches[matches.length - 1]);\n                if (capturedValue >= constraint) {\n                  continue;\n                }\n              }\n            }\n            for (var _b = 0, targets_1 = targets; _b < targets_1.length; _b++) {\n              var target = targets_1[_b];\n              switch (target) {\n                case \"uniformBuffer\":\n                  this.disableUniformBuffers = true;\n                  break;\n                case \"vao\":\n                  this.disableVertexArrayObjects = true;\n                  break;\n                case \"antialias\":\n                  options.antialias = false;\n                  break;\n                case \"maxMSAASamples\":\n                  this._maxMSAASamplesOverride = 1;\n                  break;\n              }\n            }\n          }\n        }\n      }\n      if (!this._doNotHandleContextLost) {\n        this._onContextLost = function(evt) {\n          evt.preventDefault();\n          _this._contextWasLost = true;\n          Logger.Warn(\"WebGL context lost.\");\n          _this.onContextLostObservable.notifyObservers(_this);\n        };\n        this._onContextRestored = function() {\n          _this._restoreEngineAfterContextLost(_this._initGLContext.bind(_this));\n        };\n        canvas.addEventListener(\"webglcontextlost\", this._onContextLost, false);\n        canvas.addEventListener(\"webglcontextrestored\", this._onContextRestored, false);\n        options.powerPreference = \"high-performance\";\n      }\n      this._badDesktopOS = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n      if (this._badDesktopOS) {\n        options.xrCompatible = false;\n      }\n      if (!options.disableWebGL2Support) {\n        try {\n          this._gl = canvas.getContext(\"webgl2\", options) || canvas.getContext(\"experimental-webgl2\", options);\n          if (this._gl) {\n            this._webGLVersion = 2;\n            this._shaderPlatformName = \"WEBGL2\";\n            if (!this._gl.deleteQuery) {\n              this._webGLVersion = 1;\n              this._shaderPlatformName = \"WEBGL1\";\n            }\n          }\n        } catch (e) {\n        }\n      }\n      if (!this._gl) {\n        if (!canvas) {\n          throw new Error(\"The provided canvas is null or undefined.\");\n        }\n        try {\n          this._gl = canvas.getContext(\"webgl\", options) || canvas.getContext(\"experimental-webgl\", options);\n        } catch (e) {\n          throw new Error(\"WebGL not supported\");\n        }\n      }\n      if (!this._gl) {\n        throw new Error(\"WebGL not supported\");\n      }\n    } else {\n      this._gl = canvasOrContext;\n      this._renderingCanvas = this._gl.canvas;\n      if (this._gl.renderbufferStorageMultisample) {\n        this._webGLVersion = 2;\n        this._shaderPlatformName = \"WEBGL2\";\n      } else {\n        this._shaderPlatformName = \"WEBGL1\";\n      }\n      var attributes = this._gl.getContextAttributes();\n      if (attributes) {\n        options.stencil = attributes.stencil;\n      }\n    }\n    this._gl.pixelStorei(this._gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, this._gl.NONE);\n    if (options.useHighPrecisionFloats !== void 0) {\n      this._highPrecisionShadersAllowed = options.useHighPrecisionFloats;\n    }\n    var devicePixelRatio = IsWindowObjectExist() ? window.devicePixelRatio || 1 : 1;\n    var limitDeviceRatio = options.limitDeviceRatio || devicePixelRatio;\n    this._hardwareScalingLevel = adaptToDeviceRatio ? 1 / Math.min(limitDeviceRatio, devicePixelRatio) : 1;\n    this.resize();\n    this._isStencilEnable = options.stencil ? true : false;\n    this._initGLContext();\n    this._initFeatures();\n    for (var i = 0; i < this._caps.maxVertexAttribs; i++) {\n      this._currentBufferPointers[i] = new BufferPointer();\n    }\n    this._shaderProcessor = this.webGLVersion > 1 ? new WebGL2ShaderProcessor() : new WebGLShaderProcessor();\n    this._badOS = /iPad/i.test(navigator.userAgent) || /iPhone/i.test(navigator.userAgent);\n    var versionToLog = \"Babylon.js v\".concat(ThinEngine2.Version);\n    console.log(versionToLog + \" - \".concat(this.description));\n    if (this._renderingCanvas && this._renderingCanvas.setAttribute) {\n      this._renderingCanvas.setAttribute(\"data-engine\", versionToLog);\n    }\n  }\n  Object.defineProperty(ThinEngine2, \"NpmPackage\", {\n    get: function() {\n      return \"babylonjs@5.10.0\";\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2, \"Version\", {\n    get: function() {\n      return \"5.10.0\";\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"description\", {\n    get: function() {\n      var description = this.name + this.webGLVersion;\n      if (this._caps.parallelShaderCompile) {\n        description += \" - Parallel shader compilation\";\n      }\n      return description;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"name\", {\n    get: function() {\n      return this._name;\n    },\n    set: function(value) {\n      this._name = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"version\", {\n    get: function() {\n      return this._webGLVersion;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2, \"ShadersRepository\", {\n    get: function() {\n      return Effect.ShadersRepository;\n    },\n    set: function(value) {\n      Effect.ShadersRepository = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ThinEngine2.prototype._getShaderProcessor = function(shaderLanguage) {\n    return this._shaderProcessor;\n  };\n  Object.defineProperty(ThinEngine2.prototype, \"useReverseDepthBuffer\", {\n    get: function() {\n      return this._useReverseDepthBuffer;\n    },\n    set: function(useReverse) {\n      if (useReverse === this._useReverseDepthBuffer) {\n        return;\n      }\n      this._useReverseDepthBuffer = useReverse;\n      if (useReverse) {\n        this._depthCullingState.depthFunc = 518;\n      } else {\n        this._depthCullingState.depthFunc = 515;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"frameId\", {\n    get: function() {\n      return this._frameId;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"supportsUniformBuffers\", {\n    get: function() {\n      return this.webGLVersion > 1 && !this.disableUniformBuffers;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ThinEngine2.prototype.getCreationOptions = function() {\n    return this._creationOptions;\n  };\n  Object.defineProperty(ThinEngine2.prototype, \"_shouldUseHighPrecisionShader\", {\n    get: function() {\n      return !!(this._caps.highPrecisionShaderSupported && this._highPrecisionShadersAllowed);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"needPOTTextures\", {\n    get: function() {\n      return this._webGLVersion < 2 || this.forcePOTTextures;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"activeRenderLoops\", {\n    get: function() {\n      return this._activeRenderLoops;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"doNotHandleContextLost\", {\n    get: function() {\n      return this._doNotHandleContextLost;\n    },\n    set: function(value) {\n      this._doNotHandleContextLost = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"_supportsHardwareTextureRescaling\", {\n    get: function() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"framebufferDimensionsObject\", {\n    set: function(dimensions) {\n      this._framebufferDimensionsObject = dimensions;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"currentViewport\", {\n    get: function() {\n      return this._cachedViewport;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"emptyTexture\", {\n    get: function() {\n      if (!this._emptyTexture) {\n        this._emptyTexture = this.createRawTexture(new Uint8Array(4), 1, 1, 5, false, false, 1);\n      }\n      return this._emptyTexture;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"emptyTexture3D\", {\n    get: function() {\n      if (!this._emptyTexture3D) {\n        this._emptyTexture3D = this.createRawTexture3D(new Uint8Array(4), 1, 1, 1, 5, false, false, 1);\n      }\n      return this._emptyTexture3D;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"emptyTexture2DArray\", {\n    get: function() {\n      if (!this._emptyTexture2DArray) {\n        this._emptyTexture2DArray = this.createRawTexture2DArray(new Uint8Array(4), 1, 1, 1, 5, false, false, 1);\n      }\n      return this._emptyTexture2DArray;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"emptyCubeTexture\", {\n    get: function() {\n      if (!this._emptyCubeTexture) {\n        var faceData = new Uint8Array(4);\n        var cubeData = [faceData, faceData, faceData, faceData, faceData, faceData];\n        this._emptyCubeTexture = this.createRawCubeTexture(cubeData, 1, 5, 0, false, false, 1);\n      }\n      return this._emptyCubeTexture;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"isWebGPU\", {\n    get: function() {\n      return this._isWebGPU;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"shaderPlatformName\", {\n    get: function() {\n      return this._shaderPlatformName;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"snapshotRendering\", {\n    get: function() {\n      return false;\n    },\n    set: function(activate) {\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"snapshotRenderingMode\", {\n    get: function() {\n      return this._snapshotRenderingMode;\n    },\n    set: function(mode) {\n      this._snapshotRenderingMode = mode;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ThinEngine2.prototype.snapshotRenderingReset = function() {\n    this.snapshotRendering = false;\n  };\n  ThinEngine2._CreateCanvas = function(width, height) {\n    if (typeof document === \"undefined\") {\n      return new OffscreenCanvas(width, height);\n    }\n    var canvas = document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  };\n  ThinEngine2.prototype.createCanvas = function(width, height) {\n    return ThinEngine2._CreateCanvas(width, height);\n  };\n  ThinEngine2.prototype.createCanvasImage = function() {\n    return document.createElement(\"img\");\n  };\n  ThinEngine2.prototype._restoreEngineAfterContextLost = function(initEngine) {\n    var _this = this;\n    setTimeout(function() {\n      return __awaiter(_this, void 0, void 0, function() {\n        var depthTest, depthFunc, depthMask, stencilTest;\n        var _a;\n        return __generator(this, function(_b) {\n          switch (_b.label) {\n            case 0:\n              this._dummyFramebuffer = null;\n              depthTest = this._depthCullingState.depthTest;\n              depthFunc = this._depthCullingState.depthFunc;\n              depthMask = this._depthCullingState.depthMask;\n              stencilTest = this._stencilState.stencilTest;\n              return [4, initEngine()];\n            case 1:\n              _b.sent();\n              this._rebuildEffects();\n              (_a = this._rebuildComputeEffects) === null || _a === void 0 ? void 0 : _a.call(this);\n              this._rebuildInternalTextures();\n              this._rebuildRenderTargetWrappers();\n              this._rebuildBuffers();\n              this.wipeCaches(true);\n              this._depthCullingState.depthTest = depthTest;\n              this._depthCullingState.depthFunc = depthFunc;\n              this._depthCullingState.depthMask = depthMask;\n              this._stencilState.stencilTest = stencilTest;\n              Logger.Warn(this.name + \" context successfully restored.\");\n              this.onContextRestoredObservable.notifyObservers(this);\n              this._contextWasLost = false;\n              return [2];\n          }\n        });\n      });\n    }, 0);\n  };\n  ThinEngine2.prototype._sharedInit = function(canvas, doNotHandleTouchAction, audioEngine) {\n    this._renderingCanvas = canvas;\n  };\n  ThinEngine2.prototype._getShaderProcessingContext = function(shaderLanguage) {\n    return null;\n  };\n  ThinEngine2.prototype._rebuildInternalTextures = function() {\n    var currentState = this._internalTexturesCache.slice();\n    for (var _i = 0, currentState_1 = currentState; _i < currentState_1.length; _i++) {\n      var internalTexture = currentState_1[_i];\n      internalTexture._rebuild();\n    }\n  };\n  ThinEngine2.prototype._rebuildRenderTargetWrappers = function() {\n    var currentState = this._renderTargetWrapperCache.slice();\n    for (var _i = 0, currentState_2 = currentState; _i < currentState_2.length; _i++) {\n      var renderTargetWrapper = currentState_2[_i];\n      renderTargetWrapper._rebuild();\n    }\n  };\n  ThinEngine2.prototype._rebuildEffects = function() {\n    for (var key in this._compiledEffects) {\n      var effect = this._compiledEffects[key];\n      effect._pipelineContext = null;\n      effect._wasPreviouslyReady = false;\n      effect._prepareEffect();\n    }\n    Effect.ResetCache();\n  };\n  ThinEngine2.prototype.areAllEffectsReady = function() {\n    for (var key in this._compiledEffects) {\n      var effect = this._compiledEffects[key];\n      if (!effect.isReady()) {\n        return false;\n      }\n    }\n    return true;\n  };\n  ThinEngine2.prototype._rebuildBuffers = function() {\n    for (var _i = 0, _a = this._uniformBuffers; _i < _a.length; _i++) {\n      var uniformBuffer = _a[_i];\n      uniformBuffer._rebuild();\n    }\n    for (var _b = 0, _c = this._storageBuffers; _b < _c.length; _b++) {\n      var storageBuffer = _c[_b];\n      storageBuffer._rebuild();\n    }\n  };\n  ThinEngine2.prototype._initGLContext = function() {\n    this._caps = {\n      maxTexturesImageUnits: this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS),\n      maxCombinedTexturesImageUnits: this._gl.getParameter(this._gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),\n      maxVertexTextureImageUnits: this._gl.getParameter(this._gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS),\n      maxTextureSize: this._gl.getParameter(this._gl.MAX_TEXTURE_SIZE),\n      maxSamples: this._webGLVersion > 1 ? this._gl.getParameter(this._gl.MAX_SAMPLES) : 1,\n      maxCubemapTextureSize: this._gl.getParameter(this._gl.MAX_CUBE_MAP_TEXTURE_SIZE),\n      maxRenderTextureSize: this._gl.getParameter(this._gl.MAX_RENDERBUFFER_SIZE),\n      maxVertexAttribs: this._gl.getParameter(this._gl.MAX_VERTEX_ATTRIBS),\n      maxVaryingVectors: this._gl.getParameter(this._gl.MAX_VARYING_VECTORS),\n      maxFragmentUniformVectors: this._gl.getParameter(this._gl.MAX_FRAGMENT_UNIFORM_VECTORS),\n      maxVertexUniformVectors: this._gl.getParameter(this._gl.MAX_VERTEX_UNIFORM_VECTORS),\n      parallelShaderCompile: this._gl.getExtension(\"KHR_parallel_shader_compile\") || void 0,\n      standardDerivatives: this._webGLVersion > 1 || this._gl.getExtension(\"OES_standard_derivatives\") !== null,\n      maxAnisotropy: 1,\n      astc: this._gl.getExtension(\"WEBGL_compressed_texture_astc\") || this._gl.getExtension(\"WEBKIT_WEBGL_compressed_texture_astc\"),\n      bptc: this._gl.getExtension(\"EXT_texture_compression_bptc\") || this._gl.getExtension(\"WEBKIT_EXT_texture_compression_bptc\"),\n      s3tc: this._gl.getExtension(\"WEBGL_compressed_texture_s3tc\") || this._gl.getExtension(\"WEBKIT_WEBGL_compressed_texture_s3tc\"),\n      s3tc_srgb: this._gl.getExtension(\"WEBGL_compressed_texture_s3tc_srgb\") || this._gl.getExtension(\"WEBKIT_WEBGL_compressed_texture_s3tc_srgb\"),\n      pvrtc: this._gl.getExtension(\"WEBGL_compressed_texture_pvrtc\") || this._gl.getExtension(\"WEBKIT_WEBGL_compressed_texture_pvrtc\"),\n      etc1: this._gl.getExtension(\"WEBGL_compressed_texture_etc1\") || this._gl.getExtension(\"WEBKIT_WEBGL_compressed_texture_etc1\"),\n      etc2: this._gl.getExtension(\"WEBGL_compressed_texture_etc\") || this._gl.getExtension(\"WEBKIT_WEBGL_compressed_texture_etc\") || this._gl.getExtension(\"WEBGL_compressed_texture_es3_0\"),\n      textureAnisotropicFilterExtension: this._gl.getExtension(\"EXT_texture_filter_anisotropic\") || this._gl.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\") || this._gl.getExtension(\"MOZ_EXT_texture_filter_anisotropic\"),\n      uintIndices: this._webGLVersion > 1 || this._gl.getExtension(\"OES_element_index_uint\") !== null,\n      fragmentDepthSupported: this._webGLVersion > 1 || this._gl.getExtension(\"EXT_frag_depth\") !== null,\n      highPrecisionShaderSupported: false,\n      timerQuery: this._gl.getExtension(\"EXT_disjoint_timer_query_webgl2\") || this._gl.getExtension(\"EXT_disjoint_timer_query\"),\n      supportOcclusionQuery: this._webGLVersion > 1,\n      canUseTimestampForTimerQuery: false,\n      drawBuffersExtension: false,\n      maxMSAASamples: 1,\n      colorBufferFloat: !!(this._webGLVersion > 1 && this._gl.getExtension(\"EXT_color_buffer_float\")),\n      textureFloat: this._webGLVersion > 1 || this._gl.getExtension(\"OES_texture_float\") ? true : false,\n      textureHalfFloat: this._webGLVersion > 1 || this._gl.getExtension(\"OES_texture_half_float\") ? true : false,\n      textureHalfFloatRender: false,\n      textureFloatLinearFiltering: false,\n      textureFloatRender: false,\n      textureHalfFloatLinearFiltering: false,\n      vertexArrayObject: false,\n      instancedArrays: false,\n      textureLOD: this._webGLVersion > 1 || this._gl.getExtension(\"EXT_shader_texture_lod\") ? true : false,\n      blendMinMax: false,\n      multiview: this._gl.getExtension(\"OVR_multiview2\"),\n      oculusMultiview: this._gl.getExtension(\"OCULUS_multiview\"),\n      depthTextureExtension: false,\n      canUseGLInstanceID: this._webGLVersion > 1,\n      canUseGLVertexID: this._webGLVersion > 1,\n      supportComputeShaders: false,\n      supportSRGBBuffers: false,\n      supportTransformFeedbacks: this._webGLVersion > 1,\n      textureMaxLevel: this._webGLVersion > 1,\n      texture2DArrayMaxLayerCount: this._webGLVersion > 1 ? 256 : 128\n    };\n    this._glVersion = this._gl.getParameter(this._gl.VERSION);\n    var rendererInfo = this._gl.getExtension(\"WEBGL_debug_renderer_info\");\n    if (rendererInfo != null) {\n      this._glRenderer = this._gl.getParameter(rendererInfo.UNMASKED_RENDERER_WEBGL);\n      this._glVendor = this._gl.getParameter(rendererInfo.UNMASKED_VENDOR_WEBGL);\n    }\n    if (!this._glVendor) {\n      this._glVendor = this._gl.getParameter(this._gl.VENDOR) || \"Unknown vendor\";\n    }\n    if (!this._glRenderer) {\n      this._glRenderer = this._gl.getParameter(this._gl.RENDERER) || \"Unknown renderer\";\n    }\n    if (this._gl.HALF_FLOAT_OES !== 36193) {\n      this._gl.HALF_FLOAT_OES = 36193;\n    }\n    if (this._gl.RGBA16F !== 34842) {\n      this._gl.RGBA16F = 34842;\n    }\n    if (this._gl.RGBA32F !== 34836) {\n      this._gl.RGBA32F = 34836;\n    }\n    if (this._gl.DEPTH24_STENCIL8 !== 35056) {\n      this._gl.DEPTH24_STENCIL8 = 35056;\n    }\n    if (this._caps.timerQuery) {\n      if (this._webGLVersion === 1) {\n        this._gl.getQuery = this._caps.timerQuery.getQueryEXT.bind(this._caps.timerQuery);\n      }\n      this._caps.canUseTimestampForTimerQuery = this._gl.getQuery(this._caps.timerQuery.TIMESTAMP_EXT, this._caps.timerQuery.QUERY_COUNTER_BITS_EXT) > 0;\n    }\n    this._caps.maxAnisotropy = this._caps.textureAnisotropicFilterExtension ? this._gl.getParameter(this._caps.textureAnisotropicFilterExtension.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0;\n    this._caps.textureFloatLinearFiltering = this._caps.textureFloat && this._gl.getExtension(\"OES_texture_float_linear\") ? true : false;\n    this._caps.textureFloatRender = this._caps.textureFloat && this._canRenderToFloatFramebuffer() ? true : false;\n    this._caps.textureHalfFloatLinearFiltering = this._webGLVersion > 1 || this._caps.textureHalfFloat && this._gl.getExtension(\"OES_texture_half_float_linear\") ? true : false;\n    if (this._caps.astc) {\n      this._gl.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR = this._caps.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR;\n    }\n    if (this._caps.bptc) {\n      this._gl.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT = this._caps.bptc.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT;\n    }\n    if (this._caps.s3tc_srgb) {\n      this._gl.COMPRESSED_SRGB_S3TC_DXT1_EXT = this._caps.s3tc_srgb.COMPRESSED_SRGB_S3TC_DXT1_EXT;\n      this._gl.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT = this._caps.s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;\n      this._gl.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT = this._caps.s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT;\n    }\n    if (this._caps.etc2) {\n      this._gl.COMPRESSED_SRGB8_ETC2 = this._caps.etc2.COMPRESSED_SRGB8_ETC2;\n      this._gl.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC = this._caps.etc2.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC;\n    }\n    if (this._webGLVersion > 1) {\n      if (this._gl.HALF_FLOAT_OES !== 5131) {\n        this._gl.HALF_FLOAT_OES = 5131;\n      }\n    }\n    this._caps.textureHalfFloatRender = this._caps.textureHalfFloat && this._canRenderToHalfFloatFramebuffer();\n    if (this._webGLVersion > 1) {\n      this._caps.drawBuffersExtension = true;\n      this._caps.maxMSAASamples = this._maxMSAASamplesOverride !== null ? this._maxMSAASamplesOverride : this._gl.getParameter(this._gl.MAX_SAMPLES);\n    } else {\n      var drawBuffersExtension = this._gl.getExtension(\"WEBGL_draw_buffers\");\n      if (drawBuffersExtension !== null) {\n        this._caps.drawBuffersExtension = true;\n        this._gl.drawBuffers = drawBuffersExtension.drawBuffersWEBGL.bind(drawBuffersExtension);\n        this._gl.DRAW_FRAMEBUFFER = this._gl.FRAMEBUFFER;\n        for (var i = 0; i < 16; i++) {\n          this._gl[\"COLOR_ATTACHMENT\" + i + \"_WEBGL\"] = drawBuffersExtension[\"COLOR_ATTACHMENT\" + i + \"_WEBGL\"];\n        }\n      }\n    }\n    if (this._webGLVersion > 1) {\n      this._caps.depthTextureExtension = true;\n    } else {\n      var depthTextureExtension = this._gl.getExtension(\"WEBGL_depth_texture\");\n      if (depthTextureExtension != null) {\n        this._caps.depthTextureExtension = true;\n        this._gl.UNSIGNED_INT_24_8 = depthTextureExtension.UNSIGNED_INT_24_8_WEBGL;\n      }\n    }\n    if (this.disableVertexArrayObjects) {\n      this._caps.vertexArrayObject = false;\n    } else if (this._webGLVersion > 1) {\n      this._caps.vertexArrayObject = true;\n    } else {\n      var vertexArrayObjectExtension = this._gl.getExtension(\"OES_vertex_array_object\");\n      if (vertexArrayObjectExtension != null) {\n        this._caps.vertexArrayObject = true;\n        this._gl.createVertexArray = vertexArrayObjectExtension.createVertexArrayOES.bind(vertexArrayObjectExtension);\n        this._gl.bindVertexArray = vertexArrayObjectExtension.bindVertexArrayOES.bind(vertexArrayObjectExtension);\n        this._gl.deleteVertexArray = vertexArrayObjectExtension.deleteVertexArrayOES.bind(vertexArrayObjectExtension);\n      }\n    }\n    if (this._webGLVersion > 1) {\n      this._caps.instancedArrays = true;\n    } else {\n      var instanceExtension = this._gl.getExtension(\"ANGLE_instanced_arrays\");\n      if (instanceExtension != null) {\n        this._caps.instancedArrays = true;\n        this._gl.drawArraysInstanced = instanceExtension.drawArraysInstancedANGLE.bind(instanceExtension);\n        this._gl.drawElementsInstanced = instanceExtension.drawElementsInstancedANGLE.bind(instanceExtension);\n        this._gl.vertexAttribDivisor = instanceExtension.vertexAttribDivisorANGLE.bind(instanceExtension);\n      } else {\n        this._caps.instancedArrays = false;\n      }\n    }\n    if (this._gl.getShaderPrecisionFormat) {\n      var vertexhighp = this._gl.getShaderPrecisionFormat(this._gl.VERTEX_SHADER, this._gl.HIGH_FLOAT);\n      var fragmenthighp = this._gl.getShaderPrecisionFormat(this._gl.FRAGMENT_SHADER, this._gl.HIGH_FLOAT);\n      if (vertexhighp && fragmenthighp) {\n        this._caps.highPrecisionShaderSupported = vertexhighp.precision !== 0 && fragmenthighp.precision !== 0;\n      }\n    }\n    if (this._webGLVersion > 1) {\n      this._caps.blendMinMax = true;\n    } else {\n      var blendMinMaxExtension = this._gl.getExtension(\"EXT_blend_minmax\");\n      if (blendMinMaxExtension != null) {\n        this._caps.blendMinMax = true;\n        this._gl.MAX = blendMinMaxExtension.MAX_EXT;\n        this._gl.MIN = blendMinMaxExtension.MIN_EXT;\n      }\n    }\n    if (!this._caps.supportSRGBBuffers) {\n      if (this._webGLVersion > 1) {\n        this._caps.supportSRGBBuffers = true;\n      } else {\n        var sRGBExtension = this._gl.getExtension(\"EXT_sRGB\");\n        if (sRGBExtension != null) {\n          this._caps.supportSRGBBuffers = true;\n          this._gl.SRGB = sRGBExtension.SRGB_EXT;\n          this._gl.SRGB8 = sRGBExtension.SRGB_ALPHA_EXT;\n          this._gl.SRGB8_ALPHA8 = sRGBExtension.SRGB_ALPHA_EXT;\n        }\n      }\n      this._caps.supportSRGBBuffers = this._caps.supportSRGBBuffers && !!(this._creationOptions && this._creationOptions.forceSRGBBufferSupportState);\n    }\n    this._depthCullingState.depthTest = true;\n    this._depthCullingState.depthFunc = this._gl.LEQUAL;\n    this._depthCullingState.depthMask = true;\n    this._maxSimultaneousTextures = this._caps.maxCombinedTexturesImageUnits;\n    for (var slot = 0; slot < this._maxSimultaneousTextures; slot++) {\n      this._nextFreeTextureSlots.push(slot);\n    }\n  };\n  ThinEngine2.prototype._initFeatures = function() {\n    this._features = {\n      forceBitmapOverHTMLImageElement: false,\n      supportRenderAndCopyToLodForFloatTextures: this._webGLVersion !== 1,\n      supportDepthStencilTexture: this._webGLVersion !== 1,\n      supportShadowSamplers: this._webGLVersion !== 1,\n      uniformBufferHardCheckMatrix: false,\n      allowTexturePrefiltering: this._webGLVersion !== 1,\n      trackUbosInFrame: false,\n      checkUbosContentBeforeUpload: false,\n      supportCSM: this._webGLVersion !== 1,\n      basisNeedsPOT: this._webGLVersion === 1,\n      support3DTextures: this._webGLVersion !== 1,\n      needTypeSuffixInShaderConstants: this._webGLVersion !== 1,\n      supportMSAA: this._webGLVersion !== 1,\n      supportSSAO2: this._webGLVersion !== 1,\n      supportExtendedTextureFormats: this._webGLVersion !== 1,\n      supportSwitchCaseInShader: this._webGLVersion !== 1,\n      supportSyncTextureRead: true,\n      needsInvertingBitmap: true,\n      useUBOBindingCache: true,\n      needShaderCodeInlining: false,\n      needToAlwaysBindUniformBuffers: false,\n      supportRenderPasses: false,\n      _collectUbosUpdatedInFrame: false\n    };\n  };\n  Object.defineProperty(ThinEngine2.prototype, \"webGLVersion\", {\n    get: function() {\n      return this._webGLVersion;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ThinEngine2.prototype.getClassName = function() {\n    return \"ThinEngine\";\n  };\n  Object.defineProperty(ThinEngine2.prototype, \"isStencilEnable\", {\n    get: function() {\n      return this._isStencilEnable;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ThinEngine2.prototype._prepareWorkingCanvas = function() {\n    if (this._workingCanvas) {\n      return;\n    }\n    this._workingCanvas = this.createCanvas(1, 1);\n    var context = this._workingCanvas.getContext(\"2d\");\n    if (context) {\n      this._workingContext = context;\n    }\n  };\n  ThinEngine2.prototype.resetTextureCache = function() {\n    for (var key in this._boundTexturesCache) {\n      if (!Object.prototype.hasOwnProperty.call(this._boundTexturesCache, key)) {\n        continue;\n      }\n      this._boundTexturesCache[key] = null;\n    }\n    this._currentTextureChannel = -1;\n  };\n  ThinEngine2.prototype.getInfo = function() {\n    return this.getGlInfo();\n  };\n  ThinEngine2.prototype.getGlInfo = function() {\n    return {\n      vendor: this._glVendor,\n      renderer: this._glRenderer,\n      version: this._glVersion\n    };\n  };\n  ThinEngine2.prototype.setHardwareScalingLevel = function(level) {\n    this._hardwareScalingLevel = level;\n    this.resize();\n  };\n  ThinEngine2.prototype.getHardwareScalingLevel = function() {\n    return this._hardwareScalingLevel;\n  };\n  ThinEngine2.prototype.getLoadedTexturesCache = function() {\n    return this._internalTexturesCache;\n  };\n  ThinEngine2.prototype.getCaps = function() {\n    return this._caps;\n  };\n  ThinEngine2.prototype.stopRenderLoop = function(renderFunction) {\n    if (!renderFunction) {\n      this._activeRenderLoops = [];\n      return;\n    }\n    var index = this._activeRenderLoops.indexOf(renderFunction);\n    if (index >= 0) {\n      this._activeRenderLoops.splice(index, 1);\n    }\n  };\n  ThinEngine2.prototype._renderLoop = function() {\n    if (!this._contextWasLost) {\n      var shouldRender = true;\n      if (!this.renderEvenInBackground && this._windowIsBackground) {\n        shouldRender = false;\n      }\n      if (shouldRender) {\n        this.beginFrame();\n        for (var index = 0; index < this._activeRenderLoops.length; index++) {\n          var renderFunction = this._activeRenderLoops[index];\n          renderFunction();\n        }\n        this.endFrame();\n      }\n    }\n    if (this._activeRenderLoops.length > 0) {\n      this._frameHandler = this._queueNewFrame(this._boundRenderFunction, this.getHostWindow());\n    } else {\n      this._renderingQueueLaunched = false;\n    }\n  };\n  ThinEngine2.prototype.getRenderingCanvas = function() {\n    return this._renderingCanvas;\n  };\n  ThinEngine2.prototype.getAudioContext = function() {\n    return this._audioContext;\n  };\n  ThinEngine2.prototype.getAudioDestination = function() {\n    return this._audioDestination;\n  };\n  ThinEngine2.prototype.getHostWindow = function() {\n    if (!IsWindowObjectExist()) {\n      return null;\n    }\n    if (this._renderingCanvas && this._renderingCanvas.ownerDocument && this._renderingCanvas.ownerDocument.defaultView) {\n      return this._renderingCanvas.ownerDocument.defaultView;\n    }\n    return window;\n  };\n  ThinEngine2.prototype.getRenderWidth = function(useScreen) {\n    if (useScreen === void 0) {\n      useScreen = false;\n    }\n    if (!useScreen && this._currentRenderTarget) {\n      return this._currentRenderTarget.width;\n    }\n    return this._framebufferDimensionsObject ? this._framebufferDimensionsObject.framebufferWidth : this._gl.drawingBufferWidth;\n  };\n  ThinEngine2.prototype.getRenderHeight = function(useScreen) {\n    if (useScreen === void 0) {\n      useScreen = false;\n    }\n    if (!useScreen && this._currentRenderTarget) {\n      return this._currentRenderTarget.height;\n    }\n    return this._framebufferDimensionsObject ? this._framebufferDimensionsObject.framebufferHeight : this._gl.drawingBufferHeight;\n  };\n  ThinEngine2.prototype._queueNewFrame = function(bindedRenderFunction, requester) {\n    return ThinEngine2.QueueNewFrame(bindedRenderFunction, requester);\n  };\n  ThinEngine2.prototype.runRenderLoop = function(renderFunction) {\n    if (this._activeRenderLoops.indexOf(renderFunction) !== -1) {\n      return;\n    }\n    this._activeRenderLoops.push(renderFunction);\n    if (!this._renderingQueueLaunched) {\n      this._renderingQueueLaunched = true;\n      this._boundRenderFunction = this._renderLoop.bind(this);\n      this._frameHandler = this._queueNewFrame(this._boundRenderFunction, this.getHostWindow());\n    }\n  };\n  ThinEngine2.prototype.clear = function(color, backBuffer, depth, stencil) {\n    if (stencil === void 0) {\n      stencil = false;\n    }\n    var useStencilGlobalOnly = this.stencilStateComposer.useStencilGlobalOnly;\n    this.stencilStateComposer.useStencilGlobalOnly = true;\n    this.applyStates();\n    this.stencilStateComposer.useStencilGlobalOnly = useStencilGlobalOnly;\n    var mode = 0;\n    if (backBuffer && color) {\n      this._gl.clearColor(color.r, color.g, color.b, color.a !== void 0 ? color.a : 1);\n      mode |= this._gl.COLOR_BUFFER_BIT;\n    }\n    if (depth) {\n      if (this.useReverseDepthBuffer) {\n        this._depthCullingState.depthFunc = this._gl.GEQUAL;\n        this._gl.clearDepth(0);\n      } else {\n        this._gl.clearDepth(1);\n      }\n      mode |= this._gl.DEPTH_BUFFER_BIT;\n    }\n    if (stencil) {\n      this._gl.clearStencil(0);\n      mode |= this._gl.STENCIL_BUFFER_BIT;\n    }\n    this._gl.clear(mode);\n  };\n  ThinEngine2.prototype._viewport = function(x, y, width, height) {\n    if (x !== this._viewportCached.x || y !== this._viewportCached.y || width !== this._viewportCached.z || height !== this._viewportCached.w) {\n      this._viewportCached.x = x;\n      this._viewportCached.y = y;\n      this._viewportCached.z = width;\n      this._viewportCached.w = height;\n      this._gl.viewport(x, y, width, height);\n    }\n  };\n  ThinEngine2.prototype.setViewport = function(viewport, requiredWidth, requiredHeight) {\n    var width = requiredWidth || this.getRenderWidth();\n    var height = requiredHeight || this.getRenderHeight();\n    var x = viewport.x || 0;\n    var y = viewport.y || 0;\n    this._cachedViewport = viewport;\n    this._viewport(x * width, y * height, width * viewport.width, height * viewport.height);\n  };\n  ThinEngine2.prototype.beginFrame = function() {\n  };\n  ThinEngine2.prototype.endFrame = function() {\n    if (this._badOS) {\n      this.flushFramebuffer();\n    }\n    this._frameId++;\n  };\n  ThinEngine2.prototype.resize = function(forceSetSize) {\n    if (forceSetSize === void 0) {\n      forceSetSize = false;\n    }\n    var width;\n    var height;\n    if (this._adaptToDeviceRatio) {\n      var devicePixelRatio_1 = IsWindowObjectExist() ? window.devicePixelRatio || 1 : 1;\n      var limitDeviceRatio = this._creationOptions.limitDeviceRatio || devicePixelRatio_1;\n      this._hardwareScalingLevel = this._adaptToDeviceRatio ? 1 / Math.min(limitDeviceRatio, devicePixelRatio_1) : 1;\n    }\n    if (IsWindowObjectExist()) {\n      width = this._renderingCanvas ? this._renderingCanvas.clientWidth || this._renderingCanvas.width : window.innerWidth;\n      height = this._renderingCanvas ? this._renderingCanvas.clientHeight || this._renderingCanvas.height : window.innerHeight;\n    } else {\n      width = this._renderingCanvas ? this._renderingCanvas.width : 100;\n      height = this._renderingCanvas ? this._renderingCanvas.height : 100;\n    }\n    this.setSize(width / this._hardwareScalingLevel, height / this._hardwareScalingLevel, forceSetSize);\n  };\n  ThinEngine2.prototype.setSize = function(width, height, forceSetSize) {\n    if (forceSetSize === void 0) {\n      forceSetSize = false;\n    }\n    if (!this._renderingCanvas) {\n      return false;\n    }\n    width = width | 0;\n    height = height | 0;\n    if (!forceSetSize && this._renderingCanvas.width === width && this._renderingCanvas.height === height) {\n      return false;\n    }\n    this._renderingCanvas.width = width;\n    this._renderingCanvas.height = height;\n    return true;\n  };\n  ThinEngine2.prototype.bindFramebuffer = function(texture, faceIndex, requiredWidth, requiredHeight, forceFullscreenViewport, lodLevel, layer) {\n    var _a, _b, _c, _d, _e;\n    if (faceIndex === void 0) {\n      faceIndex = 0;\n    }\n    if (lodLevel === void 0) {\n      lodLevel = 0;\n    }\n    if (layer === void 0) {\n      layer = 0;\n    }\n    var webglRTWrapper = texture;\n    if (this._currentRenderTarget) {\n      this.unBindFramebuffer(this._currentRenderTarget);\n    }\n    this._currentRenderTarget = texture;\n    this._bindUnboundFramebuffer(webglRTWrapper._MSAAFramebuffer ? webglRTWrapper._MSAAFramebuffer : webglRTWrapper._framebuffer);\n    var gl = this._gl;\n    if (texture.is2DArray) {\n      gl.framebufferTextureLayer(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, (_a = texture.texture._hardwareTexture) === null || _a === void 0 ? void 0 : _a.underlyingResource, lodLevel, layer);\n    } else if (texture.isCube) {\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_CUBE_MAP_POSITIVE_X + faceIndex, (_b = texture.texture._hardwareTexture) === null || _b === void 0 ? void 0 : _b.underlyingResource, lodLevel);\n    }\n    var depthStencilTexture = texture._depthStencilTexture;\n    if (depthStencilTexture) {\n      var attachment = texture._depthStencilTextureWithStencil ? gl.DEPTH_STENCIL_ATTACHMENT : gl.DEPTH_ATTACHMENT;\n      if (texture.is2DArray) {\n        gl.framebufferTextureLayer(gl.FRAMEBUFFER, attachment, (_c = depthStencilTexture._hardwareTexture) === null || _c === void 0 ? void 0 : _c.underlyingResource, lodLevel, layer);\n      } else if (texture.isCube) {\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, attachment, gl.TEXTURE_CUBE_MAP_POSITIVE_X + faceIndex, (_d = depthStencilTexture._hardwareTexture) === null || _d === void 0 ? void 0 : _d.underlyingResource, lodLevel);\n      } else {\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, attachment, gl.TEXTURE_2D, (_e = depthStencilTexture._hardwareTexture) === null || _e === void 0 ? void 0 : _e.underlyingResource, lodLevel);\n      }\n    }\n    if (this._cachedViewport && !forceFullscreenViewport) {\n      this.setViewport(this._cachedViewport, requiredWidth, requiredHeight);\n    } else {\n      if (!requiredWidth) {\n        requiredWidth = texture.width;\n        if (lodLevel) {\n          requiredWidth = requiredWidth / Math.pow(2, lodLevel);\n        }\n      }\n      if (!requiredHeight) {\n        requiredHeight = texture.height;\n        if (lodLevel) {\n          requiredHeight = requiredHeight / Math.pow(2, lodLevel);\n        }\n      }\n      this._viewport(0, 0, requiredWidth, requiredHeight);\n    }\n    this.wipeCaches();\n  };\n  ThinEngine2.prototype.setState = function(culling, zOffset, force, reverseSide, cullBackFaces, stencil, zOffsetUnits) {\n    var _a, _b;\n    if (zOffset === void 0) {\n      zOffset = 0;\n    }\n    if (reverseSide === void 0) {\n      reverseSide = false;\n    }\n    if (zOffsetUnits === void 0) {\n      zOffsetUnits = 0;\n    }\n    if (this._depthCullingState.cull !== culling || force) {\n      this._depthCullingState.cull = culling;\n    }\n    var cullFace = ((_b = (_a = this.cullBackFaces) !== null && _a !== void 0 ? _a : cullBackFaces) !== null && _b !== void 0 ? _b : true) ? this._gl.BACK : this._gl.FRONT;\n    if (this._depthCullingState.cullFace !== cullFace || force) {\n      this._depthCullingState.cullFace = cullFace;\n    }\n    this.setZOffset(zOffset);\n    this.setZOffsetUnits(zOffsetUnits);\n    var frontFace = reverseSide ? this._gl.CW : this._gl.CCW;\n    if (this._depthCullingState.frontFace !== frontFace || force) {\n      this._depthCullingState.frontFace = frontFace;\n    }\n    this._stencilStateComposer.stencilMaterial = stencil;\n  };\n  ThinEngine2.prototype.setZOffset = function(value) {\n    this._depthCullingState.zOffset = this.useReverseDepthBuffer ? -value : value;\n  };\n  ThinEngine2.prototype.getZOffset = function() {\n    var zOffset = this._depthCullingState.zOffset;\n    return this.useReverseDepthBuffer ? -zOffset : zOffset;\n  };\n  ThinEngine2.prototype.setZOffsetUnits = function(value) {\n    this._depthCullingState.zOffsetUnits = this.useReverseDepthBuffer ? -value : value;\n  };\n  ThinEngine2.prototype.getZOffsetUnits = function() {\n    var zOffsetUnits = this._depthCullingState.zOffsetUnits;\n    return this.useReverseDepthBuffer ? -zOffsetUnits : zOffsetUnits;\n  };\n  ThinEngine2.prototype._bindUnboundFramebuffer = function(framebuffer) {\n    if (this._currentFramebuffer !== framebuffer) {\n      this._gl.bindFramebuffer(this._gl.FRAMEBUFFER, framebuffer);\n      this._currentFramebuffer = framebuffer;\n    }\n  };\n  ThinEngine2.prototype._currentFrameBufferIsDefaultFrameBuffer = function() {\n    return this._currentFramebuffer === null;\n  };\n  ThinEngine2.prototype.generateMipmaps = function(texture) {\n    this._bindTextureDirectly(this._gl.TEXTURE_2D, texture, true);\n    this._gl.generateMipmap(this._gl.TEXTURE_2D);\n    this._bindTextureDirectly(this._gl.TEXTURE_2D, null);\n  };\n  ThinEngine2.prototype.unBindFramebuffer = function(texture, disableGenerateMipMaps, onBeforeUnbind) {\n    var _a;\n    if (disableGenerateMipMaps === void 0) {\n      disableGenerateMipMaps = false;\n    }\n    var webglRTWrapper = texture;\n    this._currentRenderTarget = null;\n    var gl = this._gl;\n    if (webglRTWrapper._MSAAFramebuffer) {\n      if (texture.isMulti) {\n        this.unBindMultiColorAttachmentFramebuffer(texture, disableGenerateMipMaps, onBeforeUnbind);\n        return;\n      }\n      gl.bindFramebuffer(gl.READ_FRAMEBUFFER, webglRTWrapper._MSAAFramebuffer);\n      gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, webglRTWrapper._framebuffer);\n      gl.blitFramebuffer(0, 0, texture.width, texture.height, 0, 0, texture.width, texture.height, gl.COLOR_BUFFER_BIT, gl.NEAREST);\n    }\n    if (((_a = texture.texture) === null || _a === void 0 ? void 0 : _a.generateMipMaps) && !disableGenerateMipMaps && !texture.isCube) {\n      this.generateMipmaps(texture.texture);\n    }\n    if (onBeforeUnbind) {\n      if (webglRTWrapper._MSAAFramebuffer) {\n        this._bindUnboundFramebuffer(webglRTWrapper._framebuffer);\n      }\n      onBeforeUnbind();\n    }\n    this._bindUnboundFramebuffer(null);\n  };\n  ThinEngine2.prototype.flushFramebuffer = function() {\n    this._gl.flush();\n  };\n  ThinEngine2.prototype.restoreDefaultFramebuffer = function() {\n    if (this._currentRenderTarget) {\n      this.unBindFramebuffer(this._currentRenderTarget);\n    } else {\n      this._bindUnboundFramebuffer(null);\n    }\n    if (this._cachedViewport) {\n      this.setViewport(this._cachedViewport);\n    }\n    this.wipeCaches();\n  };\n  ThinEngine2.prototype._resetVertexBufferBinding = function() {\n    this.bindArrayBuffer(null);\n    this._cachedVertexBuffers = null;\n  };\n  ThinEngine2.prototype.createVertexBuffer = function(data) {\n    return this._createVertexBuffer(data, this._gl.STATIC_DRAW);\n  };\n  ThinEngine2.prototype._createVertexBuffer = function(data, usage) {\n    var vbo = this._gl.createBuffer();\n    if (!vbo) {\n      throw new Error(\"Unable to create vertex buffer\");\n    }\n    var dataBuffer = new WebGLDataBuffer(vbo);\n    this.bindArrayBuffer(dataBuffer);\n    if (data instanceof Array) {\n      this._gl.bufferData(this._gl.ARRAY_BUFFER, new Float32Array(data), usage);\n    } else {\n      this._gl.bufferData(this._gl.ARRAY_BUFFER, data, usage);\n    }\n    this._resetVertexBufferBinding();\n    dataBuffer.references = 1;\n    return dataBuffer;\n  };\n  ThinEngine2.prototype.createDynamicVertexBuffer = function(data) {\n    return this._createVertexBuffer(data, this._gl.DYNAMIC_DRAW);\n  };\n  ThinEngine2.prototype._resetIndexBufferBinding = function() {\n    this.bindIndexBuffer(null);\n    this._cachedIndexBuffer = null;\n  };\n  ThinEngine2.prototype.createIndexBuffer = function(indices, updatable) {\n    var vbo = this._gl.createBuffer();\n    var dataBuffer = new WebGLDataBuffer(vbo);\n    if (!vbo) {\n      throw new Error(\"Unable to create index buffer\");\n    }\n    this.bindIndexBuffer(dataBuffer);\n    var data = this._normalizeIndexData(indices);\n    this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER, data, updatable ? this._gl.DYNAMIC_DRAW : this._gl.STATIC_DRAW);\n    this._resetIndexBufferBinding();\n    dataBuffer.references = 1;\n    dataBuffer.is32Bits = data.BYTES_PER_ELEMENT === 4;\n    return dataBuffer;\n  };\n  ThinEngine2.prototype._normalizeIndexData = function(indices) {\n    var bytesPerElement = indices.BYTES_PER_ELEMENT;\n    if (bytesPerElement === 2) {\n      return indices;\n    }\n    if (this._caps.uintIndices) {\n      if (indices instanceof Uint32Array) {\n        return indices;\n      } else {\n        for (var index = 0; index < indices.length; index++) {\n          if (indices[index] >= 65535) {\n            return new Uint32Array(indices);\n          }\n        }\n        return new Uint16Array(indices);\n      }\n    }\n    return new Uint16Array(indices);\n  };\n  ThinEngine2.prototype.bindArrayBuffer = function(buffer) {\n    if (!this._vaoRecordInProgress) {\n      this._unbindVertexArrayObject();\n    }\n    this._bindBuffer(buffer, this._gl.ARRAY_BUFFER);\n  };\n  ThinEngine2.prototype.bindUniformBlock = function(pipelineContext, blockName, index) {\n    var program = pipelineContext.program;\n    var uniformLocation = this._gl.getUniformBlockIndex(program, blockName);\n    this._gl.uniformBlockBinding(program, uniformLocation, index);\n  };\n  ThinEngine2.prototype.bindIndexBuffer = function(buffer) {\n    if (!this._vaoRecordInProgress) {\n      this._unbindVertexArrayObject();\n    }\n    this._bindBuffer(buffer, this._gl.ELEMENT_ARRAY_BUFFER);\n  };\n  ThinEngine2.prototype._bindBuffer = function(buffer, target) {\n    if (this._vaoRecordInProgress || this._currentBoundBuffer[target] !== buffer) {\n      this._gl.bindBuffer(target, buffer ? buffer.underlyingResource : null);\n      this._currentBoundBuffer[target] = buffer;\n    }\n  };\n  ThinEngine2.prototype.updateArrayBuffer = function(data) {\n    this._gl.bufferSubData(this._gl.ARRAY_BUFFER, 0, data);\n  };\n  ThinEngine2.prototype._vertexAttribPointer = function(buffer, indx, size, type, normalized, stride, offset) {\n    var pointer = this._currentBufferPointers[indx];\n    if (!pointer) {\n      return;\n    }\n    var changed = false;\n    if (!pointer.active) {\n      changed = true;\n      pointer.active = true;\n      pointer.index = indx;\n      pointer.size = size;\n      pointer.type = type;\n      pointer.normalized = normalized;\n      pointer.stride = stride;\n      pointer.offset = offset;\n      pointer.buffer = buffer;\n    } else {\n      if (pointer.buffer !== buffer) {\n        pointer.buffer = buffer;\n        changed = true;\n      }\n      if (pointer.size !== size) {\n        pointer.size = size;\n        changed = true;\n      }\n      if (pointer.type !== type) {\n        pointer.type = type;\n        changed = true;\n      }\n      if (pointer.normalized !== normalized) {\n        pointer.normalized = normalized;\n        changed = true;\n      }\n      if (pointer.stride !== stride) {\n        pointer.stride = stride;\n        changed = true;\n      }\n      if (pointer.offset !== offset) {\n        pointer.offset = offset;\n        changed = true;\n      }\n    }\n    if (changed || this._vaoRecordInProgress) {\n      this.bindArrayBuffer(buffer);\n      this._gl.vertexAttribPointer(indx, size, type, normalized, stride, offset);\n    }\n  };\n  ThinEngine2.prototype._bindIndexBufferWithCache = function(indexBuffer) {\n    if (indexBuffer == null) {\n      return;\n    }\n    if (this._cachedIndexBuffer !== indexBuffer) {\n      this._cachedIndexBuffer = indexBuffer;\n      this.bindIndexBuffer(indexBuffer);\n      this._uintIndicesCurrentlySet = indexBuffer.is32Bits;\n    }\n  };\n  ThinEngine2.prototype._bindVertexBuffersAttributes = function(vertexBuffers, effect, overrideVertexBuffers) {\n    var attributes = effect.getAttributesNames();\n    if (!this._vaoRecordInProgress) {\n      this._unbindVertexArrayObject();\n    }\n    this.unbindAllAttributes();\n    for (var index = 0; index < attributes.length; index++) {\n      var order = effect.getAttributeLocation(index);\n      if (order >= 0) {\n        var ai = attributes[index];\n        var vertexBuffer = null;\n        if (overrideVertexBuffers) {\n          vertexBuffer = overrideVertexBuffers[ai];\n        }\n        if (!vertexBuffer) {\n          vertexBuffer = vertexBuffers[ai];\n        }\n        if (!vertexBuffer) {\n          continue;\n        }\n        this._gl.enableVertexAttribArray(order);\n        if (!this._vaoRecordInProgress) {\n          this._vertexAttribArraysEnabled[order] = true;\n        }\n        var buffer = vertexBuffer.getBuffer();\n        if (buffer) {\n          this._vertexAttribPointer(buffer, order, vertexBuffer.getSize(), vertexBuffer.type, vertexBuffer.normalized, vertexBuffer.byteStride, vertexBuffer.byteOffset);\n          if (vertexBuffer.getIsInstanced()) {\n            this._gl.vertexAttribDivisor(order, vertexBuffer.getInstanceDivisor());\n            if (!this._vaoRecordInProgress) {\n              this._currentInstanceLocations.push(order);\n              this._currentInstanceBuffers.push(buffer);\n            }\n          }\n        }\n      }\n    }\n  };\n  ThinEngine2.prototype.recordVertexArrayObject = function(vertexBuffers, indexBuffer, effect, overrideVertexBuffers) {\n    var vao = this._gl.createVertexArray();\n    this._vaoRecordInProgress = true;\n    this._gl.bindVertexArray(vao);\n    this._mustWipeVertexAttributes = true;\n    this._bindVertexBuffersAttributes(vertexBuffers, effect, overrideVertexBuffers);\n    this.bindIndexBuffer(indexBuffer);\n    this._vaoRecordInProgress = false;\n    this._gl.bindVertexArray(null);\n    return vao;\n  };\n  ThinEngine2.prototype.bindVertexArrayObject = function(vertexArrayObject, indexBuffer) {\n    if (this._cachedVertexArrayObject !== vertexArrayObject) {\n      this._cachedVertexArrayObject = vertexArrayObject;\n      this._gl.bindVertexArray(vertexArrayObject);\n      this._cachedVertexBuffers = null;\n      this._cachedIndexBuffer = null;\n      this._uintIndicesCurrentlySet = indexBuffer != null && indexBuffer.is32Bits;\n      this._mustWipeVertexAttributes = true;\n    }\n  };\n  ThinEngine2.prototype.bindBuffersDirectly = function(vertexBuffer, indexBuffer, vertexDeclaration, vertexStrideSize, effect) {\n    if (this._cachedVertexBuffers !== vertexBuffer || this._cachedEffectForVertexBuffers !== effect) {\n      this._cachedVertexBuffers = vertexBuffer;\n      this._cachedEffectForVertexBuffers = effect;\n      var attributesCount = effect.getAttributesCount();\n      this._unbindVertexArrayObject();\n      this.unbindAllAttributes();\n      var offset = 0;\n      for (var index = 0; index < attributesCount; index++) {\n        if (index < vertexDeclaration.length) {\n          var order = effect.getAttributeLocation(index);\n          if (order >= 0) {\n            this._gl.enableVertexAttribArray(order);\n            this._vertexAttribArraysEnabled[order] = true;\n            this._vertexAttribPointer(vertexBuffer, order, vertexDeclaration[index], this._gl.FLOAT, false, vertexStrideSize, offset);\n          }\n          offset += vertexDeclaration[index] * 4;\n        }\n      }\n    }\n    this._bindIndexBufferWithCache(indexBuffer);\n  };\n  ThinEngine2.prototype._unbindVertexArrayObject = function() {\n    if (!this._cachedVertexArrayObject) {\n      return;\n    }\n    this._cachedVertexArrayObject = null;\n    this._gl.bindVertexArray(null);\n  };\n  ThinEngine2.prototype.bindBuffers = function(vertexBuffers, indexBuffer, effect, overrideVertexBuffers) {\n    if (this._cachedVertexBuffers !== vertexBuffers || this._cachedEffectForVertexBuffers !== effect) {\n      this._cachedVertexBuffers = vertexBuffers;\n      this._cachedEffectForVertexBuffers = effect;\n      this._bindVertexBuffersAttributes(vertexBuffers, effect, overrideVertexBuffers);\n    }\n    this._bindIndexBufferWithCache(indexBuffer);\n  };\n  ThinEngine2.prototype.unbindInstanceAttributes = function() {\n    var boundBuffer;\n    for (var i = 0, ul = this._currentInstanceLocations.length; i < ul; i++) {\n      var instancesBuffer = this._currentInstanceBuffers[i];\n      if (boundBuffer != instancesBuffer && instancesBuffer.references) {\n        boundBuffer = instancesBuffer;\n        this.bindArrayBuffer(instancesBuffer);\n      }\n      var offsetLocation = this._currentInstanceLocations[i];\n      this._gl.vertexAttribDivisor(offsetLocation, 0);\n    }\n    this._currentInstanceBuffers.length = 0;\n    this._currentInstanceLocations.length = 0;\n  };\n  ThinEngine2.prototype.releaseVertexArrayObject = function(vao) {\n    this._gl.deleteVertexArray(vao);\n  };\n  ThinEngine2.prototype._releaseBuffer = function(buffer) {\n    buffer.references--;\n    if (buffer.references === 0) {\n      this._deleteBuffer(buffer);\n      return true;\n    }\n    return false;\n  };\n  ThinEngine2.prototype._deleteBuffer = function(buffer) {\n    this._gl.deleteBuffer(buffer.underlyingResource);\n  };\n  ThinEngine2.prototype.updateAndBindInstancesBuffer = function(instancesBuffer, data, offsetLocations) {\n    this.bindArrayBuffer(instancesBuffer);\n    if (data) {\n      this._gl.bufferSubData(this._gl.ARRAY_BUFFER, 0, data);\n    }\n    if (offsetLocations[0].index !== void 0) {\n      this.bindInstancesBuffer(instancesBuffer, offsetLocations, true);\n    } else {\n      for (var index = 0; index < 4; index++) {\n        var offsetLocation = offsetLocations[index];\n        if (!this._vertexAttribArraysEnabled[offsetLocation]) {\n          this._gl.enableVertexAttribArray(offsetLocation);\n          this._vertexAttribArraysEnabled[offsetLocation] = true;\n        }\n        this._vertexAttribPointer(instancesBuffer, offsetLocation, 4, this._gl.FLOAT, false, 64, index * 16);\n        this._gl.vertexAttribDivisor(offsetLocation, 1);\n        this._currentInstanceLocations.push(offsetLocation);\n        this._currentInstanceBuffers.push(instancesBuffer);\n      }\n    }\n  };\n  ThinEngine2.prototype.bindInstancesBuffer = function(instancesBuffer, attributesInfo, computeStride) {\n    if (computeStride === void 0) {\n      computeStride = true;\n    }\n    this.bindArrayBuffer(instancesBuffer);\n    var stride = 0;\n    if (computeStride) {\n      for (var i = 0; i < attributesInfo.length; i++) {\n        var ai = attributesInfo[i];\n        stride += ai.attributeSize * 4;\n      }\n    }\n    for (var i = 0; i < attributesInfo.length; i++) {\n      var ai = attributesInfo[i];\n      if (ai.index === void 0) {\n        ai.index = this._currentEffect.getAttributeLocationByName(ai.attributeName);\n      }\n      if (ai.index < 0) {\n        continue;\n      }\n      if (!this._vertexAttribArraysEnabled[ai.index]) {\n        this._gl.enableVertexAttribArray(ai.index);\n        this._vertexAttribArraysEnabled[ai.index] = true;\n      }\n      this._vertexAttribPointer(instancesBuffer, ai.index, ai.attributeSize, ai.attributeType || this._gl.FLOAT, ai.normalized || false, stride, ai.offset);\n      this._gl.vertexAttribDivisor(ai.index, ai.divisor === void 0 ? 1 : ai.divisor);\n      this._currentInstanceLocations.push(ai.index);\n      this._currentInstanceBuffers.push(instancesBuffer);\n    }\n  };\n  ThinEngine2.prototype.disableInstanceAttributeByName = function(name2) {\n    if (!this._currentEffect) {\n      return;\n    }\n    var attributeLocation = this._currentEffect.getAttributeLocationByName(name2);\n    this.disableInstanceAttribute(attributeLocation);\n  };\n  ThinEngine2.prototype.disableInstanceAttribute = function(attributeLocation) {\n    var shouldClean = false;\n    var index;\n    while ((index = this._currentInstanceLocations.indexOf(attributeLocation)) !== -1) {\n      this._currentInstanceLocations.splice(index, 1);\n      this._currentInstanceBuffers.splice(index, 1);\n      shouldClean = true;\n      index = this._currentInstanceLocations.indexOf(attributeLocation);\n    }\n    if (shouldClean) {\n      this._gl.vertexAttribDivisor(attributeLocation, 0);\n      this.disableAttributeByIndex(attributeLocation);\n    }\n  };\n  ThinEngine2.prototype.disableAttributeByIndex = function(attributeLocation) {\n    this._gl.disableVertexAttribArray(attributeLocation);\n    this._vertexAttribArraysEnabled[attributeLocation] = false;\n    this._currentBufferPointers[attributeLocation].active = false;\n  };\n  ThinEngine2.prototype.draw = function(useTriangles, indexStart, indexCount, instancesCount) {\n    this.drawElementsType(useTriangles ? 0 : 1, indexStart, indexCount, instancesCount);\n  };\n  ThinEngine2.prototype.drawPointClouds = function(verticesStart, verticesCount, instancesCount) {\n    this.drawArraysType(2, verticesStart, verticesCount, instancesCount);\n  };\n  ThinEngine2.prototype.drawUnIndexed = function(useTriangles, verticesStart, verticesCount, instancesCount) {\n    this.drawArraysType(useTriangles ? 0 : 1, verticesStart, verticesCount, instancesCount);\n  };\n  ThinEngine2.prototype.drawElementsType = function(fillMode, indexStart, indexCount, instancesCount) {\n    this.applyStates();\n    this._reportDrawCall();\n    var drawMode = this._drawMode(fillMode);\n    var indexFormat = this._uintIndicesCurrentlySet ? this._gl.UNSIGNED_INT : this._gl.UNSIGNED_SHORT;\n    var mult = this._uintIndicesCurrentlySet ? 4 : 2;\n    if (instancesCount) {\n      this._gl.drawElementsInstanced(drawMode, indexCount, indexFormat, indexStart * mult, instancesCount);\n    } else {\n      this._gl.drawElements(drawMode, indexCount, indexFormat, indexStart * mult);\n    }\n  };\n  ThinEngine2.prototype.drawArraysType = function(fillMode, verticesStart, verticesCount, instancesCount) {\n    this.applyStates();\n    this._reportDrawCall();\n    var drawMode = this._drawMode(fillMode);\n    if (instancesCount) {\n      this._gl.drawArraysInstanced(drawMode, verticesStart, verticesCount, instancesCount);\n    } else {\n      this._gl.drawArrays(drawMode, verticesStart, verticesCount);\n    }\n  };\n  ThinEngine2.prototype._drawMode = function(fillMode) {\n    switch (fillMode) {\n      case 0:\n        return this._gl.TRIANGLES;\n      case 2:\n        return this._gl.POINTS;\n      case 1:\n        return this._gl.LINES;\n      case 3:\n        return this._gl.POINTS;\n      case 4:\n        return this._gl.LINES;\n      case 5:\n        return this._gl.LINE_LOOP;\n      case 6:\n        return this._gl.LINE_STRIP;\n      case 7:\n        return this._gl.TRIANGLE_STRIP;\n      case 8:\n        return this._gl.TRIANGLE_FAN;\n      default:\n        return this._gl.TRIANGLES;\n    }\n  };\n  ThinEngine2.prototype._reportDrawCall = function() {\n  };\n  ThinEngine2.prototype._releaseEffect = function(effect) {\n    if (this._compiledEffects[effect._key]) {\n      delete this._compiledEffects[effect._key];\n      var pipelineContext = effect.getPipelineContext();\n      if (pipelineContext) {\n        this._deletePipelineContext(pipelineContext);\n      }\n    }\n  };\n  ThinEngine2.prototype._deletePipelineContext = function(pipelineContext) {\n    var webGLPipelineContext = pipelineContext;\n    if (webGLPipelineContext && webGLPipelineContext.program) {\n      webGLPipelineContext.program.__SPECTOR_rebuildProgram = null;\n      this._gl.deleteProgram(webGLPipelineContext.program);\n    }\n  };\n  ThinEngine2.prototype._getGlobalDefines = function(defines) {\n    if (defines) {\n      if (this.isNDCHalfZRange) {\n        defines[\"IS_NDC_HALF_ZRANGE\"] = \"\";\n      } else {\n        delete defines[\"IS_NDC_HALF_ZRANGE\"];\n      }\n      if (this.useReverseDepthBuffer) {\n        defines[\"USE_REVERSE_DEPTHBUFFER\"] = \"\";\n      } else {\n        delete defines[\"USE_REVERSE_DEPTHBUFFER\"];\n      }\n      return;\n    } else {\n      var s = \"\";\n      if (this.isNDCHalfZRange) {\n        s += \"#define IS_NDC_HALF_ZRANGE\";\n      }\n      if (this.useReverseDepthBuffer) {\n        if (s) {\n          s += \"\\n\";\n        }\n        s += \"#define USE_REVERSE_DEPTHBUFFER\";\n      }\n      return s;\n    }\n  };\n  ThinEngine2.prototype.createEffect = function(baseName, attributesNamesOrOptions, uniformsNamesOrEngine, samplers, defines, fallbacks, onCompiled, onError, indexParameters, shaderLanguage) {\n    var _a;\n    if (shaderLanguage === void 0) {\n      shaderLanguage = ShaderLanguage.GLSL;\n    }\n    var vertex = baseName.vertexElement || baseName.vertex || baseName.vertexToken || baseName.vertexSource || baseName;\n    var fragment = baseName.fragmentElement || baseName.fragment || baseName.fragmentToken || baseName.fragmentSource || baseName;\n    var globalDefines = this._getGlobalDefines();\n    var fullDefines = (_a = defines !== null && defines !== void 0 ? defines : attributesNamesOrOptions.defines) !== null && _a !== void 0 ? _a : \"\";\n    if (globalDefines) {\n      fullDefines += globalDefines;\n    }\n    var name2 = vertex + \"+\" + fragment + \"@\" + fullDefines;\n    if (this._compiledEffects[name2]) {\n      var compiledEffect = this._compiledEffects[name2];\n      if (onCompiled && compiledEffect.isReady()) {\n        onCompiled(compiledEffect);\n      }\n      return compiledEffect;\n    }\n    var effect = new Effect(baseName, attributesNamesOrOptions, uniformsNamesOrEngine, samplers, this, defines, fallbacks, onCompiled, onError, indexParameters, name2, shaderLanguage);\n    this._compiledEffects[name2] = effect;\n    return effect;\n  };\n  ThinEngine2._ConcatenateShader = function(source, defines, shaderVersion) {\n    if (shaderVersion === void 0) {\n      shaderVersion = \"\";\n    }\n    return shaderVersion + (defines ? defines + \"\\n\" : \"\") + source;\n  };\n  ThinEngine2.prototype._compileShader = function(source, type, defines, shaderVersion) {\n    return this._compileRawShader(ThinEngine2._ConcatenateShader(source, defines, shaderVersion), type);\n  };\n  ThinEngine2.prototype._compileRawShader = function(source, type) {\n    var gl = this._gl;\n    var shader2 = gl.createShader(type === \"vertex\" ? gl.VERTEX_SHADER : gl.FRAGMENT_SHADER);\n    if (!shader2) {\n      var error = gl.NO_ERROR;\n      var tempError = gl.NO_ERROR;\n      while ((tempError = gl.getError()) !== gl.NO_ERROR) {\n        error = tempError;\n      }\n      throw new Error(\"Something went wrong while creating a gl \".concat(type, \" shader object. gl error=\").concat(error, \", gl isContextLost=\").concat(gl.isContextLost(), \", _contextWasLost=\").concat(this._contextWasLost));\n    }\n    gl.shaderSource(shader2, source);\n    gl.compileShader(shader2);\n    return shader2;\n  };\n  ThinEngine2.prototype._getShaderSource = function(shader2) {\n    return this._gl.getShaderSource(shader2);\n  };\n  ThinEngine2.prototype.createRawShaderProgram = function(pipelineContext, vertexCode, fragmentCode, context, transformFeedbackVaryings) {\n    if (transformFeedbackVaryings === void 0) {\n      transformFeedbackVaryings = null;\n    }\n    context = context || this._gl;\n    var vertexShader = this._compileRawShader(vertexCode, \"vertex\");\n    var fragmentShader = this._compileRawShader(fragmentCode, \"fragment\");\n    return this._createShaderProgram(pipelineContext, vertexShader, fragmentShader, context, transformFeedbackVaryings);\n  };\n  ThinEngine2.prototype.createShaderProgram = function(pipelineContext, vertexCode, fragmentCode, defines, context, transformFeedbackVaryings) {\n    if (transformFeedbackVaryings === void 0) {\n      transformFeedbackVaryings = null;\n    }\n    context = context || this._gl;\n    var shaderVersion = this._webGLVersion > 1 ? \"#version 300 es\\n#define WEBGL2 \\n\" : \"\";\n    var vertexShader = this._compileShader(vertexCode, \"vertex\", defines, shaderVersion);\n    var fragmentShader = this._compileShader(fragmentCode, \"fragment\", defines, shaderVersion);\n    return this._createShaderProgram(pipelineContext, vertexShader, fragmentShader, context, transformFeedbackVaryings);\n  };\n  ThinEngine2.prototype.inlineShaderCode = function(code) {\n    return code;\n  };\n  ThinEngine2.prototype.createPipelineContext = function(shaderProcessingContext) {\n    var pipelineContext = new WebGLPipelineContext();\n    pipelineContext.engine = this;\n    if (this._caps.parallelShaderCompile) {\n      pipelineContext.isParallelCompiled = true;\n    }\n    return pipelineContext;\n  };\n  ThinEngine2.prototype.createMaterialContext = function() {\n    return void 0;\n  };\n  ThinEngine2.prototype.createDrawContext = function() {\n    return void 0;\n  };\n  ThinEngine2.prototype._createShaderProgram = function(pipelineContext, vertexShader, fragmentShader, context, transformFeedbackVaryings) {\n    var shaderProgram = context.createProgram();\n    pipelineContext.program = shaderProgram;\n    if (!shaderProgram) {\n      throw new Error(\"Unable to create program\");\n    }\n    context.attachShader(shaderProgram, vertexShader);\n    context.attachShader(shaderProgram, fragmentShader);\n    context.linkProgram(shaderProgram);\n    pipelineContext.context = context;\n    pipelineContext.vertexShader = vertexShader;\n    pipelineContext.fragmentShader = fragmentShader;\n    if (!pipelineContext.isParallelCompiled) {\n      this._finalizePipelineContext(pipelineContext);\n    }\n    return shaderProgram;\n  };\n  ThinEngine2.prototype._finalizePipelineContext = function(pipelineContext) {\n    var context = pipelineContext.context;\n    var vertexShader = pipelineContext.vertexShader;\n    var fragmentShader = pipelineContext.fragmentShader;\n    var program = pipelineContext.program;\n    var linked = context.getProgramParameter(program, context.LINK_STATUS);\n    if (!linked) {\n      if (!this._gl.getShaderParameter(vertexShader, this._gl.COMPILE_STATUS)) {\n        var log = this._gl.getShaderInfoLog(vertexShader);\n        if (log) {\n          pipelineContext.vertexCompilationError = log;\n          throw new Error(\"VERTEX SHADER \" + log);\n        }\n      }\n      if (!this._gl.getShaderParameter(fragmentShader, this._gl.COMPILE_STATUS)) {\n        var log = this._gl.getShaderInfoLog(fragmentShader);\n        if (log) {\n          pipelineContext.fragmentCompilationError = log;\n          throw new Error(\"FRAGMENT SHADER \" + log);\n        }\n      }\n      var error = context.getProgramInfoLog(program);\n      if (error) {\n        pipelineContext.programLinkError = error;\n        throw new Error(error);\n      }\n    }\n    if (this.validateShaderPrograms) {\n      context.validateProgram(program);\n      var validated = context.getProgramParameter(program, context.VALIDATE_STATUS);\n      if (!validated) {\n        var error = context.getProgramInfoLog(program);\n        if (error) {\n          pipelineContext.programValidationError = error;\n          throw new Error(error);\n        }\n      }\n    }\n    context.deleteShader(vertexShader);\n    context.deleteShader(fragmentShader);\n    pipelineContext.vertexShader = void 0;\n    pipelineContext.fragmentShader = void 0;\n    if (pipelineContext.onCompiled) {\n      pipelineContext.onCompiled();\n      pipelineContext.onCompiled = void 0;\n    }\n  };\n  ThinEngine2.prototype._preparePipelineContext = function(pipelineContext, vertexSourceCode, fragmentSourceCode, createAsRaw, rawVertexSourceCode, rawFragmentSourceCode, rebuildRebind, defines, transformFeedbackVaryings, key) {\n    var webGLRenderingState = pipelineContext;\n    if (createAsRaw) {\n      webGLRenderingState.program = this.createRawShaderProgram(webGLRenderingState, vertexSourceCode, fragmentSourceCode, void 0, transformFeedbackVaryings);\n    } else {\n      webGLRenderingState.program = this.createShaderProgram(webGLRenderingState, vertexSourceCode, fragmentSourceCode, defines, void 0, transformFeedbackVaryings);\n    }\n    webGLRenderingState.program.__SPECTOR_rebuildProgram = rebuildRebind;\n  };\n  ThinEngine2.prototype._isRenderingStateCompiled = function(pipelineContext) {\n    var webGLPipelineContext = pipelineContext;\n    if (this._gl.getProgramParameter(webGLPipelineContext.program, this._caps.parallelShaderCompile.COMPLETION_STATUS_KHR)) {\n      this._finalizePipelineContext(webGLPipelineContext);\n      return true;\n    }\n    return false;\n  };\n  ThinEngine2.prototype._executeWhenRenderingStateIsCompiled = function(pipelineContext, action) {\n    var webGLPipelineContext = pipelineContext;\n    if (!webGLPipelineContext.isParallelCompiled) {\n      action();\n      return;\n    }\n    var oldHandler = webGLPipelineContext.onCompiled;\n    if (oldHandler) {\n      webGLPipelineContext.onCompiled = function() {\n        oldHandler();\n        action();\n      };\n    } else {\n      webGLPipelineContext.onCompiled = action;\n    }\n  };\n  ThinEngine2.prototype.getUniforms = function(pipelineContext, uniformsNames) {\n    var results = new Array();\n    var webGLPipelineContext = pipelineContext;\n    for (var index = 0; index < uniformsNames.length; index++) {\n      results.push(this._gl.getUniformLocation(webGLPipelineContext.program, uniformsNames[index]));\n    }\n    return results;\n  };\n  ThinEngine2.prototype.getAttributes = function(pipelineContext, attributesNames) {\n    var results = [];\n    var webGLPipelineContext = pipelineContext;\n    for (var index = 0; index < attributesNames.length; index++) {\n      try {\n        results.push(this._gl.getAttribLocation(webGLPipelineContext.program, attributesNames[index]));\n      } catch (e) {\n        results.push(-1);\n      }\n    }\n    return results;\n  };\n  ThinEngine2.prototype.enableEffect = function(effect) {\n    effect = effect !== null && DrawWrapper.IsWrapper(effect) ? effect.effect : effect;\n    if (!effect || effect === this._currentEffect) {\n      return;\n    }\n    this._stencilStateComposer.stencilMaterial = void 0;\n    effect = effect;\n    this.bindSamplers(effect);\n    this._currentEffect = effect;\n    if (effect.onBind) {\n      effect.onBind(effect);\n    }\n    if (effect._onBindObservable) {\n      effect._onBindObservable.notifyObservers(effect);\n    }\n  };\n  ThinEngine2.prototype.setInt = function(uniform, value) {\n    if (!uniform) {\n      return false;\n    }\n    this._gl.uniform1i(uniform, value);\n    return true;\n  };\n  ThinEngine2.prototype.setInt2 = function(uniform, x, y) {\n    if (!uniform) {\n      return false;\n    }\n    this._gl.uniform2i(uniform, x, y);\n    return true;\n  };\n  ThinEngine2.prototype.setInt3 = function(uniform, x, y, z) {\n    if (!uniform) {\n      return false;\n    }\n    this._gl.uniform3i(uniform, x, y, z);\n    return true;\n  };\n  ThinEngine2.prototype.setInt4 = function(uniform, x, y, z, w) {\n    if (!uniform) {\n      return false;\n    }\n    this._gl.uniform4i(uniform, x, y, z, w);\n    return true;\n  };\n  ThinEngine2.prototype.setIntArray = function(uniform, array) {\n    if (!uniform) {\n      return false;\n    }\n    this._gl.uniform1iv(uniform, array);\n    return true;\n  };\n  ThinEngine2.prototype.setIntArray2 = function(uniform, array) {\n    if (!uniform || array.length % 2 !== 0) {\n      return false;\n    }\n    this._gl.uniform2iv(uniform, array);\n    return true;\n  };\n  ThinEngine2.prototype.setIntArray3 = function(uniform, array) {\n    if (!uniform || array.length % 3 !== 0) {\n      return false;\n    }\n    this._gl.uniform3iv(uniform, array);\n    return true;\n  };\n  ThinEngine2.prototype.setIntArray4 = function(uniform, array) {\n    if (!uniform || array.length % 4 !== 0) {\n      return false;\n    }\n    this._gl.uniform4iv(uniform, array);\n    return true;\n  };\n  ThinEngine2.prototype.setArray = function(uniform, array) {\n    if (!uniform) {\n      return false;\n    }\n    if (array.length < 1) {\n      return false;\n    }\n    this._gl.uniform1fv(uniform, array);\n    return true;\n  };\n  ThinEngine2.prototype.setArray2 = function(uniform, array) {\n    if (!uniform || array.length % 2 !== 0) {\n      return false;\n    }\n    this._gl.uniform2fv(uniform, array);\n    return true;\n  };\n  ThinEngine2.prototype.setArray3 = function(uniform, array) {\n    if (!uniform || array.length % 3 !== 0) {\n      return false;\n    }\n    this._gl.uniform3fv(uniform, array);\n    return true;\n  };\n  ThinEngine2.prototype.setArray4 = function(uniform, array) {\n    if (!uniform || array.length % 4 !== 0) {\n      return false;\n    }\n    this._gl.uniform4fv(uniform, array);\n    return true;\n  };\n  ThinEngine2.prototype.setMatrices = function(uniform, matrices) {\n    if (!uniform) {\n      return false;\n    }\n    this._gl.uniformMatrix4fv(uniform, false, matrices);\n    return true;\n  };\n  ThinEngine2.prototype.setMatrix3x3 = function(uniform, matrix) {\n    if (!uniform) {\n      return false;\n    }\n    this._gl.uniformMatrix3fv(uniform, false, matrix);\n    return true;\n  };\n  ThinEngine2.prototype.setMatrix2x2 = function(uniform, matrix) {\n    if (!uniform) {\n      return false;\n    }\n    this._gl.uniformMatrix2fv(uniform, false, matrix);\n    return true;\n  };\n  ThinEngine2.prototype.setFloat = function(uniform, value) {\n    if (!uniform) {\n      return false;\n    }\n    this._gl.uniform1f(uniform, value);\n    return true;\n  };\n  ThinEngine2.prototype.setFloat2 = function(uniform, x, y) {\n    if (!uniform) {\n      return false;\n    }\n    this._gl.uniform2f(uniform, x, y);\n    return true;\n  };\n  ThinEngine2.prototype.setFloat3 = function(uniform, x, y, z) {\n    if (!uniform) {\n      return false;\n    }\n    this._gl.uniform3f(uniform, x, y, z);\n    return true;\n  };\n  ThinEngine2.prototype.setFloat4 = function(uniform, x, y, z, w) {\n    if (!uniform) {\n      return false;\n    }\n    this._gl.uniform4f(uniform, x, y, z, w);\n    return true;\n  };\n  ThinEngine2.prototype.applyStates = function() {\n    this._depthCullingState.apply(this._gl);\n    this._stencilStateComposer.apply(this._gl);\n    this._alphaState.apply(this._gl);\n    if (this._colorWriteChanged) {\n      this._colorWriteChanged = false;\n      var enable = this._colorWrite;\n      this._gl.colorMask(enable, enable, enable, enable);\n    }\n  };\n  ThinEngine2.prototype.setColorWrite = function(enable) {\n    if (enable !== this._colorWrite) {\n      this._colorWriteChanged = true;\n      this._colorWrite = enable;\n    }\n  };\n  ThinEngine2.prototype.getColorWrite = function() {\n    return this._colorWrite;\n  };\n  Object.defineProperty(ThinEngine2.prototype, \"depthCullingState\", {\n    get: function() {\n      return this._depthCullingState;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"alphaState\", {\n    get: function() {\n      return this._alphaState;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"stencilState\", {\n    get: function() {\n      return this._stencilState;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2.prototype, \"stencilStateComposer\", {\n    get: function() {\n      return this._stencilStateComposer;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ThinEngine2.prototype.clearInternalTexturesCache = function() {\n    this._internalTexturesCache = [];\n  };\n  ThinEngine2.prototype.wipeCaches = function(bruteForce) {\n    if (this.preventCacheWipeBetweenFrames && !bruteForce) {\n      return;\n    }\n    this._currentEffect = null;\n    this._viewportCached.x = 0;\n    this._viewportCached.y = 0;\n    this._viewportCached.z = 0;\n    this._viewportCached.w = 0;\n    this._unbindVertexArrayObject();\n    if (bruteForce) {\n      this._currentProgram = null;\n      this.resetTextureCache();\n      this._stencilStateComposer.reset();\n      this._depthCullingState.reset();\n      this._depthCullingState.depthFunc = this._gl.LEQUAL;\n      this._alphaState.reset();\n      this._alphaMode = 1;\n      this._alphaEquation = 0;\n      this._colorWrite = true;\n      this._colorWriteChanged = true;\n      this._unpackFlipYCached = null;\n      this._gl.pixelStorei(this._gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, this._gl.NONE);\n      this._gl.pixelStorei(this._gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 0);\n      this._mustWipeVertexAttributes = true;\n      this.unbindAllAttributes();\n    }\n    this._resetVertexBufferBinding();\n    this._cachedIndexBuffer = null;\n    this._cachedEffectForVertexBuffers = null;\n    this.bindIndexBuffer(null);\n  };\n  ThinEngine2.prototype._getSamplingParameters = function(samplingMode, generateMipMaps) {\n    var gl = this._gl;\n    var magFilter = gl.NEAREST;\n    var minFilter = gl.NEAREST;\n    switch (samplingMode) {\n      case 11:\n        magFilter = gl.LINEAR;\n        if (generateMipMaps) {\n          minFilter = gl.LINEAR_MIPMAP_NEAREST;\n        } else {\n          minFilter = gl.LINEAR;\n        }\n        break;\n      case 3:\n        magFilter = gl.LINEAR;\n        if (generateMipMaps) {\n          minFilter = gl.LINEAR_MIPMAP_LINEAR;\n        } else {\n          minFilter = gl.LINEAR;\n        }\n        break;\n      case 8:\n        magFilter = gl.NEAREST;\n        if (generateMipMaps) {\n          minFilter = gl.NEAREST_MIPMAP_LINEAR;\n        } else {\n          minFilter = gl.NEAREST;\n        }\n        break;\n      case 4:\n        magFilter = gl.NEAREST;\n        if (generateMipMaps) {\n          minFilter = gl.NEAREST_MIPMAP_NEAREST;\n        } else {\n          minFilter = gl.NEAREST;\n        }\n        break;\n      case 5:\n        magFilter = gl.NEAREST;\n        if (generateMipMaps) {\n          minFilter = gl.LINEAR_MIPMAP_NEAREST;\n        } else {\n          minFilter = gl.LINEAR;\n        }\n        break;\n      case 6:\n        magFilter = gl.NEAREST;\n        if (generateMipMaps) {\n          minFilter = gl.LINEAR_MIPMAP_LINEAR;\n        } else {\n          minFilter = gl.LINEAR;\n        }\n        break;\n      case 7:\n        magFilter = gl.NEAREST;\n        minFilter = gl.LINEAR;\n        break;\n      case 1:\n        magFilter = gl.NEAREST;\n        minFilter = gl.NEAREST;\n        break;\n      case 9:\n        magFilter = gl.LINEAR;\n        if (generateMipMaps) {\n          minFilter = gl.NEAREST_MIPMAP_NEAREST;\n        } else {\n          minFilter = gl.NEAREST;\n        }\n        break;\n      case 10:\n        magFilter = gl.LINEAR;\n        if (generateMipMaps) {\n          minFilter = gl.NEAREST_MIPMAP_LINEAR;\n        } else {\n          minFilter = gl.NEAREST;\n        }\n        break;\n      case 2:\n        magFilter = gl.LINEAR;\n        minFilter = gl.LINEAR;\n        break;\n      case 12:\n        magFilter = gl.LINEAR;\n        minFilter = gl.NEAREST;\n        break;\n    }\n    return {\n      min: minFilter,\n      mag: magFilter\n    };\n  };\n  ThinEngine2.prototype._createTexture = function() {\n    var texture = this._gl.createTexture();\n    if (!texture) {\n      throw new Error(\"Unable to create texture\");\n    }\n    return texture;\n  };\n  ThinEngine2.prototype._createHardwareTexture = function() {\n    return new WebGLHardwareTexture(this._createTexture(), this._gl);\n  };\n  ThinEngine2.prototype._createInternalTexture = function(size, options, delayGPUTextureCreation, source) {\n    if (source === void 0) {\n      source = InternalTextureSource.Unknown;\n    }\n    var fullOptions = {};\n    if (options !== void 0 && typeof options === \"object\") {\n      fullOptions.generateMipMaps = options.generateMipMaps;\n      fullOptions.type = options.type === void 0 ? 0 : options.type;\n      fullOptions.samplingMode = options.samplingMode === void 0 ? 3 : options.samplingMode;\n      fullOptions.format = options.format === void 0 ? 5 : options.format;\n      fullOptions.useSRGBBuffer = options.useSRGBBuffer === void 0 ? false : options.useSRGBBuffer;\n    } else {\n      fullOptions.generateMipMaps = options;\n      fullOptions.type = 0;\n      fullOptions.samplingMode = 3;\n      fullOptions.format = 5;\n      fullOptions.useSRGBBuffer = false;\n    }\n    fullOptions.useSRGBBuffer = fullOptions.useSRGBBuffer && this._caps.supportSRGBBuffers && (this.webGLVersion > 1 || this.isWebGPU);\n    if (fullOptions.type === 1 && !this._caps.textureFloatLinearFiltering) {\n      fullOptions.samplingMode = 1;\n    } else if (fullOptions.type === 2 && !this._caps.textureHalfFloatLinearFiltering) {\n      fullOptions.samplingMode = 1;\n    }\n    if (fullOptions.type === 1 && !this._caps.textureFloat) {\n      fullOptions.type = 0;\n      Logger.Warn(\"Float textures are not supported. Type forced to TEXTURETYPE_UNSIGNED_BYTE\");\n    }\n    var gl = this._gl;\n    var texture = new InternalTexture(this, source);\n    texture._useSRGBBuffer = !!fullOptions.useSRGBBuffer;\n    var width = size.width || size;\n    var height = size.height || size;\n    var layers = size.layers || 0;\n    var filters = this._getSamplingParameters(fullOptions.samplingMode, fullOptions.generateMipMaps ? true : false);\n    var target = layers !== 0 ? gl.TEXTURE_2D_ARRAY : gl.TEXTURE_2D;\n    var sizedFormat = this._getRGBABufferInternalSizedFormat(fullOptions.type, fullOptions.format, fullOptions.useSRGBBuffer);\n    var internalFormat = this._getInternalFormat(fullOptions.format);\n    var type = this._getWebGLTextureType(fullOptions.type);\n    this._bindTextureDirectly(target, texture);\n    if (layers !== 0) {\n      texture.is2DArray = true;\n      gl.texImage3D(target, 0, sizedFormat, width, height, layers, 0, internalFormat, type, null);\n    } else {\n      gl.texImage2D(target, 0, sizedFormat, width, height, 0, internalFormat, type, null);\n    }\n    gl.texParameteri(target, gl.TEXTURE_MAG_FILTER, filters.mag);\n    gl.texParameteri(target, gl.TEXTURE_MIN_FILTER, filters.min);\n    gl.texParameteri(target, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(target, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    if (fullOptions.generateMipMaps) {\n      this._gl.generateMipmap(target);\n    }\n    this._bindTextureDirectly(target, null);\n    texture.baseWidth = width;\n    texture.baseHeight = height;\n    texture.width = width;\n    texture.height = height;\n    texture.depth = layers;\n    texture.isReady = true;\n    texture.samples = 1;\n    texture.generateMipMaps = fullOptions.generateMipMaps ? true : false;\n    texture.samplingMode = fullOptions.samplingMode;\n    texture.type = fullOptions.type;\n    texture.format = fullOptions.format;\n    this._internalTexturesCache.push(texture);\n    return texture;\n  };\n  ThinEngine2.prototype._getUseSRGBBuffer = function(useSRGBBuffer, noMipmap) {\n    return useSRGBBuffer && this._caps.supportSRGBBuffers && (this.webGLVersion > 1 || this.isWebGPU || noMipmap);\n  };\n  ThinEngine2.prototype._createTextureBase = function(url, noMipmap, invertY, scene, samplingMode, onLoad, onError, prepareTexture, prepareTextureProcessFunction, buffer, fallback, format, forcedExtension, mimeType, loaderOptions, useSRGBBuffer) {\n    var _this = this;\n    if (samplingMode === void 0) {\n      samplingMode = 3;\n    }\n    if (onLoad === void 0) {\n      onLoad = null;\n    }\n    if (onError === void 0) {\n      onError = null;\n    }\n    if (buffer === void 0) {\n      buffer = null;\n    }\n    if (fallback === void 0) {\n      fallback = null;\n    }\n    if (format === void 0) {\n      format = null;\n    }\n    if (forcedExtension === void 0) {\n      forcedExtension = null;\n    }\n    url = url || \"\";\n    var fromData = url.substr(0, 5) === \"data:\";\n    var fromBlob = url.substr(0, 5) === \"blob:\";\n    var isBase64 = fromData && url.indexOf(\";base64,\") !== -1;\n    var texture = fallback ? fallback : new InternalTexture(this, InternalTextureSource.Url);\n    var originalUrl = url;\n    if (this._transformTextureUrl && !isBase64 && !fallback && !buffer) {\n      url = this._transformTextureUrl(url);\n    }\n    if (originalUrl !== url) {\n      texture._originalUrl = originalUrl;\n    }\n    var lastDot = url.lastIndexOf(\".\");\n    var extension = forcedExtension ? forcedExtension : lastDot > -1 ? url.substring(lastDot).toLowerCase() : \"\";\n    var loader = null;\n    var queryStringIndex = extension.indexOf(\"?\");\n    if (queryStringIndex > -1) {\n      extension = extension.split(\"?\")[0];\n    }\n    for (var _i = 0, _a = ThinEngine2._TextureLoaders; _i < _a.length; _i++) {\n      var availableLoader = _a[_i];\n      if (availableLoader.canLoad(extension, mimeType)) {\n        loader = availableLoader;\n        break;\n      }\n    }\n    if (scene) {\n      scene._addPendingData(texture);\n    }\n    texture.url = url;\n    texture.generateMipMaps = !noMipmap;\n    texture.samplingMode = samplingMode;\n    texture.invertY = invertY;\n    texture._useSRGBBuffer = this._getUseSRGBBuffer(!!useSRGBBuffer, noMipmap);\n    if (!this._doNotHandleContextLost) {\n      texture._buffer = buffer;\n    }\n    var onLoadObserver = null;\n    if (onLoad && !fallback) {\n      onLoadObserver = texture.onLoadedObservable.add(onLoad);\n    }\n    if (!fallback) {\n      this._internalTexturesCache.push(texture);\n    }\n    var onInternalError = function(message, exception) {\n      if (scene) {\n        scene._removePendingData(texture);\n      }\n      if (url === originalUrl) {\n        if (onLoadObserver) {\n          texture.onLoadedObservable.remove(onLoadObserver);\n        }\n        if (EngineStore.UseFallbackTexture) {\n          _this._createTextureBase(EngineStore.FallbackTexture, noMipmap, texture.invertY, scene, samplingMode, null, onError, prepareTexture, prepareTextureProcessFunction, buffer, texture);\n        }\n        message = (message || \"Unknown error\") + (EngineStore.UseFallbackTexture ? \" - Fallback texture was used\" : \"\");\n        texture.onErrorObservable.notifyObservers({ message, exception });\n        if (onError) {\n          onError(message, exception);\n        }\n      } else {\n        Logger.Warn(\"Failed to load \".concat(url, \", falling back to \").concat(originalUrl));\n        _this._createTextureBase(originalUrl, noMipmap, texture.invertY, scene, samplingMode, onLoad, onError, prepareTexture, prepareTextureProcessFunction, buffer, texture, format, forcedExtension, mimeType, loaderOptions, useSRGBBuffer);\n      }\n    };\n    if (loader) {\n      var callback_1 = function(data) {\n        loader.loadData(data, texture, function(width, height, loadMipmap, isCompressed, done, loadFailed) {\n          if (loadFailed) {\n            onInternalError(\"TextureLoader failed to load data\");\n          } else {\n            prepareTexture(texture, extension, scene, { width, height }, texture.invertY, !loadMipmap, isCompressed, function() {\n              done();\n              return false;\n            }, samplingMode);\n          }\n        }, loaderOptions);\n      };\n      if (!buffer) {\n        this._loadFile(url, function(data) {\n          return callback_1(new Uint8Array(data));\n        }, void 0, scene ? scene.offlineProvider : void 0, true, function(request, exception) {\n          onInternalError(\"Unable to load \" + (request ? request.responseURL : url, exception));\n        });\n      } else {\n        if (buffer instanceof ArrayBuffer) {\n          callback_1(new Uint8Array(buffer));\n        } else if (ArrayBuffer.isView(buffer)) {\n          callback_1(buffer);\n        } else {\n          if (onError) {\n            onError(\"Unable to load: only ArrayBuffer or ArrayBufferView is supported\", null);\n          }\n        }\n      }\n    } else {\n      var onload_1 = function(img) {\n        if (fromBlob && !_this._doNotHandleContextLost) {\n          texture._buffer = img;\n        }\n        prepareTexture(texture, extension, scene, img, texture.invertY, noMipmap, false, prepareTextureProcessFunction, samplingMode);\n      };\n      if (!fromData || isBase64) {\n        if (buffer && (typeof buffer.decoding === \"string\" || buffer.close)) {\n          onload_1(buffer);\n        } else {\n          ThinEngine2._FileToolsLoadImage(url, onload_1, onInternalError, scene ? scene.offlineProvider : null, mimeType, texture.invertY && this._features.needsInvertingBitmap ? { imageOrientation: \"flipY\" } : void 0);\n        }\n      } else if (typeof buffer === \"string\" || buffer instanceof ArrayBuffer || ArrayBuffer.isView(buffer) || buffer instanceof Blob) {\n        ThinEngine2._FileToolsLoadImage(buffer, onload_1, onInternalError, scene ? scene.offlineProvider : null, mimeType, texture.invertY && this._features.needsInvertingBitmap ? { imageOrientation: \"flipY\" } : void 0);\n      } else if (buffer) {\n        onload_1(buffer);\n      }\n    }\n    return texture;\n  };\n  ThinEngine2.prototype.createTexture = function(url, noMipmap, invertY, scene, samplingMode, onLoad, onError, buffer, fallback, format, forcedExtension, mimeType, loaderOptions, creationFlags, useSRGBBuffer) {\n    var _this = this;\n    if (samplingMode === void 0) {\n      samplingMode = 3;\n    }\n    if (onLoad === void 0) {\n      onLoad = null;\n    }\n    if (onError === void 0) {\n      onError = null;\n    }\n    if (buffer === void 0) {\n      buffer = null;\n    }\n    if (fallback === void 0) {\n      fallback = null;\n    }\n    if (format === void 0) {\n      format = null;\n    }\n    if (forcedExtension === void 0) {\n      forcedExtension = null;\n    }\n    return this._createTextureBase(url, noMipmap, invertY, scene, samplingMode, onLoad, onError, this._prepareWebGLTexture.bind(this), function(potWidth, potHeight, img, extension, texture, continuationCallback) {\n      var gl = _this._gl;\n      var isPot = img.width === potWidth && img.height === potHeight;\n      var internalFormat = format ? _this._getInternalFormat(format, texture._useSRGBBuffer) : extension === \".jpg\" && !texture._useSRGBBuffer ? gl.RGB : texture._useSRGBBuffer ? gl.SRGB8_ALPHA8 : gl.RGBA;\n      var texelFormat = format ? _this._getInternalFormat(format) : extension === \".jpg\" && !texture._useSRGBBuffer ? gl.RGB : gl.RGBA;\n      if (texture._useSRGBBuffer && _this.webGLVersion === 1) {\n        texelFormat = internalFormat;\n      }\n      if (isPot) {\n        gl.texImage2D(gl.TEXTURE_2D, 0, internalFormat, texelFormat, gl.UNSIGNED_BYTE, img);\n        return false;\n      }\n      var maxTextureSize = _this._caps.maxTextureSize;\n      if (img.width > maxTextureSize || img.height > maxTextureSize || !_this._supportsHardwareTextureRescaling) {\n        _this._prepareWorkingCanvas();\n        if (!_this._workingCanvas || !_this._workingContext) {\n          return false;\n        }\n        _this._workingCanvas.width = potWidth;\n        _this._workingCanvas.height = potHeight;\n        _this._workingContext.drawImage(img, 0, 0, img.width, img.height, 0, 0, potWidth, potHeight);\n        gl.texImage2D(gl.TEXTURE_2D, 0, internalFormat, texelFormat, gl.UNSIGNED_BYTE, _this._workingCanvas);\n        texture.width = potWidth;\n        texture.height = potHeight;\n        return false;\n      } else {\n        var source_1 = new InternalTexture(_this, InternalTextureSource.Temp);\n        _this._bindTextureDirectly(gl.TEXTURE_2D, source_1, true);\n        gl.texImage2D(gl.TEXTURE_2D, 0, internalFormat, texelFormat, gl.UNSIGNED_BYTE, img);\n        _this._rescaleTexture(source_1, texture, scene, internalFormat, function() {\n          _this._releaseTexture(source_1);\n          _this._bindTextureDirectly(gl.TEXTURE_2D, texture, true);\n          continuationCallback();\n        });\n      }\n      return true;\n    }, buffer, fallback, format, forcedExtension, mimeType, loaderOptions, useSRGBBuffer);\n  };\n  ThinEngine2._FileToolsLoadImage = function(input, onLoad, onError, offlineProvider, mimeType, imageBitmapOptions) {\n    throw _WarnImport(\"FileTools\");\n  };\n  ThinEngine2.prototype._rescaleTexture = function(source, destination, scene, internalFormat, onComplete) {\n  };\n  ThinEngine2.prototype.createRawTexture = function(data, width, height, format, generateMipMaps, invertY, samplingMode, compression, type, creationFlags, useSRGBBuffer) {\n    throw _WarnImport(\"Engine.RawTexture\");\n  };\n  ThinEngine2.prototype.createRawCubeTexture = function(data, size, format, type, generateMipMaps, invertY, samplingMode, compression) {\n    throw _WarnImport(\"Engine.RawTexture\");\n  };\n  ThinEngine2.prototype.createRawTexture3D = function(data, width, height, depth, format, generateMipMaps, invertY, samplingMode, compression, textureType) {\n    throw _WarnImport(\"Engine.RawTexture\");\n  };\n  ThinEngine2.prototype.createRawTexture2DArray = function(data, width, height, depth, format, generateMipMaps, invertY, samplingMode, compression, textureType) {\n    throw _WarnImport(\"Engine.RawTexture\");\n  };\n  ThinEngine2.prototype._unpackFlipY = function(value) {\n    if (this._unpackFlipYCached !== value) {\n      this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL, value ? 1 : 0);\n      if (this.enableUnpackFlipYCached) {\n        this._unpackFlipYCached = value;\n      }\n    }\n  };\n  ThinEngine2.prototype._getUnpackAlignement = function() {\n    return this._gl.getParameter(this._gl.UNPACK_ALIGNMENT);\n  };\n  ThinEngine2.prototype._getTextureTarget = function(texture) {\n    if (texture.isCube) {\n      return this._gl.TEXTURE_CUBE_MAP;\n    } else if (texture.is3D) {\n      return this._gl.TEXTURE_3D;\n    } else if (texture.is2DArray || texture.isMultiview) {\n      return this._gl.TEXTURE_2D_ARRAY;\n    }\n    return this._gl.TEXTURE_2D;\n  };\n  ThinEngine2.prototype.updateTextureSamplingMode = function(samplingMode, texture, generateMipMaps) {\n    if (generateMipMaps === void 0) {\n      generateMipMaps = false;\n    }\n    var target = this._getTextureTarget(texture);\n    var filters = this._getSamplingParameters(samplingMode, texture.generateMipMaps || generateMipMaps);\n    this._setTextureParameterInteger(target, this._gl.TEXTURE_MAG_FILTER, filters.mag, texture);\n    this._setTextureParameterInteger(target, this._gl.TEXTURE_MIN_FILTER, filters.min);\n    if (generateMipMaps) {\n      texture.generateMipMaps = true;\n      this._gl.generateMipmap(target);\n    }\n    this._bindTextureDirectly(target, null);\n    texture.samplingMode = samplingMode;\n  };\n  ThinEngine2.prototype.updateTextureDimensions = function(texture, width, height, depth) {\n  };\n  ThinEngine2.prototype.updateTextureWrappingMode = function(texture, wrapU, wrapV, wrapR) {\n    if (wrapV === void 0) {\n      wrapV = null;\n    }\n    if (wrapR === void 0) {\n      wrapR = null;\n    }\n    var target = this._getTextureTarget(texture);\n    if (wrapU !== null) {\n      this._setTextureParameterInteger(target, this._gl.TEXTURE_WRAP_S, this._getTextureWrapMode(wrapU), texture);\n      texture._cachedWrapU = wrapU;\n    }\n    if (wrapV !== null) {\n      this._setTextureParameterInteger(target, this._gl.TEXTURE_WRAP_T, this._getTextureWrapMode(wrapV), texture);\n      texture._cachedWrapV = wrapV;\n    }\n    if ((texture.is2DArray || texture.is3D) && wrapR !== null) {\n      this._setTextureParameterInteger(target, this._gl.TEXTURE_WRAP_R, this._getTextureWrapMode(wrapR), texture);\n      texture._cachedWrapR = wrapR;\n    }\n    this._bindTextureDirectly(target, null);\n  };\n  ThinEngine2.prototype._setupDepthStencilTexture = function(internalTexture, size, generateStencil, bilinearFiltering, comparisonFunction, samples) {\n    if (samples === void 0) {\n      samples = 1;\n    }\n    var width = size.width || size;\n    var height = size.height || size;\n    var layers = size.layers || 0;\n    internalTexture.baseWidth = width;\n    internalTexture.baseHeight = height;\n    internalTexture.width = width;\n    internalTexture.height = height;\n    internalTexture.is2DArray = layers > 0;\n    internalTexture.depth = layers;\n    internalTexture.isReady = true;\n    internalTexture.samples = samples;\n    internalTexture.generateMipMaps = false;\n    internalTexture.samplingMode = bilinearFiltering ? 2 : 1;\n    internalTexture.type = 0;\n    internalTexture._comparisonFunction = comparisonFunction;\n    var gl = this._gl;\n    var target = this._getTextureTarget(internalTexture);\n    var samplingParameters = this._getSamplingParameters(internalTexture.samplingMode, false);\n    gl.texParameteri(target, gl.TEXTURE_MAG_FILTER, samplingParameters.mag);\n    gl.texParameteri(target, gl.TEXTURE_MIN_FILTER, samplingParameters.min);\n    gl.texParameteri(target, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(target, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    if (comparisonFunction === 0) {\n      gl.texParameteri(target, gl.TEXTURE_COMPARE_FUNC, 515);\n      gl.texParameteri(target, gl.TEXTURE_COMPARE_MODE, gl.NONE);\n    } else {\n      gl.texParameteri(target, gl.TEXTURE_COMPARE_FUNC, comparisonFunction);\n      gl.texParameteri(target, gl.TEXTURE_COMPARE_MODE, gl.COMPARE_REF_TO_TEXTURE);\n    }\n  };\n  ThinEngine2.prototype._uploadCompressedDataToTextureDirectly = function(texture, internalFormat, width, height, data, faceIndex, lod) {\n    if (faceIndex === void 0) {\n      faceIndex = 0;\n    }\n    if (lod === void 0) {\n      lod = 0;\n    }\n    var gl = this._gl;\n    var target = gl.TEXTURE_2D;\n    if (texture.isCube) {\n      target = gl.TEXTURE_CUBE_MAP_POSITIVE_X + faceIndex;\n    }\n    if (texture._useSRGBBuffer) {\n      switch (internalFormat) {\n        case 37492:\n        case 36196:\n          if (this._caps.etc2) {\n            internalFormat = gl.COMPRESSED_SRGB8_ETC2;\n          } else {\n            texture._useSRGBBuffer = false;\n          }\n          break;\n        case 37496:\n          if (this._caps.etc2) {\n            internalFormat = gl.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC;\n          } else {\n            texture._useSRGBBuffer = false;\n          }\n          break;\n        case 36492:\n          internalFormat = gl.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT;\n          break;\n        case 37808:\n          internalFormat = gl.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR;\n          break;\n        case 33776:\n          if (this._caps.s3tc_srgb) {\n            internalFormat = gl.COMPRESSED_SRGB_S3TC_DXT1_EXT;\n          } else {\n            texture._useSRGBBuffer = false;\n          }\n          break;\n        case 33777:\n          if (this._caps.s3tc_srgb) {\n            internalFormat = gl.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;\n          } else {\n            texture._useSRGBBuffer = false;\n          }\n          break;\n        case 33779:\n          if (this._caps.s3tc_srgb) {\n            internalFormat = gl.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT;\n          } else {\n            texture._useSRGBBuffer = false;\n          }\n          break;\n        default:\n          texture._useSRGBBuffer = false;\n          break;\n      }\n    }\n    this._gl.compressedTexImage2D(target, lod, internalFormat, width, height, 0, data);\n  };\n  ThinEngine2.prototype._uploadDataToTextureDirectly = function(texture, imageData, faceIndex, lod, babylonInternalFormat, useTextureWidthAndHeight) {\n    if (faceIndex === void 0) {\n      faceIndex = 0;\n    }\n    if (lod === void 0) {\n      lod = 0;\n    }\n    if (useTextureWidthAndHeight === void 0) {\n      useTextureWidthAndHeight = false;\n    }\n    var gl = this._gl;\n    var textureType = this._getWebGLTextureType(texture.type);\n    var format = this._getInternalFormat(texture.format);\n    var internalFormat = babylonInternalFormat === void 0 ? this._getRGBABufferInternalSizedFormat(texture.type, texture.format, texture._useSRGBBuffer) : this._getInternalFormat(babylonInternalFormat, texture._useSRGBBuffer);\n    this._unpackFlipY(texture.invertY);\n    var target = gl.TEXTURE_2D;\n    if (texture.isCube) {\n      target = gl.TEXTURE_CUBE_MAP_POSITIVE_X + faceIndex;\n    }\n    var lodMaxWidth = Math.round(Math.log(texture.width) * Math.LOG2E);\n    var lodMaxHeight = Math.round(Math.log(texture.height) * Math.LOG2E);\n    var width = useTextureWidthAndHeight ? texture.width : Math.pow(2, Math.max(lodMaxWidth - lod, 0));\n    var height = useTextureWidthAndHeight ? texture.height : Math.pow(2, Math.max(lodMaxHeight - lod, 0));\n    gl.texImage2D(target, lod, internalFormat, width, height, 0, format, textureType, imageData);\n  };\n  ThinEngine2.prototype.updateTextureData = function(texture, imageData, xOffset, yOffset, width, height, faceIndex, lod, generateMipMaps) {\n    if (faceIndex === void 0) {\n      faceIndex = 0;\n    }\n    if (lod === void 0) {\n      lod = 0;\n    }\n    if (generateMipMaps === void 0) {\n      generateMipMaps = false;\n    }\n    var gl = this._gl;\n    var textureType = this._getWebGLTextureType(texture.type);\n    var format = this._getInternalFormat(texture.format);\n    this._unpackFlipY(texture.invertY);\n    var target = gl.TEXTURE_2D;\n    if (texture.isCube) {\n      target = gl.TEXTURE_CUBE_MAP_POSITIVE_X + faceIndex;\n    }\n    this._bindTextureDirectly(target, texture, true);\n    gl.texSubImage2D(target, lod, xOffset, yOffset, width, height, format, textureType, imageData);\n    if (generateMipMaps) {\n      this._gl.generateMipmap(target);\n    }\n    this._bindTextureDirectly(target, null);\n  };\n  ThinEngine2.prototype._uploadArrayBufferViewToTexture = function(texture, imageData, faceIndex, lod) {\n    if (faceIndex === void 0) {\n      faceIndex = 0;\n    }\n    if (lod === void 0) {\n      lod = 0;\n    }\n    var gl = this._gl;\n    var bindTarget = texture.isCube ? gl.TEXTURE_CUBE_MAP : gl.TEXTURE_2D;\n    this._bindTextureDirectly(bindTarget, texture, true);\n    this._uploadDataToTextureDirectly(texture, imageData, faceIndex, lod);\n    this._bindTextureDirectly(bindTarget, null, true);\n  };\n  ThinEngine2.prototype._prepareWebGLTextureContinuation = function(texture, scene, noMipmap, isCompressed, samplingMode) {\n    var gl = this._gl;\n    if (!gl) {\n      return;\n    }\n    var filters = this._getSamplingParameters(samplingMode, !noMipmap);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, filters.mag);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, filters.min);\n    if (!noMipmap && !isCompressed) {\n      gl.generateMipmap(gl.TEXTURE_2D);\n    }\n    this._bindTextureDirectly(gl.TEXTURE_2D, null);\n    if (scene) {\n      scene._removePendingData(texture);\n    }\n    texture.onLoadedObservable.notifyObservers(texture);\n    texture.onLoadedObservable.clear();\n  };\n  ThinEngine2.prototype._prepareWebGLTexture = function(texture, extension, scene, img, invertY, noMipmap, isCompressed, processFunction, samplingMode) {\n    var _this = this;\n    if (samplingMode === void 0) {\n      samplingMode = 3;\n    }\n    var maxTextureSize = this.getCaps().maxTextureSize;\n    var potWidth = Math.min(maxTextureSize, this.needPOTTextures ? ThinEngine2.GetExponentOfTwo(img.width, maxTextureSize) : img.width);\n    var potHeight = Math.min(maxTextureSize, this.needPOTTextures ? ThinEngine2.GetExponentOfTwo(img.height, maxTextureSize) : img.height);\n    var gl = this._gl;\n    if (!gl) {\n      return;\n    }\n    if (!texture._hardwareTexture) {\n      if (scene) {\n        scene._removePendingData(texture);\n      }\n      return;\n    }\n    this._bindTextureDirectly(gl.TEXTURE_2D, texture, true);\n    this._unpackFlipY(invertY === void 0 ? true : invertY ? true : false);\n    texture.baseWidth = img.width;\n    texture.baseHeight = img.height;\n    texture.width = potWidth;\n    texture.height = potHeight;\n    texture.isReady = true;\n    if (processFunction(potWidth, potHeight, img, extension, texture, function() {\n      _this._prepareWebGLTextureContinuation(texture, scene, noMipmap, isCompressed, samplingMode);\n    })) {\n      return;\n    }\n    this._prepareWebGLTextureContinuation(texture, scene, noMipmap, isCompressed, samplingMode);\n  };\n  ThinEngine2.prototype._setupFramebufferDepthAttachments = function(generateStencilBuffer, generateDepthBuffer, width, height, samples) {\n    if (samples === void 0) {\n      samples = 1;\n    }\n    var gl = this._gl;\n    if (generateStencilBuffer && generateDepthBuffer) {\n      return this._createRenderBuffer(width, height, samples, gl.DEPTH_STENCIL, gl.DEPTH24_STENCIL8, gl.DEPTH_STENCIL_ATTACHMENT);\n    }\n    if (generateDepthBuffer) {\n      var depthFormat = gl.DEPTH_COMPONENT16;\n      if (this._webGLVersion > 1) {\n        depthFormat = gl.DEPTH_COMPONENT32F;\n      }\n      return this._createRenderBuffer(width, height, samples, depthFormat, depthFormat, gl.DEPTH_ATTACHMENT);\n    }\n    if (generateStencilBuffer) {\n      return this._createRenderBuffer(width, height, samples, gl.STENCIL_INDEX8, gl.STENCIL_INDEX8, gl.STENCIL_ATTACHMENT);\n    }\n    return null;\n  };\n  ThinEngine2.prototype._createRenderBuffer = function(width, height, samples, internalFormat, msInternalFormat, attachment, unbindBuffer) {\n    if (unbindBuffer === void 0) {\n      unbindBuffer = true;\n    }\n    var gl = this._gl;\n    var renderBuffer = gl.createRenderbuffer();\n    gl.bindRenderbuffer(gl.RENDERBUFFER, renderBuffer);\n    if (samples > 1 && gl.renderbufferStorageMultisample) {\n      gl.renderbufferStorageMultisample(gl.RENDERBUFFER, samples, msInternalFormat, width, height);\n    } else {\n      gl.renderbufferStorage(gl.RENDERBUFFER, internalFormat, width, height);\n    }\n    gl.framebufferRenderbuffer(gl.FRAMEBUFFER, attachment, gl.RENDERBUFFER, renderBuffer);\n    if (unbindBuffer) {\n      gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n    }\n    return renderBuffer;\n  };\n  ThinEngine2.prototype._releaseTexture = function(texture) {\n    var _a;\n    this._deleteTexture((_a = texture._hardwareTexture) === null || _a === void 0 ? void 0 : _a.underlyingResource);\n    this.unbindAllTextures();\n    var index = this._internalTexturesCache.indexOf(texture);\n    if (index !== -1) {\n      this._internalTexturesCache.splice(index, 1);\n    }\n    if (texture._lodTextureHigh) {\n      texture._lodTextureHigh.dispose();\n    }\n    if (texture._lodTextureMid) {\n      texture._lodTextureMid.dispose();\n    }\n    if (texture._lodTextureLow) {\n      texture._lodTextureLow.dispose();\n    }\n    if (texture._irradianceTexture) {\n      texture._irradianceTexture.dispose();\n    }\n  };\n  ThinEngine2.prototype._releaseRenderTargetWrapper = function(rtWrapper) {\n    var index = this._renderTargetWrapperCache.indexOf(rtWrapper);\n    if (index !== -1) {\n      this._renderTargetWrapperCache.splice(index, 1);\n    }\n  };\n  ThinEngine2.prototype._deleteTexture = function(texture) {\n    if (texture) {\n      this._gl.deleteTexture(texture);\n    }\n  };\n  ThinEngine2.prototype._setProgram = function(program) {\n    if (this._currentProgram !== program) {\n      this._gl.useProgram(program);\n      this._currentProgram = program;\n    }\n  };\n  ThinEngine2.prototype.bindSamplers = function(effect) {\n    var webGLPipelineContext = effect.getPipelineContext();\n    this._setProgram(webGLPipelineContext.program);\n    var samplers = effect.getSamplers();\n    for (var index = 0; index < samplers.length; index++) {\n      var uniform = effect.getUniform(samplers[index]);\n      if (uniform) {\n        this._boundUniforms[index] = uniform;\n      }\n    }\n    this._currentEffect = null;\n  };\n  ThinEngine2.prototype._activateCurrentTexture = function() {\n    if (this._currentTextureChannel !== this._activeChannel) {\n      this._gl.activeTexture(this._gl.TEXTURE0 + this._activeChannel);\n      this._currentTextureChannel = this._activeChannel;\n    }\n  };\n  ThinEngine2.prototype._bindTextureDirectly = function(target, texture, forTextureDataUpdate, force) {\n    var _a, _b;\n    if (forTextureDataUpdate === void 0) {\n      forTextureDataUpdate = false;\n    }\n    if (force === void 0) {\n      force = false;\n    }\n    var wasPreviouslyBound = false;\n    var isTextureForRendering = texture && texture._associatedChannel > -1;\n    if (forTextureDataUpdate && isTextureForRendering) {\n      this._activeChannel = texture._associatedChannel;\n    }\n    var currentTextureBound = this._boundTexturesCache[this._activeChannel];\n    if (currentTextureBound !== texture || force) {\n      this._activateCurrentTexture();\n      if (texture && texture.isMultiview) {\n        console.error(target, texture);\n        throw \"_bindTextureDirectly called with a multiview texture!\";\n      } else {\n        this._gl.bindTexture(target, (_b = (_a = texture === null || texture === void 0 ? void 0 : texture._hardwareTexture) === null || _a === void 0 ? void 0 : _a.underlyingResource) !== null && _b !== void 0 ? _b : null);\n      }\n      this._boundTexturesCache[this._activeChannel] = texture;\n      if (texture) {\n        texture._associatedChannel = this._activeChannel;\n      }\n    } else if (forTextureDataUpdate) {\n      wasPreviouslyBound = true;\n      this._activateCurrentTexture();\n    }\n    if (isTextureForRendering && !forTextureDataUpdate) {\n      this._bindSamplerUniformToChannel(texture._associatedChannel, this._activeChannel);\n    }\n    return wasPreviouslyBound;\n  };\n  ThinEngine2.prototype._bindTexture = function(channel, texture, name2) {\n    if (channel === void 0) {\n      return;\n    }\n    if (texture) {\n      texture._associatedChannel = channel;\n    }\n    this._activeChannel = channel;\n    var target = texture ? this._getTextureTarget(texture) : this._gl.TEXTURE_2D;\n    this._bindTextureDirectly(target, texture);\n  };\n  ThinEngine2.prototype.unbindAllTextures = function() {\n    for (var channel = 0; channel < this._maxSimultaneousTextures; channel++) {\n      this._activeChannel = channel;\n      this._bindTextureDirectly(this._gl.TEXTURE_2D, null);\n      this._bindTextureDirectly(this._gl.TEXTURE_CUBE_MAP, null);\n      if (this.webGLVersion > 1) {\n        this._bindTextureDirectly(this._gl.TEXTURE_3D, null);\n        this._bindTextureDirectly(this._gl.TEXTURE_2D_ARRAY, null);\n      }\n    }\n  };\n  ThinEngine2.prototype.setTexture = function(channel, uniform, texture, name2) {\n    if (channel === void 0) {\n      return;\n    }\n    if (uniform) {\n      this._boundUniforms[channel] = uniform;\n    }\n    this._setTexture(channel, texture);\n  };\n  ThinEngine2.prototype._bindSamplerUniformToChannel = function(sourceSlot, destination) {\n    var uniform = this._boundUniforms[sourceSlot];\n    if (!uniform || uniform._currentState === destination) {\n      return;\n    }\n    this._gl.uniform1i(uniform, destination);\n    uniform._currentState = destination;\n  };\n  ThinEngine2.prototype._getTextureWrapMode = function(mode) {\n    switch (mode) {\n      case 1:\n        return this._gl.REPEAT;\n      case 0:\n        return this._gl.CLAMP_TO_EDGE;\n      case 2:\n        return this._gl.MIRRORED_REPEAT;\n    }\n    return this._gl.REPEAT;\n  };\n  ThinEngine2.prototype._setTexture = function(channel, texture, isPartOfTextureArray, depthStencilTexture, name2) {\n    if (isPartOfTextureArray === void 0) {\n      isPartOfTextureArray = false;\n    }\n    if (depthStencilTexture === void 0) {\n      depthStencilTexture = false;\n    }\n    if (!texture) {\n      if (this._boundTexturesCache[channel] != null) {\n        this._activeChannel = channel;\n        this._bindTextureDirectly(this._gl.TEXTURE_2D, null);\n        this._bindTextureDirectly(this._gl.TEXTURE_CUBE_MAP, null);\n        if (this.webGLVersion > 1) {\n          this._bindTextureDirectly(this._gl.TEXTURE_3D, null);\n          this._bindTextureDirectly(this._gl.TEXTURE_2D_ARRAY, null);\n        }\n      }\n      return false;\n    }\n    if (texture.video) {\n      this._activeChannel = channel;\n      texture.update();\n    } else if (texture.delayLoadState === 4) {\n      texture.delayLoad();\n      return false;\n    }\n    var internalTexture;\n    if (depthStencilTexture) {\n      internalTexture = texture.depthStencilTexture;\n    } else if (texture.isReady()) {\n      internalTexture = texture.getInternalTexture();\n    } else if (texture.isCube) {\n      internalTexture = this.emptyCubeTexture;\n    } else if (texture.is3D) {\n      internalTexture = this.emptyTexture3D;\n    } else if (texture.is2DArray) {\n      internalTexture = this.emptyTexture2DArray;\n    } else {\n      internalTexture = this.emptyTexture;\n    }\n    if (!isPartOfTextureArray && internalTexture) {\n      internalTexture._associatedChannel = channel;\n    }\n    var needToBind = true;\n    if (this._boundTexturesCache[channel] === internalTexture) {\n      if (!isPartOfTextureArray) {\n        this._bindSamplerUniformToChannel(internalTexture._associatedChannel, channel);\n      }\n      needToBind = false;\n    }\n    this._activeChannel = channel;\n    var target = this._getTextureTarget(internalTexture);\n    if (needToBind) {\n      this._bindTextureDirectly(target, internalTexture, isPartOfTextureArray);\n    }\n    if (internalTexture && !internalTexture.isMultiview) {\n      if (internalTexture.isCube && internalTexture._cachedCoordinatesMode !== texture.coordinatesMode) {\n        internalTexture._cachedCoordinatesMode = texture.coordinatesMode;\n        var textureWrapMode = texture.coordinatesMode !== 3 && texture.coordinatesMode !== 5 ? 1 : 0;\n        texture.wrapU = textureWrapMode;\n        texture.wrapV = textureWrapMode;\n      }\n      if (internalTexture._cachedWrapU !== texture.wrapU) {\n        internalTexture._cachedWrapU = texture.wrapU;\n        this._setTextureParameterInteger(target, this._gl.TEXTURE_WRAP_S, this._getTextureWrapMode(texture.wrapU), internalTexture);\n      }\n      if (internalTexture._cachedWrapV !== texture.wrapV) {\n        internalTexture._cachedWrapV = texture.wrapV;\n        this._setTextureParameterInteger(target, this._gl.TEXTURE_WRAP_T, this._getTextureWrapMode(texture.wrapV), internalTexture);\n      }\n      if (internalTexture.is3D && internalTexture._cachedWrapR !== texture.wrapR) {\n        internalTexture._cachedWrapR = texture.wrapR;\n        this._setTextureParameterInteger(target, this._gl.TEXTURE_WRAP_R, this._getTextureWrapMode(texture.wrapR), internalTexture);\n      }\n      this._setAnisotropicLevel(target, internalTexture, texture.anisotropicFilteringLevel);\n    }\n    return true;\n  };\n  ThinEngine2.prototype.setTextureArray = function(channel, uniform, textures, name2) {\n    if (channel === void 0 || !uniform) {\n      return;\n    }\n    if (!this._textureUnits || this._textureUnits.length !== textures.length) {\n      this._textureUnits = new Int32Array(textures.length);\n    }\n    for (var i = 0; i < textures.length; i++) {\n      var texture = textures[i].getInternalTexture();\n      if (texture) {\n        this._textureUnits[i] = channel + i;\n        texture._associatedChannel = channel + i;\n      } else {\n        this._textureUnits[i] = -1;\n      }\n    }\n    this._gl.uniform1iv(uniform, this._textureUnits);\n    for (var index = 0; index < textures.length; index++) {\n      this._setTexture(this._textureUnits[index], textures[index], true);\n    }\n  };\n  ThinEngine2.prototype._setAnisotropicLevel = function(target, internalTexture, anisotropicFilteringLevel) {\n    var anisotropicFilterExtension = this._caps.textureAnisotropicFilterExtension;\n    if (internalTexture.samplingMode !== 11 && internalTexture.samplingMode !== 3 && internalTexture.samplingMode !== 2) {\n      anisotropicFilteringLevel = 1;\n    }\n    if (anisotropicFilterExtension && internalTexture._cachedAnisotropicFilteringLevel !== anisotropicFilteringLevel) {\n      this._setTextureParameterFloat(target, anisotropicFilterExtension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(anisotropicFilteringLevel, this._caps.maxAnisotropy), internalTexture);\n      internalTexture._cachedAnisotropicFilteringLevel = anisotropicFilteringLevel;\n    }\n  };\n  ThinEngine2.prototype._setTextureParameterFloat = function(target, parameter, value, texture) {\n    this._bindTextureDirectly(target, texture, true, true);\n    this._gl.texParameterf(target, parameter, value);\n  };\n  ThinEngine2.prototype._setTextureParameterInteger = function(target, parameter, value, texture) {\n    if (texture) {\n      this._bindTextureDirectly(target, texture, true, true);\n    }\n    this._gl.texParameteri(target, parameter, value);\n  };\n  ThinEngine2.prototype.unbindAllAttributes = function() {\n    if (this._mustWipeVertexAttributes) {\n      this._mustWipeVertexAttributes = false;\n      for (var i = 0; i < this._caps.maxVertexAttribs; i++) {\n        this.disableAttributeByIndex(i);\n      }\n      return;\n    }\n    for (var i = 0, ul = this._vertexAttribArraysEnabled.length; i < ul; i++) {\n      if (i >= this._caps.maxVertexAttribs || !this._vertexAttribArraysEnabled[i]) {\n        continue;\n      }\n      this.disableAttributeByIndex(i);\n    }\n  };\n  ThinEngine2.prototype.releaseEffects = function() {\n    for (var name_1 in this._compiledEffects) {\n      var webGLPipelineContext = this._compiledEffects[name_1].getPipelineContext();\n      this._deletePipelineContext(webGLPipelineContext);\n    }\n    this._compiledEffects = {};\n  };\n  ThinEngine2.prototype.dispose = function() {\n    var _a;\n    this.stopRenderLoop();\n    if (this.onBeforeTextureInitObservable) {\n      this.onBeforeTextureInitObservable.clear();\n    }\n    if (this._emptyTexture) {\n      this._releaseTexture(this._emptyTexture);\n      this._emptyTexture = null;\n    }\n    if (this._emptyCubeTexture) {\n      this._releaseTexture(this._emptyCubeTexture);\n      this._emptyCubeTexture = null;\n    }\n    if (this._dummyFramebuffer) {\n      this._gl.deleteFramebuffer(this._dummyFramebuffer);\n    }\n    this.releaseEffects();\n    (_a = this.releaseComputeEffects) === null || _a === void 0 ? void 0 : _a.call(this);\n    this.unbindAllAttributes();\n    this._boundUniforms = [];\n    if (IsWindowObjectExist()) {\n      if (this._renderingCanvas) {\n        if (!this._doNotHandleContextLost) {\n          this._renderingCanvas.removeEventListener(\"webglcontextlost\", this._onContextLost);\n          this._renderingCanvas.removeEventListener(\"webglcontextrestored\", this._onContextRestored);\n        }\n        window.removeEventListener(\"resize\", this._checkForMobile);\n      }\n    }\n    this._workingCanvas = null;\n    this._workingContext = null;\n    this._currentBufferPointers = [];\n    this._renderingCanvas = null;\n    this._currentProgram = null;\n    this._boundRenderFunction = null;\n    Effect.ResetCache();\n    for (var _i = 0, _b = this._activeRequests; _i < _b.length; _i++) {\n      var request = _b[_i];\n      request.abort();\n    }\n    this.onDisposeObservable.notifyObservers(this);\n    this.onDisposeObservable.clear();\n  };\n  ThinEngine2.prototype.attachContextLostEvent = function(callback) {\n    if (this._renderingCanvas) {\n      this._renderingCanvas.addEventListener(\"webglcontextlost\", callback, false);\n    }\n  };\n  ThinEngine2.prototype.attachContextRestoredEvent = function(callback) {\n    if (this._renderingCanvas) {\n      this._renderingCanvas.addEventListener(\"webglcontextrestored\", callback, false);\n    }\n  };\n  ThinEngine2.prototype.getError = function() {\n    return this._gl.getError();\n  };\n  ThinEngine2.prototype._canRenderToFloatFramebuffer = function() {\n    if (this._webGLVersion > 1) {\n      return this._caps.colorBufferFloat;\n    }\n    return this._canRenderToFramebuffer(1);\n  };\n  ThinEngine2.prototype._canRenderToHalfFloatFramebuffer = function() {\n    if (this._webGLVersion > 1) {\n      return this._caps.colorBufferFloat;\n    }\n    return this._canRenderToFramebuffer(2);\n  };\n  ThinEngine2.prototype._canRenderToFramebuffer = function(type) {\n    var gl = this._gl;\n    while (gl.getError() !== gl.NO_ERROR) {\n    }\n    var successful = true;\n    var texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texImage2D(gl.TEXTURE_2D, 0, this._getRGBABufferInternalSizedFormat(type), 1, 1, 0, gl.RGBA, this._getWebGLTextureType(type), null);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    var fb = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, fb);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    var status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n    successful = successful && status === gl.FRAMEBUFFER_COMPLETE;\n    successful = successful && gl.getError() === gl.NO_ERROR;\n    if (successful) {\n      gl.clear(gl.COLOR_BUFFER_BIT);\n      successful = successful && gl.getError() === gl.NO_ERROR;\n    }\n    if (successful) {\n      gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n      var readFormat = gl.RGBA;\n      var readType = gl.UNSIGNED_BYTE;\n      var buffer = new Uint8Array(4);\n      gl.readPixels(0, 0, 1, 1, readFormat, readType, buffer);\n      successful = successful && gl.getError() === gl.NO_ERROR;\n    }\n    gl.deleteTexture(texture);\n    gl.deleteFramebuffer(fb);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    while (!successful && gl.getError() !== gl.NO_ERROR) {\n    }\n    return successful;\n  };\n  ThinEngine2.prototype._getWebGLTextureType = function(type) {\n    if (this._webGLVersion === 1) {\n      switch (type) {\n        case 1:\n          return this._gl.FLOAT;\n        case 2:\n          return this._gl.HALF_FLOAT_OES;\n        case 0:\n          return this._gl.UNSIGNED_BYTE;\n        case 8:\n          return this._gl.UNSIGNED_SHORT_4_4_4_4;\n        case 9:\n          return this._gl.UNSIGNED_SHORT_5_5_5_1;\n        case 10:\n          return this._gl.UNSIGNED_SHORT_5_6_5;\n      }\n      return this._gl.UNSIGNED_BYTE;\n    }\n    switch (type) {\n      case 3:\n        return this._gl.BYTE;\n      case 0:\n        return this._gl.UNSIGNED_BYTE;\n      case 4:\n        return this._gl.SHORT;\n      case 5:\n        return this._gl.UNSIGNED_SHORT;\n      case 6:\n        return this._gl.INT;\n      case 7:\n        return this._gl.UNSIGNED_INT;\n      case 1:\n        return this._gl.FLOAT;\n      case 2:\n        return this._gl.HALF_FLOAT;\n      case 8:\n        return this._gl.UNSIGNED_SHORT_4_4_4_4;\n      case 9:\n        return this._gl.UNSIGNED_SHORT_5_5_5_1;\n      case 10:\n        return this._gl.UNSIGNED_SHORT_5_6_5;\n      case 11:\n        return this._gl.UNSIGNED_INT_2_10_10_10_REV;\n      case 12:\n        return this._gl.UNSIGNED_INT_24_8;\n      case 13:\n        return this._gl.UNSIGNED_INT_10F_11F_11F_REV;\n      case 14:\n        return this._gl.UNSIGNED_INT_5_9_9_9_REV;\n      case 15:\n        return this._gl.FLOAT_32_UNSIGNED_INT_24_8_REV;\n    }\n    return this._gl.UNSIGNED_BYTE;\n  };\n  ThinEngine2.prototype._getInternalFormat = function(format, useSRGBBuffer) {\n    if (useSRGBBuffer === void 0) {\n      useSRGBBuffer = false;\n    }\n    var internalFormat = useSRGBBuffer ? this._gl.SRGB8_ALPHA8 : this._gl.RGBA;\n    switch (format) {\n      case 0:\n        internalFormat = this._gl.ALPHA;\n        break;\n      case 1:\n        internalFormat = this._gl.LUMINANCE;\n        break;\n      case 2:\n        internalFormat = this._gl.LUMINANCE_ALPHA;\n        break;\n      case 6:\n        internalFormat = this._gl.RED;\n        break;\n      case 7:\n        internalFormat = this._gl.RG;\n        break;\n      case 4:\n        internalFormat = useSRGBBuffer ? this._gl.SRGB : this._gl.RGB;\n        break;\n      case 5:\n        internalFormat = useSRGBBuffer ? this._gl.SRGB8_ALPHA8 : this._gl.RGBA;\n        break;\n    }\n    if (this._webGLVersion > 1) {\n      switch (format) {\n        case 8:\n          internalFormat = this._gl.RED_INTEGER;\n          break;\n        case 9:\n          internalFormat = this._gl.RG_INTEGER;\n          break;\n        case 10:\n          internalFormat = this._gl.RGB_INTEGER;\n          break;\n        case 11:\n          internalFormat = this._gl.RGBA_INTEGER;\n          break;\n      }\n    }\n    return internalFormat;\n  };\n  ThinEngine2.prototype._getRGBABufferInternalSizedFormat = function(type, format, useSRGBBuffer) {\n    if (useSRGBBuffer === void 0) {\n      useSRGBBuffer = false;\n    }\n    if (this._webGLVersion === 1) {\n      if (format !== void 0) {\n        switch (format) {\n          case 0:\n            return this._gl.ALPHA;\n          case 1:\n            return this._gl.LUMINANCE;\n          case 2:\n            return this._gl.LUMINANCE_ALPHA;\n          case 4:\n            return useSRGBBuffer ? this._gl.SRGB : this._gl.RGB;\n        }\n      }\n      return this._gl.RGBA;\n    }\n    switch (type) {\n      case 3:\n        switch (format) {\n          case 6:\n            return this._gl.R8_SNORM;\n          case 7:\n            return this._gl.RG8_SNORM;\n          case 4:\n            return this._gl.RGB8_SNORM;\n          case 8:\n            return this._gl.R8I;\n          case 9:\n            return this._gl.RG8I;\n          case 10:\n            return this._gl.RGB8I;\n          case 11:\n            return this._gl.RGBA8I;\n          default:\n            return this._gl.RGBA8_SNORM;\n        }\n      case 0:\n        switch (format) {\n          case 6:\n            return this._gl.R8;\n          case 7:\n            return this._gl.RG8;\n          case 4:\n            return useSRGBBuffer ? this._gl.SRGB8 : this._gl.RGB8;\n          case 5:\n            return useSRGBBuffer ? this._gl.SRGB8_ALPHA8 : this._gl.RGBA8;\n          case 8:\n            return this._gl.R8UI;\n          case 9:\n            return this._gl.RG8UI;\n          case 10:\n            return this._gl.RGB8UI;\n          case 11:\n            return this._gl.RGBA8UI;\n          case 0:\n            return this._gl.ALPHA;\n          case 1:\n            return this._gl.LUMINANCE;\n          case 2:\n            return this._gl.LUMINANCE_ALPHA;\n          default:\n            return this._gl.RGBA8;\n        }\n      case 4:\n        switch (format) {\n          case 8:\n            return this._gl.R16I;\n          case 9:\n            return this._gl.RG16I;\n          case 10:\n            return this._gl.RGB16I;\n          case 11:\n            return this._gl.RGBA16I;\n          default:\n            return this._gl.RGBA16I;\n        }\n      case 5:\n        switch (format) {\n          case 8:\n            return this._gl.R16UI;\n          case 9:\n            return this._gl.RG16UI;\n          case 10:\n            return this._gl.RGB16UI;\n          case 11:\n            return this._gl.RGBA16UI;\n          default:\n            return this._gl.RGBA16UI;\n        }\n      case 6:\n        switch (format) {\n          case 8:\n            return this._gl.R32I;\n          case 9:\n            return this._gl.RG32I;\n          case 10:\n            return this._gl.RGB32I;\n          case 11:\n            return this._gl.RGBA32I;\n          default:\n            return this._gl.RGBA32I;\n        }\n      case 7:\n        switch (format) {\n          case 8:\n            return this._gl.R32UI;\n          case 9:\n            return this._gl.RG32UI;\n          case 10:\n            return this._gl.RGB32UI;\n          case 11:\n            return this._gl.RGBA32UI;\n          default:\n            return this._gl.RGBA32UI;\n        }\n      case 1:\n        switch (format) {\n          case 6:\n            return this._gl.R32F;\n          case 7:\n            return this._gl.RG32F;\n          case 4:\n            return this._gl.RGB32F;\n          case 5:\n            return this._gl.RGBA32F;\n          default:\n            return this._gl.RGBA32F;\n        }\n      case 2:\n        switch (format) {\n          case 6:\n            return this._gl.R16F;\n          case 7:\n            return this._gl.RG16F;\n          case 4:\n            return this._gl.RGB16F;\n          case 5:\n            return this._gl.RGBA16F;\n          default:\n            return this._gl.RGBA16F;\n        }\n      case 10:\n        return this._gl.RGB565;\n      case 13:\n        return this._gl.R11F_G11F_B10F;\n      case 14:\n        return this._gl.RGB9_E5;\n      case 8:\n        return this._gl.RGBA4;\n      case 9:\n        return this._gl.RGB5_A1;\n      case 11:\n        switch (format) {\n          case 5:\n            return this._gl.RGB10_A2;\n          case 11:\n            return this._gl.RGB10_A2UI;\n          default:\n            return this._gl.RGB10_A2;\n        }\n    }\n    return useSRGBBuffer ? this._gl.SRGB8_ALPHA8 : this._gl.RGBA8;\n  };\n  ThinEngine2.prototype._getRGBAMultiSampleBufferFormat = function(type) {\n    if (type === 1) {\n      return this._gl.RGBA32F;\n    } else if (type === 2) {\n      return this._gl.RGBA16F;\n    }\n    return this._gl.RGBA8;\n  };\n  ThinEngine2.prototype._loadFile = function(url, onSuccess, onProgress, offlineProvider, useArrayBuffer, onError) {\n    var _this = this;\n    var request = ThinEngine2._FileToolsLoadFile(url, onSuccess, onProgress, offlineProvider, useArrayBuffer, onError);\n    this._activeRequests.push(request);\n    request.onCompleteObservable.add(function(request2) {\n      _this._activeRequests.splice(_this._activeRequests.indexOf(request2), 1);\n    });\n    return request;\n  };\n  ThinEngine2._FileToolsLoadFile = function(url, onSuccess, onProgress, offlineProvider, useArrayBuffer, onError) {\n    throw _WarnImport(\"FileTools\");\n  };\n  ThinEngine2.prototype.readPixels = function(x, y, width, height, hasAlpha, flushRenderer) {\n    if (hasAlpha === void 0) {\n      hasAlpha = true;\n    }\n    if (flushRenderer === void 0) {\n      flushRenderer = true;\n    }\n    var numChannels = hasAlpha ? 4 : 3;\n    var format = hasAlpha ? this._gl.RGBA : this._gl.RGB;\n    var data = new Uint8Array(height * width * numChannels);\n    if (flushRenderer) {\n      this.flushFramebuffer();\n    }\n    this._gl.readPixels(x, y, width, height, format, this._gl.UNSIGNED_BYTE, data);\n    return Promise.resolve(data);\n  };\n  Object.defineProperty(ThinEngine2, \"IsSupportedAsync\", {\n    get: function() {\n      return Promise.resolve(this.isSupported());\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinEngine2, \"IsSupported\", {\n    get: function() {\n      return this.isSupported();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ThinEngine2.isSupported = function() {\n    if (this._HasMajorPerformanceCaveat !== null) {\n      return !this._HasMajorPerformanceCaveat;\n    }\n    if (this._IsSupported === null) {\n      try {\n        var tempcanvas = this._CreateCanvas(1, 1);\n        var gl = tempcanvas.getContext(\"webgl\") || tempcanvas.getContext(\"experimental-webgl\");\n        this._IsSupported = gl != null && !!window.WebGLRenderingContext;\n      } catch (e) {\n        this._IsSupported = false;\n      }\n    }\n    return this._IsSupported;\n  };\n  Object.defineProperty(ThinEngine2, \"HasMajorPerformanceCaveat\", {\n    get: function() {\n      if (this._HasMajorPerformanceCaveat === null) {\n        try {\n          var tempcanvas = this._CreateCanvas(1, 1);\n          var gl = tempcanvas.getContext(\"webgl\", { failIfMajorPerformanceCaveat: true }) || tempcanvas.getContext(\"experimental-webgl\", { failIfMajorPerformanceCaveat: true });\n          this._HasMajorPerformanceCaveat = !gl;\n        } catch (e) {\n          this._HasMajorPerformanceCaveat = false;\n        }\n      }\n      return this._HasMajorPerformanceCaveat;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ThinEngine2.CeilingPOT = function(x) {\n    x--;\n    x |= x >> 1;\n    x |= x >> 2;\n    x |= x >> 4;\n    x |= x >> 8;\n    x |= x >> 16;\n    x++;\n    return x;\n  };\n  ThinEngine2.FloorPOT = function(x) {\n    x = x | x >> 1;\n    x = x | x >> 2;\n    x = x | x >> 4;\n    x = x | x >> 8;\n    x = x | x >> 16;\n    return x - (x >> 1);\n  };\n  ThinEngine2.NearestPOT = function(x) {\n    var c = ThinEngine2.CeilingPOT(x);\n    var f = ThinEngine2.FloorPOT(x);\n    return c - x > x - f ? f : c;\n  };\n  ThinEngine2.GetExponentOfTwo = function(value, max, mode) {\n    if (mode === void 0) {\n      mode = 2;\n    }\n    var pot;\n    switch (mode) {\n      case 1:\n        pot = ThinEngine2.FloorPOT(value);\n        break;\n      case 2:\n        pot = ThinEngine2.NearestPOT(value);\n        break;\n      case 3:\n      default:\n        pot = ThinEngine2.CeilingPOT(value);\n        break;\n    }\n    return Math.min(pot, max);\n  };\n  ThinEngine2.QueueNewFrame = function(func, requester) {\n    if (!IsWindowObjectExist()) {\n      if (typeof requestAnimationFrame !== \"undefined\") {\n        return requestAnimationFrame(func);\n      }\n      return setTimeout(func, 16);\n    }\n    if (!requester) {\n      requester = window;\n    }\n    if (requester.requestPostAnimationFrame) {\n      return requester.requestPostAnimationFrame(func);\n    } else if (requester.requestAnimationFrame) {\n      return requester.requestAnimationFrame(func);\n    } else if (requester.msRequestAnimationFrame) {\n      return requester.msRequestAnimationFrame(func);\n    } else if (requester.webkitRequestAnimationFrame) {\n      return requester.webkitRequestAnimationFrame(func);\n    } else if (requester.mozRequestAnimationFrame) {\n      return requester.mozRequestAnimationFrame(func);\n    } else if (requester.oRequestAnimationFrame) {\n      return requester.oRequestAnimationFrame(func);\n    } else {\n      return window.setTimeout(func, 16);\n    }\n  };\n  ThinEngine2.prototype.getHostDocument = function() {\n    if (this._renderingCanvas && this._renderingCanvas.ownerDocument) {\n      return this._renderingCanvas.ownerDocument;\n    }\n    return IsDocumentAvailable() ? document : null;\n  };\n  ThinEngine2.ExceptionList = [\n    { key: \"Chrome/63.0\", capture: \"63\\\\.0\\\\.3239\\\\.(\\\\d+)\", captureConstraint: 108, targets: [\"uniformBuffer\"] },\n    { key: \"Firefox/58\", capture: null, captureConstraint: null, targets: [\"uniformBuffer\"] },\n    { key: \"Firefox/59\", capture: null, captureConstraint: null, targets: [\"uniformBuffer\"] },\n    { key: \"Chrome/72.+?Mobile\", capture: null, captureConstraint: null, targets: [\"vao\"] },\n    { key: \"Chrome/73.+?Mobile\", capture: null, captureConstraint: null, targets: [\"vao\"] },\n    { key: \"Chrome/74.+?Mobile\", capture: null, captureConstraint: null, targets: [\"vao\"] },\n    { key: \"Mac OS.+Chrome/71\", capture: null, captureConstraint: null, targets: [\"vao\"] },\n    { key: \"Mac OS.+Chrome/72\", capture: null, captureConstraint: null, targets: [\"vao\"] },\n    { key: \"Mac OS.+Chrome\", capture: null, captureConstraint: null, targets: [\"uniformBuffer\"] },\n    { key: \".*AppleWebKit.*(15.4).*Safari\", capture: null, captureConstraint: null, targets: [\"antialias\", \"maxMSAASamples\"] },\n    { key: \".*(15.4).*AppleWebKit.*Safari\", capture: null, captureConstraint: null, targets: [\"antialias\", \"maxMSAASamples\"] }\n  ];\n  ThinEngine2._TextureLoaders = [];\n  ThinEngine2.CollisionsEpsilon = 1e-3;\n  ThinEngine2._IsSupported = null;\n  ThinEngine2._HasMajorPerformanceCaveat = null;\n  return ThinEngine2;\n}();\nvar PrecisionDate = function() {\n  function PrecisionDate2() {\n  }\n  Object.defineProperty(PrecisionDate2, \"Now\", {\n    get: function() {\n      if (DomManagement.IsWindowObjectExist() && window.performance && window.performance.now) {\n        return window.performance.now();\n      }\n      return Date.now();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return PrecisionDate2;\n}();\nvar PerformanceMonitor = function() {\n  function PerformanceMonitor2(frameSampleSize) {\n    if (frameSampleSize === void 0) {\n      frameSampleSize = 30;\n    }\n    this._enabled = true;\n    this._rollingFrameTime = new RollingAverage(frameSampleSize);\n  }\n  PerformanceMonitor2.prototype.sampleFrame = function(timeMs) {\n    if (timeMs === void 0) {\n      timeMs = PrecisionDate.Now;\n    }\n    if (!this._enabled) {\n      return;\n    }\n    if (this._lastFrameTimeMs != null) {\n      var dt = timeMs - this._lastFrameTimeMs;\n      this._rollingFrameTime.add(dt);\n    }\n    this._lastFrameTimeMs = timeMs;\n  };\n  Object.defineProperty(PerformanceMonitor2.prototype, \"averageFrameTime\", {\n    get: function() {\n      return this._rollingFrameTime.average;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PerformanceMonitor2.prototype, \"averageFrameTimeVariance\", {\n    get: function() {\n      return this._rollingFrameTime.variance;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PerformanceMonitor2.prototype, \"instantaneousFrameTime\", {\n    get: function() {\n      return this._rollingFrameTime.history(0);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PerformanceMonitor2.prototype, \"averageFPS\", {\n    get: function() {\n      return 1e3 / this._rollingFrameTime.average;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PerformanceMonitor2.prototype, \"instantaneousFPS\", {\n    get: function() {\n      var history = this._rollingFrameTime.history(0);\n      if (history === 0) {\n        return 0;\n      }\n      return 1e3 / history;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PerformanceMonitor2.prototype, \"isSaturated\", {\n    get: function() {\n      return this._rollingFrameTime.isSaturated();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  PerformanceMonitor2.prototype.enable = function() {\n    this._enabled = true;\n  };\n  PerformanceMonitor2.prototype.disable = function() {\n    this._enabled = false;\n    this._lastFrameTimeMs = null;\n  };\n  Object.defineProperty(PerformanceMonitor2.prototype, \"isEnabled\", {\n    get: function() {\n      return this._enabled;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  PerformanceMonitor2.prototype.reset = function() {\n    this._lastFrameTimeMs = null;\n    this._rollingFrameTime.reset();\n  };\n  return PerformanceMonitor2;\n}();\nvar RollingAverage = function() {\n  function RollingAverage2(length) {\n    this._samples = new Array(length);\n    this.reset();\n  }\n  RollingAverage2.prototype.add = function(v) {\n    var delta;\n    if (this.isSaturated()) {\n      var bottomValue = this._samples[this._pos];\n      delta = bottomValue - this.average;\n      this.average -= delta / (this._sampleCount - 1);\n      this._m2 -= delta * (bottomValue - this.average);\n    } else {\n      this._sampleCount++;\n    }\n    delta = v - this.average;\n    this.average += delta / this._sampleCount;\n    this._m2 += delta * (v - this.average);\n    this.variance = this._m2 / (this._sampleCount - 1);\n    this._samples[this._pos] = v;\n    this._pos++;\n    this._pos %= this._samples.length;\n  };\n  RollingAverage2.prototype.history = function(i) {\n    if (i >= this._sampleCount || i >= this._samples.length) {\n      return 0;\n    }\n    var i0 = this._wrapPosition(this._pos - 1);\n    return this._samples[this._wrapPosition(i0 - i)];\n  };\n  RollingAverage2.prototype.isSaturated = function() {\n    return this._sampleCount >= this._samples.length;\n  };\n  RollingAverage2.prototype.reset = function() {\n    this.average = 0;\n    this.variance = 0;\n    this._sampleCount = 0;\n    this._pos = 0;\n    this._m2 = 0;\n  };\n  RollingAverage2.prototype._wrapPosition = function(i) {\n    var max = this._samples.length;\n    return (i % max + max) % max;\n  };\n  return RollingAverage2;\n}();\nvar PerfCounter = function() {\n  function PerfCounter2() {\n    this._startMonitoringTime = 0;\n    this._min = 0;\n    this._max = 0;\n    this._average = 0;\n    this._lastSecAverage = 0;\n    this._current = 0;\n    this._totalValueCount = 0;\n    this._totalAccumulated = 0;\n    this._lastSecAccumulated = 0;\n    this._lastSecTime = 0;\n    this._lastSecValueCount = 0;\n  }\n  Object.defineProperty(PerfCounter2.prototype, \"min\", {\n    get: function() {\n      return this._min;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PerfCounter2.prototype, \"max\", {\n    get: function() {\n      return this._max;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PerfCounter2.prototype, \"average\", {\n    get: function() {\n      return this._average;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PerfCounter2.prototype, \"lastSecAverage\", {\n    get: function() {\n      return this._lastSecAverage;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PerfCounter2.prototype, \"current\", {\n    get: function() {\n      return this._current;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PerfCounter2.prototype, \"total\", {\n    get: function() {\n      return this._totalAccumulated;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PerfCounter2.prototype, \"count\", {\n    get: function() {\n      return this._totalValueCount;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  PerfCounter2.prototype.fetchNewFrame = function() {\n    this._totalValueCount++;\n    this._current = 0;\n    this._lastSecValueCount++;\n  };\n  PerfCounter2.prototype.addCount = function(newCount, fetchResult) {\n    if (!PerfCounter2.Enabled) {\n      return;\n    }\n    this._current += newCount;\n    if (fetchResult) {\n      this._fetchResult();\n    }\n  };\n  PerfCounter2.prototype.beginMonitoring = function() {\n    if (!PerfCounter2.Enabled) {\n      return;\n    }\n    this._startMonitoringTime = PrecisionDate.Now;\n  };\n  PerfCounter2.prototype.endMonitoring = function(newFrame) {\n    if (newFrame === void 0) {\n      newFrame = true;\n    }\n    if (!PerfCounter2.Enabled) {\n      return;\n    }\n    if (newFrame) {\n      this.fetchNewFrame();\n    }\n    var currentTime = PrecisionDate.Now;\n    this._current = currentTime - this._startMonitoringTime;\n    if (newFrame) {\n      this._fetchResult();\n    }\n  };\n  PerfCounter2.prototype._fetchResult = function() {\n    this._totalAccumulated += this._current;\n    this._lastSecAccumulated += this._current;\n    this._min = Math.min(this._min, this._current);\n    this._max = Math.max(this._max, this._current);\n    this._average = this._totalAccumulated / this._totalValueCount;\n    var now = PrecisionDate.Now;\n    if (now - this._lastSecTime > 1e3) {\n      this._lastSecAverage = this._lastSecAccumulated / this._lastSecValueCount;\n      this._lastSecTime = now;\n      this._lastSecAccumulated = 0;\n      this._lastSecValueCount = 0;\n    }\n  };\n  PerfCounter2.Enabled = true;\n  return PerfCounter2;\n}();\nThinEngine.prototype.setAlphaConstants = function(r, g, b, a) {\n  this._alphaState.setAlphaBlendConstants(r, g, b, a);\n};\nThinEngine.prototype.setAlphaMode = function(mode, noDepthWriteChange) {\n  if (noDepthWriteChange === void 0) {\n    noDepthWriteChange = false;\n  }\n  if (this._alphaMode === mode) {\n    return;\n  }\n  switch (mode) {\n    case 0:\n      this._alphaState.alphaBlend = false;\n      break;\n    case 7:\n      this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE, this._gl.ONE_MINUS_SRC_ALPHA, this._gl.ONE, this._gl.ONE);\n      this._alphaState.alphaBlend = true;\n      break;\n    case 8:\n      this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE, this._gl.ONE_MINUS_SRC_ALPHA, this._gl.ONE, this._gl.ONE_MINUS_SRC_ALPHA);\n      this._alphaState.alphaBlend = true;\n      break;\n    case 2:\n      this._alphaState.setAlphaBlendFunctionParameters(this._gl.SRC_ALPHA, this._gl.ONE_MINUS_SRC_ALPHA, this._gl.ONE, this._gl.ONE);\n      this._alphaState.alphaBlend = true;\n      break;\n    case 6:\n      this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE, this._gl.ONE, this._gl.ZERO, this._gl.ONE);\n      this._alphaState.alphaBlend = true;\n      break;\n    case 1:\n      this._alphaState.setAlphaBlendFunctionParameters(this._gl.SRC_ALPHA, this._gl.ONE, this._gl.ZERO, this._gl.ONE);\n      this._alphaState.alphaBlend = true;\n      break;\n    case 3:\n      this._alphaState.setAlphaBlendFunctionParameters(this._gl.ZERO, this._gl.ONE_MINUS_SRC_COLOR, this._gl.ONE, this._gl.ONE);\n      this._alphaState.alphaBlend = true;\n      break;\n    case 4:\n      this._alphaState.setAlphaBlendFunctionParameters(this._gl.DST_COLOR, this._gl.ZERO, this._gl.ONE, this._gl.ONE);\n      this._alphaState.alphaBlend = true;\n      break;\n    case 5:\n      this._alphaState.setAlphaBlendFunctionParameters(this._gl.SRC_ALPHA, this._gl.ONE_MINUS_SRC_COLOR, this._gl.ONE, this._gl.ONE);\n      this._alphaState.alphaBlend = true;\n      break;\n    case 9:\n      this._alphaState.setAlphaBlendFunctionParameters(this._gl.CONSTANT_COLOR, this._gl.ONE_MINUS_CONSTANT_COLOR, this._gl.CONSTANT_ALPHA, this._gl.ONE_MINUS_CONSTANT_ALPHA);\n      this._alphaState.alphaBlend = true;\n      break;\n    case 10:\n      this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE, this._gl.ONE_MINUS_SRC_COLOR, this._gl.ONE, this._gl.ONE_MINUS_SRC_ALPHA);\n      this._alphaState.alphaBlend = true;\n      break;\n    case 11:\n      this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE, this._gl.ONE, this._gl.ONE, this._gl.ONE);\n      this._alphaState.alphaBlend = true;\n      break;\n    case 12:\n      this._alphaState.setAlphaBlendFunctionParameters(this._gl.DST_ALPHA, this._gl.ONE, this._gl.ZERO, this._gl.ZERO);\n      this._alphaState.alphaBlend = true;\n      break;\n    case 13:\n      this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE_MINUS_DST_COLOR, this._gl.ONE_MINUS_SRC_COLOR, this._gl.ONE_MINUS_DST_ALPHA, this._gl.ONE_MINUS_SRC_ALPHA);\n      this._alphaState.alphaBlend = true;\n      break;\n    case 14:\n      this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE, this._gl.ONE_MINUS_SRC_ALPHA, this._gl.ONE, this._gl.ONE_MINUS_SRC_ALPHA);\n      this._alphaState.alphaBlend = true;\n      break;\n    case 15:\n      this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE, this._gl.ONE, this._gl.ONE, this._gl.ZERO);\n      this._alphaState.alphaBlend = true;\n      break;\n    case 16:\n      this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE_MINUS_DST_COLOR, this._gl.ONE_MINUS_SRC_COLOR, this._gl.ZERO, this._gl.ONE);\n      this._alphaState.alphaBlend = true;\n      break;\n    case 17:\n      this._alphaState.setAlphaBlendFunctionParameters(this._gl.SRC_ALPHA, this._gl.ONE_MINUS_SRC_ALPHA, this._gl.ONE, this._gl.ONE_MINUS_SRC_ALPHA);\n      this._alphaState.alphaBlend = true;\n      break;\n  }\n  if (!noDepthWriteChange) {\n    this.depthCullingState.depthMask = mode === 0;\n  }\n  this._alphaMode = mode;\n};\nThinEngine.prototype.getAlphaMode = function() {\n  return this._alphaMode;\n};\nThinEngine.prototype.setAlphaEquation = function(equation) {\n  if (this._alphaEquation === equation) {\n    return;\n  }\n  switch (equation) {\n    case 0:\n      this._alphaState.setAlphaEquationParameters(32774, 32774);\n      break;\n    case 1:\n      this._alphaState.setAlphaEquationParameters(32778, 32778);\n      break;\n    case 2:\n      this._alphaState.setAlphaEquationParameters(32779, 32779);\n      break;\n    case 3:\n      this._alphaState.setAlphaEquationParameters(32776, 32776);\n      break;\n    case 4:\n      this._alphaState.setAlphaEquationParameters(32775, 32775);\n      break;\n    case 5:\n      this._alphaState.setAlphaEquationParameters(32775, 32774);\n      break;\n  }\n  this._alphaEquation = equation;\n};\nThinEngine.prototype.getAlphaEquation = function() {\n  return this._alphaEquation;\n};\nfunction allocateAndCopyTypedBuffer(type, sizeOrDstBuffer, sizeInBytes, copyBuffer) {\n  if (sizeInBytes === void 0) {\n    sizeInBytes = false;\n  }\n  switch (type) {\n    case 3: {\n      var buffer_1 = sizeOrDstBuffer instanceof ArrayBuffer ? new Int8Array(sizeOrDstBuffer) : new Int8Array(sizeOrDstBuffer);\n      if (copyBuffer) {\n        buffer_1.set(new Int8Array(copyBuffer));\n      }\n      return buffer_1;\n    }\n    case 0: {\n      var buffer_2 = sizeOrDstBuffer instanceof ArrayBuffer ? new Uint8Array(sizeOrDstBuffer) : new Uint8Array(sizeOrDstBuffer);\n      if (copyBuffer) {\n        buffer_2.set(new Uint8Array(copyBuffer));\n      }\n      return buffer_2;\n    }\n    case 4: {\n      var buffer_3 = sizeOrDstBuffer instanceof ArrayBuffer ? new Int16Array(sizeOrDstBuffer) : new Int16Array(sizeInBytes ? sizeOrDstBuffer / 2 : sizeOrDstBuffer);\n      if (copyBuffer) {\n        buffer_3.set(new Int16Array(copyBuffer));\n      }\n      return buffer_3;\n    }\n    case 5:\n    case 8:\n    case 9:\n    case 10:\n    case 2: {\n      var buffer_4 = sizeOrDstBuffer instanceof ArrayBuffer ? new Uint16Array(sizeOrDstBuffer) : new Uint16Array(sizeInBytes ? sizeOrDstBuffer / 2 : sizeOrDstBuffer);\n      if (copyBuffer) {\n        buffer_4.set(new Uint16Array(copyBuffer));\n      }\n      return buffer_4;\n    }\n    case 6: {\n      var buffer_5 = sizeOrDstBuffer instanceof ArrayBuffer ? new Int32Array(sizeOrDstBuffer) : new Int32Array(sizeInBytes ? sizeOrDstBuffer / 4 : sizeOrDstBuffer);\n      if (copyBuffer) {\n        buffer_5.set(new Int32Array(copyBuffer));\n      }\n      return buffer_5;\n    }\n    case 7:\n    case 11:\n    case 12:\n    case 13:\n    case 14:\n    case 15: {\n      var buffer_6 = sizeOrDstBuffer instanceof ArrayBuffer ? new Uint32Array(sizeOrDstBuffer) : new Uint32Array(sizeInBytes ? sizeOrDstBuffer / 4 : sizeOrDstBuffer);\n      if (copyBuffer) {\n        buffer_6.set(new Uint32Array(copyBuffer));\n      }\n      return buffer_6;\n    }\n    case 1: {\n      var buffer_7 = sizeOrDstBuffer instanceof ArrayBuffer ? new Float32Array(sizeOrDstBuffer) : new Float32Array(sizeInBytes ? sizeOrDstBuffer / 4 : sizeOrDstBuffer);\n      if (copyBuffer) {\n        buffer_7.set(new Float32Array(copyBuffer));\n      }\n      return buffer_7;\n    }\n  }\n  var buffer = sizeOrDstBuffer instanceof ArrayBuffer ? new Uint8Array(sizeOrDstBuffer) : new Uint8Array(sizeOrDstBuffer);\n  if (copyBuffer) {\n    buffer.set(new Uint8Array(copyBuffer));\n  }\n  return buffer;\n}\nThinEngine.prototype._readTexturePixelsSync = function(texture, width, height, faceIndex, level, buffer, flushRenderer, noDataConversion, x, y) {\n  var _a, _b;\n  if (faceIndex === void 0) {\n    faceIndex = -1;\n  }\n  if (level === void 0) {\n    level = 0;\n  }\n  if (buffer === void 0) {\n    buffer = null;\n  }\n  if (flushRenderer === void 0) {\n    flushRenderer = true;\n  }\n  if (noDataConversion === void 0) {\n    noDataConversion = false;\n  }\n  if (x === void 0) {\n    x = 0;\n  }\n  if (y === void 0) {\n    y = 0;\n  }\n  var gl = this._gl;\n  if (!gl) {\n    throw new Error(\"Engine does not have gl rendering context.\");\n  }\n  if (!this._dummyFramebuffer) {\n    var dummy = gl.createFramebuffer();\n    if (!dummy) {\n      throw new Error(\"Unable to create dummy framebuffer\");\n    }\n    this._dummyFramebuffer = dummy;\n  }\n  gl.bindFramebuffer(gl.FRAMEBUFFER, this._dummyFramebuffer);\n  if (faceIndex > -1) {\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_CUBE_MAP_POSITIVE_X + faceIndex, (_a = texture._hardwareTexture) === null || _a === void 0 ? void 0 : _a.underlyingResource, level);\n  } else {\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, (_b = texture._hardwareTexture) === null || _b === void 0 ? void 0 : _b.underlyingResource, level);\n  }\n  var readType = texture.type !== void 0 ? this._getWebGLTextureType(texture.type) : gl.UNSIGNED_BYTE;\n  if (!noDataConversion) {\n    switch (readType) {\n      case gl.UNSIGNED_BYTE:\n        if (!buffer) {\n          buffer = new Uint8Array(4 * width * height);\n        }\n        readType = gl.UNSIGNED_BYTE;\n        break;\n      default:\n        if (!buffer) {\n          buffer = new Float32Array(4 * width * height);\n        }\n        readType = gl.FLOAT;\n        break;\n    }\n  } else if (!buffer) {\n    buffer = allocateAndCopyTypedBuffer(texture.type, 4 * width * height);\n  }\n  if (flushRenderer) {\n    this.flushFramebuffer();\n  }\n  gl.readPixels(x, y, width, height, gl.RGBA, readType, buffer);\n  gl.bindFramebuffer(gl.FRAMEBUFFER, this._currentFramebuffer);\n  return buffer;\n};\nThinEngine.prototype._readTexturePixels = function(texture, width, height, faceIndex, level, buffer, flushRenderer, noDataConversion, x, y) {\n  if (faceIndex === void 0) {\n    faceIndex = -1;\n  }\n  if (level === void 0) {\n    level = 0;\n  }\n  if (buffer === void 0) {\n    buffer = null;\n  }\n  if (flushRenderer === void 0) {\n    flushRenderer = true;\n  }\n  if (noDataConversion === void 0) {\n    noDataConversion = false;\n  }\n  if (x === void 0) {\n    x = 0;\n  }\n  if (y === void 0) {\n    y = 0;\n  }\n  return Promise.resolve(this._readTexturePixelsSync(texture, width, height, faceIndex, level, buffer, flushRenderer, noDataConversion, x, y));\n};\nThinEngine.prototype.updateDynamicIndexBuffer = function(indexBuffer, indices, offset) {\n  this._currentBoundBuffer[this._gl.ELEMENT_ARRAY_BUFFER] = null;\n  this.bindIndexBuffer(indexBuffer);\n  var view;\n  if (indexBuffer.is32Bits) {\n    view = indices instanceof Uint32Array ? indices : new Uint32Array(indices);\n  } else {\n    view = indices instanceof Uint16Array ? indices : new Uint16Array(indices);\n  }\n  this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER, view, this._gl.DYNAMIC_DRAW);\n  this._resetIndexBufferBinding();\n};\nThinEngine.prototype.updateDynamicVertexBuffer = function(vertexBuffer, data, byteOffset, byteLength) {\n  this.bindArrayBuffer(vertexBuffer);\n  if (byteOffset === void 0) {\n    byteOffset = 0;\n  }\n  var dataLength = data.byteLength || data.length;\n  if (byteLength === void 0 || byteLength >= dataLength && byteOffset === 0) {\n    if (data instanceof Array) {\n      this._gl.bufferSubData(this._gl.ARRAY_BUFFER, byteOffset, new Float32Array(data));\n    } else {\n      this._gl.bufferSubData(this._gl.ARRAY_BUFFER, byteOffset, data);\n    }\n  } else {\n    if (data instanceof Array) {\n      this._gl.bufferSubData(this._gl.ARRAY_BUFFER, 0, new Float32Array(data).subarray(byteOffset, byteOffset + byteLength));\n    } else {\n      if (data instanceof ArrayBuffer) {\n        data = new Uint8Array(data, byteOffset, byteLength);\n      } else {\n        data = new Uint8Array(data.buffer, data.byteOffset + byteOffset, byteLength);\n      }\n      this._gl.bufferSubData(this._gl.ARRAY_BUFFER, 0, data);\n    }\n  }\n  this._resetVertexBufferBinding();\n};\nvar Engine = function(_super) {\n  __extends(Engine2, _super);\n  function Engine2(canvasOrContext, antialias, options, adaptToDeviceRatio) {\n    if (adaptToDeviceRatio === void 0) {\n      adaptToDeviceRatio = false;\n    }\n    var _this = _super.call(this, canvasOrContext, antialias, options, adaptToDeviceRatio) || this;\n    _this.enableOfflineSupport = false;\n    _this.disableManifestCheck = false;\n    _this.scenes = new Array();\n    _this._virtualScenes = new Array();\n    _this.onNewSceneAddedObservable = new Observable();\n    _this.postProcesses = new Array();\n    _this.isPointerLock = false;\n    _this.onResizeObservable = new Observable();\n    _this.onCanvasBlurObservable = new Observable();\n    _this.onCanvasFocusObservable = new Observable();\n    _this.onCanvasPointerOutObservable = new Observable();\n    _this.onBeginFrameObservable = new Observable();\n    _this.customAnimationFrameRequester = null;\n    _this.onEndFrameObservable = new Observable();\n    _this.onBeforeShaderCompilationObservable = new Observable();\n    _this.onAfterShaderCompilationObservable = new Observable();\n    _this._deterministicLockstep = false;\n    _this._lockstepMaxSteps = 4;\n    _this._timeStep = 1 / 60;\n    _this._fps = 60;\n    _this._deltaTime = 0;\n    _this._drawCalls = new PerfCounter();\n    _this.canvasTabIndex = 1;\n    _this.disablePerformanceMonitorInBackground = false;\n    _this._performanceMonitor = new PerformanceMonitor();\n    _this._compatibilityMode = true;\n    _this.currentRenderPassId = 0;\n    _this._renderPassNames = [\"main\"];\n    Engine2.Instances.push(_this);\n    if (!canvasOrContext) {\n      return _this;\n    }\n    _this._features.supportRenderPasses = true;\n    options = _this._creationOptions;\n    if (canvasOrContext.getContext) {\n      var canvas_1 = canvasOrContext;\n      _this._sharedInit(canvas_1, !!options.doNotHandleTouchAction, options.audioEngine);\n      if (IsWindowObjectExist()) {\n        var anyDoc_1 = document;\n        _this._onFullscreenChange = function() {\n          if (anyDoc_1.fullscreen !== void 0) {\n            _this.isFullscreen = anyDoc_1.fullscreen;\n          } else if (anyDoc_1.mozFullScreen !== void 0) {\n            _this.isFullscreen = anyDoc_1.mozFullScreen;\n          } else if (anyDoc_1.webkitIsFullScreen !== void 0) {\n            _this.isFullscreen = anyDoc_1.webkitIsFullScreen;\n          } else if (anyDoc_1.msIsFullScreen !== void 0) {\n            _this.isFullscreen = anyDoc_1.msIsFullScreen;\n          }\n          if (_this.isFullscreen && _this._pointerLockRequested && canvas_1) {\n            Engine2._RequestPointerlock(canvas_1);\n          }\n        };\n        document.addEventListener(\"fullscreenchange\", _this._onFullscreenChange, false);\n        document.addEventListener(\"mozfullscreenchange\", _this._onFullscreenChange, false);\n        document.addEventListener(\"webkitfullscreenchange\", _this._onFullscreenChange, false);\n        document.addEventListener(\"msfullscreenchange\", _this._onFullscreenChange, false);\n        _this._onPointerLockChange = function() {\n          _this.isPointerLock = anyDoc_1.mozPointerLockElement === canvas_1 || anyDoc_1.webkitPointerLockElement === canvas_1 || anyDoc_1.msPointerLockElement === canvas_1 || anyDoc_1.pointerLockElement === canvas_1;\n        };\n        document.addEventListener(\"pointerlockchange\", _this._onPointerLockChange, false);\n        document.addEventListener(\"mspointerlockchange\", _this._onPointerLockChange, false);\n        document.addEventListener(\"mozpointerlockchange\", _this._onPointerLockChange, false);\n        document.addEventListener(\"webkitpointerlockchange\", _this._onPointerLockChange, false);\n        if (!Engine2.audioEngine && options.audioEngine && Engine2.AudioEngineFactory) {\n          Engine2.audioEngine = Engine2.AudioEngineFactory(_this.getRenderingCanvas(), _this.getAudioContext(), _this.getAudioDestination());\n        }\n      }\n      _this._connectVREvents();\n      _this.enableOfflineSupport = Engine2.OfflineProviderFactory !== void 0;\n      _this._deterministicLockstep = !!options.deterministicLockstep;\n      _this._lockstepMaxSteps = options.lockstepMaxSteps || 0;\n      _this._timeStep = options.timeStep || 1 / 60;\n    }\n    _this._prepareVRComponent();\n    if (options.autoEnableWebVR) {\n      _this.initWebVR();\n    }\n    return _this;\n  }\n  Object.defineProperty(Engine2, \"NpmPackage\", {\n    get: function() {\n      return ThinEngine.NpmPackage;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Engine2, \"Version\", {\n    get: function() {\n      return ThinEngine.Version;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Engine2, \"Instances\", {\n    get: function() {\n      return EngineStore.Instances;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Engine2, \"LastCreatedEngine\", {\n    get: function() {\n      return EngineStore.LastCreatedEngine;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Engine2, \"LastCreatedScene\", {\n    get: function() {\n      return EngineStore.LastCreatedScene;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Engine2.prototype._createImageBitmapFromSource = function(imageSource, options) {\n    var _this = this;\n    var promise = new Promise(function(resolve, reject) {\n      var image = new Image();\n      image.onload = function() {\n        image.decode().then(function() {\n          _this.createImageBitmap(image, options).then(function(imageBitmap) {\n            resolve(imageBitmap);\n          });\n        });\n      };\n      image.onerror = function() {\n        reject(\"Error loading image \".concat(image.src));\n      };\n      image.src = imageSource;\n    });\n    return promise;\n  };\n  Engine2.prototype.createImageBitmap = function(image, options) {\n    return createImageBitmap(image, options);\n  };\n  Engine2.prototype.resizeImageBitmap = function(image, bufferWidth, bufferHeight) {\n    var canvas = this.createCanvas(bufferWidth, bufferHeight);\n    var context = canvas.getContext(\"2d\");\n    if (!context) {\n      throw new Error(\"Unable to get 2d context for resizeImageBitmap\");\n    }\n    context.drawImage(image, 0, 0);\n    var buffer = context.getImageData(0, 0, bufferWidth, bufferHeight).data;\n    return buffer;\n  };\n  Engine2.MarkAllMaterialsAsDirty = function(flag, predicate) {\n    for (var engineIndex = 0; engineIndex < Engine2.Instances.length; engineIndex++) {\n      var engine = Engine2.Instances[engineIndex];\n      for (var sceneIndex = 0; sceneIndex < engine.scenes.length; sceneIndex++) {\n        engine.scenes[sceneIndex].markAllMaterialsAsDirty(flag, predicate);\n      }\n    }\n  };\n  Engine2.DefaultLoadingScreenFactory = function(canvas) {\n    throw _WarnImport(\"LoadingScreen\");\n  };\n  Object.defineProperty(Engine2.prototype, \"_supportsHardwareTextureRescaling\", {\n    get: function() {\n      return !!Engine2._RescalePostProcessFactory;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Engine2.prototype, \"performanceMonitor\", {\n    get: function() {\n      return this._performanceMonitor;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Engine2.prototype, \"compatibilityMode\", {\n    get: function() {\n      return this._compatibilityMode;\n    },\n    set: function(mode) {\n      this._compatibilityMode = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Engine2.prototype.getInputElement = function() {\n    return this._renderingCanvas;\n  };\n  Engine2.prototype._sharedInit = function(canvas, doNotHandleTouchAction, audioEngine) {\n    var _this = this;\n    _super.prototype._sharedInit.call(this, canvas, doNotHandleTouchAction, audioEngine);\n    this._onCanvasFocus = function() {\n      _this.onCanvasFocusObservable.notifyObservers(_this);\n    };\n    this._onCanvasBlur = function() {\n      _this.onCanvasBlurObservable.notifyObservers(_this);\n    };\n    canvas.addEventListener(\"focus\", this._onCanvasFocus);\n    canvas.addEventListener(\"blur\", this._onCanvasBlur);\n    this._onBlur = function() {\n      if (_this.disablePerformanceMonitorInBackground) {\n        _this._performanceMonitor.disable();\n      }\n      _this._windowIsBackground = true;\n    };\n    this._onFocus = function() {\n      if (_this.disablePerformanceMonitorInBackground) {\n        _this._performanceMonitor.enable();\n      }\n      _this._windowIsBackground = false;\n    };\n    this._onCanvasPointerOut = function(ev) {\n      if (document.elementFromPoint(ev.clientX, ev.clientY) !== canvas) {\n        _this.onCanvasPointerOutObservable.notifyObservers(ev);\n      }\n    };\n    if (IsWindowObjectExist()) {\n      var hostWindow = this.getHostWindow();\n      if (hostWindow) {\n        hostWindow.addEventListener(\"blur\", this._onBlur);\n        hostWindow.addEventListener(\"focus\", this._onFocus);\n      }\n    }\n    canvas.addEventListener(\"pointerout\", this._onCanvasPointerOut);\n    if (!doNotHandleTouchAction) {\n      this._disableTouchAction();\n    }\n    if (!Engine2.audioEngine && audioEngine && Engine2.AudioEngineFactory) {\n      Engine2.audioEngine = Engine2.AudioEngineFactory(this.getRenderingCanvas(), this.getAudioContext(), this.getAudioDestination());\n    }\n  };\n  Engine2.prototype.getAspectRatio = function(viewportOwner, useScreen) {\n    if (useScreen === void 0) {\n      useScreen = false;\n    }\n    var viewport = viewportOwner.viewport;\n    return this.getRenderWidth(useScreen) * viewport.width / (this.getRenderHeight(useScreen) * viewport.height);\n  };\n  Engine2.prototype.getScreenAspectRatio = function() {\n    return this.getRenderWidth(true) / this.getRenderHeight(true);\n  };\n  Engine2.prototype.getRenderingCanvasClientRect = function() {\n    if (!this._renderingCanvas) {\n      return null;\n    }\n    return this._renderingCanvas.getBoundingClientRect();\n  };\n  Engine2.prototype.getInputElementClientRect = function() {\n    if (!this._renderingCanvas) {\n      return null;\n    }\n    return this.getInputElement().getBoundingClientRect();\n  };\n  Engine2.prototype.isDeterministicLockStep = function() {\n    return this._deterministicLockstep;\n  };\n  Engine2.prototype.getLockstepMaxSteps = function() {\n    return this._lockstepMaxSteps;\n  };\n  Engine2.prototype.getTimeStep = function() {\n    return this._timeStep * 1e3;\n  };\n  Engine2.prototype.generateMipMapsForCubemap = function(texture, unbind) {\n    if (unbind === void 0) {\n      unbind = true;\n    }\n    if (texture.generateMipMaps) {\n      var gl = this._gl;\n      this._bindTextureDirectly(gl.TEXTURE_CUBE_MAP, texture, true);\n      gl.generateMipmap(gl.TEXTURE_CUBE_MAP);\n      if (unbind) {\n        this._bindTextureDirectly(gl.TEXTURE_CUBE_MAP, null);\n      }\n    }\n  };\n  Engine2.prototype.getDepthBuffer = function() {\n    return this._depthCullingState.depthTest;\n  };\n  Engine2.prototype.setDepthBuffer = function(enable) {\n    this._depthCullingState.depthTest = enable;\n  };\n  Engine2.prototype.getDepthWrite = function() {\n    return this._depthCullingState.depthMask;\n  };\n  Engine2.prototype.setDepthWrite = function(enable) {\n    this._depthCullingState.depthMask = enable;\n  };\n  Engine2.prototype.getStencilBuffer = function() {\n    return this._stencilState.stencilTest;\n  };\n  Engine2.prototype.setStencilBuffer = function(enable) {\n    this._stencilState.stencilTest = enable;\n  };\n  Engine2.prototype.getStencilMask = function() {\n    return this._stencilState.stencilMask;\n  };\n  Engine2.prototype.setStencilMask = function(mask) {\n    this._stencilState.stencilMask = mask;\n  };\n  Engine2.prototype.getStencilFunction = function() {\n    return this._stencilState.stencilFunc;\n  };\n  Engine2.prototype.getStencilFunctionReference = function() {\n    return this._stencilState.stencilFuncRef;\n  };\n  Engine2.prototype.getStencilFunctionMask = function() {\n    return this._stencilState.stencilFuncMask;\n  };\n  Engine2.prototype.setStencilFunction = function(stencilFunc) {\n    this._stencilState.stencilFunc = stencilFunc;\n  };\n  Engine2.prototype.setStencilFunctionReference = function(reference) {\n    this._stencilState.stencilFuncRef = reference;\n  };\n  Engine2.prototype.setStencilFunctionMask = function(mask) {\n    this._stencilState.stencilFuncMask = mask;\n  };\n  Engine2.prototype.getStencilOperationFail = function() {\n    return this._stencilState.stencilOpStencilFail;\n  };\n  Engine2.prototype.getStencilOperationDepthFail = function() {\n    return this._stencilState.stencilOpDepthFail;\n  };\n  Engine2.prototype.getStencilOperationPass = function() {\n    return this._stencilState.stencilOpStencilDepthPass;\n  };\n  Engine2.prototype.setStencilOperationFail = function(operation) {\n    this._stencilState.stencilOpStencilFail = operation;\n  };\n  Engine2.prototype.setStencilOperationDepthFail = function(operation) {\n    this._stencilState.stencilOpDepthFail = operation;\n  };\n  Engine2.prototype.setStencilOperationPass = function(operation) {\n    this._stencilState.stencilOpStencilDepthPass = operation;\n  };\n  Engine2.prototype.setDitheringState = function(value) {\n    if (value) {\n      this._gl.enable(this._gl.DITHER);\n    } else {\n      this._gl.disable(this._gl.DITHER);\n    }\n  };\n  Engine2.prototype.setRasterizerState = function(value) {\n    if (value) {\n      this._gl.disable(this._gl.RASTERIZER_DISCARD);\n    } else {\n      this._gl.enable(this._gl.RASTERIZER_DISCARD);\n    }\n  };\n  Engine2.prototype.getDepthFunction = function() {\n    return this._depthCullingState.depthFunc;\n  };\n  Engine2.prototype.setDepthFunction = function(depthFunc) {\n    this._depthCullingState.depthFunc = depthFunc;\n  };\n  Engine2.prototype.setDepthFunctionToGreater = function() {\n    this.setDepthFunction(516);\n  };\n  Engine2.prototype.setDepthFunctionToGreaterOrEqual = function() {\n    this.setDepthFunction(518);\n  };\n  Engine2.prototype.setDepthFunctionToLess = function() {\n    this.setDepthFunction(513);\n  };\n  Engine2.prototype.setDepthFunctionToLessOrEqual = function() {\n    this.setDepthFunction(515);\n  };\n  Engine2.prototype.cacheStencilState = function() {\n    this._cachedStencilBuffer = this.getStencilBuffer();\n    this._cachedStencilFunction = this.getStencilFunction();\n    this._cachedStencilMask = this.getStencilMask();\n    this._cachedStencilOperationPass = this.getStencilOperationPass();\n    this._cachedStencilOperationFail = this.getStencilOperationFail();\n    this._cachedStencilOperationDepthFail = this.getStencilOperationDepthFail();\n    this._cachedStencilReference = this.getStencilFunctionReference();\n  };\n  Engine2.prototype.restoreStencilState = function() {\n    this.setStencilFunction(this._cachedStencilFunction);\n    this.setStencilMask(this._cachedStencilMask);\n    this.setStencilBuffer(this._cachedStencilBuffer);\n    this.setStencilOperationPass(this._cachedStencilOperationPass);\n    this.setStencilOperationFail(this._cachedStencilOperationFail);\n    this.setStencilOperationDepthFail(this._cachedStencilOperationDepthFail);\n    this.setStencilFunctionReference(this._cachedStencilReference);\n  };\n  Engine2.prototype.setDirectViewport = function(x, y, width, height) {\n    var currentViewport = this._cachedViewport;\n    this._cachedViewport = null;\n    this._viewport(x, y, width, height);\n    return currentViewport;\n  };\n  Engine2.prototype.scissorClear = function(x, y, width, height, clearColor) {\n    this.enableScissor(x, y, width, height);\n    this.clear(clearColor, true, true, true);\n    this.disableScissor();\n  };\n  Engine2.prototype.enableScissor = function(x, y, width, height) {\n    var gl = this._gl;\n    gl.enable(gl.SCISSOR_TEST);\n    gl.scissor(x, y, width, height);\n  };\n  Engine2.prototype.disableScissor = function() {\n    var gl = this._gl;\n    gl.disable(gl.SCISSOR_TEST);\n  };\n  Engine2.prototype._reportDrawCall = function(numDrawCalls) {\n    if (numDrawCalls === void 0) {\n      numDrawCalls = 1;\n    }\n    this._drawCalls.addCount(numDrawCalls, false);\n  };\n  Engine2.prototype.initWebVR = function() {\n    throw _WarnImport(\"WebVRCamera\");\n  };\n  Engine2.prototype._prepareVRComponent = function() {\n  };\n  Engine2.prototype._connectVREvents = function(canvas, document2) {\n  };\n  Engine2.prototype._submitVRFrame = function() {\n  };\n  Engine2.prototype.disableVR = function() {\n  };\n  Engine2.prototype.isVRPresenting = function() {\n    return false;\n  };\n  Engine2.prototype._requestVRFrame = function() {\n  };\n  Engine2.prototype._loadFileAsync = function(url, offlineProvider, useArrayBuffer) {\n    var _this = this;\n    return new Promise(function(resolve, reject) {\n      _this._loadFile(url, function(data) {\n        resolve(data);\n      }, void 0, offlineProvider, useArrayBuffer, function(request, exception) {\n        reject(exception);\n      });\n    });\n  };\n  Engine2.prototype.getVertexShaderSource = function(program) {\n    var shaders = this._gl.getAttachedShaders(program);\n    if (!shaders) {\n      return null;\n    }\n    return this._gl.getShaderSource(shaders[0]);\n  };\n  Engine2.prototype.getFragmentShaderSource = function(program) {\n    var shaders = this._gl.getAttachedShaders(program);\n    if (!shaders) {\n      return null;\n    }\n    return this._gl.getShaderSource(shaders[1]);\n  };\n  Engine2.prototype.setDepthStencilTexture = function(channel, uniform, texture, name2) {\n    if (channel === void 0) {\n      return;\n    }\n    if (uniform) {\n      this._boundUniforms[channel] = uniform;\n    }\n    if (!texture || !texture.depthStencilTexture) {\n      this._setTexture(channel, null, void 0, void 0, name2);\n    } else {\n      this._setTexture(channel, texture, false, true, name2);\n    }\n  };\n  Engine2.prototype.setTextureFromPostProcess = function(channel, postProcess, name2) {\n    var _a;\n    var postProcessInput = null;\n    if (postProcess) {\n      if (postProcess._textures.data[postProcess._currentRenderTextureInd]) {\n        postProcessInput = postProcess._textures.data[postProcess._currentRenderTextureInd];\n      } else if (postProcess._forcedOutputTexture) {\n        postProcessInput = postProcess._forcedOutputTexture;\n      }\n    }\n    this._bindTexture(channel, (_a = postProcessInput === null || postProcessInput === void 0 ? void 0 : postProcessInput.texture) !== null && _a !== void 0 ? _a : null, name2);\n  };\n  Engine2.prototype.setTextureFromPostProcessOutput = function(channel, postProcess, name2) {\n    var _a, _b;\n    this._bindTexture(channel, (_b = (_a = postProcess === null || postProcess === void 0 ? void 0 : postProcess._outputTexture) === null || _a === void 0 ? void 0 : _a.texture) !== null && _b !== void 0 ? _b : null, name2);\n  };\n  Engine2.prototype._rebuildBuffers = function() {\n    for (var _i = 0, _a = this.scenes; _i < _a.length; _i++) {\n      var scene = _a[_i];\n      scene.resetCachedMaterial();\n      scene._rebuildGeometries();\n      scene._rebuildTextures();\n    }\n    for (var _b = 0, _c = this._virtualScenes; _b < _c.length; _b++) {\n      var scene = _c[_b];\n      scene.resetCachedMaterial();\n      scene._rebuildGeometries();\n      scene._rebuildTextures();\n    }\n    _super.prototype._rebuildBuffers.call(this);\n  };\n  Engine2.prototype._renderFrame = function() {\n    for (var index = 0; index < this._activeRenderLoops.length; index++) {\n      var renderFunction = this._activeRenderLoops[index];\n      renderFunction();\n    }\n  };\n  Engine2.prototype._renderLoop = function() {\n    if (!this._contextWasLost) {\n      var shouldRender = true;\n      if (!this.renderEvenInBackground && this._windowIsBackground) {\n        shouldRender = false;\n      }\n      if (shouldRender) {\n        this.beginFrame();\n        if (!this._renderViews()) {\n          this._renderFrame();\n        }\n        this.endFrame();\n      }\n    }\n    if (this._activeRenderLoops.length > 0) {\n      if (this.customAnimationFrameRequester) {\n        this.customAnimationFrameRequester.requestID = this._queueNewFrame(this.customAnimationFrameRequester.renderFunction || this._boundRenderFunction, this.customAnimationFrameRequester);\n        this._frameHandler = this.customAnimationFrameRequester.requestID;\n      } else if (this.isVRPresenting()) {\n        this._requestVRFrame();\n      } else {\n        this._frameHandler = this._queueNewFrame(this._boundRenderFunction, this.getHostWindow());\n      }\n    } else {\n      this._renderingQueueLaunched = false;\n    }\n  };\n  Engine2.prototype._renderViews = function() {\n    return false;\n  };\n  Engine2.prototype.switchFullscreen = function(requestPointerLock) {\n    if (this.isFullscreen) {\n      this.exitFullscreen();\n    } else {\n      this.enterFullscreen(requestPointerLock);\n    }\n  };\n  Engine2.prototype.enterFullscreen = function(requestPointerLock) {\n    if (!this.isFullscreen) {\n      this._pointerLockRequested = requestPointerLock;\n      if (this._renderingCanvas) {\n        Engine2._RequestFullscreen(this._renderingCanvas);\n      }\n    }\n  };\n  Engine2.prototype.exitFullscreen = function() {\n    if (this.isFullscreen) {\n      Engine2._ExitFullscreen();\n    }\n  };\n  Engine2.prototype.enterPointerlock = function() {\n    if (this._renderingCanvas) {\n      Engine2._RequestPointerlock(this._renderingCanvas);\n    }\n  };\n  Engine2.prototype.exitPointerlock = function() {\n    Engine2._ExitPointerlock();\n  };\n  Engine2.prototype.beginFrame = function() {\n    this._measureFps();\n    this.onBeginFrameObservable.notifyObservers(this);\n    _super.prototype.beginFrame.call(this);\n  };\n  Engine2.prototype.endFrame = function() {\n    _super.prototype.endFrame.call(this);\n    this._submitVRFrame();\n    this.onEndFrameObservable.notifyObservers(this);\n  };\n  Engine2.prototype.resize = function(forceSetSize) {\n    if (forceSetSize === void 0) {\n      forceSetSize = false;\n    }\n    if (this.isVRPresenting()) {\n      return;\n    }\n    _super.prototype.resize.call(this, forceSetSize);\n  };\n  Engine2.prototype.setSize = function(width, height, forceSetSize) {\n    if (forceSetSize === void 0) {\n      forceSetSize = false;\n    }\n    if (!this._renderingCanvas) {\n      return false;\n    }\n    if (!_super.prototype.setSize.call(this, width, height, forceSetSize)) {\n      return false;\n    }\n    if (this.scenes) {\n      for (var index = 0; index < this.scenes.length; index++) {\n        var scene = this.scenes[index];\n        for (var camIndex = 0; camIndex < scene.cameras.length; camIndex++) {\n          var cam = scene.cameras[camIndex];\n          cam._currentRenderId = 0;\n        }\n      }\n      if (this.onResizeObservable.hasObservers()) {\n        this.onResizeObservable.notifyObservers(this);\n      }\n    }\n    return true;\n  };\n  Engine2.prototype._deletePipelineContext = function(pipelineContext) {\n    var webGLPipelineContext = pipelineContext;\n    if (webGLPipelineContext && webGLPipelineContext.program) {\n      if (webGLPipelineContext.transformFeedback) {\n        this.deleteTransformFeedback(webGLPipelineContext.transformFeedback);\n        webGLPipelineContext.transformFeedback = null;\n      }\n    }\n    _super.prototype._deletePipelineContext.call(this, pipelineContext);\n  };\n  Engine2.prototype.createShaderProgram = function(pipelineContext, vertexCode, fragmentCode, defines, context, transformFeedbackVaryings) {\n    if (transformFeedbackVaryings === void 0) {\n      transformFeedbackVaryings = null;\n    }\n    context = context || this._gl;\n    this.onBeforeShaderCompilationObservable.notifyObservers(this);\n    var program = _super.prototype.createShaderProgram.call(this, pipelineContext, vertexCode, fragmentCode, defines, context, transformFeedbackVaryings);\n    this.onAfterShaderCompilationObservable.notifyObservers(this);\n    return program;\n  };\n  Engine2.prototype._createShaderProgram = function(pipelineContext, vertexShader, fragmentShader, context, transformFeedbackVaryings) {\n    if (transformFeedbackVaryings === void 0) {\n      transformFeedbackVaryings = null;\n    }\n    var shaderProgram = context.createProgram();\n    pipelineContext.program = shaderProgram;\n    if (!shaderProgram) {\n      throw new Error(\"Unable to create program\");\n    }\n    context.attachShader(shaderProgram, vertexShader);\n    context.attachShader(shaderProgram, fragmentShader);\n    if (this.webGLVersion > 1 && transformFeedbackVaryings) {\n      var transformFeedback = this.createTransformFeedback();\n      this.bindTransformFeedback(transformFeedback);\n      this.setTranformFeedbackVaryings(shaderProgram, transformFeedbackVaryings);\n      pipelineContext.transformFeedback = transformFeedback;\n    }\n    context.linkProgram(shaderProgram);\n    if (this.webGLVersion > 1 && transformFeedbackVaryings) {\n      this.bindTransformFeedback(null);\n    }\n    pipelineContext.context = context;\n    pipelineContext.vertexShader = vertexShader;\n    pipelineContext.fragmentShader = fragmentShader;\n    if (!pipelineContext.isParallelCompiled) {\n      this._finalizePipelineContext(pipelineContext);\n    }\n    return shaderProgram;\n  };\n  Engine2.prototype._releaseTexture = function(texture) {\n    _super.prototype._releaseTexture.call(this, texture);\n  };\n  Engine2.prototype._releaseRenderTargetWrapper = function(rtWrapper) {\n    _super.prototype._releaseRenderTargetWrapper.call(this, rtWrapper);\n    this.scenes.forEach(function(scene) {\n      scene.postProcesses.forEach(function(postProcess) {\n        if (postProcess._outputTexture === rtWrapper) {\n          postProcess._outputTexture = null;\n        }\n      });\n      scene.cameras.forEach(function(camera) {\n        camera._postProcesses.forEach(function(postProcess) {\n          if (postProcess) {\n            if (postProcess._outputTexture === rtWrapper) {\n              postProcess._outputTexture = null;\n            }\n          }\n        });\n      });\n    });\n  };\n  Engine2.prototype.getRenderPassNames = function() {\n    return this._renderPassNames;\n  };\n  Engine2.prototype.getCurrentRenderPassName = function() {\n    return this._renderPassNames[this.currentRenderPassId];\n  };\n  Engine2.prototype.createRenderPassId = function(name2) {\n    var id = ++Engine2._RenderPassIdCounter;\n    this._renderPassNames[id] = name2 !== null && name2 !== void 0 ? name2 : \"NONAME\";\n    return id;\n  };\n  Engine2.prototype.releaseRenderPassId = function(id) {\n    this._renderPassNames[id] = void 0;\n    for (var s = 0; s < this.scenes.length; ++s) {\n      var scene = this.scenes[s];\n      for (var m = 0; m < scene.meshes.length; ++m) {\n        var mesh = scene.meshes[m];\n        if (mesh.subMeshes) {\n          for (var b = 0; b < mesh.subMeshes.length; ++b) {\n            var subMesh = mesh.subMeshes[b];\n            subMesh._removeDrawWrapper(id);\n          }\n        }\n      }\n    }\n  };\n  Engine2.prototype._rescaleTexture = function(source, destination, scene, internalFormat, onComplete) {\n    var _this = this;\n    this._gl.texParameteri(this._gl.TEXTURE_2D, this._gl.TEXTURE_MAG_FILTER, this._gl.LINEAR);\n    this._gl.texParameteri(this._gl.TEXTURE_2D, this._gl.TEXTURE_MIN_FILTER, this._gl.LINEAR);\n    this._gl.texParameteri(this._gl.TEXTURE_2D, this._gl.TEXTURE_WRAP_S, this._gl.CLAMP_TO_EDGE);\n    this._gl.texParameteri(this._gl.TEXTURE_2D, this._gl.TEXTURE_WRAP_T, this._gl.CLAMP_TO_EDGE);\n    var rtt = this.createRenderTargetTexture({\n      width: destination.width,\n      height: destination.height\n    }, {\n      generateMipMaps: false,\n      type: 0,\n      samplingMode: 2,\n      generateDepthBuffer: false,\n      generateStencilBuffer: false\n    });\n    if (!this._rescalePostProcess && Engine2._RescalePostProcessFactory) {\n      this._rescalePostProcess = Engine2._RescalePostProcessFactory(this);\n    }\n    this._rescalePostProcess.externalTextureSamplerBinding = true;\n    this._rescalePostProcess.getEffect().executeWhenCompiled(function() {\n      _this._rescalePostProcess.onApply = function(effect) {\n        effect._bindTexture(\"textureSampler\", source);\n      };\n      var hostingScene = scene;\n      if (!hostingScene) {\n        hostingScene = _this.scenes[_this.scenes.length - 1];\n      }\n      hostingScene.postProcessManager.directRender([_this._rescalePostProcess], rtt, true);\n      _this._bindTextureDirectly(_this._gl.TEXTURE_2D, destination, true);\n      _this._gl.copyTexImage2D(_this._gl.TEXTURE_2D, 0, internalFormat, 0, 0, destination.width, destination.height, 0);\n      _this.unBindFramebuffer(rtt);\n      rtt.dispose();\n      if (onComplete) {\n        onComplete();\n      }\n    });\n  };\n  Engine2.prototype.getFps = function() {\n    return this._fps;\n  };\n  Engine2.prototype.getDeltaTime = function() {\n    return this._deltaTime;\n  };\n  Engine2.prototype._measureFps = function() {\n    this._performanceMonitor.sampleFrame();\n    this._fps = this._performanceMonitor.averageFPS;\n    this._deltaTime = this._performanceMonitor.instantaneousFrameTime || 0;\n  };\n  Engine2.prototype.wrapWebGLTexture = function(texture) {\n    var hardwareTexture = new WebGLHardwareTexture(texture, this._gl);\n    var internalTexture = new InternalTexture(this, InternalTextureSource.Unknown, true);\n    internalTexture._hardwareTexture = hardwareTexture;\n    internalTexture.isReady = true;\n    return internalTexture;\n  };\n  Engine2.prototype._uploadImageToTexture = function(texture, image, faceIndex, lod) {\n    if (faceIndex === void 0) {\n      faceIndex = 0;\n    }\n    if (lod === void 0) {\n      lod = 0;\n    }\n    var gl = this._gl;\n    var textureType = this._getWebGLTextureType(texture.type);\n    var format = this._getInternalFormat(texture.format);\n    var internalFormat = this._getRGBABufferInternalSizedFormat(texture.type, format);\n    var bindTarget = texture.isCube ? gl.TEXTURE_CUBE_MAP : gl.TEXTURE_2D;\n    this._bindTextureDirectly(bindTarget, texture, true);\n    this._unpackFlipY(texture.invertY);\n    var target = gl.TEXTURE_2D;\n    if (texture.isCube) {\n      target = gl.TEXTURE_CUBE_MAP_POSITIVE_X + faceIndex;\n    }\n    gl.texImage2D(target, lod, internalFormat, format, textureType, image);\n    this._bindTextureDirectly(bindTarget, null, true);\n  };\n  Engine2.prototype.updateTextureComparisonFunction = function(texture, comparisonFunction) {\n    if (this.webGLVersion === 1) {\n      Logger.Error(\"WebGL 1 does not support texture comparison.\");\n      return;\n    }\n    var gl = this._gl;\n    if (texture.isCube) {\n      this._bindTextureDirectly(this._gl.TEXTURE_CUBE_MAP, texture, true);\n      if (comparisonFunction === 0) {\n        gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_COMPARE_FUNC, 515);\n        gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_COMPARE_MODE, gl.NONE);\n      } else {\n        gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_COMPARE_FUNC, comparisonFunction);\n        gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_COMPARE_MODE, gl.COMPARE_REF_TO_TEXTURE);\n      }\n      this._bindTextureDirectly(this._gl.TEXTURE_CUBE_MAP, null);\n    } else {\n      this._bindTextureDirectly(this._gl.TEXTURE_2D, texture, true);\n      if (comparisonFunction === 0) {\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_COMPARE_FUNC, 515);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_COMPARE_MODE, gl.NONE);\n      } else {\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_COMPARE_FUNC, comparisonFunction);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_COMPARE_MODE, gl.COMPARE_REF_TO_TEXTURE);\n      }\n      this._bindTextureDirectly(this._gl.TEXTURE_2D, null);\n    }\n    texture._comparisonFunction = comparisonFunction;\n  };\n  Engine2.prototype.createInstancesBuffer = function(capacity) {\n    var buffer = this._gl.createBuffer();\n    if (!buffer) {\n      throw new Error(\"Unable to create instance buffer\");\n    }\n    var result = new WebGLDataBuffer(buffer);\n    result.capacity = capacity;\n    this.bindArrayBuffer(result);\n    this._gl.bufferData(this._gl.ARRAY_BUFFER, capacity, this._gl.DYNAMIC_DRAW);\n    result.references = 1;\n    return result;\n  };\n  Engine2.prototype.deleteInstancesBuffer = function(buffer) {\n    this._gl.deleteBuffer(buffer);\n  };\n  Engine2.prototype._clientWaitAsync = function(sync, flags, intervalms) {\n    if (flags === void 0) {\n      flags = 0;\n    }\n    if (intervalms === void 0) {\n      intervalms = 10;\n    }\n    var gl = this._gl;\n    return new Promise(function(resolve, reject) {\n      var check = function() {\n        var res = gl.clientWaitSync(sync, flags, 0);\n        if (res == gl.WAIT_FAILED) {\n          reject();\n          return;\n        }\n        if (res == gl.TIMEOUT_EXPIRED) {\n          setTimeout(check, intervalms);\n          return;\n        }\n        resolve();\n      };\n      check();\n    });\n  };\n  Engine2.prototype._readPixelsAsync = function(x, y, w, h, format, type, outputBuffer) {\n    if (this._webGLVersion < 2) {\n      throw new Error(\"_readPixelsAsync only work on WebGL2+\");\n    }\n    var gl = this._gl;\n    var buf = gl.createBuffer();\n    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, buf);\n    gl.bufferData(gl.PIXEL_PACK_BUFFER, outputBuffer.byteLength, gl.STREAM_READ);\n    gl.readPixels(x, y, w, h, format, type, 0);\n    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, null);\n    var sync = gl.fenceSync(gl.SYNC_GPU_COMMANDS_COMPLETE, 0);\n    if (!sync) {\n      return null;\n    }\n    gl.flush();\n    return this._clientWaitAsync(sync, 0, 10).then(function() {\n      gl.deleteSync(sync);\n      gl.bindBuffer(gl.PIXEL_PACK_BUFFER, buf);\n      gl.getBufferSubData(gl.PIXEL_PACK_BUFFER, 0, outputBuffer);\n      gl.bindBuffer(gl.PIXEL_PACK_BUFFER, null);\n      gl.deleteBuffer(buf);\n      return outputBuffer;\n    });\n  };\n  Engine2.prototype.dispose = function() {\n    this.hideLoadingUI();\n    this.onNewSceneAddedObservable.clear();\n    while (this.postProcesses.length) {\n      this.postProcesses[0].dispose();\n    }\n    if (this._rescalePostProcess) {\n      this._rescalePostProcess.dispose();\n    }\n    while (this.scenes.length) {\n      this.scenes[0].dispose();\n    }\n    while (this._virtualScenes.length) {\n      this._virtualScenes[0].dispose();\n    }\n    if (Engine2.Instances.length === 1 && Engine2.audioEngine) {\n      Engine2.audioEngine.dispose();\n      Engine2.audioEngine = null;\n    }\n    this.disableVR();\n    if (IsWindowObjectExist()) {\n      window.removeEventListener(\"blur\", this._onBlur);\n      window.removeEventListener(\"focus\", this._onFocus);\n      if (this._renderingCanvas) {\n        this._renderingCanvas.removeEventListener(\"focus\", this._onCanvasFocus);\n        this._renderingCanvas.removeEventListener(\"blur\", this._onCanvasBlur);\n        this._renderingCanvas.removeEventListener(\"pointerout\", this._onCanvasPointerOut);\n      }\n      if (IsDocumentAvailable()) {\n        document.removeEventListener(\"fullscreenchange\", this._onFullscreenChange);\n        document.removeEventListener(\"mozfullscreenchange\", this._onFullscreenChange);\n        document.removeEventListener(\"webkitfullscreenchange\", this._onFullscreenChange);\n        document.removeEventListener(\"msfullscreenchange\", this._onFullscreenChange);\n        document.removeEventListener(\"pointerlockchange\", this._onPointerLockChange);\n        document.removeEventListener(\"mspointerlockchange\", this._onPointerLockChange);\n        document.removeEventListener(\"mozpointerlockchange\", this._onPointerLockChange);\n        document.removeEventListener(\"webkitpointerlockchange\", this._onPointerLockChange);\n      }\n    }\n    _super.prototype.dispose.call(this);\n    var index = Engine2.Instances.indexOf(this);\n    if (index >= 0) {\n      Engine2.Instances.splice(index, 1);\n    }\n    this.onResizeObservable.clear();\n    this.onCanvasBlurObservable.clear();\n    this.onCanvasFocusObservable.clear();\n    this.onCanvasPointerOutObservable.clear();\n    this.onBeginFrameObservable.clear();\n    this.onEndFrameObservable.clear();\n  };\n  Engine2.prototype._disableTouchAction = function() {\n    if (!this._renderingCanvas || !this._renderingCanvas.setAttribute) {\n      return;\n    }\n    this._renderingCanvas.setAttribute(\"touch-action\", \"none\");\n    this._renderingCanvas.style.touchAction = \"none\";\n    this._renderingCanvas.style.msTouchAction = \"none\";\n    this._renderingCanvas.style.webkitTapHighlightColor = \"transparent\";\n  };\n  Engine2.prototype.displayLoadingUI = function() {\n    if (!IsWindowObjectExist()) {\n      return;\n    }\n    var loadingScreen = this.loadingScreen;\n    if (loadingScreen) {\n      loadingScreen.displayLoadingUI();\n    }\n  };\n  Engine2.prototype.hideLoadingUI = function() {\n    if (!IsWindowObjectExist()) {\n      return;\n    }\n    var loadingScreen = this._loadingScreen;\n    if (loadingScreen) {\n      loadingScreen.hideLoadingUI();\n    }\n  };\n  Object.defineProperty(Engine2.prototype, \"loadingScreen\", {\n    get: function() {\n      if (!this._loadingScreen && this._renderingCanvas) {\n        this._loadingScreen = Engine2.DefaultLoadingScreenFactory(this._renderingCanvas);\n      }\n      return this._loadingScreen;\n    },\n    set: function(loadingScreen) {\n      this._loadingScreen = loadingScreen;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Engine2.prototype, \"loadingUIText\", {\n    set: function(text) {\n      this.loadingScreen.loadingUIText = text;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Engine2.prototype, \"loadingUIBackgroundColor\", {\n    set: function(color) {\n      this.loadingScreen.loadingUIBackgroundColor = color;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Engine2.prototype.createVideoElement = function(constraints) {\n    return document.createElement(\"video\");\n  };\n  Engine2._RequestPointerlock = function(element) {\n    element.requestPointerLock = element.requestPointerLock || element.msRequestPointerLock || element.mozRequestPointerLock || element.webkitRequestPointerLock;\n    if (element.requestPointerLock) {\n      element.requestPointerLock();\n      element.focus();\n    }\n  };\n  Engine2._ExitPointerlock = function() {\n    var anyDoc = document;\n    document.exitPointerLock = document.exitPointerLock || anyDoc.msExitPointerLock || anyDoc.mozExitPointerLock || anyDoc.webkitExitPointerLock;\n    if (document.exitPointerLock) {\n      document.exitPointerLock();\n    }\n  };\n  Engine2._RequestFullscreen = function(element) {\n    var requestFunction = element.requestFullscreen || element.msRequestFullscreen || element.webkitRequestFullscreen || element.mozRequestFullScreen;\n    if (!requestFunction) {\n      return;\n    }\n    requestFunction.call(element);\n  };\n  Engine2._ExitFullscreen = function() {\n    var anyDoc = document;\n    if (document.exitFullscreen) {\n      document.exitFullscreen();\n    } else if (anyDoc.mozCancelFullScreen) {\n      anyDoc.mozCancelFullScreen();\n    } else if (anyDoc.webkitCancelFullScreen) {\n      anyDoc.webkitCancelFullScreen();\n    } else if (anyDoc.msCancelFullScreen) {\n      anyDoc.msCancelFullScreen();\n    }\n  };\n  Engine2.prototype.getFontOffset = function(font) {\n    var text = document.createElement(\"span\");\n    text.innerHTML = \"Hg\";\n    text.setAttribute(\"style\", \"font: \".concat(font, \" !important\"));\n    var block = document.createElement(\"div\");\n    block.style.display = \"inline-block\";\n    block.style.width = \"1px\";\n    block.style.height = \"0px\";\n    block.style.verticalAlign = \"bottom\";\n    var div = document.createElement(\"div\");\n    div.style.whiteSpace = \"nowrap\";\n    div.appendChild(text);\n    div.appendChild(block);\n    document.body.appendChild(div);\n    var fontAscent = 0;\n    var fontHeight = 0;\n    try {\n      fontHeight = block.getBoundingClientRect().top - text.getBoundingClientRect().top;\n      block.style.verticalAlign = \"baseline\";\n      fontAscent = block.getBoundingClientRect().top - text.getBoundingClientRect().top;\n    } finally {\n      document.body.removeChild(div);\n    }\n    return { ascent: fontAscent, height: fontHeight, descent: fontHeight - fontAscent };\n  };\n  Engine2.ALPHA_DISABLE = 0;\n  Engine2.ALPHA_ADD = 1;\n  Engine2.ALPHA_COMBINE = 2;\n  Engine2.ALPHA_SUBTRACT = 3;\n  Engine2.ALPHA_MULTIPLY = 4;\n  Engine2.ALPHA_MAXIMIZED = 5;\n  Engine2.ALPHA_ONEONE = 6;\n  Engine2.ALPHA_PREMULTIPLIED = 7;\n  Engine2.ALPHA_PREMULTIPLIED_PORTERDUFF = 8;\n  Engine2.ALPHA_INTERPOLATE = 9;\n  Engine2.ALPHA_SCREENMODE = 10;\n  Engine2.DELAYLOADSTATE_NONE = 0;\n  Engine2.DELAYLOADSTATE_LOADED = 1;\n  Engine2.DELAYLOADSTATE_LOADING = 2;\n  Engine2.DELAYLOADSTATE_NOTLOADED = 4;\n  Engine2.NEVER = 512;\n  Engine2.ALWAYS = 519;\n  Engine2.LESS = 513;\n  Engine2.EQUAL = 514;\n  Engine2.LEQUAL = 515;\n  Engine2.GREATER = 516;\n  Engine2.GEQUAL = 518;\n  Engine2.NOTEQUAL = 517;\n  Engine2.KEEP = 7680;\n  Engine2.REPLACE = 7681;\n  Engine2.INCR = 7682;\n  Engine2.DECR = 7683;\n  Engine2.INVERT = 5386;\n  Engine2.INCR_WRAP = 34055;\n  Engine2.DECR_WRAP = 34056;\n  Engine2.TEXTURE_CLAMP_ADDRESSMODE = 0;\n  Engine2.TEXTURE_WRAP_ADDRESSMODE = 1;\n  Engine2.TEXTURE_MIRROR_ADDRESSMODE = 2;\n  Engine2.TEXTUREFORMAT_ALPHA = 0;\n  Engine2.TEXTUREFORMAT_LUMINANCE = 1;\n  Engine2.TEXTUREFORMAT_LUMINANCE_ALPHA = 2;\n  Engine2.TEXTUREFORMAT_RGB = 4;\n  Engine2.TEXTUREFORMAT_RGBA = 5;\n  Engine2.TEXTUREFORMAT_RED = 6;\n  Engine2.TEXTUREFORMAT_R = 6;\n  Engine2.TEXTUREFORMAT_RG = 7;\n  Engine2.TEXTUREFORMAT_RED_INTEGER = 8;\n  Engine2.TEXTUREFORMAT_R_INTEGER = 8;\n  Engine2.TEXTUREFORMAT_RG_INTEGER = 9;\n  Engine2.TEXTUREFORMAT_RGB_INTEGER = 10;\n  Engine2.TEXTUREFORMAT_RGBA_INTEGER = 11;\n  Engine2.TEXTURETYPE_UNSIGNED_BYTE = 0;\n  Engine2.TEXTURETYPE_UNSIGNED_INT = 0;\n  Engine2.TEXTURETYPE_FLOAT = 1;\n  Engine2.TEXTURETYPE_HALF_FLOAT = 2;\n  Engine2.TEXTURETYPE_BYTE = 3;\n  Engine2.TEXTURETYPE_SHORT = 4;\n  Engine2.TEXTURETYPE_UNSIGNED_SHORT = 5;\n  Engine2.TEXTURETYPE_INT = 6;\n  Engine2.TEXTURETYPE_UNSIGNED_INTEGER = 7;\n  Engine2.TEXTURETYPE_UNSIGNED_SHORT_4_4_4_4 = 8;\n  Engine2.TEXTURETYPE_UNSIGNED_SHORT_5_5_5_1 = 9;\n  Engine2.TEXTURETYPE_UNSIGNED_SHORT_5_6_5 = 10;\n  Engine2.TEXTURETYPE_UNSIGNED_INT_2_10_10_10_REV = 11;\n  Engine2.TEXTURETYPE_UNSIGNED_INT_24_8 = 12;\n  Engine2.TEXTURETYPE_UNSIGNED_INT_10F_11F_11F_REV = 13;\n  Engine2.TEXTURETYPE_UNSIGNED_INT_5_9_9_9_REV = 14;\n  Engine2.TEXTURETYPE_FLOAT_32_UNSIGNED_INT_24_8_REV = 15;\n  Engine2.TEXTURE_NEAREST_SAMPLINGMODE = 1;\n  Engine2.TEXTURE_BILINEAR_SAMPLINGMODE = 2;\n  Engine2.TEXTURE_TRILINEAR_SAMPLINGMODE = 3;\n  Engine2.TEXTURE_NEAREST_NEAREST_MIPLINEAR = 8;\n  Engine2.TEXTURE_LINEAR_LINEAR_MIPNEAREST = 11;\n  Engine2.TEXTURE_LINEAR_LINEAR_MIPLINEAR = 3;\n  Engine2.TEXTURE_NEAREST_NEAREST_MIPNEAREST = 4;\n  Engine2.TEXTURE_NEAREST_LINEAR_MIPNEAREST = 5;\n  Engine2.TEXTURE_NEAREST_LINEAR_MIPLINEAR = 6;\n  Engine2.TEXTURE_NEAREST_LINEAR = 7;\n  Engine2.TEXTURE_NEAREST_NEAREST = 1;\n  Engine2.TEXTURE_LINEAR_NEAREST_MIPNEAREST = 9;\n  Engine2.TEXTURE_LINEAR_NEAREST_MIPLINEAR = 10;\n  Engine2.TEXTURE_LINEAR_LINEAR = 2;\n  Engine2.TEXTURE_LINEAR_NEAREST = 12;\n  Engine2.TEXTURE_EXPLICIT_MODE = 0;\n  Engine2.TEXTURE_SPHERICAL_MODE = 1;\n  Engine2.TEXTURE_PLANAR_MODE = 2;\n  Engine2.TEXTURE_CUBIC_MODE = 3;\n  Engine2.TEXTURE_PROJECTION_MODE = 4;\n  Engine2.TEXTURE_SKYBOX_MODE = 5;\n  Engine2.TEXTURE_INVCUBIC_MODE = 6;\n  Engine2.TEXTURE_EQUIRECTANGULAR_MODE = 7;\n  Engine2.TEXTURE_FIXED_EQUIRECTANGULAR_MODE = 8;\n  Engine2.TEXTURE_FIXED_EQUIRECTANGULAR_MIRRORED_MODE = 9;\n  Engine2.SCALEMODE_FLOOR = 1;\n  Engine2.SCALEMODE_NEAREST = 2;\n  Engine2.SCALEMODE_CEILING = 3;\n  Engine2._RescalePostProcessFactory = null;\n  Engine2._RenderPassIdCounter = 0;\n  return Engine2;\n}(ThinEngine);\nThinEngine.prototype._debugPushGroup = function(groupName, targetObject) {\n};\nThinEngine.prototype._debugPopGroup = function(targetObject) {\n};\nThinEngine.prototype._debugInsertMarker = function(text, targetObject) {\n};\nThinEngine.prototype._debugFlushPendingCommands = function() {\n};\nfunction createEngine(canvas) {\n  const engine = new Engine(canvas, true, {\n    preserveDrawingBuffer: true,\n    stencil: true\n  });\n  return engine;\n}\nvar Color3 = function() {\n  function Color32(r, g, b) {\n    if (r === void 0) {\n      r = 0;\n    }\n    if (g === void 0) {\n      g = 0;\n    }\n    if (b === void 0) {\n      b = 0;\n    }\n    this.r = r;\n    this.g = g;\n    this.b = b;\n  }\n  Color32.prototype.toString = function() {\n    return \"{R: \" + this.r + \" G:\" + this.g + \" B:\" + this.b + \"}\";\n  };\n  Color32.prototype.getClassName = function() {\n    return \"Color3\";\n  };\n  Color32.prototype.getHashCode = function() {\n    var hash = this.r * 255 | 0;\n    hash = hash * 397 ^ (this.g * 255 | 0);\n    hash = hash * 397 ^ (this.b * 255 | 0);\n    return hash;\n  };\n  Color32.prototype.toArray = function(array, index) {\n    if (index === void 0) {\n      index = 0;\n    }\n    array[index] = this.r;\n    array[index + 1] = this.g;\n    array[index + 2] = this.b;\n    return this;\n  };\n  Color32.prototype.fromArray = function(array, offset) {\n    if (offset === void 0) {\n      offset = 0;\n    }\n    Color32.FromArrayToRef(array, offset, this);\n    return this;\n  };\n  Color32.prototype.toColor4 = function(alpha) {\n    if (alpha === void 0) {\n      alpha = 1;\n    }\n    return new Color4$1(this.r, this.g, this.b, alpha);\n  };\n  Color32.prototype.asArray = function() {\n    return [this.r, this.g, this.b];\n  };\n  Color32.prototype.toLuminance = function() {\n    return this.r * 0.3 + this.g * 0.59 + this.b * 0.11;\n  };\n  Color32.prototype.multiply = function(otherColor) {\n    return new Color32(this.r * otherColor.r, this.g * otherColor.g, this.b * otherColor.b);\n  };\n  Color32.prototype.multiplyToRef = function(otherColor, result) {\n    result.r = this.r * otherColor.r;\n    result.g = this.g * otherColor.g;\n    result.b = this.b * otherColor.b;\n    return this;\n  };\n  Color32.prototype.equals = function(otherColor) {\n    return otherColor && this.r === otherColor.r && this.g === otherColor.g && this.b === otherColor.b;\n  };\n  Color32.prototype.equalsFloats = function(r, g, b) {\n    return this.r === r && this.g === g && this.b === b;\n  };\n  Color32.prototype.scale = function(scale) {\n    return new Color32(this.r * scale, this.g * scale, this.b * scale);\n  };\n  Color32.prototype.scaleToRef = function(scale, result) {\n    result.r = this.r * scale;\n    result.g = this.g * scale;\n    result.b = this.b * scale;\n    return this;\n  };\n  Color32.prototype.scaleAndAddToRef = function(scale, result) {\n    result.r += this.r * scale;\n    result.g += this.g * scale;\n    result.b += this.b * scale;\n    return this;\n  };\n  Color32.prototype.clampToRef = function(min, max, result) {\n    if (min === void 0) {\n      min = 0;\n    }\n    if (max === void 0) {\n      max = 1;\n    }\n    result.r = Scalar.Clamp(this.r, min, max);\n    result.g = Scalar.Clamp(this.g, min, max);\n    result.b = Scalar.Clamp(this.b, min, max);\n    return this;\n  };\n  Color32.prototype.add = function(otherColor) {\n    return new Color32(this.r + otherColor.r, this.g + otherColor.g, this.b + otherColor.b);\n  };\n  Color32.prototype.addToRef = function(otherColor, result) {\n    result.r = this.r + otherColor.r;\n    result.g = this.g + otherColor.g;\n    result.b = this.b + otherColor.b;\n    return this;\n  };\n  Color32.prototype.subtract = function(otherColor) {\n    return new Color32(this.r - otherColor.r, this.g - otherColor.g, this.b - otherColor.b);\n  };\n  Color32.prototype.subtractToRef = function(otherColor, result) {\n    result.r = this.r - otherColor.r;\n    result.g = this.g - otherColor.g;\n    result.b = this.b - otherColor.b;\n    return this;\n  };\n  Color32.prototype.clone = function() {\n    return new Color32(this.r, this.g, this.b);\n  };\n  Color32.prototype.copyFrom = function(source) {\n    this.r = source.r;\n    this.g = source.g;\n    this.b = source.b;\n    return this;\n  };\n  Color32.prototype.copyFromFloats = function(r, g, b) {\n    this.r = r;\n    this.g = g;\n    this.b = b;\n    return this;\n  };\n  Color32.prototype.set = function(r, g, b) {\n    return this.copyFromFloats(r, g, b);\n  };\n  Color32.prototype.toHexString = function() {\n    var intR = Math.round(this.r * 255);\n    var intG = Math.round(this.g * 255);\n    var intB = Math.round(this.b * 255);\n    return \"#\" + Scalar.ToHex(intR) + Scalar.ToHex(intG) + Scalar.ToHex(intB);\n  };\n  Color32.prototype.toLinearSpace = function() {\n    var convertedColor = new Color32();\n    this.toLinearSpaceToRef(convertedColor);\n    return convertedColor;\n  };\n  Color32.prototype.toHSV = function() {\n    var result = new Color32();\n    this.toHSVToRef(result);\n    return result;\n  };\n  Color32.prototype.toHSVToRef = function(result) {\n    var r = this.r;\n    var g = this.g;\n    var b = this.b;\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h = 0;\n    var s = 0;\n    var v = max;\n    var dm = max - min;\n    if (max !== 0) {\n      s = dm / max;\n    }\n    if (max != min) {\n      if (max == r) {\n        h = (g - b) / dm;\n        if (g < b) {\n          h += 6;\n        }\n      } else if (max == g) {\n        h = (b - r) / dm + 2;\n      } else if (max == b) {\n        h = (r - g) / dm + 4;\n      }\n      h *= 60;\n    }\n    result.r = h;\n    result.g = s;\n    result.b = v;\n  };\n  Color32.prototype.toLinearSpaceToRef = function(convertedColor) {\n    convertedColor.r = Math.pow(this.r, ToLinearSpace);\n    convertedColor.g = Math.pow(this.g, ToLinearSpace);\n    convertedColor.b = Math.pow(this.b, ToLinearSpace);\n    return this;\n  };\n  Color32.prototype.toGammaSpace = function() {\n    var convertedColor = new Color32();\n    this.toGammaSpaceToRef(convertedColor);\n    return convertedColor;\n  };\n  Color32.prototype.toGammaSpaceToRef = function(convertedColor) {\n    convertedColor.r = Math.pow(this.r, ToGammaSpace);\n    convertedColor.g = Math.pow(this.g, ToGammaSpace);\n    convertedColor.b = Math.pow(this.b, ToGammaSpace);\n    return this;\n  };\n  Color32.HSVtoRGBToRef = function(hue, saturation, value, result) {\n    var chroma = value * saturation;\n    var h = hue / 60;\n    var x = chroma * (1 - Math.abs(h % 2 - 1));\n    var r = 0;\n    var g = 0;\n    var b = 0;\n    if (h >= 0 && h <= 1) {\n      r = chroma;\n      g = x;\n    } else if (h >= 1 && h <= 2) {\n      r = x;\n      g = chroma;\n    } else if (h >= 2 && h <= 3) {\n      g = chroma;\n      b = x;\n    } else if (h >= 3 && h <= 4) {\n      g = x;\n      b = chroma;\n    } else if (h >= 4 && h <= 5) {\n      r = x;\n      b = chroma;\n    } else if (h >= 5 && h <= 6) {\n      r = chroma;\n      b = x;\n    }\n    var m = value - chroma;\n    result.set(r + m, g + m, b + m);\n  };\n  Color32.FromHexString = function(hex) {\n    if (hex.substring(0, 1) !== \"#\" || hex.length !== 7) {\n      return new Color32(0, 0, 0);\n    }\n    var r = parseInt(hex.substring(1, 3), 16);\n    var g = parseInt(hex.substring(3, 5), 16);\n    var b = parseInt(hex.substring(5, 7), 16);\n    return Color32.FromInts(r, g, b);\n  };\n  Color32.FromArray = function(array, offset) {\n    if (offset === void 0) {\n      offset = 0;\n    }\n    return new Color32(array[offset], array[offset + 1], array[offset + 2]);\n  };\n  Color32.FromArrayToRef = function(array, offset, result) {\n    if (offset === void 0) {\n      offset = 0;\n    }\n    result.r = array[offset];\n    result.g = array[offset + 1];\n    result.b = array[offset + 2];\n  };\n  Color32.FromInts = function(r, g, b) {\n    return new Color32(r / 255, g / 255, b / 255);\n  };\n  Color32.Lerp = function(start, end, amount) {\n    var result = new Color32(0, 0, 0);\n    Color32.LerpToRef(start, end, amount, result);\n    return result;\n  };\n  Color32.LerpToRef = function(left, right, amount, result) {\n    result.r = left.r + (right.r - left.r) * amount;\n    result.g = left.g + (right.g - left.g) * amount;\n    result.b = left.b + (right.b - left.b) * amount;\n  };\n  Color32.Hermite = function(value1, tangent1, value2, tangent2, amount) {\n    var squared = amount * amount;\n    var cubed = amount * squared;\n    var part1 = 2 * cubed - 3 * squared + 1;\n    var part2 = -2 * cubed + 3 * squared;\n    var part3 = cubed - 2 * squared + amount;\n    var part4 = cubed - squared;\n    var r = value1.r * part1 + value2.r * part2 + tangent1.r * part3 + tangent2.r * part4;\n    var g = value1.g * part1 + value2.g * part2 + tangent1.g * part3 + tangent2.g * part4;\n    var b = value1.b * part1 + value2.b * part2 + tangent1.b * part3 + tangent2.b * part4;\n    return new Color32(r, g, b);\n  };\n  Color32.Hermite1stDerivative = function(value1, tangent1, value2, tangent2, time) {\n    var result = Color32.Black();\n    this.Hermite1stDerivativeToRef(value1, tangent1, value2, tangent2, time, result);\n    return result;\n  };\n  Color32.Hermite1stDerivativeToRef = function(value1, tangent1, value2, tangent2, time, result) {\n    var t2 = time * time;\n    result.r = (t2 - time) * 6 * value1.r + (3 * t2 - 4 * time + 1) * tangent1.r + (-t2 + time) * 6 * value2.r + (3 * t2 - 2 * time) * tangent2.r;\n    result.g = (t2 - time) * 6 * value1.g + (3 * t2 - 4 * time + 1) * tangent1.g + (-t2 + time) * 6 * value2.g + (3 * t2 - 2 * time) * tangent2.g;\n    result.b = (t2 - time) * 6 * value1.b + (3 * t2 - 4 * time + 1) * tangent1.b + (-t2 + time) * 6 * value2.b + (3 * t2 - 2 * time) * tangent2.b;\n  };\n  Color32.Red = function() {\n    return new Color32(1, 0, 0);\n  };\n  Color32.Green = function() {\n    return new Color32(0, 1, 0);\n  };\n  Color32.Blue = function() {\n    return new Color32(0, 0, 1);\n  };\n  Color32.Black = function() {\n    return new Color32(0, 0, 0);\n  };\n  Object.defineProperty(Color32, \"BlackReadOnly\", {\n    get: function() {\n      return Color32._BlackReadOnly;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Color32.White = function() {\n    return new Color32(1, 1, 1);\n  };\n  Color32.Purple = function() {\n    return new Color32(0.5, 0, 0.5);\n  };\n  Color32.Magenta = function() {\n    return new Color32(1, 0, 1);\n  };\n  Color32.Yellow = function() {\n    return new Color32(1, 1, 0);\n  };\n  Color32.Gray = function() {\n    return new Color32(0.5, 0.5, 0.5);\n  };\n  Color32.Teal = function() {\n    return new Color32(0, 1, 1);\n  };\n  Color32.Random = function() {\n    return new Color32(Math.random(), Math.random(), Math.random());\n  };\n  Color32._BlackReadOnly = Color32.Black();\n  return Color32;\n}();\nvar Color4$1 = function() {\n  function Color42(r, g, b, a) {\n    if (r === void 0) {\n      r = 0;\n    }\n    if (g === void 0) {\n      g = 0;\n    }\n    if (b === void 0) {\n      b = 0;\n    }\n    if (a === void 0) {\n      a = 1;\n    }\n    this.r = r;\n    this.g = g;\n    this.b = b;\n    this.a = a;\n  }\n  Color42.prototype.addInPlace = function(right) {\n    this.r += right.r;\n    this.g += right.g;\n    this.b += right.b;\n    this.a += right.a;\n    return this;\n  };\n  Color42.prototype.asArray = function() {\n    return [this.r, this.g, this.b, this.a];\n  };\n  Color42.prototype.toArray = function(array, index) {\n    if (index === void 0) {\n      index = 0;\n    }\n    array[index] = this.r;\n    array[index + 1] = this.g;\n    array[index + 2] = this.b;\n    array[index + 3] = this.a;\n    return this;\n  };\n  Color42.prototype.fromArray = function(array, offset) {\n    if (offset === void 0) {\n      offset = 0;\n    }\n    Color42.FromArrayToRef(array, offset, this);\n    return this;\n  };\n  Color42.prototype.equals = function(otherColor) {\n    return otherColor && this.r === otherColor.r && this.g === otherColor.g && this.b === otherColor.b && this.a === otherColor.a;\n  };\n  Color42.prototype.add = function(right) {\n    return new Color42(this.r + right.r, this.g + right.g, this.b + right.b, this.a + right.a);\n  };\n  Color42.prototype.subtract = function(right) {\n    return new Color42(this.r - right.r, this.g - right.g, this.b - right.b, this.a - right.a);\n  };\n  Color42.prototype.subtractToRef = function(right, result) {\n    result.r = this.r - right.r;\n    result.g = this.g - right.g;\n    result.b = this.b - right.b;\n    result.a = this.a - right.a;\n    return this;\n  };\n  Color42.prototype.scale = function(scale) {\n    return new Color42(this.r * scale, this.g * scale, this.b * scale, this.a * scale);\n  };\n  Color42.prototype.scaleToRef = function(scale, result) {\n    result.r = this.r * scale;\n    result.g = this.g * scale;\n    result.b = this.b * scale;\n    result.a = this.a * scale;\n    return this;\n  };\n  Color42.prototype.scaleAndAddToRef = function(scale, result) {\n    result.r += this.r * scale;\n    result.g += this.g * scale;\n    result.b += this.b * scale;\n    result.a += this.a * scale;\n    return this;\n  };\n  Color42.prototype.clampToRef = function(min, max, result) {\n    if (min === void 0) {\n      min = 0;\n    }\n    if (max === void 0) {\n      max = 1;\n    }\n    result.r = Scalar.Clamp(this.r, min, max);\n    result.g = Scalar.Clamp(this.g, min, max);\n    result.b = Scalar.Clamp(this.b, min, max);\n    result.a = Scalar.Clamp(this.a, min, max);\n    return this;\n  };\n  Color42.prototype.multiply = function(color) {\n    return new Color42(this.r * color.r, this.g * color.g, this.b * color.b, this.a * color.a);\n  };\n  Color42.prototype.multiplyToRef = function(color, result) {\n    result.r = this.r * color.r;\n    result.g = this.g * color.g;\n    result.b = this.b * color.b;\n    result.a = this.a * color.a;\n    return result;\n  };\n  Color42.prototype.toString = function() {\n    return \"{R: \" + this.r + \" G:\" + this.g + \" B:\" + this.b + \" A:\" + this.a + \"}\";\n  };\n  Color42.prototype.getClassName = function() {\n    return \"Color4\";\n  };\n  Color42.prototype.getHashCode = function() {\n    var hash = this.r * 255 | 0;\n    hash = hash * 397 ^ (this.g * 255 | 0);\n    hash = hash * 397 ^ (this.b * 255 | 0);\n    hash = hash * 397 ^ (this.a * 255 | 0);\n    return hash;\n  };\n  Color42.prototype.clone = function() {\n    return new Color42(this.r, this.g, this.b, this.a);\n  };\n  Color42.prototype.copyFrom = function(source) {\n    this.r = source.r;\n    this.g = source.g;\n    this.b = source.b;\n    this.a = source.a;\n    return this;\n  };\n  Color42.prototype.copyFromFloats = function(r, g, b, a) {\n    this.r = r;\n    this.g = g;\n    this.b = b;\n    this.a = a;\n    return this;\n  };\n  Color42.prototype.set = function(r, g, b, a) {\n    return this.copyFromFloats(r, g, b, a);\n  };\n  Color42.prototype.toHexString = function(returnAsColor3) {\n    if (returnAsColor3 === void 0) {\n      returnAsColor3 = false;\n    }\n    var intR = Math.round(this.r * 255);\n    var intG = Math.round(this.g * 255);\n    var intB = Math.round(this.b * 255);\n    if (returnAsColor3) {\n      return \"#\" + Scalar.ToHex(intR) + Scalar.ToHex(intG) + Scalar.ToHex(intB);\n    }\n    var intA = Math.round(this.a * 255);\n    return \"#\" + Scalar.ToHex(intR) + Scalar.ToHex(intG) + Scalar.ToHex(intB) + Scalar.ToHex(intA);\n  };\n  Color42.prototype.toLinearSpace = function() {\n    var convertedColor = new Color42();\n    this.toLinearSpaceToRef(convertedColor);\n    return convertedColor;\n  };\n  Color42.prototype.toLinearSpaceToRef = function(convertedColor) {\n    convertedColor.r = Math.pow(this.r, ToLinearSpace);\n    convertedColor.g = Math.pow(this.g, ToLinearSpace);\n    convertedColor.b = Math.pow(this.b, ToLinearSpace);\n    convertedColor.a = this.a;\n    return this;\n  };\n  Color42.prototype.toGammaSpace = function() {\n    var convertedColor = new Color42();\n    this.toGammaSpaceToRef(convertedColor);\n    return convertedColor;\n  };\n  Color42.prototype.toGammaSpaceToRef = function(convertedColor) {\n    convertedColor.r = Math.pow(this.r, ToGammaSpace);\n    convertedColor.g = Math.pow(this.g, ToGammaSpace);\n    convertedColor.b = Math.pow(this.b, ToGammaSpace);\n    convertedColor.a = this.a;\n    return this;\n  };\n  Color42.FromHexString = function(hex) {\n    if (hex.substring(0, 1) !== \"#\" || hex.length !== 9 && hex.length !== 7) {\n      return new Color42(0, 0, 0, 0);\n    }\n    var r = parseInt(hex.substring(1, 3), 16);\n    var g = parseInt(hex.substring(3, 5), 16);\n    var b = parseInt(hex.substring(5, 7), 16);\n    var a = hex.length === 9 ? parseInt(hex.substring(7, 9), 16) : 255;\n    return Color42.FromInts(r, g, b, a);\n  };\n  Color42.Lerp = function(left, right, amount) {\n    var result = new Color42(0, 0, 0, 0);\n    Color42.LerpToRef(left, right, amount, result);\n    return result;\n  };\n  Color42.LerpToRef = function(left, right, amount, result) {\n    result.r = left.r + (right.r - left.r) * amount;\n    result.g = left.g + (right.g - left.g) * amount;\n    result.b = left.b + (right.b - left.b) * amount;\n    result.a = left.a + (right.a - left.a) * amount;\n  };\n  Color42.Hermite = function(value1, tangent1, value2, tangent2, amount) {\n    var squared = amount * amount;\n    var cubed = amount * squared;\n    var part1 = 2 * cubed - 3 * squared + 1;\n    var part2 = -2 * cubed + 3 * squared;\n    var part3 = cubed - 2 * squared + amount;\n    var part4 = cubed - squared;\n    var r = value1.r * part1 + value2.r * part2 + tangent1.r * part3 + tangent2.r * part4;\n    var g = value1.g * part1 + value2.g * part2 + tangent1.g * part3 + tangent2.g * part4;\n    var b = value1.b * part1 + value2.b * part2 + tangent1.b * part3 + tangent2.b * part4;\n    var a = value1.a * part1 + value2.a * part2 + tangent1.a * part3 + tangent2.a * part4;\n    return new Color42(r, g, b, a);\n  };\n  Color42.Hermite1stDerivative = function(value1, tangent1, value2, tangent2, time) {\n    var result = new Color42();\n    this.Hermite1stDerivativeToRef(value1, tangent1, value2, tangent2, time, result);\n    return result;\n  };\n  Color42.Hermite1stDerivativeToRef = function(value1, tangent1, value2, tangent2, time, result) {\n    var t2 = time * time;\n    result.r = (t2 - time) * 6 * value1.r + (3 * t2 - 4 * time + 1) * tangent1.r + (-t2 + time) * 6 * value2.r + (3 * t2 - 2 * time) * tangent2.r;\n    result.g = (t2 - time) * 6 * value1.g + (3 * t2 - 4 * time + 1) * tangent1.g + (-t2 + time) * 6 * value2.g + (3 * t2 - 2 * time) * tangent2.g;\n    result.b = (t2 - time) * 6 * value1.b + (3 * t2 - 4 * time + 1) * tangent1.b + (-t2 + time) * 6 * value2.b + (3 * t2 - 2 * time) * tangent2.b;\n    result.a = (t2 - time) * 6 * value1.a + (3 * t2 - 4 * time + 1) * tangent1.a + (-t2 + time) * 6 * value2.a + (3 * t2 - 2 * time) * tangent2.a;\n  };\n  Color42.FromColor3 = function(color3, alpha) {\n    if (alpha === void 0) {\n      alpha = 1;\n    }\n    return new Color42(color3.r, color3.g, color3.b, alpha);\n  };\n  Color42.FromArray = function(array, offset) {\n    if (offset === void 0) {\n      offset = 0;\n    }\n    return new Color42(array[offset], array[offset + 1], array[offset + 2], array[offset + 3]);\n  };\n  Color42.FromArrayToRef = function(array, offset, result) {\n    if (offset === void 0) {\n      offset = 0;\n    }\n    result.r = array[offset];\n    result.g = array[offset + 1];\n    result.b = array[offset + 2];\n    result.a = array[offset + 3];\n  };\n  Color42.FromInts = function(r, g, b, a) {\n    return new Color42(r / 255, g / 255, b / 255, a / 255);\n  };\n  Color42.CheckColors4 = function(colors, count) {\n    if (colors.length === count * 3) {\n      var colors4 = [];\n      for (var index = 0; index < colors.length; index += 3) {\n        var newIndex = index / 3 * 4;\n        colors4[newIndex] = colors[index];\n        colors4[newIndex + 1] = colors[index + 1];\n        colors4[newIndex + 2] = colors[index + 2];\n        colors4[newIndex + 3] = 1;\n      }\n      return colors4;\n    }\n    return colors;\n  };\n  return Color42;\n}();\nvar TmpColors = function() {\n  function TmpColors2() {\n  }\n  TmpColors2.Color3 = ArrayTools.BuildArray(3, Color3.Black);\n  TmpColors2.Color4 = ArrayTools.BuildArray(3, function() {\n    return new Color4$1(0, 0, 0, 0);\n  });\n  return TmpColors2;\n}();\nRegisterClass(\"BABYLON.Color3\", Color3);\nRegisterClass(\"BABYLON.Color4\", Color4$1);\nvar CloneValue = function(source, destinationObject) {\n  if (!source) {\n    return null;\n  }\n  if (source.getClassName && source.getClassName() === \"Mesh\") {\n    return null;\n  }\n  if (source.getClassName && source.getClassName() === \"SubMesh\") {\n    return source.clone(destinationObject);\n  } else if (source.clone) {\n    return source.clone();\n  }\n  return null;\n};\nfunction GetAllPropertyNames(obj) {\n  var props = [];\n  do {\n    Object.getOwnPropertyNames(obj).forEach(function(prop) {\n      if (props.indexOf(prop) === -1) {\n        props.push(prop);\n      }\n    });\n  } while (obj = Object.getPrototypeOf(obj));\n  return props;\n}\nvar DeepCopier = function() {\n  function DeepCopier2() {\n  }\n  DeepCopier2.DeepCopy = function(source, destination, doNotCopyList, mustCopyList) {\n    var properties = GetAllPropertyNames(source);\n    for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n      var prop = properties_1[_i];\n      if (prop[0] === \"_\" && (!mustCopyList || mustCopyList.indexOf(prop) === -1)) {\n        continue;\n      }\n      if (prop.endsWith(\"Observable\")) {\n        continue;\n      }\n      if (doNotCopyList && doNotCopyList.indexOf(prop) !== -1) {\n        continue;\n      }\n      var sourceValue = source[prop];\n      var typeOfSourceValue = typeof sourceValue;\n      if (typeOfSourceValue === \"function\") {\n        continue;\n      }\n      try {\n        if (typeOfSourceValue === \"object\") {\n          if (sourceValue instanceof Array) {\n            destination[prop] = [];\n            if (sourceValue.length > 0) {\n              if (typeof sourceValue[0] == \"object\") {\n                for (var index = 0; index < sourceValue.length; index++) {\n                  var clonedValue = CloneValue(sourceValue[index], destination);\n                  if (destination[prop].indexOf(clonedValue) === -1) {\n                    destination[prop].push(clonedValue);\n                  }\n                }\n              } else {\n                destination[prop] = sourceValue.slice(0);\n              }\n            }\n          } else {\n            destination[prop] = CloneValue(sourceValue, destination);\n          }\n        } else {\n          destination[prop] = sourceValue;\n        }\n      } catch (e) {\n        Logger.Warn(e.message);\n      }\n    }\n  };\n  return DeepCopier2;\n}();\nfunction createXMLHttpRequest() {\n  if (typeof _native !== \"undefined\" && _native.XMLHttpRequest) {\n    return new _native.XMLHttpRequest();\n  } else {\n    return new XMLHttpRequest();\n  }\n}\nvar WebRequest = function() {\n  function WebRequest2() {\n    this._xhr = createXMLHttpRequest();\n    this._requestURL = \"\";\n  }\n  WebRequest2.prototype._injectCustomRequestHeaders = function() {\n    if (this._shouldSkipRequestModifications(this._requestURL)) {\n      return;\n    }\n    for (var key in WebRequest2.CustomRequestHeaders) {\n      var val = WebRequest2.CustomRequestHeaders[key];\n      if (val) {\n        this._xhr.setRequestHeader(key, val);\n      }\n    }\n  };\n  WebRequest2.prototype._shouldSkipRequestModifications = function(url) {\n    return WebRequest2.SkipRequestModificationForBabylonCDN && (url.includes(\"preview.babylonjs.com\") || url.includes(\"cdn.babylonjs.com\"));\n  };\n  Object.defineProperty(WebRequest2.prototype, \"onprogress\", {\n    get: function() {\n      return this._xhr.onprogress;\n    },\n    set: function(value) {\n      this._xhr.onprogress = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WebRequest2.prototype, \"readyState\", {\n    get: function() {\n      return this._xhr.readyState;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WebRequest2.prototype, \"status\", {\n    get: function() {\n      return this._xhr.status;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WebRequest2.prototype, \"statusText\", {\n    get: function() {\n      return this._xhr.statusText;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WebRequest2.prototype, \"response\", {\n    get: function() {\n      return this._xhr.response;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WebRequest2.prototype, \"responseURL\", {\n    get: function() {\n      return this._xhr.responseURL;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WebRequest2.prototype, \"responseText\", {\n    get: function() {\n      return this._xhr.responseText;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WebRequest2.prototype, \"responseType\", {\n    get: function() {\n      return this._xhr.responseType;\n    },\n    set: function(value) {\n      this._xhr.responseType = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WebRequest2.prototype, \"timeout\", {\n    get: function() {\n      return this._xhr.timeout;\n    },\n    set: function(value) {\n      this._xhr.timeout = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  WebRequest2.prototype.addEventListener = function(type, listener, options) {\n    this._xhr.addEventListener(type, listener, options);\n  };\n  WebRequest2.prototype.removeEventListener = function(type, listener, options) {\n    this._xhr.removeEventListener(type, listener, options);\n  };\n  WebRequest2.prototype.abort = function() {\n    this._xhr.abort();\n  };\n  WebRequest2.prototype.send = function(body) {\n    if (WebRequest2.CustomRequestHeaders) {\n      this._injectCustomRequestHeaders();\n    }\n    this._xhr.send(body);\n  };\n  WebRequest2.prototype.open = function(method, url) {\n    for (var _i = 0, _a = WebRequest2.CustomRequestModifiers; _i < _a.length; _i++) {\n      var update = _a[_i];\n      if (this._shouldSkipRequestModifications(url)) {\n        return;\n      }\n      update(this._xhr, url);\n    }\n    url = url.replace(\"file:http:\", \"http:\");\n    url = url.replace(\"file:https:\", \"https:\");\n    this._requestURL = url;\n    return this._xhr.open(method, url, true);\n  };\n  WebRequest2.prototype.setRequestHeader = function(name2, value) {\n    this._xhr.setRequestHeader(name2, value);\n  };\n  WebRequest2.prototype.getResponseHeader = function(name2) {\n    return this._xhr.getResponseHeader(name2);\n  };\n  WebRequest2.CustomRequestHeaders = {};\n  WebRequest2.CustomRequestModifiers = new Array();\n  WebRequest2.SkipRequestModificationForBabylonCDN = true;\n  return WebRequest2;\n}();\nvar FilesInputStore = function() {\n  function FilesInputStore2() {\n  }\n  FilesInputStore2.FilesToLoad = {};\n  return FilesInputStore2;\n}();\nvar RetryStrategy = function() {\n  function RetryStrategy2() {\n  }\n  RetryStrategy2.ExponentialBackoff = function(maxRetries, baseInterval) {\n    if (maxRetries === void 0) {\n      maxRetries = 3;\n    }\n    if (baseInterval === void 0) {\n      baseInterval = 500;\n    }\n    return function(url, request, retryIndex) {\n      if (request.status !== 0 || retryIndex >= maxRetries || url.indexOf(\"file:\") !== -1) {\n        return -1;\n      }\n      return Math.pow(2, retryIndex) * baseInterval;\n    };\n  };\n  return RetryStrategy2;\n}();\nvar BaseError = function(_super) {\n  __extends(BaseError2, _super);\n  function BaseError2() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  BaseError2._setPrototypeOf = Object.setPrototypeOf || function(o, proto) {\n    o.__proto__ = proto;\n    return o;\n  };\n  return BaseError2;\n}(Error);\nvar ErrorCodes = {\n  MeshInvalidPositionsError: 0,\n  UnsupportedTextureError: 1e3,\n  GLTFLoaderUnexpectedMagicError: 2e3,\n  SceneLoaderError: 3e3,\n  LoadFileError: 4e3,\n  RequestFileError: 4001,\n  ReadFileError: 4002\n};\nvar RuntimeError = function(_super) {\n  __extends(RuntimeError2, _super);\n  function RuntimeError2(message, errorCode, innerError) {\n    var _this = _super.call(this, message) || this;\n    _this.errorCode = errorCode;\n    _this.innerError = innerError;\n    _this.name = \"RuntimeError\";\n    BaseError._setPrototypeOf(_this, RuntimeError2.prototype);\n    return _this;\n  }\n  return RuntimeError2;\n}(BaseError);\nvar EncodeArrayBufferToBase64 = function(buffer) {\n  var keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n  var output = \"\";\n  var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n  var i = 0;\n  var bytes = ArrayBuffer.isView(buffer) ? new Uint8Array(buffer.buffer, buffer.byteOffset, buffer.byteLength) : new Uint8Array(buffer);\n  while (i < bytes.length) {\n    chr1 = bytes[i++];\n    chr2 = i < bytes.length ? bytes[i++] : Number.NaN;\n    chr3 = i < bytes.length ? bytes[i++] : Number.NaN;\n    enc1 = chr1 >> 2;\n    enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n    enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n    enc4 = chr3 & 63;\n    if (isNaN(chr2)) {\n      enc3 = enc4 = 64;\n    } else if (isNaN(chr3)) {\n      enc4 = 64;\n    }\n    output += keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4);\n  }\n  return output;\n};\nvar DecodeBase64ToString = function(base64Data) {\n  return atob(base64Data);\n};\nvar DecodeBase64ToBinary = function(base64Data) {\n  var decodedString = DecodeBase64ToString(base64Data);\n  var bufferLength = decodedString.length;\n  var bufferView = new Uint8Array(new ArrayBuffer(bufferLength));\n  for (var i = 0; i < bufferLength; i++) {\n    bufferView[i] = decodedString.charCodeAt(i);\n  }\n  return bufferView.buffer;\n};\nvar TimingTools = function() {\n  function TimingTools2() {\n  }\n  TimingTools2.SetImmediate = function(action) {\n    if (IsWindowObjectExist() && window.setImmediate) {\n      window.setImmediate(action);\n    } else {\n      setTimeout(action, 1);\n    }\n  };\n  return TimingTools2;\n}();\nvar Base64DataUrlRegEx = new RegExp(/^data:([^,]+\\/[^,]+)?;base64,/i);\nvar LoadFileError = function(_super) {\n  __extends(LoadFileError2, _super);\n  function LoadFileError2(message, object) {\n    var _this = _super.call(this, message, ErrorCodes.LoadFileError) || this;\n    _this.name = \"LoadFileError\";\n    BaseError._setPrototypeOf(_this, LoadFileError2.prototype);\n    if (object instanceof WebRequest) {\n      _this.request = object;\n    } else {\n      _this.file = object;\n    }\n    return _this;\n  }\n  return LoadFileError2;\n}(RuntimeError);\nvar RequestFileError = function(_super) {\n  __extends(RequestFileError2, _super);\n  function RequestFileError2(message, request) {\n    var _this = _super.call(this, message, ErrorCodes.RequestFileError) || this;\n    _this.request = request;\n    _this.name = \"RequestFileError\";\n    BaseError._setPrototypeOf(_this, RequestFileError2.prototype);\n    return _this;\n  }\n  return RequestFileError2;\n}(RuntimeError);\nvar ReadFileError = function(_super) {\n  __extends(ReadFileError2, _super);\n  function ReadFileError2(message, file) {\n    var _this = _super.call(this, message, ErrorCodes.ReadFileError) || this;\n    _this.file = file;\n    _this.name = \"ReadFileError\";\n    BaseError._setPrototypeOf(_this, ReadFileError2.prototype);\n    return _this;\n  }\n  return ReadFileError2;\n}(RuntimeError);\nvar FileToolsOptions = {\n  DefaultRetryStrategy: RetryStrategy.ExponentialBackoff(),\n  BaseUrl: \"\",\n  CorsBehavior: \"anonymous\",\n  PreprocessUrl: function(url) {\n    return url;\n  }\n};\nvar _CleanUrl = function(url) {\n  url = url.replace(/#/gm, \"%23\");\n  return url;\n};\nvar SetCorsBehavior = function(url, element) {\n  if (url && url.indexOf(\"data:\") === 0) {\n    return;\n  }\n  if (FileToolsOptions.CorsBehavior) {\n    if (typeof FileToolsOptions.CorsBehavior === \"string\" || FileToolsOptions.CorsBehavior instanceof String) {\n      element.crossOrigin = FileToolsOptions.CorsBehavior;\n    } else {\n      var result = FileToolsOptions.CorsBehavior(url);\n      if (result) {\n        element.crossOrigin = result;\n      }\n    }\n  }\n};\nvar LoadImage = function(input, onLoad, onError, offlineProvider, mimeType, imageBitmapOptions) {\n  var _a;\n  if (mimeType === void 0) {\n    mimeType = \"\";\n  }\n  var url;\n  var usingObjectURL = false;\n  if (input instanceof ArrayBuffer || ArrayBuffer.isView(input)) {\n    if (typeof Blob !== \"undefined\") {\n      url = URL.createObjectURL(new Blob([input], { type: mimeType }));\n      usingObjectURL = true;\n    } else {\n      url = \"data:\".concat(mimeType, \";base64,\") + EncodeArrayBufferToBase64(input);\n    }\n  } else if (input instanceof Blob) {\n    url = URL.createObjectURL(input);\n    usingObjectURL = true;\n  } else {\n    url = _CleanUrl(input);\n    url = FileToolsOptions.PreprocessUrl(input);\n  }\n  var engine = EngineStore.LastCreatedEngine;\n  var onErrorHandler = function(exception) {\n    if (onError) {\n      var inputText = url || input.toString();\n      onError(\"Error while trying to load image: \".concat(inputText.indexOf(\"http\") === 0 || inputText.length <= 128 ? inputText : inputText.slice(0, 128) + \"...\"), exception);\n    }\n  };\n  if (typeof Image === \"undefined\" || ((_a = engine === null || engine === void 0 ? void 0 : engine._features.forceBitmapOverHTMLImageElement) !== null && _a !== void 0 ? _a : false)) {\n    LoadFile(url, function(data) {\n      engine.createImageBitmap(new Blob([data], { type: mimeType }), __assign({ premultiplyAlpha: \"none\" }, imageBitmapOptions)).then(function(imgBmp) {\n        onLoad(imgBmp);\n        if (usingObjectURL) {\n          URL.revokeObjectURL(url);\n        }\n      }).catch(function(reason) {\n        if (onError) {\n          onError(\"Error while trying to load image: \" + input, reason);\n        }\n      });\n    }, void 0, offlineProvider || void 0, true, function(request, exception) {\n      onErrorHandler(exception);\n    });\n    return null;\n  }\n  var img = new Image();\n  SetCorsBehavior(url, img);\n  var loadHandler = function() {\n    img.removeEventListener(\"load\", loadHandler);\n    img.removeEventListener(\"error\", errorHandler);\n    onLoad(img);\n    if (usingObjectURL && img.src) {\n      URL.revokeObjectURL(img.src);\n    }\n  };\n  var errorHandler = function(err) {\n    img.removeEventListener(\"load\", loadHandler);\n    img.removeEventListener(\"error\", errorHandler);\n    onErrorHandler(err);\n    if (usingObjectURL && img.src) {\n      URL.revokeObjectURL(img.src);\n    }\n  };\n  img.addEventListener(\"load\", loadHandler);\n  img.addEventListener(\"error\", errorHandler);\n  var noOfflineSupport = function() {\n    img.src = url;\n  };\n  var loadFromOfflineSupport = function() {\n    if (offlineProvider) {\n      offlineProvider.loadImage(url, img);\n    }\n  };\n  if (url.substr(0, 5) !== \"blob:\" && url.substr(0, 5) !== \"data:\" && offlineProvider && offlineProvider.enableTexturesOffline) {\n    offlineProvider.open(loadFromOfflineSupport, noOfflineSupport);\n  } else {\n    if (url.indexOf(\"file:\") !== -1) {\n      var textureName = decodeURIComponent(url.substring(5).toLowerCase());\n      if (FilesInputStore.FilesToLoad[textureName]) {\n        try {\n          var blobURL = void 0;\n          try {\n            blobURL = URL.createObjectURL(FilesInputStore.FilesToLoad[textureName]);\n          } catch (ex) {\n            blobURL = URL.createObjectURL(FilesInputStore.FilesToLoad[textureName]);\n          }\n          img.src = blobURL;\n          usingObjectURL = true;\n        } catch (e) {\n          img.src = \"\";\n        }\n        return img;\n      }\n    }\n    noOfflineSupport();\n  }\n  return img;\n};\nvar ReadFile = function(file, onSuccess, onProgress, useArrayBuffer, onError) {\n  var reader = new FileReader();\n  var fileRequest = {\n    onCompleteObservable: new Observable(),\n    abort: function() {\n      return reader.abort();\n    }\n  };\n  reader.onloadend = function() {\n    return fileRequest.onCompleteObservable.notifyObservers(fileRequest);\n  };\n  if (onError) {\n    reader.onerror = function() {\n      onError(new ReadFileError(\"Unable to read \".concat(file.name), file));\n    };\n  }\n  reader.onload = function(e) {\n    onSuccess(e.target[\"result\"]);\n  };\n  if (onProgress) {\n    reader.onprogress = onProgress;\n  }\n  if (!useArrayBuffer) {\n    reader.readAsText(file);\n  } else {\n    reader.readAsArrayBuffer(file);\n  }\n  return fileRequest;\n};\nvar LoadFile = function(fileOrUrl, onSuccess, onProgress, offlineProvider, useArrayBuffer, onError, onOpened) {\n  if (fileOrUrl.name) {\n    return ReadFile(fileOrUrl, onSuccess, onProgress, useArrayBuffer, onError ? function(error) {\n      onError(void 0, error);\n    } : void 0);\n  }\n  var url = fileOrUrl;\n  if (url.indexOf(\"file:\") !== -1) {\n    var fileName = decodeURIComponent(url.substring(5).toLowerCase());\n    if (fileName.indexOf(\"./\") === 0) {\n      fileName = fileName.substring(2);\n    }\n    var file = FilesInputStore.FilesToLoad[fileName];\n    if (file) {\n      return ReadFile(file, onSuccess, onProgress, useArrayBuffer, onError ? function(error) {\n        return onError(void 0, new LoadFileError(error.message, error.file));\n      } : void 0);\n    }\n  }\n  if (IsBase64DataUrl(url)) {\n    var fileRequest_1 = {\n      onCompleteObservable: new Observable(),\n      abort: function() {\n        return function() {\n        };\n      }\n    };\n    try {\n      onSuccess(useArrayBuffer ? DecodeBase64UrlToBinary(url) : DecodeBase64UrlToString(url));\n    } catch (error) {\n      if (onError) {\n        onError(void 0, error);\n      } else {\n        Logger.Error(error.message || \"Failed to parse the Data URL\");\n      }\n    }\n    TimingTools.SetImmediate(function() {\n      fileRequest_1.onCompleteObservable.notifyObservers(fileRequest_1);\n    });\n    return fileRequest_1;\n  }\n  return RequestFile(url, function(data, request) {\n    onSuccess(data, request ? request.responseURL : void 0);\n  }, onProgress, offlineProvider, useArrayBuffer, onError ? function(error) {\n    onError(error.request, new LoadFileError(error.message, error.request));\n  } : void 0, onOpened);\n};\nvar RequestFile = function(url, onSuccess, onProgress, offlineProvider, useArrayBuffer, onError, onOpened) {\n  url = _CleanUrl(url);\n  url = FileToolsOptions.PreprocessUrl(url);\n  var loadUrl = FileToolsOptions.BaseUrl + url;\n  var aborted = false;\n  var fileRequest = {\n    onCompleteObservable: new Observable(),\n    abort: function() {\n      return aborted = true;\n    }\n  };\n  var requestFile = function() {\n    var request = new WebRequest();\n    var retryHandle = null;\n    var onReadyStateChange;\n    var unbindEvents = function() {\n      if (!request) {\n        return;\n      }\n      if (onProgress) {\n        request.removeEventListener(\"progress\", onProgress);\n      }\n      if (onReadyStateChange) {\n        request.removeEventListener(\"readystatechange\", onReadyStateChange);\n      }\n      request.removeEventListener(\"loadend\", onLoadEnd);\n    };\n    var onLoadEnd = function() {\n      unbindEvents();\n      fileRequest.onCompleteObservable.notifyObservers(fileRequest);\n      fileRequest.onCompleteObservable.clear();\n      onProgress = void 0;\n      onReadyStateChange = null;\n      onLoadEnd = null;\n      onError = void 0;\n      onOpened = void 0;\n      onSuccess = void 0;\n    };\n    fileRequest.abort = function() {\n      aborted = true;\n      if (onLoadEnd) {\n        onLoadEnd();\n      }\n      if (request && request.readyState !== (XMLHttpRequest.DONE || 4)) {\n        request.abort();\n      }\n      if (retryHandle !== null) {\n        clearTimeout(retryHandle);\n        retryHandle = null;\n      }\n      request = null;\n    };\n    var handleError = function(error) {\n      var message = error.message || \"Unknown error\";\n      if (onError && request) {\n        onError(new RequestFileError(message, request));\n      } else {\n        Logger.Error(message);\n      }\n    };\n    var retryLoop = function(retryIndex) {\n      if (!request) {\n        return;\n      }\n      request.open(\"GET\", loadUrl);\n      if (onOpened) {\n        try {\n          onOpened(request);\n        } catch (e) {\n          handleError(e);\n          return;\n        }\n      }\n      if (useArrayBuffer) {\n        request.responseType = \"arraybuffer\";\n      }\n      if (onProgress) {\n        request.addEventListener(\"progress\", onProgress);\n      }\n      if (onLoadEnd) {\n        request.addEventListener(\"loadend\", onLoadEnd);\n      }\n      onReadyStateChange = function() {\n        if (aborted || !request) {\n          return;\n        }\n        if (request.readyState === (XMLHttpRequest.DONE || 4)) {\n          if (onReadyStateChange) {\n            request.removeEventListener(\"readystatechange\", onReadyStateChange);\n          }\n          if (request.status >= 200 && request.status < 300 || request.status === 0 && (!IsWindowObjectExist() || IsFileURL())) {\n            try {\n              if (onSuccess) {\n                onSuccess(useArrayBuffer ? request.response : request.responseText, request);\n              }\n            } catch (e) {\n              handleError(e);\n            }\n            return;\n          }\n          var retryStrategy = FileToolsOptions.DefaultRetryStrategy;\n          if (retryStrategy) {\n            var waitTime = retryStrategy(loadUrl, request, retryIndex);\n            if (waitTime !== -1) {\n              unbindEvents();\n              request = new WebRequest();\n              retryHandle = setTimeout(function() {\n                return retryLoop(retryIndex + 1);\n              }, waitTime);\n              return;\n            }\n          }\n          var error = new RequestFileError(\"Error status: \" + request.status + \" \" + request.statusText + \" - Unable to load \" + loadUrl, request);\n          if (onError) {\n            onError(error);\n          }\n        }\n      };\n      request.addEventListener(\"readystatechange\", onReadyStateChange);\n      request.send();\n    };\n    retryLoop(0);\n  };\n  if (offlineProvider && offlineProvider.enableSceneOffline) {\n    var noOfflineSupport_1 = function(request) {\n      if (request && request.status > 400) {\n        if (onError) {\n          onError(request);\n        }\n      } else {\n        requestFile();\n      }\n    };\n    var loadFromOfflineSupport = function() {\n      if (offlineProvider) {\n        offlineProvider.loadFile(FileToolsOptions.BaseUrl + url, function(data) {\n          if (!aborted && onSuccess) {\n            onSuccess(data);\n          }\n          fileRequest.onCompleteObservable.notifyObservers(fileRequest);\n        }, onProgress ? function(event) {\n          if (!aborted && onProgress) {\n            onProgress(event);\n          }\n        } : void 0, noOfflineSupport_1, useArrayBuffer);\n      }\n    };\n    offlineProvider.open(loadFromOfflineSupport, noOfflineSupport_1);\n  } else {\n    requestFile();\n  }\n  return fileRequest;\n};\nvar IsFileURL = function() {\n  return typeof location !== \"undefined\" && location.protocol === \"file:\";\n};\nvar IsBase64DataUrl = function(uri) {\n  return Base64DataUrlRegEx.test(uri);\n};\nfunction DecodeBase64UrlToBinary(uri) {\n  return DecodeBase64ToBinary(uri.split(\",\")[1]);\n}\nvar DecodeBase64UrlToString = function(uri) {\n  return DecodeBase64ToString(uri.split(\",\")[1]);\n};\nvar initSideEffects = function() {\n  ThinEngine._FileToolsLoadImage = LoadImage;\n  ThinEngine._FileToolsLoadFile = LoadFile;\n  ShaderProcessor._FileToolsLoadFile = LoadFile;\n};\ninitSideEffects();\nvar FileTools;\nvar _injectLTSFileTools = function(DecodeBase64UrlToBinary2, DecodeBase64UrlToString2, FileToolsOptions2, IsBase64DataUrl2, IsFileURL2, LoadFile2, LoadImage2, ReadFile2, RequestFile2, SetCorsBehavior2) {\n  FileTools = {\n    DecodeBase64UrlToBinary: DecodeBase64UrlToBinary2,\n    DecodeBase64UrlToString: DecodeBase64UrlToString2,\n    DefaultRetryStrategy: FileToolsOptions2.DefaultRetryStrategy,\n    BaseUrl: FileToolsOptions2.BaseUrl,\n    CorsBehavior: FileToolsOptions2.CorsBehavior,\n    PreprocessUrl: FileToolsOptions2.PreprocessUrl,\n    IsBase64DataUrl: IsBase64DataUrl2,\n    IsFileURL: IsFileURL2,\n    LoadFile: LoadFile2,\n    LoadImage: LoadImage2,\n    ReadFile: ReadFile2,\n    RequestFile: RequestFile2,\n    SetCorsBehavior: SetCorsBehavior2\n  };\n  Object.defineProperty(FileTools, \"DefaultRetryStrategy\", {\n    get: function() {\n      return FileToolsOptions2.DefaultRetryStrategy;\n    },\n    set: function(value) {\n      FileToolsOptions2.DefaultRetryStrategy = value;\n    }\n  });\n  Object.defineProperty(FileTools, \"BaseUrl\", {\n    get: function() {\n      return FileToolsOptions2.BaseUrl;\n    },\n    set: function(value) {\n      FileToolsOptions2.BaseUrl = value;\n    }\n  });\n  Object.defineProperty(FileTools, \"PreprocessUrl\", {\n    get: function() {\n      return FileToolsOptions2.PreprocessUrl;\n    },\n    set: function(value) {\n      FileToolsOptions2.PreprocessUrl = value;\n    }\n  });\n  Object.defineProperty(FileTools, \"CorsBehavior\", {\n    get: function() {\n      return FileToolsOptions2.CorsBehavior;\n    },\n    set: function(value) {\n      FileToolsOptions2.CorsBehavior = value;\n    }\n  });\n};\n_injectLTSFileTools(DecodeBase64UrlToBinary, DecodeBase64UrlToString, FileToolsOptions, IsBase64DataUrl, IsFileURL, LoadFile, LoadImage, ReadFile, RequestFile, SetCorsBehavior);\nvar InstantiationTools = function() {\n  function InstantiationTools2() {\n  }\n  InstantiationTools2.Instantiate = function(className) {\n    if (this.RegisteredExternalClasses && this.RegisteredExternalClasses[className]) {\n      return this.RegisteredExternalClasses[className];\n    }\n    var internalClass = GetClass(className);\n    if (internalClass) {\n      return internalClass;\n    }\n    Logger.Warn(className + \" not found, you may have missed an import.\");\n    var arr = className.split(\".\");\n    var fn = window || this;\n    for (var i = 0, len = arr.length; i < len; i++) {\n      fn = fn[arr[i]];\n    }\n    if (typeof fn !== \"function\") {\n      return null;\n    }\n    return fn;\n  };\n  InstantiationTools2.RegisteredExternalClasses = {};\n  return InstantiationTools2;\n}();\nfunction RandomGUID() {\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n    var r = Math.random() * 16 | 0, v = c === \"x\" ? r : r & 3 | 8;\n    return v.toString(16);\n  });\n}\nvar Tools = function() {\n  function Tools2() {\n  }\n  Object.defineProperty(Tools2, \"BaseUrl\", {\n    get: function() {\n      return FileToolsOptions.BaseUrl;\n    },\n    set: function(value) {\n      FileToolsOptions.BaseUrl = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Tools2, \"DefaultRetryStrategy\", {\n    get: function() {\n      return FileToolsOptions.DefaultRetryStrategy;\n    },\n    set: function(strategy) {\n      FileToolsOptions.DefaultRetryStrategy = strategy;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Tools2, \"CorsBehavior\", {\n    get: function() {\n      return FileToolsOptions.CorsBehavior;\n    },\n    set: function(value) {\n      FileToolsOptions.CorsBehavior = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Tools2, \"UseFallbackTexture\", {\n    get: function() {\n      return EngineStore.UseFallbackTexture;\n    },\n    set: function(value) {\n      EngineStore.UseFallbackTexture = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Tools2, \"RegisteredExternalClasses\", {\n    get: function() {\n      return InstantiationTools.RegisteredExternalClasses;\n    },\n    set: function(classes) {\n      InstantiationTools.RegisteredExternalClasses = classes;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Tools2, \"fallbackTexture\", {\n    get: function() {\n      return EngineStore.FallbackTexture;\n    },\n    set: function(value) {\n      EngineStore.FallbackTexture = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Tools2.FetchToRef = function(u, v, width, height, pixels, color) {\n    var wrappedU = Math.abs(u) * width % width | 0;\n    var wrappedV = Math.abs(v) * height % height | 0;\n    var position = (wrappedU + wrappedV * width) * 4;\n    color.r = pixels[position] / 255;\n    color.g = pixels[position + 1] / 255;\n    color.b = pixels[position + 2] / 255;\n    color.a = pixels[position + 3] / 255;\n  };\n  Tools2.Mix = function(a, b, alpha) {\n    return a * (1 - alpha) + b * alpha;\n  };\n  Tools2.Instantiate = function(className) {\n    return InstantiationTools.Instantiate(className);\n  };\n  Tools2.SetImmediate = function(action) {\n    TimingTools.SetImmediate(action);\n  };\n  Tools2.IsExponentOfTwo = function(value) {\n    var count = 1;\n    do {\n      count *= 2;\n    } while (count < value);\n    return count === value;\n  };\n  Tools2.FloatRound = function(value) {\n    if (Math.fround) {\n      return Math.fround(value);\n    }\n    return Tools2._TmpFloatArray[0] = value, Tools2._TmpFloatArray[0];\n  };\n  Tools2.GetFilename = function(path) {\n    var index = path.lastIndexOf(\"/\");\n    if (index < 0) {\n      return path;\n    }\n    return path.substring(index + 1);\n  };\n  Tools2.GetFolderPath = function(uri, returnUnchangedIfNoSlash) {\n    if (returnUnchangedIfNoSlash === void 0) {\n      returnUnchangedIfNoSlash = false;\n    }\n    var index = uri.lastIndexOf(\"/\");\n    if (index < 0) {\n      if (returnUnchangedIfNoSlash) {\n        return uri;\n      }\n      return \"\";\n    }\n    return uri.substring(0, index + 1);\n  };\n  Tools2.ToDegrees = function(angle) {\n    return angle * 180 / Math.PI;\n  };\n  Tools2.ToRadians = function(angle) {\n    return angle * Math.PI / 180;\n  };\n  Tools2.MakeArray = function(obj, allowsNullUndefined) {\n    if (allowsNullUndefined !== true && (obj === void 0 || obj == null)) {\n      return null;\n    }\n    return Array.isArray(obj) ? obj : [obj];\n  };\n  Tools2.GetPointerPrefix = function(engine) {\n    var eventPrefix = \"pointer\";\n    if (IsWindowObjectExist() && !window.PointerEvent) {\n      eventPrefix = \"mouse\";\n    }\n    if (engine._badDesktopOS && !engine._badOS && !(document && \"ontouchend\" in document)) {\n      eventPrefix = \"mouse\";\n    }\n    return eventPrefix;\n  };\n  Tools2.SetCorsBehavior = function(url, element) {\n    SetCorsBehavior(url, element);\n  };\n  Tools2.CleanUrl = function(url) {\n    url = url.replace(/#/gm, \"%23\");\n    return url;\n  };\n  Object.defineProperty(Tools2, \"PreprocessUrl\", {\n    get: function() {\n      return FileToolsOptions.PreprocessUrl;\n    },\n    set: function(processor) {\n      FileToolsOptions.PreprocessUrl = processor;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Tools2.LoadImage = function(input, onLoad, onError, offlineProvider, mimeType, imageBitmapOptions) {\n    return LoadImage(input, onLoad, onError, offlineProvider, mimeType, imageBitmapOptions);\n  };\n  Tools2.LoadFile = function(url, onSuccess, onProgress, offlineProvider, useArrayBuffer, onError) {\n    return LoadFile(url, onSuccess, onProgress, offlineProvider, useArrayBuffer, onError);\n  };\n  Tools2.LoadFileAsync = function(url, useArrayBuffer) {\n    if (useArrayBuffer === void 0) {\n      useArrayBuffer = true;\n    }\n    return new Promise(function(resolve, reject) {\n      LoadFile(url, function(data) {\n        resolve(data);\n      }, void 0, void 0, useArrayBuffer, function(request, exception) {\n        reject(exception);\n      });\n    });\n  };\n  Tools2.LoadScript = function(scriptUrl, onSuccess, onError, scriptId) {\n    if (!IsWindowObjectExist()) {\n      return;\n    }\n    var head = document.getElementsByTagName(\"head\")[0];\n    var script = document.createElement(\"script\");\n    script.setAttribute(\"type\", \"text/javascript\");\n    script.setAttribute(\"src\", scriptUrl);\n    if (scriptId) {\n      script.id = scriptId;\n    }\n    script.onload = function() {\n      if (onSuccess) {\n        onSuccess();\n      }\n    };\n    script.onerror = function(e) {\n      if (onError) {\n        onError(\"Unable to load script '\".concat(scriptUrl, \"'\"), e);\n      }\n    };\n    head.appendChild(script);\n  };\n  Tools2.LoadScriptAsync = function(scriptUrl) {\n    var _this = this;\n    return new Promise(function(resolve, reject) {\n      _this.LoadScript(scriptUrl, function() {\n        resolve();\n      }, function(message, exception) {\n        reject(exception);\n      });\n    });\n  };\n  Tools2.ReadFileAsDataURL = function(fileToLoad, callback, progressCallback) {\n    var reader = new FileReader();\n    var request = {\n      onCompleteObservable: new Observable(),\n      abort: function() {\n        return reader.abort();\n      }\n    };\n    reader.onloadend = function() {\n      request.onCompleteObservable.notifyObservers(request);\n    };\n    reader.onload = function(e) {\n      callback(e.target[\"result\"]);\n    };\n    reader.onprogress = progressCallback;\n    reader.readAsDataURL(fileToLoad);\n    return request;\n  };\n  Tools2.ReadFile = function(file, onSuccess, onProgress, useArrayBuffer, onError) {\n    return ReadFile(file, onSuccess, onProgress, useArrayBuffer, onError);\n  };\n  Tools2.FileAsURL = function(content) {\n    var fileBlob = new Blob([content]);\n    var url = window.URL || window.webkitURL;\n    var link = url.createObjectURL(fileBlob);\n    return link;\n  };\n  Tools2.Format = function(value, decimals) {\n    if (decimals === void 0) {\n      decimals = 2;\n    }\n    return value.toFixed(decimals);\n  };\n  Tools2.DeepCopy = function(source, destination, doNotCopyList, mustCopyList) {\n    DeepCopier.DeepCopy(source, destination, doNotCopyList, mustCopyList);\n  };\n  Tools2.IsEmpty = function(obj) {\n    for (var i in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, i)) {\n        return false;\n      }\n    }\n    return true;\n  };\n  Tools2.RegisterTopRootEvents = function(windowElement, events) {\n    for (var index = 0; index < events.length; index++) {\n      var event_1 = events[index];\n      windowElement.addEventListener(event_1.name, event_1.handler, false);\n      try {\n        if (window.parent) {\n          window.parent.addEventListener(event_1.name, event_1.handler, false);\n        }\n      } catch (e) {\n      }\n    }\n  };\n  Tools2.UnregisterTopRootEvents = function(windowElement, events) {\n    for (var index = 0; index < events.length; index++) {\n      var event_2 = events[index];\n      windowElement.removeEventListener(event_2.name, event_2.handler);\n      try {\n        if (windowElement.parent) {\n          windowElement.parent.removeEventListener(event_2.name, event_2.handler);\n        }\n      } catch (e) {\n      }\n    }\n  };\n  Tools2.DumpFramebuffer = function(width, height, engine, successCallback, mimeType, fileName) {\n    if (mimeType === void 0) {\n      mimeType = \"image/png\";\n    }\n    return __awaiter(this, void 0, void 0, function() {\n      var bufferView, data;\n      return __generator(this, function(_a) {\n        switch (_a.label) {\n          case 0:\n            return [4, engine.readPixels(0, 0, width, height)];\n          case 1:\n            bufferView = _a.sent();\n            data = new Uint8Array(bufferView.buffer);\n            Tools2.DumpData(width, height, data, successCallback, mimeType, fileName, true);\n            return [2];\n        }\n      });\n    });\n  };\n  Tools2.DumpData = function(width, height, data, successCallback, mimeType, fileName, invertY, toArrayBuffer, quality) {\n    if (mimeType === void 0) {\n      mimeType = \"image/png\";\n    }\n    if (invertY === void 0) {\n      invertY = false;\n    }\n    if (toArrayBuffer === void 0) {\n      toArrayBuffer = false;\n    }\n    if (!Tools2._ScreenshotCanvas) {\n      Tools2._ScreenshotCanvas = document.createElement(\"canvas\");\n    }\n    Tools2._ScreenshotCanvas.width = width;\n    Tools2._ScreenshotCanvas.height = height;\n    var context = Tools2._ScreenshotCanvas.getContext(\"2d\");\n    if (context) {\n      if (data instanceof Float32Array) {\n        var data2 = new Uint8Array(data.length);\n        var n = data.length;\n        while (n--) {\n          var v = data[n];\n          data2[n] = v < 0 ? 0 : v > 1 ? 1 : Math.round(v * 255);\n        }\n        data = data2;\n      }\n      var imageData = context.createImageData(width, height);\n      var castData = imageData.data;\n      castData.set(data);\n      context.putImageData(imageData, 0, 0);\n      var canvas = Tools2._ScreenshotCanvas;\n      if (invertY) {\n        var canvas2 = document.createElement(\"canvas\");\n        canvas2.width = width;\n        canvas2.height = height;\n        var ctx2 = canvas2.getContext(\"2d\");\n        if (!ctx2) {\n          return;\n        }\n        ctx2.translate(0, height);\n        ctx2.scale(1, -1);\n        ctx2.drawImage(Tools2._ScreenshotCanvas, 0, 0);\n        canvas = canvas2;\n      }\n      if (toArrayBuffer) {\n        Tools2.ToBlob(canvas, function(blob) {\n          var fileReader = new FileReader();\n          fileReader.onload = function(event) {\n            var arrayBuffer = event.target.result;\n            if (successCallback) {\n              successCallback(arrayBuffer);\n            }\n          };\n          fileReader.readAsArrayBuffer(blob);\n        }, mimeType, quality);\n      } else {\n        Tools2.EncodeScreenshotCanvasData(successCallback, mimeType, fileName, canvas, quality);\n      }\n    }\n  };\n  Tools2.DumpDataAsync = function(width, height, data, mimeType, fileName, invertY, toArrayBuffer, quality) {\n    if (mimeType === void 0) {\n      mimeType = \"image/png\";\n    }\n    if (invertY === void 0) {\n      invertY = false;\n    }\n    if (toArrayBuffer === void 0) {\n      toArrayBuffer = false;\n    }\n    return new Promise(function(resolve) {\n      Tools2.DumpData(width, height, data, function(result) {\n        return resolve(result);\n      }, mimeType, fileName, invertY, toArrayBuffer, quality);\n    });\n  };\n  Tools2.ToBlob = function(canvas, successCallback, mimeType, quality) {\n    if (mimeType === void 0) {\n      mimeType = \"image/png\";\n    }\n    if (!canvas.toBlob) {\n      canvas.toBlob = function(callback, type, quality2) {\n        var _this = this;\n        setTimeout(function() {\n          var binStr = atob(_this.toDataURL(type, quality2).split(\",\")[1]), len = binStr.length, arr = new Uint8Array(len);\n          for (var i = 0; i < len; i++) {\n            arr[i] = binStr.charCodeAt(i);\n          }\n          callback(new Blob([arr]));\n        });\n      };\n    }\n    canvas.toBlob(function(blob) {\n      successCallback(blob);\n    }, mimeType, quality);\n  };\n  Tools2.EncodeScreenshotCanvasData = function(successCallback, mimeType, fileName, canvas, quality) {\n    if (mimeType === void 0) {\n      mimeType = \"image/png\";\n    }\n    if (successCallback) {\n      var base64Image = (canvas !== null && canvas !== void 0 ? canvas : Tools2._ScreenshotCanvas).toDataURL(mimeType, quality);\n      successCallback(base64Image);\n    } else {\n      this.ToBlob(canvas !== null && canvas !== void 0 ? canvas : Tools2._ScreenshotCanvas, function(blob) {\n        if (\"download\" in document.createElement(\"a\")) {\n          if (!fileName) {\n            var date = new Date();\n            var stringDate = (date.getFullYear() + \"-\" + (date.getMonth() + 1)).slice(2) + \"-\" + date.getDate() + \"_\" + date.getHours() + \"-\" + (\"0\" + date.getMinutes()).slice(-2);\n            fileName = \"screenshot_\" + stringDate + \".png\";\n          }\n          Tools2.Download(blob, fileName);\n        } else {\n          if (blob) {\n            var url_1 = URL.createObjectURL(blob);\n            var newWindow = window.open(\"\");\n            if (!newWindow) {\n              return;\n            }\n            var img = newWindow.document.createElement(\"img\");\n            img.onload = function() {\n              URL.revokeObjectURL(url_1);\n            };\n            img.src = url_1;\n            newWindow.document.body.appendChild(img);\n          }\n        }\n      }, mimeType, quality);\n    }\n  };\n  Tools2.Download = function(blob, fileName) {\n    if (navigator && navigator.msSaveBlob) {\n      navigator.msSaveBlob(blob, fileName);\n      return;\n    }\n    var url = window.URL.createObjectURL(blob);\n    var a = document.createElement(\"a\");\n    document.body.appendChild(a);\n    a.style.display = \"none\";\n    a.href = url;\n    a.download = fileName;\n    a.addEventListener(\"click\", function() {\n      if (a.parentElement) {\n        a.parentElement.removeChild(a);\n      }\n    });\n    a.click();\n    window.URL.revokeObjectURL(url);\n  };\n  Tools2.BackCompatCameraNoPreventDefault = function(args) {\n    if (typeof args[0] === \"boolean\") {\n      return args[0];\n    } else if (typeof args[1] === \"boolean\") {\n      return args[1];\n    }\n    return false;\n  };\n  Tools2.CreateScreenshot = function(engine, camera, size, successCallback, mimeType) {\n    throw _WarnImport(\"ScreenshotTools\");\n  };\n  Tools2.CreateScreenshotAsync = function(engine, camera, size, mimeType) {\n    throw _WarnImport(\"ScreenshotTools\");\n  };\n  Tools2.CreateScreenshotUsingRenderTarget = function(engine, camera, size, successCallback, mimeType, samples, antialiasing, fileName) {\n    throw _WarnImport(\"ScreenshotTools\");\n  };\n  Tools2.CreateScreenshotUsingRenderTargetAsync = function(engine, camera, size, mimeType, samples, antialiasing, fileName) {\n    throw _WarnImport(\"ScreenshotTools\");\n  };\n  Tools2.RandomId = function() {\n    return RandomGUID();\n  };\n  Tools2.IsBase64 = function(uri) {\n    return IsBase64DataUrl(uri);\n  };\n  Tools2.DecodeBase64 = function(uri) {\n    return DecodeBase64UrlToBinary(uri);\n  };\n  Object.defineProperty(Tools2, \"errorsCount\", {\n    get: function() {\n      return Logger.errorsCount;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Tools2.Log = function(message) {\n    Logger.Log(message);\n  };\n  Tools2.Warn = function(message) {\n    Logger.Warn(message);\n  };\n  Tools2.Error = function(message) {\n    Logger.Error(message);\n  };\n  Object.defineProperty(Tools2, \"LogCache\", {\n    get: function() {\n      return Logger.LogCache;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Tools2.ClearLogCache = function() {\n    Logger.ClearLogCache();\n  };\n  Object.defineProperty(Tools2, \"LogLevels\", {\n    set: function(level) {\n      Logger.LogLevels = level;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Tools2, \"PerformanceLogLevel\", {\n    set: function(level) {\n      if ((level & Tools2.PerformanceUserMarkLogLevel) === Tools2.PerformanceUserMarkLogLevel) {\n        Tools2.StartPerformanceCounter = Tools2._StartUserMark;\n        Tools2.EndPerformanceCounter = Tools2._EndUserMark;\n        return;\n      }\n      if ((level & Tools2.PerformanceConsoleLogLevel) === Tools2.PerformanceConsoleLogLevel) {\n        Tools2.StartPerformanceCounter = Tools2._StartPerformanceConsole;\n        Tools2.EndPerformanceCounter = Tools2._EndPerformanceConsole;\n        return;\n      }\n      Tools2.StartPerformanceCounter = Tools2._StartPerformanceCounterDisabled;\n      Tools2.EndPerformanceCounter = Tools2._EndPerformanceCounterDisabled;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Tools2._StartPerformanceCounterDisabled = function(counterName, condition) {\n  };\n  Tools2._EndPerformanceCounterDisabled = function(counterName, condition) {\n  };\n  Tools2._StartUserMark = function(counterName, condition) {\n    if (condition === void 0) {\n      condition = true;\n    }\n    if (!Tools2._Performance) {\n      if (!IsWindowObjectExist()) {\n        return;\n      }\n      Tools2._Performance = window.performance;\n    }\n    if (!condition || !Tools2._Performance.mark) {\n      return;\n    }\n    Tools2._Performance.mark(counterName + \"-Begin\");\n  };\n  Tools2._EndUserMark = function(counterName, condition) {\n    if (condition === void 0) {\n      condition = true;\n    }\n    if (!condition || !Tools2._Performance.mark) {\n      return;\n    }\n    Tools2._Performance.mark(counterName + \"-End\");\n    Tools2._Performance.measure(counterName, counterName + \"-Begin\", counterName + \"-End\");\n  };\n  Tools2._StartPerformanceConsole = function(counterName, condition) {\n    if (condition === void 0) {\n      condition = true;\n    }\n    if (!condition) {\n      return;\n    }\n    Tools2._StartUserMark(counterName, condition);\n    if (console.time) {\n      console.time(counterName);\n    }\n  };\n  Tools2._EndPerformanceConsole = function(counterName, condition) {\n    if (condition === void 0) {\n      condition = true;\n    }\n    if (!condition) {\n      return;\n    }\n    Tools2._EndUserMark(counterName, condition);\n    console.timeEnd(counterName);\n  };\n  Object.defineProperty(Tools2, \"Now\", {\n    get: function() {\n      return PrecisionDate.Now;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Tools2.GetClassName = function(object, isType) {\n    if (isType === void 0) {\n      isType = false;\n    }\n    var name2 = null;\n    if (!isType && object.getClassName) {\n      name2 = object.getClassName();\n    } else {\n      if (object instanceof Object) {\n        var classObj = isType ? object : Object.getPrototypeOf(object);\n        name2 = classObj.constructor[\"__bjsclassName__\"];\n      }\n      if (!name2) {\n        name2 = typeof object;\n      }\n    }\n    return name2;\n  };\n  Tools2.First = function(array, predicate) {\n    for (var _i = 0, array_1 = array; _i < array_1.length; _i++) {\n      var el = array_1[_i];\n      if (predicate(el)) {\n        return el;\n      }\n    }\n    return null;\n  };\n  Tools2.getFullClassName = function(object, isType) {\n    if (isType === void 0) {\n      isType = false;\n    }\n    var className = null;\n    var moduleName = null;\n    if (!isType && object.getClassName) {\n      className = object.getClassName();\n    } else {\n      if (object instanceof Object) {\n        var classObj = isType ? object : Object.getPrototypeOf(object);\n        className = classObj.constructor[\"__bjsclassName__\"];\n        moduleName = classObj.constructor[\"__bjsmoduleName__\"];\n      }\n      if (!className) {\n        className = typeof object;\n      }\n    }\n    if (!className) {\n      return null;\n    }\n    return (moduleName != null ? moduleName + \".\" : \"\") + className;\n  };\n  Tools2.DelayAsync = function(delay) {\n    return new Promise(function(resolve) {\n      setTimeout(function() {\n        resolve();\n      }, delay);\n    });\n  };\n  Tools2.IsSafari = function() {\n    if (!IsNavigatorAvailable()) {\n      return false;\n    }\n    return /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  };\n  Tools2.UseCustomRequestHeaders = false;\n  Tools2.CustomRequestHeaders = WebRequest.CustomRequestHeaders;\n  Tools2._TmpFloatArray = new Float32Array(1);\n  Tools2.GetDOMTextContent = GetDOMTextContent;\n  Tools2.GetAbsoluteUrl = typeof document === \"object\" ? function(url) {\n    var a = document.createElement(\"a\");\n    a.href = url;\n    return a.href;\n  } : typeof URL === \"function\" && typeof location === \"object\" ? function(url) {\n    return new URL(url, location.origin).href;\n  } : function() {\n    throw new Error(\"Unable to get absolute URL. Override BABYLON.Tools.GetAbsoluteUrl to a custom implementation for the current context.\");\n  };\n  Tools2.NoneLogLevel = Logger.NoneLogLevel;\n  Tools2.MessageLogLevel = Logger.MessageLogLevel;\n  Tools2.WarningLogLevel = Logger.WarningLogLevel;\n  Tools2.ErrorLogLevel = Logger.ErrorLogLevel;\n  Tools2.AllLogLevel = Logger.AllLogLevel;\n  Tools2.IsWindowObjectExist = IsWindowObjectExist;\n  Tools2.PerformanceNoneLogLevel = 0;\n  Tools2.PerformanceUserMarkLogLevel = 1;\n  Tools2.PerformanceConsoleLogLevel = 2;\n  Tools2.StartPerformanceCounter = Tools2._StartPerformanceCounterDisabled;\n  Tools2.EndPerformanceCounter = Tools2._EndPerformanceCounterDisabled;\n  return Tools2;\n}();\nvar AsyncLoop = function() {\n  function AsyncLoop2(iterations, func, successCallback, offset) {\n    if (offset === void 0) {\n      offset = 0;\n    }\n    this.iterations = iterations;\n    this.index = offset - 1;\n    this._done = false;\n    this._fn = func;\n    this._successCallback = successCallback;\n  }\n  AsyncLoop2.prototype.executeNext = function() {\n    if (!this._done) {\n      if (this.index + 1 < this.iterations) {\n        ++this.index;\n        this._fn(this);\n      } else {\n        this.breakLoop();\n      }\n    }\n  };\n  AsyncLoop2.prototype.breakLoop = function() {\n    this._done = true;\n    this._successCallback();\n  };\n  AsyncLoop2.Run = function(iterations, fn, successCallback, offset) {\n    if (offset === void 0) {\n      offset = 0;\n    }\n    var loop = new AsyncLoop2(iterations, fn, successCallback, offset);\n    loop.executeNext();\n    return loop;\n  };\n  AsyncLoop2.SyncAsyncForLoop = function(iterations, syncedIterations, fn, callback, breakFunction, timeout) {\n    if (timeout === void 0) {\n      timeout = 0;\n    }\n    return AsyncLoop2.Run(Math.ceil(iterations / syncedIterations), function(loop) {\n      if (breakFunction && breakFunction()) {\n        loop.breakLoop();\n      } else {\n        setTimeout(function() {\n          for (var i = 0; i < syncedIterations; ++i) {\n            var iteration = loop.index * syncedIterations + i;\n            if (iteration >= iterations) {\n              break;\n            }\n            fn(iteration);\n            if (breakFunction && breakFunction()) {\n              loop.breakLoop();\n              break;\n            }\n          }\n          loop.executeNext();\n        }, timeout);\n      }\n    }, callback);\n  };\n  return AsyncLoop2;\n}();\nEngineStore.FallbackTexture = \"data:image/jpg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBmRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAAQAAAATgAAAAAAAABgAAAAAQAAAGAAAAABcGFpbnQubmV0IDQuMC41AP/bAEMABAIDAwMCBAMDAwQEBAQFCQYFBQUFCwgIBgkNCw0NDQsMDA4QFBEODxMPDAwSGBITFRYXFxcOERkbGRYaFBYXFv/bAEMBBAQEBQUFCgYGChYPDA8WFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFv/AABEIAQABAAMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5+jp6vHy8/T19vf4+fr/xAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv/xAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APH6KKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76CiiigD5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BQooooA+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/voKKKKAPl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76CiiigD5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BQooooA+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/voKKKKAPl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76P//Z\";\nvar SmartArray = function() {\n  function SmartArray2(capacity) {\n    this.length = 0;\n    this.data = new Array(capacity);\n    this._id = SmartArray2._GlobalId++;\n  }\n  SmartArray2.prototype.push = function(value) {\n    this.data[this.length++] = value;\n    if (this.length > this.data.length) {\n      this.data.length *= 2;\n    }\n  };\n  SmartArray2.prototype.forEach = function(func) {\n    for (var index = 0; index < this.length; index++) {\n      func(this.data[index]);\n    }\n  };\n  SmartArray2.prototype.sort = function(compareFn) {\n    this.data.sort(compareFn);\n  };\n  SmartArray2.prototype.reset = function() {\n    this.length = 0;\n  };\n  SmartArray2.prototype.dispose = function() {\n    this.reset();\n    if (this.data) {\n      this.data.length = 0;\n      this.data = [];\n    }\n  };\n  SmartArray2.prototype.concat = function(array) {\n    if (array.length === 0) {\n      return;\n    }\n    if (this.length + array.length > this.data.length) {\n      this.data.length = (this.length + array.length) * 2;\n    }\n    for (var index = 0; index < array.length; index++) {\n      this.data[this.length++] = (array.data || array)[index];\n    }\n  };\n  SmartArray2.prototype.indexOf = function(value) {\n    var position = this.data.indexOf(value);\n    if (position >= this.length) {\n      return -1;\n    }\n    return position;\n  };\n  SmartArray2.prototype.contains = function(value) {\n    return this.indexOf(value) !== -1;\n  };\n  SmartArray2._GlobalId = 0;\n  return SmartArray2;\n}();\nvar SmartArrayNoDuplicate = function(_super) {\n  __extends(SmartArrayNoDuplicate2, _super);\n  function SmartArrayNoDuplicate2() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this._duplicateId = 0;\n    return _this;\n  }\n  SmartArrayNoDuplicate2.prototype.push = function(value) {\n    _super.prototype.push.call(this, value);\n    if (!value.__smartArrayFlags) {\n      value.__smartArrayFlags = {};\n    }\n    value.__smartArrayFlags[this._id] = this._duplicateId;\n  };\n  SmartArrayNoDuplicate2.prototype.pushNoDuplicate = function(value) {\n    if (value.__smartArrayFlags && value.__smartArrayFlags[this._id] === this._duplicateId) {\n      return false;\n    }\n    this.push(value);\n    return true;\n  };\n  SmartArrayNoDuplicate2.prototype.reset = function() {\n    _super.prototype.reset.call(this);\n    this._duplicateId++;\n  };\n  SmartArrayNoDuplicate2.prototype.concatWithNoDuplicate = function(array) {\n    if (array.length === 0) {\n      return;\n    }\n    if (this.length + array.length > this.data.length) {\n      this.data.length = (this.length + array.length) * 2;\n    }\n    for (var index = 0; index < array.length; index++) {\n      var item = (array.data || array)[index];\n      this.pushNoDuplicate(item);\n    }\n  };\n  return SmartArrayNoDuplicate2;\n}(SmartArray);\nvar StringDictionary = function() {\n  function StringDictionary2() {\n    this._count = 0;\n    this._data = {};\n  }\n  StringDictionary2.prototype.copyFrom = function(source) {\n    var _this = this;\n    this.clear();\n    source.forEach(function(t, v) {\n      return _this.add(t, v);\n    });\n  };\n  StringDictionary2.prototype.get = function(key) {\n    var val = this._data[key];\n    if (val !== void 0) {\n      return val;\n    }\n    return void 0;\n  };\n  StringDictionary2.prototype.getOrAddWithFactory = function(key, factory) {\n    var val = this.get(key);\n    if (val !== void 0) {\n      return val;\n    }\n    val = factory(key);\n    if (val) {\n      this.add(key, val);\n    }\n    return val;\n  };\n  StringDictionary2.prototype.getOrAdd = function(key, val) {\n    var curVal = this.get(key);\n    if (curVal !== void 0) {\n      return curVal;\n    }\n    this.add(key, val);\n    return val;\n  };\n  StringDictionary2.prototype.contains = function(key) {\n    return this._data[key] !== void 0;\n  };\n  StringDictionary2.prototype.add = function(key, value) {\n    if (this._data[key] !== void 0) {\n      return false;\n    }\n    this._data[key] = value;\n    ++this._count;\n    return true;\n  };\n  StringDictionary2.prototype.set = function(key, value) {\n    if (this._data[key] === void 0) {\n      return false;\n    }\n    this._data[key] = value;\n    return true;\n  };\n  StringDictionary2.prototype.getAndRemove = function(key) {\n    var val = this.get(key);\n    if (val !== void 0) {\n      delete this._data[key];\n      --this._count;\n      return val;\n    }\n    return null;\n  };\n  StringDictionary2.prototype.remove = function(key) {\n    if (this.contains(key)) {\n      delete this._data[key];\n      --this._count;\n      return true;\n    }\n    return false;\n  };\n  StringDictionary2.prototype.clear = function() {\n    this._data = {};\n    this._count = 0;\n  };\n  Object.defineProperty(StringDictionary2.prototype, \"count\", {\n    get: function() {\n      return this._count;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  StringDictionary2.prototype.forEach = function(callback) {\n    for (var cur in this._data) {\n      var val = this._data[cur];\n      callback(cur, val);\n    }\n  };\n  StringDictionary2.prototype.first = function(callback) {\n    for (var cur in this._data) {\n      var val = this._data[cur];\n      var res = callback(cur, val);\n      if (res) {\n        return res;\n      }\n    }\n    return null;\n  };\n  return StringDictionary2;\n}();\nvar AndOrNotEvaluator = function() {\n  function AndOrNotEvaluator2() {\n  }\n  AndOrNotEvaluator2.Eval = function(query, evaluateCallback) {\n    if (!query.match(/\\([^()]*\\)/g)) {\n      query = AndOrNotEvaluator2._HandleParenthesisContent(query, evaluateCallback);\n    } else {\n      query = query.replace(/\\([^()]*\\)/g, function(r) {\n        r = r.slice(1, r.length - 1);\n        return AndOrNotEvaluator2._HandleParenthesisContent(r, evaluateCallback);\n      });\n    }\n    if (query === \"true\") {\n      return true;\n    }\n    if (query === \"false\") {\n      return false;\n    }\n    return AndOrNotEvaluator2.Eval(query, evaluateCallback);\n  };\n  AndOrNotEvaluator2._HandleParenthesisContent = function(parenthesisContent, evaluateCallback) {\n    evaluateCallback = evaluateCallback || function(r) {\n      return r === \"true\" ? true : false;\n    };\n    var result;\n    var or = parenthesisContent.split(\"||\");\n    for (var i in or) {\n      if (Object.prototype.hasOwnProperty.call(or, i)) {\n        var ori = AndOrNotEvaluator2._SimplifyNegation(or[i].trim());\n        var and = ori.split(\"&&\");\n        if (and.length > 1) {\n          for (var j = 0; j < and.length; ++j) {\n            var andj = AndOrNotEvaluator2._SimplifyNegation(and[j].trim());\n            if (andj !== \"true\" && andj !== \"false\") {\n              if (andj[0] === \"!\") {\n                result = !evaluateCallback(andj.substring(1));\n              } else {\n                result = evaluateCallback(andj);\n              }\n            } else {\n              result = andj === \"true\" ? true : false;\n            }\n            if (!result) {\n              ori = \"false\";\n              break;\n            }\n          }\n        }\n        if (result || ori === \"true\") {\n          result = true;\n          break;\n        }\n        if (ori !== \"true\" && ori !== \"false\") {\n          if (ori[0] === \"!\") {\n            result = !evaluateCallback(ori.substring(1));\n          } else {\n            result = evaluateCallback(ori);\n          }\n        } else {\n          result = ori === \"true\" ? true : false;\n        }\n      }\n    }\n    return result ? \"true\" : \"false\";\n  };\n  AndOrNotEvaluator2._SimplifyNegation = function(booleanString) {\n    booleanString = booleanString.replace(/^[\\s!]+/, function(r) {\n      r = r.replace(/[\\s]/g, function() {\n        return \"\";\n      });\n      return r.length % 2 ? \"!\" : \"\";\n    });\n    booleanString = booleanString.trim();\n    if (booleanString === \"!true\") {\n      booleanString = \"false\";\n    } else if (booleanString === \"!false\") {\n      booleanString = \"true\";\n    }\n    return booleanString;\n  };\n  return AndOrNotEvaluator2;\n}();\nvar Tags = function() {\n  function Tags2() {\n  }\n  Tags2.EnableFor = function(obj) {\n    obj._tags = obj._tags || {};\n    obj.hasTags = function() {\n      return Tags2.HasTags(obj);\n    };\n    obj.addTags = function(tagsString) {\n      return Tags2.AddTagsTo(obj, tagsString);\n    };\n    obj.removeTags = function(tagsString) {\n      return Tags2.RemoveTagsFrom(obj, tagsString);\n    };\n    obj.matchesTagsQuery = function(tagsQuery) {\n      return Tags2.MatchesQuery(obj, tagsQuery);\n    };\n  };\n  Tags2.DisableFor = function(obj) {\n    delete obj._tags;\n    delete obj.hasTags;\n    delete obj.addTags;\n    delete obj.removeTags;\n    delete obj.matchesTagsQuery;\n  };\n  Tags2.HasTags = function(obj) {\n    if (!obj._tags) {\n      return false;\n    }\n    var tags = obj._tags;\n    for (var i in tags) {\n      if (Object.prototype.hasOwnProperty.call(tags, i)) {\n        return true;\n      }\n    }\n    return false;\n  };\n  Tags2.GetTags = function(obj, asString) {\n    if (asString === void 0) {\n      asString = true;\n    }\n    if (!obj._tags) {\n      return null;\n    }\n    if (asString) {\n      var tagsArray = [];\n      for (var tag in obj._tags) {\n        if (Object.prototype.hasOwnProperty.call(obj._tags, tag) && obj._tags[tag] === true) {\n          tagsArray.push(tag);\n        }\n      }\n      return tagsArray.join(\" \");\n    } else {\n      return obj._tags;\n    }\n  };\n  Tags2.AddTagsTo = function(obj, tagsString) {\n    if (!tagsString) {\n      return;\n    }\n    if (typeof tagsString !== \"string\") {\n      return;\n    }\n    var tags = tagsString.split(\" \");\n    tags.forEach(function(tag) {\n      Tags2._AddTagTo(obj, tag);\n    });\n  };\n  Tags2._AddTagTo = function(obj, tag) {\n    tag = tag.trim();\n    if (tag === \"\" || tag === \"true\" || tag === \"false\") {\n      return;\n    }\n    if (tag.match(/[\\s]/) || tag.match(/^([!]|([|]|[&]){2})/)) {\n      return;\n    }\n    Tags2.EnableFor(obj);\n    obj._tags[tag] = true;\n  };\n  Tags2.RemoveTagsFrom = function(obj, tagsString) {\n    if (!Tags2.HasTags(obj)) {\n      return;\n    }\n    var tags = tagsString.split(\" \");\n    for (var t in tags) {\n      Tags2._RemoveTagFrom(obj, tags[t]);\n    }\n  };\n  Tags2._RemoveTagFrom = function(obj, tag) {\n    delete obj._tags[tag];\n  };\n  Tags2.MatchesQuery = function(obj, tagsQuery) {\n    if (tagsQuery === void 0) {\n      return true;\n    }\n    if (tagsQuery === \"\") {\n      return Tags2.HasTags(obj);\n    }\n    return AndOrNotEvaluator.Eval(tagsQuery, function(r) {\n      return Tags2.HasTags(obj) && obj._tags[r];\n    });\n  };\n  return Tags2;\n}();\nvar AbstractScene = function() {\n  function AbstractScene2() {\n    this.rootNodes = new Array();\n    this.cameras = new Array();\n    this.lights = new Array();\n    this.meshes = new Array();\n    this.skeletons = new Array();\n    this.particleSystems = new Array();\n    this.animations = [];\n    this.animationGroups = new Array();\n    this.multiMaterials = new Array();\n    this.materials = new Array();\n    this.morphTargetManagers = new Array();\n    this.geometries = new Array();\n    this.transformNodes = new Array();\n    this.actionManagers = new Array();\n    this.textures = new Array();\n    this._environmentTexture = null;\n    this.postProcesses = new Array();\n  }\n  AbstractScene2.AddParser = function(name2, parser) {\n    this._BabylonFileParsers[name2] = parser;\n  };\n  AbstractScene2.GetParser = function(name2) {\n    if (this._BabylonFileParsers[name2]) {\n      return this._BabylonFileParsers[name2];\n    }\n    return null;\n  };\n  AbstractScene2.AddIndividualParser = function(name2, parser) {\n    this._IndividualBabylonFileParsers[name2] = parser;\n  };\n  AbstractScene2.GetIndividualParser = function(name2) {\n    if (this._IndividualBabylonFileParsers[name2]) {\n      return this._IndividualBabylonFileParsers[name2];\n    }\n    return null;\n  };\n  AbstractScene2.Parse = function(jsonData, scene, container, rootUrl) {\n    for (var parserName in this._BabylonFileParsers) {\n      if (Object.prototype.hasOwnProperty.call(this._BabylonFileParsers, parserName)) {\n        this._BabylonFileParsers[parserName](jsonData, scene, container, rootUrl);\n      }\n    }\n  };\n  Object.defineProperty(AbstractScene2.prototype, \"environmentTexture\", {\n    get: function() {\n      return this._environmentTexture;\n    },\n    set: function(value) {\n      this._environmentTexture = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  AbstractScene2.prototype.getNodes = function() {\n    var nodes = new Array();\n    nodes = nodes.concat(this.meshes);\n    nodes = nodes.concat(this.lights);\n    nodes = nodes.concat(this.cameras);\n    nodes = nodes.concat(this.transformNodes);\n    this.skeletons.forEach(function(skeleton) {\n      return nodes = nodes.concat(skeleton.bones);\n    });\n    return nodes;\n  };\n  AbstractScene2._BabylonFileParsers = {};\n  AbstractScene2._IndividualBabylonFileParsers = {};\n  return AbstractScene2;\n}();\nvar __decoratorInitialStore = {};\nvar __mergedStore = {};\nvar _copySource = function(creationFunction, source, instanciate) {\n  var destination = creationFunction();\n  if (Tags) {\n    Tags.AddTagsTo(destination, source.tags);\n  }\n  var classStore = getMergedStore(destination);\n  for (var property in classStore) {\n    var propertyDescriptor = classStore[property];\n    var sourceProperty = source[property];\n    var propertyType = propertyDescriptor.type;\n    if (sourceProperty !== void 0 && sourceProperty !== null && (property !== \"uniqueId\" || SerializationHelper.AllowLoadingUniqueId)) {\n      switch (propertyType) {\n        case 0:\n        case 6:\n        case 11:\n          destination[property] = sourceProperty;\n          break;\n        case 1:\n          destination[property] = instanciate || sourceProperty.isRenderTarget ? sourceProperty : sourceProperty.clone();\n          break;\n        case 2:\n        case 3:\n        case 4:\n        case 5:\n        case 7:\n        case 10:\n        case 12:\n          destination[property] = instanciate ? sourceProperty : sourceProperty.clone();\n          break;\n      }\n    }\n  }\n  return destination;\n};\nfunction getDirectStore(target) {\n  var classKey = target.getClassName();\n  if (!__decoratorInitialStore[classKey]) {\n    __decoratorInitialStore[classKey] = {};\n  }\n  return __decoratorInitialStore[classKey];\n}\nfunction getMergedStore(target) {\n  var classKey = target.getClassName();\n  if (__mergedStore[classKey]) {\n    return __mergedStore[classKey];\n  }\n  __mergedStore[classKey] = {};\n  var store = __mergedStore[classKey];\n  var currentTarget = target;\n  var currentKey = classKey;\n  while (currentKey) {\n    var initialStore = __decoratorInitialStore[currentKey];\n    for (var property in initialStore) {\n      store[property] = initialStore[property];\n    }\n    var parent_1 = void 0;\n    var done = false;\n    do {\n      parent_1 = Object.getPrototypeOf(currentTarget);\n      if (!parent_1.getClassName) {\n        done = true;\n        break;\n      }\n      if (parent_1.getClassName() !== currentKey) {\n        break;\n      }\n      currentTarget = parent_1;\n    } while (parent_1);\n    if (done) {\n      break;\n    }\n    currentKey = parent_1.getClassName();\n    currentTarget = parent_1;\n  }\n  return store;\n}\nfunction generateSerializableMember(type, sourceName) {\n  return function(target, propertyKey) {\n    var classStore = getDirectStore(target);\n    if (!classStore[propertyKey]) {\n      classStore[propertyKey] = { type, sourceName };\n    }\n  };\n}\nfunction generateExpandMember(setCallback, targetKey) {\n  if (targetKey === void 0) {\n    targetKey = null;\n  }\n  return function(target, propertyKey) {\n    var key = targetKey || \"_\" + propertyKey;\n    Object.defineProperty(target, propertyKey, {\n      get: function() {\n        return this[key];\n      },\n      set: function(value) {\n        if (typeof this.equals === \"function\") {\n          if (this.equals(value)) {\n            return;\n          }\n        }\n        if (this[key] === value) {\n          return;\n        }\n        this[key] = value;\n        target[setCallback].apply(this);\n      },\n      enumerable: true,\n      configurable: true\n    });\n  };\n}\nfunction expandToProperty(callback, targetKey) {\n  if (targetKey === void 0) {\n    targetKey = null;\n  }\n  return generateExpandMember(callback, targetKey);\n}\nfunction serialize(sourceName) {\n  return generateSerializableMember(0, sourceName);\n}\nfunction serializeAsTexture(sourceName) {\n  return generateSerializableMember(1, sourceName);\n}\nfunction serializeAsColor3(sourceName) {\n  return generateSerializableMember(2, sourceName);\n}\nfunction serializeAsFresnelParameters(sourceName) {\n  return generateSerializableMember(3, sourceName);\n}\nfunction serializeAsVector2(sourceName) {\n  return generateSerializableMember(4, sourceName);\n}\nfunction serializeAsVector3(sourceName) {\n  return generateSerializableMember(5, sourceName);\n}\nfunction serializeAsMeshReference(sourceName) {\n  return generateSerializableMember(6, sourceName);\n}\nfunction serializeAsColorCurves(sourceName) {\n  return generateSerializableMember(7, sourceName);\n}\nfunction serializeAsColor4(sourceName) {\n  return generateSerializableMember(8, sourceName);\n}\nfunction serializeAsQuaternion(sourceName) {\n  return generateSerializableMember(10, sourceName);\n}\nvar SerializationHelper = function() {\n  function SerializationHelper2() {\n  }\n  SerializationHelper2.AppendSerializedAnimations = function(source, destination) {\n    if (source.animations) {\n      destination.animations = [];\n      for (var animationIndex = 0; animationIndex < source.animations.length; animationIndex++) {\n        var animation = source.animations[animationIndex];\n        destination.animations.push(animation.serialize());\n      }\n    }\n  };\n  SerializationHelper2.Serialize = function(entity, serializationObject) {\n    if (!serializationObject) {\n      serializationObject = {};\n    }\n    if (Tags) {\n      serializationObject.tags = Tags.GetTags(entity);\n    }\n    var serializedProperties = getMergedStore(entity);\n    for (var property in serializedProperties) {\n      var propertyDescriptor = serializedProperties[property];\n      var targetPropertyName = propertyDescriptor.sourceName || property;\n      var propertyType = propertyDescriptor.type;\n      var sourceProperty = entity[property];\n      if (sourceProperty !== void 0 && sourceProperty !== null && (property !== \"uniqueId\" || SerializationHelper2.AllowLoadingUniqueId)) {\n        switch (propertyType) {\n          case 0:\n            serializationObject[targetPropertyName] = sourceProperty;\n            break;\n          case 1:\n            serializationObject[targetPropertyName] = sourceProperty.serialize();\n            break;\n          case 2:\n            serializationObject[targetPropertyName] = sourceProperty.asArray();\n            break;\n          case 3:\n            serializationObject[targetPropertyName] = sourceProperty.serialize();\n            break;\n          case 4:\n            serializationObject[targetPropertyName] = sourceProperty.asArray();\n            break;\n          case 5:\n            serializationObject[targetPropertyName] = sourceProperty.asArray();\n            break;\n          case 6:\n            serializationObject[targetPropertyName] = sourceProperty.id;\n            break;\n          case 7:\n            serializationObject[targetPropertyName] = sourceProperty.serialize();\n            break;\n          case 8:\n            serializationObject[targetPropertyName] = sourceProperty.asArray();\n            break;\n          case 9:\n            serializationObject[targetPropertyName] = sourceProperty.serialize();\n            break;\n          case 10:\n            serializationObject[targetPropertyName] = sourceProperty.asArray();\n            break;\n          case 11:\n            serializationObject[targetPropertyName] = sourceProperty.id;\n            break;\n          case 12:\n            serializationObject[targetPropertyName] = sourceProperty.asArray();\n            break;\n        }\n      }\n    }\n    return serializationObject;\n  };\n  SerializationHelper2.Parse = function(creationFunction, source, scene, rootUrl) {\n    if (rootUrl === void 0) {\n      rootUrl = null;\n    }\n    var destination = creationFunction();\n    if (!rootUrl) {\n      rootUrl = \"\";\n    }\n    if (Tags) {\n      Tags.AddTagsTo(destination, source.tags);\n    }\n    var classStore = getMergedStore(destination);\n    for (var property in classStore) {\n      var propertyDescriptor = classStore[property];\n      var sourceProperty = source[propertyDescriptor.sourceName || property];\n      var propertyType = propertyDescriptor.type;\n      if (sourceProperty !== void 0 && sourceProperty !== null && (property !== \"uniqueId\" || SerializationHelper2.AllowLoadingUniqueId)) {\n        var dest = destination;\n        switch (propertyType) {\n          case 0:\n            dest[property] = sourceProperty;\n            break;\n          case 1:\n            if (scene) {\n              dest[property] = SerializationHelper2._TextureParser(sourceProperty, scene, rootUrl);\n            }\n            break;\n          case 2:\n            dest[property] = Color3.FromArray(sourceProperty);\n            break;\n          case 3:\n            dest[property] = SerializationHelper2._FresnelParametersParser(sourceProperty);\n            break;\n          case 4:\n            dest[property] = Vector2.FromArray(sourceProperty);\n            break;\n          case 5:\n            dest[property] = Vector3.FromArray(sourceProperty);\n            break;\n          case 6:\n            if (scene) {\n              dest[property] = scene.getLastMeshById(sourceProperty);\n            }\n            break;\n          case 7:\n            dest[property] = SerializationHelper2._ColorCurvesParser(sourceProperty);\n            break;\n          case 8:\n            dest[property] = Color4$1.FromArray(sourceProperty);\n            break;\n          case 9:\n            dest[property] = SerializationHelper2._ImageProcessingConfigurationParser(sourceProperty);\n            break;\n          case 10:\n            dest[property] = Quaternion.FromArray(sourceProperty);\n            break;\n          case 11:\n            if (scene) {\n              dest[property] = scene.getCameraById(sourceProperty);\n            }\n            break;\n          case 12:\n            dest[property] = Matrix.FromArray(sourceProperty);\n            break;\n        }\n      }\n    }\n    return destination;\n  };\n  SerializationHelper2.Clone = function(creationFunction, source) {\n    return _copySource(creationFunction, source, false);\n  };\n  SerializationHelper2.Instanciate = function(creationFunction, source) {\n    return _copySource(creationFunction, source, true);\n  };\n  SerializationHelper2.AllowLoadingUniqueId = false;\n  SerializationHelper2._ImageProcessingConfigurationParser = function(sourceProperty) {\n    throw _WarnImport(\"ImageProcessingConfiguration\");\n  };\n  SerializationHelper2._FresnelParametersParser = function(sourceProperty) {\n    throw _WarnImport(\"FresnelParameters\");\n  };\n  SerializationHelper2._ColorCurvesParser = function(sourceProperty) {\n    throw _WarnImport(\"ColorCurves\");\n  };\n  SerializationHelper2._TextureParser = function(sourceProperty, scene, rootUrl) {\n    throw _WarnImport(\"Texture\");\n  };\n  return SerializationHelper2;\n}();\nfunction nativeOverride(target, propertyKey, descriptor, predicate) {\n  var jsFunc = descriptor.value;\n  descriptor.value = function() {\n    var params = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      params[_i] = arguments[_i];\n    }\n    var func = jsFunc;\n    if (typeof _native !== \"undefined\" && _native[propertyKey]) {\n      var nativeFunc_1 = _native[propertyKey];\n      if (predicate) {\n        func = function() {\n          var params2 = [];\n          for (var _i2 = 0; _i2 < arguments.length; _i2++) {\n            params2[_i2] = arguments[_i2];\n          }\n          return predicate.apply(void 0, params2) ? nativeFunc_1.apply(void 0, params2) : jsFunc.apply(void 0, params2);\n        };\n      } else {\n        func = nativeFunc_1;\n      }\n    }\n    target[propertyKey] = func;\n    return func.apply(void 0, params);\n  };\n}\nnativeOverride.filter = function(predicate) {\n  return function(target, propertyKey, descriptor) {\n    return nativeOverride(target, propertyKey, descriptor, predicate);\n  };\n};\nvar MaterialDefines = function() {\n  function MaterialDefines2(externalProperties) {\n    this._isDirty = true;\n    this._areLightsDirty = true;\n    this._areLightsDisposed = false;\n    this._areAttributesDirty = true;\n    this._areTexturesDirty = true;\n    this._areFresnelDirty = true;\n    this._areMiscDirty = true;\n    this._arePrePassDirty = true;\n    this._areImageProcessingDirty = true;\n    this._normals = false;\n    this._uvs = false;\n    this._needNormals = false;\n    this._needUVs = false;\n    this._externalProperties = externalProperties;\n    if (externalProperties) {\n      for (var prop in externalProperties) {\n        if (Object.prototype.hasOwnProperty.call(externalProperties, prop)) {\n          this._setDefaultValue(prop);\n        }\n      }\n    }\n  }\n  Object.defineProperty(MaterialDefines2.prototype, \"isDirty\", {\n    get: function() {\n      return this._isDirty;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  MaterialDefines2.prototype.markAsProcessed = function() {\n    this._isDirty = false;\n    this._areAttributesDirty = false;\n    this._areTexturesDirty = false;\n    this._areFresnelDirty = false;\n    this._areLightsDirty = false;\n    this._areLightsDisposed = false;\n    this._areMiscDirty = false;\n    this._arePrePassDirty = false;\n    this._areImageProcessingDirty = false;\n  };\n  MaterialDefines2.prototype.markAsUnprocessed = function() {\n    this._isDirty = true;\n  };\n  MaterialDefines2.prototype.markAllAsDirty = function() {\n    this._areTexturesDirty = true;\n    this._areAttributesDirty = true;\n    this._areLightsDirty = true;\n    this._areFresnelDirty = true;\n    this._areMiscDirty = true;\n    this._areImageProcessingDirty = true;\n    this._isDirty = true;\n  };\n  MaterialDefines2.prototype.markAsImageProcessingDirty = function() {\n    this._areImageProcessingDirty = true;\n    this._isDirty = true;\n  };\n  MaterialDefines2.prototype.markAsLightDirty = function(disposed) {\n    if (disposed === void 0) {\n      disposed = false;\n    }\n    this._areLightsDirty = true;\n    this._areLightsDisposed = this._areLightsDisposed || disposed;\n    this._isDirty = true;\n  };\n  MaterialDefines2.prototype.markAsAttributesDirty = function() {\n    this._areAttributesDirty = true;\n    this._isDirty = true;\n  };\n  MaterialDefines2.prototype.markAsTexturesDirty = function() {\n    this._areTexturesDirty = true;\n    this._isDirty = true;\n  };\n  MaterialDefines2.prototype.markAsFresnelDirty = function() {\n    this._areFresnelDirty = true;\n    this._isDirty = true;\n  };\n  MaterialDefines2.prototype.markAsMiscDirty = function() {\n    this._areMiscDirty = true;\n    this._isDirty = true;\n  };\n  MaterialDefines2.prototype.markAsPrePassDirty = function() {\n    this._arePrePassDirty = true;\n    this._isDirty = true;\n  };\n  MaterialDefines2.prototype.rebuild = function() {\n    this._keys = [];\n    for (var _i = 0, _a = Object.keys(this); _i < _a.length; _i++) {\n      var key = _a[_i];\n      if (key[0] === \"_\") {\n        continue;\n      }\n      this._keys.push(key);\n    }\n    if (this._externalProperties) {\n      for (var name_1 in this._externalProperties) {\n        if (this._keys.indexOf(name_1) === -1) {\n          this._keys.push(name_1);\n        }\n      }\n    }\n  };\n  MaterialDefines2.prototype.isEqual = function(other) {\n    if (this._keys.length !== other._keys.length) {\n      return false;\n    }\n    for (var index = 0; index < this._keys.length; index++) {\n      var prop = this._keys[index];\n      if (this[prop] !== other[prop]) {\n        return false;\n      }\n    }\n    return true;\n  };\n  MaterialDefines2.prototype.cloneTo = function(other) {\n    if (this._keys.length !== other._keys.length) {\n      other._keys = this._keys.slice(0);\n    }\n    for (var index = 0; index < this._keys.length; index++) {\n      var prop = this._keys[index];\n      other[prop] = this[prop];\n    }\n  };\n  MaterialDefines2.prototype.reset = function() {\n    var _this = this;\n    this._keys.forEach(function(prop) {\n      return _this._setDefaultValue(prop);\n    });\n  };\n  MaterialDefines2.prototype._setDefaultValue = function(prop) {\n    var _a, _b, _c, _d, _e;\n    var type = (_c = (_b = (_a = this._externalProperties) === null || _a === void 0 ? void 0 : _a[prop]) === null || _b === void 0 ? void 0 : _b.type) !== null && _c !== void 0 ? _c : typeof this[prop];\n    var defValue = (_e = (_d = this._externalProperties) === null || _d === void 0 ? void 0 : _d[prop]) === null || _e === void 0 ? void 0 : _e.default;\n    switch (type) {\n      case \"number\":\n        this[prop] = defValue !== null && defValue !== void 0 ? defValue : 0;\n        break;\n      case \"string\":\n        this[prop] = defValue !== null && defValue !== void 0 ? defValue : \"\";\n        break;\n      default:\n        this[prop] = defValue !== null && defValue !== void 0 ? defValue : false;\n        break;\n    }\n  };\n  MaterialDefines2.prototype.toString = function() {\n    var result = \"\";\n    for (var index = 0; index < this._keys.length; index++) {\n      var prop = this._keys[index];\n      var value = this[prop];\n      var type = typeof value;\n      switch (type) {\n        case \"number\":\n        case \"string\":\n          result += \"#define \" + prop + \" \" + value + \"\\n\";\n          break;\n        default:\n          if (value) {\n            result += \"#define \" + prop + \"\\n\";\n          }\n          break;\n      }\n    }\n    return result;\n  };\n  return MaterialDefines2;\n}();\nvar ColorCurves = function() {\n  function ColorCurves2() {\n    this._dirty = true;\n    this._tempColor = new Color4$1(0, 0, 0, 0);\n    this._globalCurve = new Color4$1(0, 0, 0, 0);\n    this._highlightsCurve = new Color4$1(0, 0, 0, 0);\n    this._midtonesCurve = new Color4$1(0, 0, 0, 0);\n    this._shadowsCurve = new Color4$1(0, 0, 0, 0);\n    this._positiveCurve = new Color4$1(0, 0, 0, 0);\n    this._negativeCurve = new Color4$1(0, 0, 0, 0);\n    this._globalHue = 30;\n    this._globalDensity = 0;\n    this._globalSaturation = 0;\n    this._globalExposure = 0;\n    this._highlightsHue = 30;\n    this._highlightsDensity = 0;\n    this._highlightsSaturation = 0;\n    this._highlightsExposure = 0;\n    this._midtonesHue = 30;\n    this._midtonesDensity = 0;\n    this._midtonesSaturation = 0;\n    this._midtonesExposure = 0;\n    this._shadowsHue = 30;\n    this._shadowsDensity = 0;\n    this._shadowsSaturation = 0;\n    this._shadowsExposure = 0;\n  }\n  Object.defineProperty(ColorCurves2.prototype, \"globalHue\", {\n    get: function() {\n      return this._globalHue;\n    },\n    set: function(value) {\n      this._globalHue = value;\n      this._dirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ColorCurves2.prototype, \"globalDensity\", {\n    get: function() {\n      return this._globalDensity;\n    },\n    set: function(value) {\n      this._globalDensity = value;\n      this._dirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ColorCurves2.prototype, \"globalSaturation\", {\n    get: function() {\n      return this._globalSaturation;\n    },\n    set: function(value) {\n      this._globalSaturation = value;\n      this._dirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ColorCurves2.prototype, \"globalExposure\", {\n    get: function() {\n      return this._globalExposure;\n    },\n    set: function(value) {\n      this._globalExposure = value;\n      this._dirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ColorCurves2.prototype, \"highlightsHue\", {\n    get: function() {\n      return this._highlightsHue;\n    },\n    set: function(value) {\n      this._highlightsHue = value;\n      this._dirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ColorCurves2.prototype, \"highlightsDensity\", {\n    get: function() {\n      return this._highlightsDensity;\n    },\n    set: function(value) {\n      this._highlightsDensity = value;\n      this._dirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ColorCurves2.prototype, \"highlightsSaturation\", {\n    get: function() {\n      return this._highlightsSaturation;\n    },\n    set: function(value) {\n      this._highlightsSaturation = value;\n      this._dirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ColorCurves2.prototype, \"highlightsExposure\", {\n    get: function() {\n      return this._highlightsExposure;\n    },\n    set: function(value) {\n      this._highlightsExposure = value;\n      this._dirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ColorCurves2.prototype, \"midtonesHue\", {\n    get: function() {\n      return this._midtonesHue;\n    },\n    set: function(value) {\n      this._midtonesHue = value;\n      this._dirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ColorCurves2.prototype, \"midtonesDensity\", {\n    get: function() {\n      return this._midtonesDensity;\n    },\n    set: function(value) {\n      this._midtonesDensity = value;\n      this._dirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ColorCurves2.prototype, \"midtonesSaturation\", {\n    get: function() {\n      return this._midtonesSaturation;\n    },\n    set: function(value) {\n      this._midtonesSaturation = value;\n      this._dirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ColorCurves2.prototype, \"midtonesExposure\", {\n    get: function() {\n      return this._midtonesExposure;\n    },\n    set: function(value) {\n      this._midtonesExposure = value;\n      this._dirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ColorCurves2.prototype, \"shadowsHue\", {\n    get: function() {\n      return this._shadowsHue;\n    },\n    set: function(value) {\n      this._shadowsHue = value;\n      this._dirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ColorCurves2.prototype, \"shadowsDensity\", {\n    get: function() {\n      return this._shadowsDensity;\n    },\n    set: function(value) {\n      this._shadowsDensity = value;\n      this._dirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ColorCurves2.prototype, \"shadowsSaturation\", {\n    get: function() {\n      return this._shadowsSaturation;\n    },\n    set: function(value) {\n      this._shadowsSaturation = value;\n      this._dirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ColorCurves2.prototype, \"shadowsExposure\", {\n    get: function() {\n      return this._shadowsExposure;\n    },\n    set: function(value) {\n      this._shadowsExposure = value;\n      this._dirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ColorCurves2.prototype.getClassName = function() {\n    return \"ColorCurves\";\n  };\n  ColorCurves2.Bind = function(colorCurves, effect, positiveUniform, neutralUniform, negativeUniform) {\n    if (positiveUniform === void 0) {\n      positiveUniform = \"vCameraColorCurvePositive\";\n    }\n    if (neutralUniform === void 0) {\n      neutralUniform = \"vCameraColorCurveNeutral\";\n    }\n    if (negativeUniform === void 0) {\n      negativeUniform = \"vCameraColorCurveNegative\";\n    }\n    if (colorCurves._dirty) {\n      colorCurves._dirty = false;\n      colorCurves._getColorGradingDataToRef(colorCurves._globalHue, colorCurves._globalDensity, colorCurves._globalSaturation, colorCurves._globalExposure, colorCurves._globalCurve);\n      colorCurves._getColorGradingDataToRef(colorCurves._highlightsHue, colorCurves._highlightsDensity, colorCurves._highlightsSaturation, colorCurves._highlightsExposure, colorCurves._tempColor);\n      colorCurves._tempColor.multiplyToRef(colorCurves._globalCurve, colorCurves._highlightsCurve);\n      colorCurves._getColorGradingDataToRef(colorCurves._midtonesHue, colorCurves._midtonesDensity, colorCurves._midtonesSaturation, colorCurves._midtonesExposure, colorCurves._tempColor);\n      colorCurves._tempColor.multiplyToRef(colorCurves._globalCurve, colorCurves._midtonesCurve);\n      colorCurves._getColorGradingDataToRef(colorCurves._shadowsHue, colorCurves._shadowsDensity, colorCurves._shadowsSaturation, colorCurves._shadowsExposure, colorCurves._tempColor);\n      colorCurves._tempColor.multiplyToRef(colorCurves._globalCurve, colorCurves._shadowsCurve);\n      colorCurves._highlightsCurve.subtractToRef(colorCurves._midtonesCurve, colorCurves._positiveCurve);\n      colorCurves._midtonesCurve.subtractToRef(colorCurves._shadowsCurve, colorCurves._negativeCurve);\n    }\n    if (effect) {\n      effect.setFloat4(positiveUniform, colorCurves._positiveCurve.r, colorCurves._positiveCurve.g, colorCurves._positiveCurve.b, colorCurves._positiveCurve.a);\n      effect.setFloat4(neutralUniform, colorCurves._midtonesCurve.r, colorCurves._midtonesCurve.g, colorCurves._midtonesCurve.b, colorCurves._midtonesCurve.a);\n      effect.setFloat4(negativeUniform, colorCurves._negativeCurve.r, colorCurves._negativeCurve.g, colorCurves._negativeCurve.b, colorCurves._negativeCurve.a);\n    }\n  };\n  ColorCurves2.PrepareUniforms = function(uniformsList) {\n    uniformsList.push(\"vCameraColorCurveNeutral\", \"vCameraColorCurvePositive\", \"vCameraColorCurveNegative\");\n  };\n  ColorCurves2.prototype._getColorGradingDataToRef = function(hue, density, saturation, exposure, result) {\n    if (hue == null) {\n      return;\n    }\n    hue = ColorCurves2._Clamp(hue, 0, 360);\n    density = ColorCurves2._Clamp(density, -100, 100);\n    saturation = ColorCurves2._Clamp(saturation, -100, 100);\n    exposure = ColorCurves2._Clamp(exposure, -100, 100);\n    density = ColorCurves2._ApplyColorGradingSliderNonlinear(density);\n    density *= 0.5;\n    exposure = ColorCurves2._ApplyColorGradingSliderNonlinear(exposure);\n    if (density < 0) {\n      density *= -1;\n      hue = (hue + 180) % 360;\n    }\n    ColorCurves2._FromHSBToRef(hue, density, 50 + 0.25 * exposure, result);\n    result.scaleToRef(2, result);\n    result.a = 1 + 0.01 * saturation;\n  };\n  ColorCurves2._ApplyColorGradingSliderNonlinear = function(value) {\n    value /= 100;\n    var x = Math.abs(value);\n    x = Math.pow(x, 2);\n    if (value < 0) {\n      x *= -1;\n    }\n    x *= 100;\n    return x;\n  };\n  ColorCurves2._FromHSBToRef = function(hue, saturation, brightness, result) {\n    var h = ColorCurves2._Clamp(hue, 0, 360);\n    var s = ColorCurves2._Clamp(saturation / 100, 0, 1);\n    var v = ColorCurves2._Clamp(brightness / 100, 0, 1);\n    if (s === 0) {\n      result.r = v;\n      result.g = v;\n      result.b = v;\n    } else {\n      h /= 60;\n      var i = Math.floor(h);\n      var f = h - i;\n      var p = v * (1 - s);\n      var q = v * (1 - s * f);\n      var t = v * (1 - s * (1 - f));\n      switch (i) {\n        case 0:\n          result.r = v;\n          result.g = t;\n          result.b = p;\n          break;\n        case 1:\n          result.r = q;\n          result.g = v;\n          result.b = p;\n          break;\n        case 2:\n          result.r = p;\n          result.g = v;\n          result.b = t;\n          break;\n        case 3:\n          result.r = p;\n          result.g = q;\n          result.b = v;\n          break;\n        case 4:\n          result.r = t;\n          result.g = p;\n          result.b = v;\n          break;\n        default:\n          result.r = v;\n          result.g = p;\n          result.b = q;\n          break;\n      }\n    }\n    result.a = 1;\n  };\n  ColorCurves2._Clamp = function(value, min, max) {\n    return Math.min(Math.max(value, min), max);\n  };\n  ColorCurves2.prototype.clone = function() {\n    return SerializationHelper.Clone(function() {\n      return new ColorCurves2();\n    }, this);\n  };\n  ColorCurves2.prototype.serialize = function() {\n    return SerializationHelper.Serialize(this);\n  };\n  ColorCurves2.Parse = function(source) {\n    return SerializationHelper.Parse(function() {\n      return new ColorCurves2();\n    }, source, null, null);\n  };\n  __decorate([\n    serialize()\n  ], ColorCurves2.prototype, \"_globalHue\", void 0);\n  __decorate([\n    serialize()\n  ], ColorCurves2.prototype, \"_globalDensity\", void 0);\n  __decorate([\n    serialize()\n  ], ColorCurves2.prototype, \"_globalSaturation\", void 0);\n  __decorate([\n    serialize()\n  ], ColorCurves2.prototype, \"_globalExposure\", void 0);\n  __decorate([\n    serialize()\n  ], ColorCurves2.prototype, \"_highlightsHue\", void 0);\n  __decorate([\n    serialize()\n  ], ColorCurves2.prototype, \"_highlightsDensity\", void 0);\n  __decorate([\n    serialize()\n  ], ColorCurves2.prototype, \"_highlightsSaturation\", void 0);\n  __decorate([\n    serialize()\n  ], ColorCurves2.prototype, \"_highlightsExposure\", void 0);\n  __decorate([\n    serialize()\n  ], ColorCurves2.prototype, \"_midtonesHue\", void 0);\n  __decorate([\n    serialize()\n  ], ColorCurves2.prototype, \"_midtonesDensity\", void 0);\n  __decorate([\n    serialize()\n  ], ColorCurves2.prototype, \"_midtonesSaturation\", void 0);\n  __decorate([\n    serialize()\n  ], ColorCurves2.prototype, \"_midtonesExposure\", void 0);\n  return ColorCurves2;\n}();\nSerializationHelper._ColorCurvesParser = ColorCurves.Parse;\n(function(_super) {\n  __extends(ImageProcessingConfigurationDefines, _super);\n  function ImageProcessingConfigurationDefines() {\n    var _this = _super.call(this) || this;\n    _this.IMAGEPROCESSING = false;\n    _this.VIGNETTE = false;\n    _this.VIGNETTEBLENDMODEMULTIPLY = false;\n    _this.VIGNETTEBLENDMODEOPAQUE = false;\n    _this.TONEMAPPING = false;\n    _this.TONEMAPPING_ACES = false;\n    _this.CONTRAST = false;\n    _this.COLORCURVES = false;\n    _this.COLORGRADING = false;\n    _this.COLORGRADING3D = false;\n    _this.SAMPLER3DGREENDEPTH = false;\n    _this.SAMPLER3DBGRMAP = false;\n    _this.IMAGEPROCESSINGPOSTPROCESS = false;\n    _this.EXPOSURE = false;\n    _this.SKIPFINALCOLORCLAMP = false;\n    _this.rebuild();\n    return _this;\n  }\n  return ImageProcessingConfigurationDefines;\n})(MaterialDefines);\nvar ImageProcessingConfiguration = function() {\n  function ImageProcessingConfiguration2() {\n    this.colorCurves = new ColorCurves();\n    this._colorCurvesEnabled = false;\n    this._colorGradingEnabled = false;\n    this._colorGradingWithGreenDepth = true;\n    this._colorGradingBGR = true;\n    this._exposure = 1;\n    this._toneMappingEnabled = false;\n    this._toneMappingType = ImageProcessingConfiguration2.TONEMAPPING_STANDARD;\n    this._contrast = 1;\n    this.vignetteStretch = 0;\n    this.vignetteCentreX = 0;\n    this.vignetteCentreY = 0;\n    this.vignetteWeight = 1.5;\n    this.vignetteColor = new Color4$1(0, 0, 0, 0);\n    this.vignetteCameraFov = 0.5;\n    this._vignetteBlendMode = ImageProcessingConfiguration2.VIGNETTEMODE_MULTIPLY;\n    this._vignetteEnabled = false;\n    this._skipFinalColorClamp = false;\n    this._applyByPostProcess = false;\n    this._isEnabled = true;\n    this.onUpdateParameters = new Observable();\n  }\n  Object.defineProperty(ImageProcessingConfiguration2.prototype, \"colorCurvesEnabled\", {\n    get: function() {\n      return this._colorCurvesEnabled;\n    },\n    set: function(value) {\n      if (this._colorCurvesEnabled === value) {\n        return;\n      }\n      this._colorCurvesEnabled = value;\n      this._updateParameters();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ImageProcessingConfiguration2.prototype, \"colorGradingTexture\", {\n    get: function() {\n      return this._colorGradingTexture;\n    },\n    set: function(value) {\n      if (this._colorGradingTexture === value) {\n        return;\n      }\n      this._colorGradingTexture = value;\n      this._updateParameters();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ImageProcessingConfiguration2.prototype, \"colorGradingEnabled\", {\n    get: function() {\n      return this._colorGradingEnabled;\n    },\n    set: function(value) {\n      if (this._colorGradingEnabled === value) {\n        return;\n      }\n      this._colorGradingEnabled = value;\n      this._updateParameters();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ImageProcessingConfiguration2.prototype, \"colorGradingWithGreenDepth\", {\n    get: function() {\n      return this._colorGradingWithGreenDepth;\n    },\n    set: function(value) {\n      if (this._colorGradingWithGreenDepth === value) {\n        return;\n      }\n      this._colorGradingWithGreenDepth = value;\n      this._updateParameters();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ImageProcessingConfiguration2.prototype, \"colorGradingBGR\", {\n    get: function() {\n      return this._colorGradingBGR;\n    },\n    set: function(value) {\n      if (this._colorGradingBGR === value) {\n        return;\n      }\n      this._colorGradingBGR = value;\n      this._updateParameters();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ImageProcessingConfiguration2.prototype, \"exposure\", {\n    get: function() {\n      return this._exposure;\n    },\n    set: function(value) {\n      if (this._exposure === value) {\n        return;\n      }\n      this._exposure = value;\n      this._updateParameters();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ImageProcessingConfiguration2.prototype, \"toneMappingEnabled\", {\n    get: function() {\n      return this._toneMappingEnabled;\n    },\n    set: function(value) {\n      if (this._toneMappingEnabled === value) {\n        return;\n      }\n      this._toneMappingEnabled = value;\n      this._updateParameters();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ImageProcessingConfiguration2.prototype, \"toneMappingType\", {\n    get: function() {\n      return this._toneMappingType;\n    },\n    set: function(value) {\n      if (this._toneMappingType === value) {\n        return;\n      }\n      this._toneMappingType = value;\n      this._updateParameters();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ImageProcessingConfiguration2.prototype, \"contrast\", {\n    get: function() {\n      return this._contrast;\n    },\n    set: function(value) {\n      if (this._contrast === value) {\n        return;\n      }\n      this._contrast = value;\n      this._updateParameters();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ImageProcessingConfiguration2.prototype, \"vignetteBlendMode\", {\n    get: function() {\n      return this._vignetteBlendMode;\n    },\n    set: function(value) {\n      if (this._vignetteBlendMode === value) {\n        return;\n      }\n      this._vignetteBlendMode = value;\n      this._updateParameters();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ImageProcessingConfiguration2.prototype, \"vignetteEnabled\", {\n    get: function() {\n      return this._vignetteEnabled;\n    },\n    set: function(value) {\n      if (this._vignetteEnabled === value) {\n        return;\n      }\n      this._vignetteEnabled = value;\n      this._updateParameters();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ImageProcessingConfiguration2.prototype, \"skipFinalColorClamp\", {\n    get: function() {\n      return this._skipFinalColorClamp;\n    },\n    set: function(value) {\n      if (this._skipFinalColorClamp === value) {\n        return;\n      }\n      this._skipFinalColorClamp = value;\n      this._updateParameters();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ImageProcessingConfiguration2.prototype, \"applyByPostProcess\", {\n    get: function() {\n      return this._applyByPostProcess;\n    },\n    set: function(value) {\n      if (this._applyByPostProcess === value) {\n        return;\n      }\n      this._applyByPostProcess = value;\n      this._updateParameters();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ImageProcessingConfiguration2.prototype, \"isEnabled\", {\n    get: function() {\n      return this._isEnabled;\n    },\n    set: function(value) {\n      if (this._isEnabled === value) {\n        return;\n      }\n      this._isEnabled = value;\n      this._updateParameters();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ImageProcessingConfiguration2.prototype._updateParameters = function() {\n    this.onUpdateParameters.notifyObservers(this);\n  };\n  ImageProcessingConfiguration2.prototype.getClassName = function() {\n    return \"ImageProcessingConfiguration\";\n  };\n  ImageProcessingConfiguration2.PrepareUniforms = function(uniforms, defines) {\n    if (defines.EXPOSURE) {\n      uniforms.push(\"exposureLinear\");\n    }\n    if (defines.CONTRAST) {\n      uniforms.push(\"contrast\");\n    }\n    if (defines.COLORGRADING) {\n      uniforms.push(\"colorTransformSettings\");\n    }\n    if (defines.VIGNETTE) {\n      uniforms.push(\"vInverseScreenSize\");\n      uniforms.push(\"vignetteSettings1\");\n      uniforms.push(\"vignetteSettings2\");\n    }\n    if (defines.COLORCURVES) {\n      ColorCurves.PrepareUniforms(uniforms);\n    }\n  };\n  ImageProcessingConfiguration2.PrepareSamplers = function(samplersList, defines) {\n    if (defines.COLORGRADING) {\n      samplersList.push(\"txColorTransform\");\n    }\n  };\n  ImageProcessingConfiguration2.prototype.prepareDefines = function(defines, forPostProcess) {\n    if (forPostProcess === void 0) {\n      forPostProcess = false;\n    }\n    if (forPostProcess !== this.applyByPostProcess || !this._isEnabled) {\n      defines.VIGNETTE = false;\n      defines.TONEMAPPING = false;\n      defines.TONEMAPPING_ACES = false;\n      defines.CONTRAST = false;\n      defines.EXPOSURE = false;\n      defines.COLORCURVES = false;\n      defines.COLORGRADING = false;\n      defines.COLORGRADING3D = false;\n      defines.IMAGEPROCESSING = false;\n      defines.SKIPFINALCOLORCLAMP = this.skipFinalColorClamp;\n      defines.IMAGEPROCESSINGPOSTPROCESS = this.applyByPostProcess && this._isEnabled;\n      return;\n    }\n    defines.VIGNETTE = this.vignetteEnabled;\n    defines.VIGNETTEBLENDMODEMULTIPLY = this.vignetteBlendMode === ImageProcessingConfiguration2._VIGNETTEMODE_MULTIPLY;\n    defines.VIGNETTEBLENDMODEOPAQUE = !defines.VIGNETTEBLENDMODEMULTIPLY;\n    defines.TONEMAPPING = this.toneMappingEnabled;\n    switch (this._toneMappingType) {\n      case ImageProcessingConfiguration2.TONEMAPPING_ACES:\n        defines.TONEMAPPING_ACES = true;\n        break;\n      default:\n        defines.TONEMAPPING_ACES = false;\n        break;\n    }\n    defines.CONTRAST = this.contrast !== 1;\n    defines.EXPOSURE = this.exposure !== 1;\n    defines.COLORCURVES = this.colorCurvesEnabled && !!this.colorCurves;\n    defines.COLORGRADING = this.colorGradingEnabled && !!this.colorGradingTexture;\n    if (defines.COLORGRADING) {\n      defines.COLORGRADING3D = this.colorGradingTexture.is3D;\n    } else {\n      defines.COLORGRADING3D = false;\n    }\n    defines.SAMPLER3DGREENDEPTH = this.colorGradingWithGreenDepth;\n    defines.SAMPLER3DBGRMAP = this.colorGradingBGR;\n    defines.IMAGEPROCESSINGPOSTPROCESS = this.applyByPostProcess;\n    defines.SKIPFINALCOLORCLAMP = this.skipFinalColorClamp;\n    defines.IMAGEPROCESSING = defines.VIGNETTE || defines.TONEMAPPING || defines.CONTRAST || defines.EXPOSURE || defines.COLORCURVES || defines.COLORGRADING;\n  };\n  ImageProcessingConfiguration2.prototype.isReady = function() {\n    return !this.colorGradingEnabled || !this.colorGradingTexture || this.colorGradingTexture.isReady();\n  };\n  ImageProcessingConfiguration2.prototype.bind = function(effect, overrideAspectRatio) {\n    if (this._colorCurvesEnabled && this.colorCurves) {\n      ColorCurves.Bind(this.colorCurves, effect);\n    }\n    if (this._vignetteEnabled) {\n      var inverseWidth = 1 / effect.getEngine().getRenderWidth();\n      var inverseHeight = 1 / effect.getEngine().getRenderHeight();\n      effect.setFloat2(\"vInverseScreenSize\", inverseWidth, inverseHeight);\n      var aspectRatio = overrideAspectRatio != null ? overrideAspectRatio : inverseHeight / inverseWidth;\n      var vignetteScaleY = Math.tan(this.vignetteCameraFov * 0.5);\n      var vignetteScaleX = vignetteScaleY * aspectRatio;\n      var vignetteScaleGeometricMean = Math.sqrt(vignetteScaleX * vignetteScaleY);\n      vignetteScaleX = Tools.Mix(vignetteScaleX, vignetteScaleGeometricMean, this.vignetteStretch);\n      vignetteScaleY = Tools.Mix(vignetteScaleY, vignetteScaleGeometricMean, this.vignetteStretch);\n      effect.setFloat4(\"vignetteSettings1\", vignetteScaleX, vignetteScaleY, -vignetteScaleX * this.vignetteCentreX, -vignetteScaleY * this.vignetteCentreY);\n      var vignettePower = -2 * this.vignetteWeight;\n      effect.setFloat4(\"vignetteSettings2\", this.vignetteColor.r, this.vignetteColor.g, this.vignetteColor.b, vignettePower);\n    }\n    effect.setFloat(\"exposureLinear\", this.exposure);\n    effect.setFloat(\"contrast\", this.contrast);\n    if (this.colorGradingTexture) {\n      effect.setTexture(\"txColorTransform\", this.colorGradingTexture);\n      var textureSize = this.colorGradingTexture.getSize().height;\n      effect.setFloat4(\"colorTransformSettings\", (textureSize - 1) / textureSize, 0.5 / textureSize, textureSize, this.colorGradingTexture.level);\n    }\n  };\n  ImageProcessingConfiguration2.prototype.clone = function() {\n    return SerializationHelper.Clone(function() {\n      return new ImageProcessingConfiguration2();\n    }, this);\n  };\n  ImageProcessingConfiguration2.prototype.serialize = function() {\n    return SerializationHelper.Serialize(this);\n  };\n  ImageProcessingConfiguration2.Parse = function(source) {\n    return SerializationHelper.Parse(function() {\n      return new ImageProcessingConfiguration2();\n    }, source, null, null);\n  };\n  Object.defineProperty(ImageProcessingConfiguration2, \"VIGNETTEMODE_MULTIPLY\", {\n    get: function() {\n      return this._VIGNETTEMODE_MULTIPLY;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ImageProcessingConfiguration2, \"VIGNETTEMODE_OPAQUE\", {\n    get: function() {\n      return this._VIGNETTEMODE_OPAQUE;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ImageProcessingConfiguration2.TONEMAPPING_STANDARD = 0;\n  ImageProcessingConfiguration2.TONEMAPPING_ACES = 1;\n  ImageProcessingConfiguration2._VIGNETTEMODE_MULTIPLY = 0;\n  ImageProcessingConfiguration2._VIGNETTEMODE_OPAQUE = 1;\n  __decorate([\n    serializeAsColorCurves()\n  ], ImageProcessingConfiguration2.prototype, \"colorCurves\", void 0);\n  __decorate([\n    serialize()\n  ], ImageProcessingConfiguration2.prototype, \"_colorCurvesEnabled\", void 0);\n  __decorate([\n    serializeAsTexture(\"colorGradingTexture\")\n  ], ImageProcessingConfiguration2.prototype, \"_colorGradingTexture\", void 0);\n  __decorate([\n    serialize()\n  ], ImageProcessingConfiguration2.prototype, \"_colorGradingEnabled\", void 0);\n  __decorate([\n    serialize()\n  ], ImageProcessingConfiguration2.prototype, \"_colorGradingWithGreenDepth\", void 0);\n  __decorate([\n    serialize()\n  ], ImageProcessingConfiguration2.prototype, \"_colorGradingBGR\", void 0);\n  __decorate([\n    serialize()\n  ], ImageProcessingConfiguration2.prototype, \"_exposure\", void 0);\n  __decorate([\n    serialize()\n  ], ImageProcessingConfiguration2.prototype, \"_toneMappingEnabled\", void 0);\n  __decorate([\n    serialize()\n  ], ImageProcessingConfiguration2.prototype, \"_toneMappingType\", void 0);\n  __decorate([\n    serialize()\n  ], ImageProcessingConfiguration2.prototype, \"_contrast\", void 0);\n  __decorate([\n    serialize()\n  ], ImageProcessingConfiguration2.prototype, \"vignetteStretch\", void 0);\n  __decorate([\n    serialize()\n  ], ImageProcessingConfiguration2.prototype, \"vignetteCentreX\", void 0);\n  __decorate([\n    serialize()\n  ], ImageProcessingConfiguration2.prototype, \"vignetteCentreY\", void 0);\n  __decorate([\n    serialize()\n  ], ImageProcessingConfiguration2.prototype, \"vignetteWeight\", void 0);\n  __decorate([\n    serializeAsColor4()\n  ], ImageProcessingConfiguration2.prototype, \"vignetteColor\", void 0);\n  __decorate([\n    serialize()\n  ], ImageProcessingConfiguration2.prototype, \"vignetteCameraFov\", void 0);\n  __decorate([\n    serialize()\n  ], ImageProcessingConfiguration2.prototype, \"_vignetteBlendMode\", void 0);\n  __decorate([\n    serialize()\n  ], ImageProcessingConfiguration2.prototype, \"_vignetteEnabled\", void 0);\n  __decorate([\n    serialize()\n  ], ImageProcessingConfiguration2.prototype, \"_skipFinalColorClamp\", void 0);\n  __decorate([\n    serialize()\n  ], ImageProcessingConfiguration2.prototype, \"_applyByPostProcess\", void 0);\n  __decorate([\n    serialize()\n  ], ImageProcessingConfiguration2.prototype, \"_isEnabled\", void 0);\n  return ImageProcessingConfiguration2;\n}();\nSerializationHelper._ImageProcessingConfigurationParser = ImageProcessingConfiguration.Parse;\nThinEngine.prototype.createUniformBuffer = function(elements) {\n  var ubo = this._gl.createBuffer();\n  if (!ubo) {\n    throw new Error(\"Unable to create uniform buffer\");\n  }\n  var result = new WebGLDataBuffer(ubo);\n  this.bindUniformBuffer(result);\n  if (elements instanceof Float32Array) {\n    this._gl.bufferData(this._gl.UNIFORM_BUFFER, elements, this._gl.STATIC_DRAW);\n  } else {\n    this._gl.bufferData(this._gl.UNIFORM_BUFFER, new Float32Array(elements), this._gl.STATIC_DRAW);\n  }\n  this.bindUniformBuffer(null);\n  result.references = 1;\n  return result;\n};\nThinEngine.prototype.createDynamicUniformBuffer = function(elements) {\n  var ubo = this._gl.createBuffer();\n  if (!ubo) {\n    throw new Error(\"Unable to create dynamic uniform buffer\");\n  }\n  var result = new WebGLDataBuffer(ubo);\n  this.bindUniformBuffer(result);\n  if (elements instanceof Float32Array) {\n    this._gl.bufferData(this._gl.UNIFORM_BUFFER, elements, this._gl.DYNAMIC_DRAW);\n  } else {\n    this._gl.bufferData(this._gl.UNIFORM_BUFFER, new Float32Array(elements), this._gl.DYNAMIC_DRAW);\n  }\n  this.bindUniformBuffer(null);\n  result.references = 1;\n  return result;\n};\nThinEngine.prototype.updateUniformBuffer = function(uniformBuffer, elements, offset, count) {\n  this.bindUniformBuffer(uniformBuffer);\n  if (offset === void 0) {\n    offset = 0;\n  }\n  if (count === void 0) {\n    if (elements instanceof Float32Array) {\n      this._gl.bufferSubData(this._gl.UNIFORM_BUFFER, offset, elements);\n    } else {\n      this._gl.bufferSubData(this._gl.UNIFORM_BUFFER, offset, new Float32Array(elements));\n    }\n  } else {\n    if (elements instanceof Float32Array) {\n      this._gl.bufferSubData(this._gl.UNIFORM_BUFFER, 0, elements.subarray(offset, offset + count));\n    } else {\n      this._gl.bufferSubData(this._gl.UNIFORM_BUFFER, 0, new Float32Array(elements).subarray(offset, offset + count));\n    }\n  }\n  this.bindUniformBuffer(null);\n};\nThinEngine.prototype.bindUniformBuffer = function(buffer) {\n  this._gl.bindBuffer(this._gl.UNIFORM_BUFFER, buffer ? buffer.underlyingResource : null);\n};\nThinEngine.prototype.bindUniformBufferBase = function(buffer, location2, name2) {\n  this._gl.bindBufferBase(this._gl.UNIFORM_BUFFER, location2, buffer ? buffer.underlyingResource : null);\n};\nThinEngine.prototype.bindUniformBlock = function(pipelineContext, blockName, index) {\n  var program = pipelineContext.program;\n  var uniformLocation = this._gl.getUniformBlockIndex(program, blockName);\n  if (uniformLocation !== 4294967295) {\n    this._gl.uniformBlockBinding(program, uniformLocation, index);\n  }\n};\nvar UniformBuffer = function() {\n  function UniformBuffer2(engine, data, dynamic, name2, forceNoUniformBuffer) {\n    if (forceNoUniformBuffer === void 0) {\n      forceNoUniformBuffer = false;\n    }\n    this._valueCache = {};\n    this._engine = engine;\n    this._noUBO = !engine.supportsUniformBuffers || forceNoUniformBuffer;\n    this._dynamic = dynamic;\n    this._name = name2 !== null && name2 !== void 0 ? name2 : \"no-name\";\n    this._data = data || [];\n    this._uniformLocations = {};\n    this._uniformSizes = {};\n    this._uniformArraySizes = {};\n    this._uniformLocationPointer = 0;\n    this._needSync = false;\n    if (this._engine._features.trackUbosInFrame) {\n      this._buffers = [];\n      this._bufferIndex = -1;\n      this._createBufferOnWrite = false;\n      this._currentFrameId = 0;\n    }\n    if (this._noUBO) {\n      this.updateMatrix3x3 = this._updateMatrix3x3ForEffect;\n      this.updateMatrix2x2 = this._updateMatrix2x2ForEffect;\n      this.updateFloat = this._updateFloatForEffect;\n      this.updateFloat2 = this._updateFloat2ForEffect;\n      this.updateFloat3 = this._updateFloat3ForEffect;\n      this.updateFloat4 = this._updateFloat4ForEffect;\n      this.updateFloatArray = this._updateFloatArrayForEffect;\n      this.updateArray = this._updateArrayForEffect;\n      this.updateIntArray = this._updateIntArrayForEffect;\n      this.updateMatrix = this._updateMatrixForEffect;\n      this.updateMatrices = this._updateMatricesForEffect;\n      this.updateVector3 = this._updateVector3ForEffect;\n      this.updateVector4 = this._updateVector4ForEffect;\n      this.updateColor3 = this._updateColor3ForEffect;\n      this.updateColor4 = this._updateColor4ForEffect;\n      this.updateDirectColor4 = this._updateDirectColor4ForEffect;\n      this.updateInt = this._updateIntForEffect;\n      this.updateInt2 = this._updateInt2ForEffect;\n      this.updateInt3 = this._updateInt3ForEffect;\n      this.updateInt4 = this._updateInt4ForEffect;\n    } else {\n      this._engine._uniformBuffers.push(this);\n      this.updateMatrix3x3 = this._updateMatrix3x3ForUniform;\n      this.updateMatrix2x2 = this._updateMatrix2x2ForUniform;\n      this.updateFloat = this._updateFloatForUniform;\n      this.updateFloat2 = this._updateFloat2ForUniform;\n      this.updateFloat3 = this._updateFloat3ForUniform;\n      this.updateFloat4 = this._updateFloat4ForUniform;\n      this.updateFloatArray = this._updateFloatArrayForUniform;\n      this.updateArray = this._updateArrayForUniform;\n      this.updateIntArray = this._updateIntArrayForUniform;\n      this.updateMatrix = this._updateMatrixForUniform;\n      this.updateMatrices = this._updateMatricesForUniform;\n      this.updateVector3 = this._updateVector3ForUniform;\n      this.updateVector4 = this._updateVector4ForUniform;\n      this.updateColor3 = this._updateColor3ForUniform;\n      this.updateColor4 = this._updateColor4ForUniform;\n      this.updateDirectColor4 = this._updateDirectColor4ForUniform;\n      this.updateInt = this._updateIntForUniform;\n      this.updateInt2 = this._updateInt2ForUniform;\n      this.updateInt3 = this._updateInt3ForUniform;\n      this.updateInt4 = this._updateInt4ForUniform;\n    }\n  }\n  Object.defineProperty(UniformBuffer2.prototype, \"useUbo\", {\n    get: function() {\n      return !this._noUBO;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(UniformBuffer2.prototype, \"isSync\", {\n    get: function() {\n      return !this._needSync;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  UniformBuffer2.prototype.isDynamic = function() {\n    return this._dynamic !== void 0;\n  };\n  UniformBuffer2.prototype.getData = function() {\n    return this._bufferData;\n  };\n  UniformBuffer2.prototype.getBuffer = function() {\n    return this._buffer;\n  };\n  UniformBuffer2.prototype._fillAlignment = function(size) {\n    var alignment;\n    if (size <= 2) {\n      alignment = size;\n    } else {\n      alignment = 4;\n    }\n    if (this._uniformLocationPointer % alignment !== 0) {\n      var oldPointer = this._uniformLocationPointer;\n      this._uniformLocationPointer += alignment - this._uniformLocationPointer % alignment;\n      var diff = this._uniformLocationPointer - oldPointer;\n      for (var i = 0; i < diff; i++) {\n        this._data.push(0);\n      }\n    }\n  };\n  UniformBuffer2.prototype.addUniform = function(name2, size, arraySize) {\n    if (arraySize === void 0) {\n      arraySize = 0;\n    }\n    if (this._noUBO) {\n      return;\n    }\n    if (this._uniformLocations[name2] !== void 0) {\n      return;\n    }\n    var data;\n    if (arraySize > 0) {\n      if (size instanceof Array) {\n        throw \"addUniform should not be use with Array in UBO: \" + name2;\n      }\n      this._fillAlignment(4);\n      this._uniformArraySizes[name2] = { strideSize: size, arraySize };\n      if (size == 16) {\n        size = size * arraySize;\n      } else {\n        var perElementPadding = 4 - size;\n        var totalPadding = perElementPadding * arraySize;\n        size = size * arraySize + totalPadding;\n      }\n      data = [];\n      for (var i = 0; i < size; i++) {\n        data.push(0);\n      }\n    } else {\n      if (size instanceof Array) {\n        data = size;\n        size = data.length;\n      } else {\n        size = size;\n        data = [];\n        for (var i = 0; i < size; i++) {\n          data.push(0);\n        }\n      }\n      this._fillAlignment(size);\n    }\n    this._uniformSizes[name2] = size;\n    this._uniformLocations[name2] = this._uniformLocationPointer;\n    this._uniformLocationPointer += size;\n    for (var i = 0; i < size; i++) {\n      this._data.push(data[i]);\n    }\n    this._needSync = true;\n  };\n  UniformBuffer2.prototype.addMatrix = function(name2, mat) {\n    this.addUniform(name2, Array.prototype.slice.call(mat.toArray()));\n  };\n  UniformBuffer2.prototype.addFloat2 = function(name2, x, y) {\n    var temp = [x, y];\n    this.addUniform(name2, temp);\n  };\n  UniformBuffer2.prototype.addFloat3 = function(name2, x, y, z) {\n    var temp = [x, y, z];\n    this.addUniform(name2, temp);\n  };\n  UniformBuffer2.prototype.addColor3 = function(name2, color) {\n    var temp = [color.r, color.g, color.b];\n    this.addUniform(name2, temp);\n  };\n  UniformBuffer2.prototype.addColor4 = function(name2, color, alpha) {\n    var temp = [color.r, color.g, color.b, alpha];\n    this.addUniform(name2, temp);\n  };\n  UniformBuffer2.prototype.addVector3 = function(name2, vector) {\n    var temp = [vector.x, vector.y, vector.z];\n    this.addUniform(name2, temp);\n  };\n  UniformBuffer2.prototype.addMatrix3x3 = function(name2) {\n    this.addUniform(name2, 12);\n  };\n  UniformBuffer2.prototype.addMatrix2x2 = function(name2) {\n    this.addUniform(name2, 8);\n  };\n  UniformBuffer2.prototype.create = function() {\n    if (this._noUBO) {\n      return;\n    }\n    if (this._buffer) {\n      return;\n    }\n    this._fillAlignment(4);\n    this._bufferData = new Float32Array(this._data);\n    this._rebuild();\n    this._needSync = true;\n  };\n  UniformBuffer2.prototype._rebuild = function() {\n    if (this._noUBO || !this._bufferData) {\n      return;\n    }\n    if (this._dynamic) {\n      this._buffer = this._engine.createDynamicUniformBuffer(this._bufferData);\n    } else {\n      this._buffer = this._engine.createUniformBuffer(this._bufferData);\n    }\n    if (this._engine._features.trackUbosInFrame) {\n      this._buffers.push([this._buffer, this._engine._features.checkUbosContentBeforeUpload ? this._bufferData.slice() : void 0]);\n      this._bufferIndex = this._buffers.length - 1;\n      this._createBufferOnWrite = false;\n    }\n  };\n  Object.defineProperty(UniformBuffer2.prototype, \"_numBuffers\", {\n    get: function() {\n      return this._buffers.length;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(UniformBuffer2.prototype, \"_indexBuffer\", {\n    get: function() {\n      return this._bufferIndex;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(UniformBuffer2.prototype, \"name\", {\n    get: function() {\n      return this._name;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  UniformBuffer2.prototype._buffersEqual = function(buf1, buf2) {\n    for (var i = 0; i < buf1.length; ++i) {\n      if (buf1[i] !== buf2[i]) {\n        return false;\n      }\n    }\n    return true;\n  };\n  UniformBuffer2.prototype._copyBuffer = function(src, dst) {\n    for (var i = 0; i < src.length; ++i) {\n      dst[i] = src[i];\n    }\n  };\n  UniformBuffer2.prototype.update = function() {\n    if (this._noUBO) {\n      return;\n    }\n    this.bindUniformBuffer();\n    if (!this._buffer) {\n      this.create();\n      return;\n    }\n    if (!this._dynamic && !this._needSync) {\n      this._createBufferOnWrite = this._engine._features.trackUbosInFrame;\n      return;\n    }\n    if (this._buffers && this._buffers.length > 1 && this._buffers[this._bufferIndex][1]) {\n      if (this._buffersEqual(this._bufferData, this._buffers[this._bufferIndex][1])) {\n        this._needSync = false;\n        this._createBufferOnWrite = this._engine._features.trackUbosInFrame;\n        return;\n      } else {\n        this._copyBuffer(this._bufferData, this._buffers[this._bufferIndex][1]);\n      }\n    }\n    this._engine.updateUniformBuffer(this._buffer, this._bufferData);\n    if (this._engine._features._collectUbosUpdatedInFrame) {\n      if (!UniformBuffer2._UpdatedUbosInFrame[this._name]) {\n        UniformBuffer2._UpdatedUbosInFrame[this._name] = 0;\n      }\n      UniformBuffer2._UpdatedUbosInFrame[this._name]++;\n    }\n    this._needSync = false;\n    this._createBufferOnWrite = this._engine._features.trackUbosInFrame;\n  };\n  UniformBuffer2.prototype._createNewBuffer = function() {\n    if (this._bufferIndex + 1 < this._buffers.length) {\n      this._bufferIndex++;\n      this._buffer = this._buffers[this._bufferIndex][0];\n      this._createBufferOnWrite = false;\n      this._needSync = true;\n    } else {\n      this._rebuild();\n    }\n  };\n  UniformBuffer2.prototype._checkNewFrame = function() {\n    if (this._engine._features.trackUbosInFrame && this._currentFrameId !== this._engine.frameId) {\n      this._currentFrameId = this._engine.frameId;\n      this._createBufferOnWrite = false;\n      if (this._buffers && this._buffers.length > 0) {\n        this._needSync = this._bufferIndex !== 0;\n        this._bufferIndex = 0;\n        this._buffer = this._buffers[this._bufferIndex][0];\n      } else {\n        this._bufferIndex = -1;\n      }\n    }\n  };\n  UniformBuffer2.prototype.updateUniform = function(uniformName, data, size) {\n    this._checkNewFrame();\n    var location2 = this._uniformLocations[uniformName];\n    if (location2 === void 0) {\n      if (this._buffer) {\n        Logger.Error(\"Cannot add an uniform after UBO has been created.\");\n        return;\n      }\n      this.addUniform(uniformName, size);\n      location2 = this._uniformLocations[uniformName];\n    }\n    if (!this._buffer) {\n      this.create();\n    }\n    if (!this._dynamic) {\n      var changed = false;\n      for (var i = 0; i < size; i++) {\n        if (size === 16 && !this._engine._features.uniformBufferHardCheckMatrix || this._bufferData[location2 + i] !== Tools.FloatRound(data[i])) {\n          changed = true;\n          if (this._createBufferOnWrite) {\n            this._createNewBuffer();\n          }\n          this._bufferData[location2 + i] = data[i];\n        }\n      }\n      this._needSync = this._needSync || changed;\n    } else {\n      for (var i = 0; i < size; i++) {\n        this._bufferData[location2 + i] = data[i];\n      }\n    }\n  };\n  UniformBuffer2.prototype.updateUniformArray = function(uniformName, data, size) {\n    this._checkNewFrame();\n    var location2 = this._uniformLocations[uniformName];\n    if (location2 === void 0) {\n      Logger.Error(\"Cannot add an uniform Array dynamically. Please, add it using addUniform.\");\n      return;\n    }\n    if (!this._buffer) {\n      this.create();\n    }\n    var arraySizes = this._uniformArraySizes[uniformName];\n    if (!this._dynamic) {\n      var changed = false;\n      var countToFour = 0;\n      var baseStride = 0;\n      for (var i = 0; i < size; i++) {\n        if (this._bufferData[location2 + baseStride * 4 + countToFour] !== Tools.FloatRound(data[i])) {\n          changed = true;\n          if (this._createBufferOnWrite) {\n            this._createNewBuffer();\n          }\n          this._bufferData[location2 + baseStride * 4 + countToFour] = data[i];\n        }\n        countToFour++;\n        if (countToFour === arraySizes.strideSize) {\n          for (; countToFour < 4; countToFour++) {\n            this._bufferData[location2 + baseStride * 4 + countToFour] = 0;\n          }\n          countToFour = 0;\n          baseStride++;\n        }\n      }\n      this._needSync = this._needSync || changed;\n    } else {\n      for (var i = 0; i < size; i++) {\n        this._bufferData[location2 + i] = data[i];\n      }\n    }\n  };\n  UniformBuffer2.prototype._cacheMatrix = function(name2, matrix) {\n    this._checkNewFrame();\n    var cache = this._valueCache[name2];\n    var flag = matrix.updateFlag;\n    if (cache !== void 0 && cache === flag) {\n      return false;\n    }\n    this._valueCache[name2] = flag;\n    return true;\n  };\n  UniformBuffer2.prototype._updateMatrix3x3ForUniform = function(name2, matrix) {\n    for (var i = 0; i < 3; i++) {\n      UniformBuffer2._TempBuffer[i * 4] = matrix[i * 3];\n      UniformBuffer2._TempBuffer[i * 4 + 1] = matrix[i * 3 + 1];\n      UniformBuffer2._TempBuffer[i * 4 + 2] = matrix[i * 3 + 2];\n      UniformBuffer2._TempBuffer[i * 4 + 3] = 0;\n    }\n    this.updateUniform(name2, UniformBuffer2._TempBuffer, 12);\n  };\n  UniformBuffer2.prototype._updateMatrix3x3ForEffect = function(name2, matrix) {\n    this._currentEffect.setMatrix3x3(name2, matrix);\n  };\n  UniformBuffer2.prototype._updateMatrix2x2ForEffect = function(name2, matrix) {\n    this._currentEffect.setMatrix2x2(name2, matrix);\n  };\n  UniformBuffer2.prototype._updateMatrix2x2ForUniform = function(name2, matrix) {\n    for (var i = 0; i < 2; i++) {\n      UniformBuffer2._TempBuffer[i * 4] = matrix[i * 2];\n      UniformBuffer2._TempBuffer[i * 4 + 1] = matrix[i * 2 + 1];\n      UniformBuffer2._TempBuffer[i * 4 + 2] = 0;\n      UniformBuffer2._TempBuffer[i * 4 + 3] = 0;\n    }\n    this.updateUniform(name2, UniformBuffer2._TempBuffer, 8);\n  };\n  UniformBuffer2.prototype._updateFloatForEffect = function(name2, x) {\n    this._currentEffect.setFloat(name2, x);\n  };\n  UniformBuffer2.prototype._updateFloatForUniform = function(name2, x) {\n    UniformBuffer2._TempBuffer[0] = x;\n    this.updateUniform(name2, UniformBuffer2._TempBuffer, 1);\n  };\n  UniformBuffer2.prototype._updateFloat2ForEffect = function(name2, x, y, suffix) {\n    if (suffix === void 0) {\n      suffix = \"\";\n    }\n    this._currentEffect.setFloat2(name2 + suffix, x, y);\n  };\n  UniformBuffer2.prototype._updateFloat2ForUniform = function(name2, x, y) {\n    UniformBuffer2._TempBuffer[0] = x;\n    UniformBuffer2._TempBuffer[1] = y;\n    this.updateUniform(name2, UniformBuffer2._TempBuffer, 2);\n  };\n  UniformBuffer2.prototype._updateFloat3ForEffect = function(name2, x, y, z, suffix) {\n    if (suffix === void 0) {\n      suffix = \"\";\n    }\n    this._currentEffect.setFloat3(name2 + suffix, x, y, z);\n  };\n  UniformBuffer2.prototype._updateFloat3ForUniform = function(name2, x, y, z) {\n    UniformBuffer2._TempBuffer[0] = x;\n    UniformBuffer2._TempBuffer[1] = y;\n    UniformBuffer2._TempBuffer[2] = z;\n    this.updateUniform(name2, UniformBuffer2._TempBuffer, 3);\n  };\n  UniformBuffer2.prototype._updateFloat4ForEffect = function(name2, x, y, z, w, suffix) {\n    if (suffix === void 0) {\n      suffix = \"\";\n    }\n    this._currentEffect.setFloat4(name2 + suffix, x, y, z, w);\n  };\n  UniformBuffer2.prototype._updateFloat4ForUniform = function(name2, x, y, z, w) {\n    UniformBuffer2._TempBuffer[0] = x;\n    UniformBuffer2._TempBuffer[1] = y;\n    UniformBuffer2._TempBuffer[2] = z;\n    UniformBuffer2._TempBuffer[3] = w;\n    this.updateUniform(name2, UniformBuffer2._TempBuffer, 4);\n  };\n  UniformBuffer2.prototype._updateFloatArrayForEffect = function(name2, array) {\n    this._currentEffect.setFloatArray(name2, array);\n  };\n  UniformBuffer2.prototype._updateFloatArrayForUniform = function(name2, array) {\n    this.updateUniformArray(name2, array, array.length);\n  };\n  UniformBuffer2.prototype._updateArrayForEffect = function(name2, array) {\n    this._currentEffect.setArray(name2, array);\n  };\n  UniformBuffer2.prototype._updateArrayForUniform = function(name2, array) {\n    this.updateUniformArray(name2, array, array.length);\n  };\n  UniformBuffer2.prototype._updateIntArrayForEffect = function(name2, array) {\n    this._currentEffect.setIntArray(name2, array);\n  };\n  UniformBuffer2.prototype._updateIntArrayForUniform = function(name2, array) {\n    UniformBuffer2._TempBufferInt32View.set(array);\n    this.updateUniformArray(name2, UniformBuffer2._TempBuffer, array.length);\n  };\n  UniformBuffer2.prototype._updateMatrixForEffect = function(name2, mat) {\n    this._currentEffect.setMatrix(name2, mat);\n  };\n  UniformBuffer2.prototype._updateMatrixForUniform = function(name2, mat) {\n    if (this._cacheMatrix(name2, mat)) {\n      this.updateUniform(name2, mat.toArray(), 16);\n    }\n  };\n  UniformBuffer2.prototype._updateMatricesForEffect = function(name2, mat) {\n    this._currentEffect.setMatrices(name2, mat);\n  };\n  UniformBuffer2.prototype._updateMatricesForUniform = function(name2, mat) {\n    this.updateUniform(name2, mat, mat.length);\n  };\n  UniformBuffer2.prototype._updateVector3ForEffect = function(name2, vector) {\n    this._currentEffect.setVector3(name2, vector);\n  };\n  UniformBuffer2.prototype._updateVector3ForUniform = function(name2, vector) {\n    UniformBuffer2._TempBuffer[0] = vector.x;\n    UniformBuffer2._TempBuffer[1] = vector.y;\n    UniformBuffer2._TempBuffer[2] = vector.z;\n    this.updateUniform(name2, UniformBuffer2._TempBuffer, 3);\n  };\n  UniformBuffer2.prototype._updateVector4ForEffect = function(name2, vector) {\n    this._currentEffect.setVector4(name2, vector);\n  };\n  UniformBuffer2.prototype._updateVector4ForUniform = function(name2, vector) {\n    UniformBuffer2._TempBuffer[0] = vector.x;\n    UniformBuffer2._TempBuffer[1] = vector.y;\n    UniformBuffer2._TempBuffer[2] = vector.z;\n    UniformBuffer2._TempBuffer[3] = vector.w;\n    this.updateUniform(name2, UniformBuffer2._TempBuffer, 4);\n  };\n  UniformBuffer2.prototype._updateColor3ForEffect = function(name2, color, suffix) {\n    if (suffix === void 0) {\n      suffix = \"\";\n    }\n    this._currentEffect.setColor3(name2 + suffix, color);\n  };\n  UniformBuffer2.prototype._updateColor3ForUniform = function(name2, color) {\n    UniformBuffer2._TempBuffer[0] = color.r;\n    UniformBuffer2._TempBuffer[1] = color.g;\n    UniformBuffer2._TempBuffer[2] = color.b;\n    this.updateUniform(name2, UniformBuffer2._TempBuffer, 3);\n  };\n  UniformBuffer2.prototype._updateColor4ForEffect = function(name2, color, alpha, suffix) {\n    if (suffix === void 0) {\n      suffix = \"\";\n    }\n    this._currentEffect.setColor4(name2 + suffix, color, alpha);\n  };\n  UniformBuffer2.prototype._updateDirectColor4ForEffect = function(name2, color, suffix) {\n    if (suffix === void 0) {\n      suffix = \"\";\n    }\n    this._currentEffect.setDirectColor4(name2 + suffix, color);\n  };\n  UniformBuffer2.prototype._updateColor4ForUniform = function(name2, color, alpha) {\n    UniformBuffer2._TempBuffer[0] = color.r;\n    UniformBuffer2._TempBuffer[1] = color.g;\n    UniformBuffer2._TempBuffer[2] = color.b;\n    UniformBuffer2._TempBuffer[3] = alpha;\n    this.updateUniform(name2, UniformBuffer2._TempBuffer, 4);\n  };\n  UniformBuffer2.prototype._updateDirectColor4ForUniform = function(name2, color) {\n    UniformBuffer2._TempBuffer[0] = color.r;\n    UniformBuffer2._TempBuffer[1] = color.g;\n    UniformBuffer2._TempBuffer[2] = color.b;\n    UniformBuffer2._TempBuffer[3] = color.a;\n    this.updateUniform(name2, UniformBuffer2._TempBuffer, 4);\n  };\n  UniformBuffer2.prototype._updateIntForEffect = function(name2, x, suffix) {\n    if (suffix === void 0) {\n      suffix = \"\";\n    }\n    this._currentEffect.setInt(name2 + suffix, x);\n  };\n  UniformBuffer2.prototype._updateIntForUniform = function(name2, x) {\n    UniformBuffer2._TempBufferInt32View[0] = x;\n    this.updateUniform(name2, UniformBuffer2._TempBuffer, 1);\n  };\n  UniformBuffer2.prototype._updateInt2ForEffect = function(name2, x, y, suffix) {\n    if (suffix === void 0) {\n      suffix = \"\";\n    }\n    this._currentEffect.setInt2(name2 + suffix, x, y);\n  };\n  UniformBuffer2.prototype._updateInt2ForUniform = function(name2, x, y) {\n    UniformBuffer2._TempBufferInt32View[0] = x;\n    UniformBuffer2._TempBufferInt32View[1] = y;\n    this.updateUniform(name2, UniformBuffer2._TempBuffer, 2);\n  };\n  UniformBuffer2.prototype._updateInt3ForEffect = function(name2, x, y, z, suffix) {\n    if (suffix === void 0) {\n      suffix = \"\";\n    }\n    this._currentEffect.setInt3(name2 + suffix, x, y, z);\n  };\n  UniformBuffer2.prototype._updateInt3ForUniform = function(name2, x, y, z) {\n    UniformBuffer2._TempBufferInt32View[0] = x;\n    UniformBuffer2._TempBufferInt32View[1] = y;\n    UniformBuffer2._TempBufferInt32View[2] = z;\n    this.updateUniform(name2, UniformBuffer2._TempBuffer, 3);\n  };\n  UniformBuffer2.prototype._updateInt4ForEffect = function(name2, x, y, z, w, suffix) {\n    if (suffix === void 0) {\n      suffix = \"\";\n    }\n    this._currentEffect.setInt4(name2 + suffix, x, y, z, w);\n  };\n  UniformBuffer2.prototype._updateInt4ForUniform = function(name2, x, y, z, w) {\n    UniformBuffer2._TempBufferInt32View[0] = x;\n    UniformBuffer2._TempBufferInt32View[1] = y;\n    UniformBuffer2._TempBufferInt32View[2] = z;\n    UniformBuffer2._TempBufferInt32View[3] = w;\n    this.updateUniform(name2, UniformBuffer2._TempBuffer, 4);\n  };\n  UniformBuffer2.prototype.setTexture = function(name2, texture) {\n    this._currentEffect.setTexture(name2, texture);\n  };\n  UniformBuffer2.prototype.updateUniformDirectly = function(uniformName, data) {\n    this.updateUniform(uniformName, data, data.length);\n    this.update();\n  };\n  UniformBuffer2.prototype.bindToEffect = function(effect, name2) {\n    this._currentEffect = effect;\n    this._currentEffectName = name2;\n  };\n  UniformBuffer2.prototype.bindUniformBuffer = function() {\n    if (!this._noUBO && this._buffer && this._currentEffect) {\n      this._currentEffect.bindUniformBuffer(this._buffer, this._currentEffectName);\n    }\n  };\n  UniformBuffer2.prototype.unbindEffect = function() {\n    this._currentEffect = void 0;\n    this._currentEffectName = void 0;\n  };\n  UniformBuffer2.prototype.setDataBuffer = function(dataBuffer) {\n    if (!this._buffers) {\n      return this._buffer === dataBuffer;\n    }\n    for (var b = 0; b < this._buffers.length; ++b) {\n      var buffer = this._buffers[b];\n      if (buffer[0] === dataBuffer) {\n        this._bufferIndex = b;\n        this._buffer = dataBuffer;\n        this._createBufferOnWrite = false;\n        this._currentEffect = void 0;\n        return true;\n      }\n    }\n    return false;\n  };\n  UniformBuffer2.prototype.dispose = function() {\n    if (this._noUBO) {\n      return;\n    }\n    var uniformBuffers = this._engine._uniformBuffers;\n    var index = uniformBuffers.indexOf(this);\n    if (index !== -1) {\n      uniformBuffers[index] = uniformBuffers[uniformBuffers.length - 1];\n      uniformBuffers.pop();\n    }\n    if (this._engine._features.trackUbosInFrame && this._buffers) {\n      for (var i = 0; i < this._buffers.length; ++i) {\n        var buffer = this._buffers[i][0];\n        this._engine._releaseBuffer(buffer);\n      }\n    } else if (this._buffer && this._engine._releaseBuffer(this._buffer)) {\n      this._buffer = null;\n    }\n  };\n  UniformBuffer2._UpdatedUbosInFrame = {};\n  UniformBuffer2._MAX_UNIFORM_SIZE = 256;\n  UniformBuffer2._TempBuffer = new Float32Array(UniformBuffer2._MAX_UNIFORM_SIZE);\n  UniformBuffer2._TempBufferInt32View = new Uint32Array(UniformBuffer2._TempBuffer.buffer);\n  return UniformBuffer2;\n}();\nvar Buffer2 = function() {\n  function Buffer3(engine, data, updatable, stride, postponeInternalCreation, instanced, useBytes, divisor) {\n    if (stride === void 0) {\n      stride = 0;\n    }\n    if (postponeInternalCreation === void 0) {\n      postponeInternalCreation = false;\n    }\n    if (instanced === void 0) {\n      instanced = false;\n    }\n    if (useBytes === void 0) {\n      useBytes = false;\n    }\n    this._isAlreadyOwned = false;\n    if (engine.getScene) {\n      this._engine = engine.getScene().getEngine();\n    } else {\n      this._engine = engine;\n    }\n    this._updatable = updatable;\n    this._instanced = instanced;\n    this._divisor = divisor || 1;\n    if (data instanceof DataBuffer) {\n      this._data = null;\n      this._buffer = data;\n    } else {\n      this._data = data;\n      this._buffer = null;\n    }\n    this.byteStride = useBytes ? stride : stride * Float32Array.BYTES_PER_ELEMENT;\n    if (!postponeInternalCreation) {\n      this.create();\n    }\n  }\n  Buffer3.prototype.createVertexBuffer = function(kind, offset, size, stride, instanced, useBytes, divisor) {\n    if (useBytes === void 0) {\n      useBytes = false;\n    }\n    var byteOffset = useBytes ? offset : offset * Float32Array.BYTES_PER_ELEMENT;\n    var byteStride = stride ? useBytes ? stride : stride * Float32Array.BYTES_PER_ELEMENT : this.byteStride;\n    return new VertexBuffer(this._engine, this, kind, this._updatable, true, byteStride, instanced === void 0 ? this._instanced : instanced, byteOffset, size, void 0, void 0, true, this._divisor || divisor);\n  };\n  Buffer3.prototype.isUpdatable = function() {\n    return this._updatable;\n  };\n  Buffer3.prototype.getData = function() {\n    return this._data;\n  };\n  Buffer3.prototype.getBuffer = function() {\n    return this._buffer;\n  };\n  Buffer3.prototype.getStrideSize = function() {\n    return this.byteStride / Float32Array.BYTES_PER_ELEMENT;\n  };\n  Buffer3.prototype.create = function(data) {\n    if (data === void 0) {\n      data = null;\n    }\n    if (!data && this._buffer) {\n      return;\n    }\n    data = data || this._data;\n    if (!data) {\n      return;\n    }\n    if (!this._buffer) {\n      if (this._updatable) {\n        this._buffer = this._engine.createDynamicVertexBuffer(data);\n        this._data = data;\n      } else {\n        this._buffer = this._engine.createVertexBuffer(data);\n      }\n    } else if (this._updatable) {\n      this._engine.updateDynamicVertexBuffer(this._buffer, data);\n      this._data = data;\n    }\n  };\n  Buffer3.prototype._rebuild = function() {\n    this._buffer = null;\n    this.create(this._data);\n  };\n  Buffer3.prototype.update = function(data) {\n    this.create(data);\n  };\n  Buffer3.prototype.updateDirectly = function(data, offset, vertexCount, useBytes) {\n    if (useBytes === void 0) {\n      useBytes = false;\n    }\n    if (!this._buffer) {\n      return;\n    }\n    if (this._updatable) {\n      this._engine.updateDynamicVertexBuffer(this._buffer, data, useBytes ? offset : offset * Float32Array.BYTES_PER_ELEMENT, vertexCount ? vertexCount * this.byteStride : void 0);\n      if (offset === 0 && vertexCount === void 0) {\n        this._data = data;\n      } else {\n        this._data = null;\n      }\n    }\n  };\n  Buffer3.prototype._increaseReferences = function() {\n    if (!this._buffer) {\n      return;\n    }\n    if (!this._isAlreadyOwned) {\n      this._isAlreadyOwned = true;\n      return;\n    }\n    this._buffer.references++;\n  };\n  Buffer3.prototype.dispose = function() {\n    if (!this._buffer) {\n      return;\n    }\n    if (this._engine._releaseBuffer(this._buffer)) {\n      this._buffer = null;\n      this._data = null;\n    }\n  };\n  return Buffer3;\n}();\nvar VertexBuffer = function() {\n  function VertexBuffer2(engine, data, kind, updatable, postponeInternalCreation, stride, instanced, offset, size, type, normalized, useBytes, divisor, takeBufferOwnership) {\n    if (normalized === void 0) {\n      normalized = false;\n    }\n    if (useBytes === void 0) {\n      useBytes = false;\n    }\n    if (divisor === void 0) {\n      divisor = 1;\n    }\n    if (takeBufferOwnership === void 0) {\n      takeBufferOwnership = false;\n    }\n    if (data instanceof Buffer2) {\n      this._buffer = data;\n      this._ownsBuffer = takeBufferOwnership;\n    } else {\n      this._buffer = new Buffer2(engine, data, updatable, stride, postponeInternalCreation, instanced, useBytes);\n      this._ownsBuffer = true;\n    }\n    this.uniqueId = VertexBuffer2._Counter++;\n    this._kind = kind;\n    if (type == void 0) {\n      var data_1 = this.getData();\n      this.type = VertexBuffer2.FLOAT;\n      if (data_1 instanceof Int8Array) {\n        this.type = VertexBuffer2.BYTE;\n      } else if (data_1 instanceof Uint8Array) {\n        this.type = VertexBuffer2.UNSIGNED_BYTE;\n      } else if (data_1 instanceof Int16Array) {\n        this.type = VertexBuffer2.SHORT;\n      } else if (data_1 instanceof Uint16Array) {\n        this.type = VertexBuffer2.UNSIGNED_SHORT;\n      } else if (data_1 instanceof Int32Array) {\n        this.type = VertexBuffer2.INT;\n      } else if (data_1 instanceof Uint32Array) {\n        this.type = VertexBuffer2.UNSIGNED_INT;\n      }\n    } else {\n      this.type = type;\n    }\n    var typeByteLength = VertexBuffer2.GetTypeByteLength(this.type);\n    if (useBytes) {\n      this._size = size || (stride ? stride / typeByteLength : VertexBuffer2.DeduceStride(kind));\n      this.byteStride = stride || this._buffer.byteStride || this._size * typeByteLength;\n      this.byteOffset = offset || 0;\n    } else {\n      this._size = size || stride || VertexBuffer2.DeduceStride(kind);\n      this.byteStride = stride ? stride * typeByteLength : this._buffer.byteStride || this._size * typeByteLength;\n      this.byteOffset = (offset || 0) * typeByteLength;\n    }\n    this.normalized = normalized;\n    this._instanced = instanced !== void 0 ? instanced : false;\n    this._instanceDivisor = instanced ? divisor : 0;\n    this._computeHashCode();\n  }\n  Object.defineProperty(VertexBuffer2.prototype, \"instanceDivisor\", {\n    get: function() {\n      return this._instanceDivisor;\n    },\n    set: function(value) {\n      this._instanceDivisor = value;\n      if (value == 0) {\n        this._instanced = false;\n      } else {\n        this._instanced = true;\n      }\n      this._computeHashCode();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  VertexBuffer2.prototype._computeHashCode = function() {\n    this.hashCode = (this.type - 5120 << 0) + ((this.normalized ? 1 : 0) << 3) + (this._size << 4) + ((this._instanced ? 1 : 0) << 6) + (this.byteStride << 12);\n  };\n  VertexBuffer2.prototype._rebuild = function() {\n    if (!this._buffer) {\n      return;\n    }\n    this._buffer._rebuild();\n  };\n  VertexBuffer2.prototype.getKind = function() {\n    return this._kind;\n  };\n  VertexBuffer2.prototype.isUpdatable = function() {\n    return this._buffer.isUpdatable();\n  };\n  VertexBuffer2.prototype.getData = function() {\n    return this._buffer.getData();\n  };\n  VertexBuffer2.prototype.getFloatData = function(totalVertices, forceCopy) {\n    var data = this.getData();\n    if (!data) {\n      return null;\n    }\n    var tightlyPackedByteStride = this.getSize() * VertexBuffer2.GetTypeByteLength(this.type);\n    var count = totalVertices * this.getSize();\n    if (this.type !== VertexBuffer2.FLOAT || this.byteStride !== tightlyPackedByteStride) {\n      var copy_1 = new Float32Array(count);\n      this.forEach(count, function(value, index) {\n        return copy_1[index] = value;\n      });\n      return copy_1;\n    }\n    if (!(data instanceof Array || data instanceof Float32Array) || this.byteOffset !== 0 || data.length !== count) {\n      if (data instanceof Array) {\n        var offset = this.byteOffset / 4;\n        return data.slice(offset, offset + count);\n      } else if (data instanceof ArrayBuffer) {\n        return new Float32Array(data, this.byteOffset, count);\n      } else {\n        var offset = data.byteOffset + this.byteOffset;\n        if (forceCopy) {\n          var result = new Float32Array(count);\n          var source = new Float32Array(data.buffer, offset, count);\n          result.set(source);\n          return result;\n        }\n        var remainder = offset % 4;\n        if (remainder) {\n          offset = Math.max(0, offset - remainder);\n        }\n        return new Float32Array(data.buffer, offset, count);\n      }\n    }\n    if (forceCopy) {\n      return data.slice();\n    }\n    return data;\n  };\n  VertexBuffer2.prototype.getBuffer = function() {\n    return this._buffer.getBuffer();\n  };\n  VertexBuffer2.prototype.getStrideSize = function() {\n    return this.byteStride / VertexBuffer2.GetTypeByteLength(this.type);\n  };\n  VertexBuffer2.prototype.getOffset = function() {\n    return this.byteOffset / VertexBuffer2.GetTypeByteLength(this.type);\n  };\n  VertexBuffer2.prototype.getSize = function(sizeInBytes) {\n    if (sizeInBytes === void 0) {\n      sizeInBytes = false;\n    }\n    return sizeInBytes ? this._size * VertexBuffer2.GetTypeByteLength(this.type) : this._size;\n  };\n  VertexBuffer2.prototype.getIsInstanced = function() {\n    return this._instanced;\n  };\n  VertexBuffer2.prototype.getInstanceDivisor = function() {\n    return this._instanceDivisor;\n  };\n  VertexBuffer2.prototype.create = function(data) {\n    this._buffer.create(data);\n  };\n  VertexBuffer2.prototype.update = function(data) {\n    this._buffer.update(data);\n  };\n  VertexBuffer2.prototype.updateDirectly = function(data, offset, useBytes) {\n    if (useBytes === void 0) {\n      useBytes = false;\n    }\n    this._buffer.updateDirectly(data, offset, void 0, useBytes);\n  };\n  VertexBuffer2.prototype.dispose = function() {\n    if (this._ownsBuffer) {\n      this._buffer.dispose();\n    }\n  };\n  VertexBuffer2.prototype.forEach = function(count, callback) {\n    VertexBuffer2.ForEach(this._buffer.getData(), this.byteOffset, this.byteStride, this._size, this.type, count, this.normalized, callback);\n  };\n  VertexBuffer2.DeduceStride = function(kind) {\n    switch (kind) {\n      case VertexBuffer2.UVKind:\n      case VertexBuffer2.UV2Kind:\n      case VertexBuffer2.UV3Kind:\n      case VertexBuffer2.UV4Kind:\n      case VertexBuffer2.UV5Kind:\n      case VertexBuffer2.UV6Kind:\n        return 2;\n      case VertexBuffer2.NormalKind:\n      case VertexBuffer2.PositionKind:\n        return 3;\n      case VertexBuffer2.ColorKind:\n      case VertexBuffer2.MatricesIndicesKind:\n      case VertexBuffer2.MatricesIndicesExtraKind:\n      case VertexBuffer2.MatricesWeightsKind:\n      case VertexBuffer2.MatricesWeightsExtraKind:\n      case VertexBuffer2.TangentKind:\n        return 4;\n      default:\n        throw new Error(\"Invalid kind '\" + kind + \"'\");\n    }\n  };\n  VertexBuffer2.GetTypeByteLength = function(type) {\n    switch (type) {\n      case VertexBuffer2.BYTE:\n      case VertexBuffer2.UNSIGNED_BYTE:\n        return 1;\n      case VertexBuffer2.SHORT:\n      case VertexBuffer2.UNSIGNED_SHORT:\n        return 2;\n      case VertexBuffer2.INT:\n      case VertexBuffer2.UNSIGNED_INT:\n      case VertexBuffer2.FLOAT:\n        return 4;\n      default:\n        throw new Error(\"Invalid type '\".concat(type, \"'\"));\n    }\n  };\n  VertexBuffer2.ForEach = function(data, byteOffset, byteStride, componentCount, componentType, count, normalized, callback) {\n    if (data instanceof Array) {\n      var offset = byteOffset / 4;\n      var stride = byteStride / 4;\n      for (var index = 0; index < count; index += componentCount) {\n        for (var componentIndex = 0; componentIndex < componentCount; componentIndex++) {\n          callback(data[offset + componentIndex], index + componentIndex);\n        }\n        offset += stride;\n      }\n    } else {\n      var dataView = data instanceof ArrayBuffer ? new DataView(data) : new DataView(data.buffer, data.byteOffset, data.byteLength);\n      var componentByteLength = VertexBuffer2.GetTypeByteLength(componentType);\n      for (var index = 0; index < count; index += componentCount) {\n        var componentByteOffset = byteOffset;\n        for (var componentIndex = 0; componentIndex < componentCount; componentIndex++) {\n          var value = VertexBuffer2._GetFloatValue(dataView, componentType, componentByteOffset, normalized);\n          callback(value, index + componentIndex);\n          componentByteOffset += componentByteLength;\n        }\n        byteOffset += byteStride;\n      }\n    }\n  };\n  VertexBuffer2._GetFloatValue = function(dataView, type, byteOffset, normalized) {\n    switch (type) {\n      case VertexBuffer2.BYTE: {\n        var value = dataView.getInt8(byteOffset);\n        if (normalized) {\n          value = Math.max(value / 127, -1);\n        }\n        return value;\n      }\n      case VertexBuffer2.UNSIGNED_BYTE: {\n        var value = dataView.getUint8(byteOffset);\n        if (normalized) {\n          value = value / 255;\n        }\n        return value;\n      }\n      case VertexBuffer2.SHORT: {\n        var value = dataView.getInt16(byteOffset, true);\n        if (normalized) {\n          value = Math.max(value / 32767, -1);\n        }\n        return value;\n      }\n      case VertexBuffer2.UNSIGNED_SHORT: {\n        var value = dataView.getUint16(byteOffset, true);\n        if (normalized) {\n          value = value / 65535;\n        }\n        return value;\n      }\n      case VertexBuffer2.INT: {\n        return dataView.getInt32(byteOffset, true);\n      }\n      case VertexBuffer2.UNSIGNED_INT: {\n        return dataView.getUint32(byteOffset, true);\n      }\n      case VertexBuffer2.FLOAT: {\n        return dataView.getFloat32(byteOffset, true);\n      }\n      default: {\n        throw new Error(\"Invalid component type \".concat(type));\n      }\n    }\n  };\n  VertexBuffer2._Counter = 0;\n  VertexBuffer2.BYTE = 5120;\n  VertexBuffer2.UNSIGNED_BYTE = 5121;\n  VertexBuffer2.SHORT = 5122;\n  VertexBuffer2.UNSIGNED_SHORT = 5123;\n  VertexBuffer2.INT = 5124;\n  VertexBuffer2.UNSIGNED_INT = 5125;\n  VertexBuffer2.FLOAT = 5126;\n  VertexBuffer2.PositionKind = \"position\";\n  VertexBuffer2.NormalKind = \"normal\";\n  VertexBuffer2.TangentKind = \"tangent\";\n  VertexBuffer2.UVKind = \"uv\";\n  VertexBuffer2.UV2Kind = \"uv2\";\n  VertexBuffer2.UV3Kind = \"uv3\";\n  VertexBuffer2.UV4Kind = \"uv4\";\n  VertexBuffer2.UV5Kind = \"uv5\";\n  VertexBuffer2.UV6Kind = \"uv6\";\n  VertexBuffer2.ColorKind = \"color\";\n  VertexBuffer2.ColorInstanceKind = \"instanceColor\";\n  VertexBuffer2.MatricesIndicesKind = \"matricesIndices\";\n  VertexBuffer2.MatricesWeightsKind = \"matricesWeights\";\n  VertexBuffer2.MatricesIndicesExtraKind = \"matricesIndicesExtra\";\n  VertexBuffer2.MatricesWeightsExtraKind = \"matricesWeightsExtra\";\n  return VertexBuffer2;\n}();\nvar PickingInfo = function() {\n  function PickingInfo2() {\n    this._pickingUnavailable = false;\n    this.hit = false;\n    this.distance = 0;\n    this.pickedPoint = null;\n    this.pickedMesh = null;\n    this.bu = 0;\n    this.bv = 0;\n    this.faceId = -1;\n    this.subMeshFaceId = -1;\n    this.subMeshId = 0;\n    this.pickedSprite = null;\n    this.thinInstanceIndex = -1;\n    this.ray = null;\n    this.originMesh = null;\n    this.aimTransform = null;\n    this.gripTransform = null;\n  }\n  PickingInfo2.prototype.getNormal = function(useWorldCoordinates, useVerticesNormals) {\n    if (useWorldCoordinates === void 0) {\n      useWorldCoordinates = false;\n    }\n    if (useVerticesNormals === void 0) {\n      useVerticesNormals = true;\n    }\n    if (!this.pickedMesh || !this.pickedMesh.isVerticesDataPresent(VertexBuffer.NormalKind)) {\n      return null;\n    }\n    var indices = this.pickedMesh.getIndices();\n    if (!indices) {\n      return null;\n    }\n    var result;\n    if (useVerticesNormals) {\n      var normals = this.pickedMesh.getVerticesData(VertexBuffer.NormalKind);\n      var normal0 = Vector3.FromArray(normals, indices[this.faceId * 3] * 3);\n      var normal1 = Vector3.FromArray(normals, indices[this.faceId * 3 + 1] * 3);\n      var normal2 = Vector3.FromArray(normals, indices[this.faceId * 3 + 2] * 3);\n      normal0 = normal0.scale(this.bu);\n      normal1 = normal1.scale(this.bv);\n      normal2 = normal2.scale(1 - this.bu - this.bv);\n      result = new Vector3(normal0.x + normal1.x + normal2.x, normal0.y + normal1.y + normal2.y, normal0.z + normal1.z + normal2.z);\n    } else {\n      var positions = this.pickedMesh.getVerticesData(VertexBuffer.PositionKind);\n      var vertex1 = Vector3.FromArray(positions, indices[this.faceId * 3] * 3);\n      var vertex2 = Vector3.FromArray(positions, indices[this.faceId * 3 + 1] * 3);\n      var vertex3 = Vector3.FromArray(positions, indices[this.faceId * 3 + 2] * 3);\n      var p1p2 = vertex1.subtract(vertex2);\n      var p3p2 = vertex3.subtract(vertex2);\n      result = Vector3.Cross(p1p2, p3p2);\n    }\n    if (useWorldCoordinates) {\n      var wm = this.pickedMesh.getWorldMatrix();\n      if (this.pickedMesh.nonUniformScaling) {\n        TmpVectors.Matrix[0].copyFrom(wm);\n        wm = TmpVectors.Matrix[0];\n        wm.setTranslationFromFloats(0, 0, 0);\n        wm.invert();\n        wm.transposeToRef(TmpVectors.Matrix[1]);\n        wm = TmpVectors.Matrix[1];\n      }\n      result = Vector3.TransformNormal(result, wm);\n    }\n    result.normalize();\n    return result;\n  };\n  PickingInfo2.prototype.getTextureCoordinates = function() {\n    if (!this.pickedMesh || !this.pickedMesh.isVerticesDataPresent(VertexBuffer.UVKind)) {\n      return null;\n    }\n    var indices = this.pickedMesh.getIndices();\n    if (!indices) {\n      return null;\n    }\n    var uvs = this.pickedMesh.getVerticesData(VertexBuffer.UVKind);\n    if (!uvs) {\n      return null;\n    }\n    var uv0 = Vector2.FromArray(uvs, indices[this.faceId * 3] * 2);\n    var uv1 = Vector2.FromArray(uvs, indices[this.faceId * 3 + 1] * 2);\n    var uv2 = Vector2.FromArray(uvs, indices[this.faceId * 3 + 2] * 2);\n    uv0 = uv0.scale(this.bu);\n    uv1 = uv1.scale(this.bv);\n    uv2 = uv2.scale(1 - this.bu - this.bv);\n    return new Vector2(uv0.x + uv1.x + uv2.x, uv0.y + uv1.y + uv2.y);\n  };\n  return PickingInfo2;\n}();\nvar ActionEvent = function() {\n  function ActionEvent2(source, pointerX, pointerY, meshUnderPointer, sourceEvent, additionalData) {\n    this.source = source;\n    this.pointerX = pointerX;\n    this.pointerY = pointerY;\n    this.meshUnderPointer = meshUnderPointer;\n    this.sourceEvent = sourceEvent;\n    this.additionalData = additionalData;\n  }\n  ActionEvent2.CreateNew = function(source, evt, additionalData) {\n    var scene = source.getScene();\n    return new ActionEvent2(source, scene.pointerX, scene.pointerY, scene.meshUnderPointer || source, evt, additionalData);\n  };\n  ActionEvent2.CreateNewFromSprite = function(source, scene, evt, additionalData) {\n    return new ActionEvent2(source, scene.pointerX, scene.pointerY, scene.meshUnderPointer, evt, additionalData);\n  };\n  ActionEvent2.CreateNewFromScene = function(scene, evt) {\n    return new ActionEvent2(null, scene.pointerX, scene.pointerY, scene.meshUnderPointer, evt);\n  };\n  ActionEvent2.CreateNewFromPrimitive = function(prim, pointerPos, evt, additionalData) {\n    return new ActionEvent2(prim, pointerPos.x, pointerPos.y, null, evt, additionalData);\n  };\n  return ActionEvent2;\n}();\nvar PostProcessManager = function() {\n  function PostProcessManager2(scene) {\n    this._vertexBuffers = {};\n    this._scene = scene;\n  }\n  PostProcessManager2.prototype._prepareBuffers = function() {\n    if (this._vertexBuffers[VertexBuffer.PositionKind]) {\n      return;\n    }\n    var vertices = [];\n    vertices.push(1, 1);\n    vertices.push(-1, 1);\n    vertices.push(-1, -1);\n    vertices.push(1, -1);\n    this._vertexBuffers[VertexBuffer.PositionKind] = new VertexBuffer(this._scene.getEngine(), vertices, VertexBuffer.PositionKind, false, false, 2);\n    this._buildIndexBuffer();\n  };\n  PostProcessManager2.prototype._buildIndexBuffer = function() {\n    var indices = [];\n    indices.push(0);\n    indices.push(1);\n    indices.push(2);\n    indices.push(0);\n    indices.push(2);\n    indices.push(3);\n    this._indexBuffer = this._scene.getEngine().createIndexBuffer(indices);\n  };\n  PostProcessManager2.prototype._rebuild = function() {\n    var vb = this._vertexBuffers[VertexBuffer.PositionKind];\n    if (!vb) {\n      return;\n    }\n    vb._rebuild();\n    this._buildIndexBuffer();\n  };\n  PostProcessManager2.prototype._prepareFrame = function(sourceTexture, postProcesses) {\n    if (sourceTexture === void 0) {\n      sourceTexture = null;\n    }\n    if (postProcesses === void 0) {\n      postProcesses = null;\n    }\n    var camera = this._scene.activeCamera;\n    if (!camera) {\n      return false;\n    }\n    postProcesses = postProcesses || camera._postProcesses.filter(function(pp) {\n      return pp != null;\n    });\n    if (!postProcesses || postProcesses.length === 0 || !this._scene.postProcessesEnabled) {\n      return false;\n    }\n    postProcesses[0].activate(camera, sourceTexture, postProcesses !== null && postProcesses !== void 0);\n    return true;\n  };\n  PostProcessManager2.prototype.directRender = function(postProcesses, targetTexture, forceFullscreenViewport, faceIndex, lodLevel, doNotBindFrambuffer) {\n    var _a;\n    if (targetTexture === void 0) {\n      targetTexture = null;\n    }\n    if (forceFullscreenViewport === void 0) {\n      forceFullscreenViewport = false;\n    }\n    if (faceIndex === void 0) {\n      faceIndex = 0;\n    }\n    if (lodLevel === void 0) {\n      lodLevel = 0;\n    }\n    if (doNotBindFrambuffer === void 0) {\n      doNotBindFrambuffer = false;\n    }\n    var engine = this._scene.getEngine();\n    for (var index = 0; index < postProcesses.length; index++) {\n      if (index < postProcesses.length - 1) {\n        postProcesses[index + 1].activate(this._scene.activeCamera, targetTexture === null || targetTexture === void 0 ? void 0 : targetTexture.texture);\n      } else {\n        if (targetTexture) {\n          engine.bindFramebuffer(targetTexture, faceIndex, void 0, void 0, forceFullscreenViewport, lodLevel);\n        } else if (!doNotBindFrambuffer) {\n          engine.restoreDefaultFramebuffer();\n        }\n        (_a = engine._debugInsertMarker) === null || _a === void 0 ? void 0 : _a.call(engine, \"post process \".concat(postProcesses[index].name, \" output\"));\n      }\n      var pp = postProcesses[index];\n      var effect = pp.apply();\n      if (effect) {\n        pp.onBeforeRenderObservable.notifyObservers(effect);\n        this._prepareBuffers();\n        engine.bindBuffers(this._vertexBuffers, this._indexBuffer, effect);\n        engine.drawElementsType(0, 0, 6);\n        pp.onAfterRenderObservable.notifyObservers(effect);\n      }\n    }\n    engine.setDepthBuffer(true);\n    engine.setDepthWrite(true);\n  };\n  PostProcessManager2.prototype._finalizeFrame = function(doNotPresent, targetTexture, faceIndex, postProcesses, forceFullscreenViewport) {\n    var _a;\n    if (forceFullscreenViewport === void 0) {\n      forceFullscreenViewport = false;\n    }\n    var camera = this._scene.activeCamera;\n    if (!camera) {\n      return;\n    }\n    postProcesses = postProcesses || camera._postProcesses.filter(function(pp2) {\n      return pp2 != null;\n    });\n    if (postProcesses.length === 0 || !this._scene.postProcessesEnabled) {\n      return;\n    }\n    var engine = this._scene.getEngine();\n    for (var index = 0, len = postProcesses.length; index < len; index++) {\n      var pp = postProcesses[index];\n      if (index < len - 1) {\n        pp._outputTexture = postProcesses[index + 1].activate(camera, targetTexture === null || targetTexture === void 0 ? void 0 : targetTexture.texture);\n      } else {\n        if (targetTexture) {\n          engine.bindFramebuffer(targetTexture, faceIndex, void 0, void 0, forceFullscreenViewport);\n          pp._outputTexture = targetTexture;\n        } else {\n          engine.restoreDefaultFramebuffer();\n          pp._outputTexture = null;\n        }\n        (_a = engine._debugInsertMarker) === null || _a === void 0 ? void 0 : _a.call(engine, \"post process \".concat(postProcesses[index].name, \" output\"));\n      }\n      if (doNotPresent) {\n        break;\n      }\n      var effect = pp.apply();\n      if (effect) {\n        pp.onBeforeRenderObservable.notifyObservers(effect);\n        this._prepareBuffers();\n        engine.bindBuffers(this._vertexBuffers, this._indexBuffer, effect);\n        engine.drawElementsType(0, 0, 6);\n        pp.onAfterRenderObservable.notifyObservers(effect);\n      }\n    }\n    engine.setDepthBuffer(true);\n    engine.setDepthWrite(true);\n    engine.setAlphaMode(0);\n  };\n  PostProcessManager2.prototype.dispose = function() {\n    var buffer = this._vertexBuffers[VertexBuffer.PositionKind];\n    if (buffer) {\n      buffer.dispose();\n      this._vertexBuffers[VertexBuffer.PositionKind] = null;\n    }\n    if (this._indexBuffer) {\n      this._scene.getEngine()._releaseBuffer(this._indexBuffer);\n      this._indexBuffer = null;\n    }\n  };\n  return PostProcessManager2;\n}();\nvar RenderingGroup = function() {\n  function RenderingGroup2(index, scene, opaqueSortCompareFn, alphaTestSortCompareFn, transparentSortCompareFn) {\n    if (opaqueSortCompareFn === void 0) {\n      opaqueSortCompareFn = null;\n    }\n    if (alphaTestSortCompareFn === void 0) {\n      alphaTestSortCompareFn = null;\n    }\n    if (transparentSortCompareFn === void 0) {\n      transparentSortCompareFn = null;\n    }\n    this.index = index;\n    this._opaqueSubMeshes = new SmartArray(256);\n    this._transparentSubMeshes = new SmartArray(256);\n    this._alphaTestSubMeshes = new SmartArray(256);\n    this._depthOnlySubMeshes = new SmartArray(256);\n    this._particleSystems = new SmartArray(256);\n    this._spriteManagers = new SmartArray(256);\n    this._empty = true;\n    this._edgesRenderers = new SmartArrayNoDuplicate(16);\n    this._scene = scene;\n    this.opaqueSortCompareFn = opaqueSortCompareFn;\n    this.alphaTestSortCompareFn = alphaTestSortCompareFn;\n    this.transparentSortCompareFn = transparentSortCompareFn;\n  }\n  Object.defineProperty(RenderingGroup2.prototype, \"opaqueSortCompareFn\", {\n    set: function(value) {\n      if (value) {\n        this._opaqueSortCompareFn = value;\n      } else {\n        this._opaqueSortCompareFn = RenderingGroup2.PainterSortCompare;\n      }\n      this._renderOpaque = this._renderOpaqueSorted;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderingGroup2.prototype, \"alphaTestSortCompareFn\", {\n    set: function(value) {\n      if (value) {\n        this._alphaTestSortCompareFn = value;\n      } else {\n        this._alphaTestSortCompareFn = RenderingGroup2.PainterSortCompare;\n      }\n      this._renderAlphaTest = this._renderAlphaTestSorted;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderingGroup2.prototype, \"transparentSortCompareFn\", {\n    set: function(value) {\n      if (value) {\n        this._transparentSortCompareFn = value;\n      } else {\n        this._transparentSortCompareFn = RenderingGroup2.defaultTransparentSortCompare;\n      }\n      this._renderTransparent = this._renderTransparentSorted;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  RenderingGroup2.prototype.render = function(customRenderFunction, renderSprites, renderParticles, activeMeshes) {\n    if (customRenderFunction) {\n      customRenderFunction(this._opaqueSubMeshes, this._alphaTestSubMeshes, this._transparentSubMeshes, this._depthOnlySubMeshes);\n      return;\n    }\n    var engine = this._scene.getEngine();\n    if (this._depthOnlySubMeshes.length !== 0) {\n      engine.setColorWrite(false);\n      this._renderAlphaTest(this._depthOnlySubMeshes);\n      engine.setColorWrite(true);\n    }\n    if (this._opaqueSubMeshes.length !== 0) {\n      this._renderOpaque(this._opaqueSubMeshes);\n    }\n    if (this._alphaTestSubMeshes.length !== 0) {\n      this._renderAlphaTest(this._alphaTestSubMeshes);\n    }\n    var stencilState = engine.getStencilBuffer();\n    engine.setStencilBuffer(false);\n    if (renderSprites) {\n      this._renderSprites();\n    }\n    if (renderParticles) {\n      this._renderParticles(activeMeshes);\n    }\n    if (this.onBeforeTransparentRendering) {\n      this.onBeforeTransparentRendering();\n    }\n    if (this._transparentSubMeshes.length !== 0 || this._scene.useOrderIndependentTransparency) {\n      engine.setStencilBuffer(stencilState);\n      if (this._scene.useOrderIndependentTransparency) {\n        var excludedMeshes = this._scene.depthPeelingRenderer.render(this._transparentSubMeshes);\n        if (excludedMeshes.length) {\n          this._renderTransparent(excludedMeshes);\n        }\n      } else {\n        this._renderTransparent(this._transparentSubMeshes);\n      }\n      engine.setAlphaMode(0);\n    }\n    engine.setStencilBuffer(false);\n    if (this._edgesRenderers.length) {\n      for (var edgesRendererIndex = 0; edgesRendererIndex < this._edgesRenderers.length; edgesRendererIndex++) {\n        this._edgesRenderers.data[edgesRendererIndex].render();\n      }\n      engine.setAlphaMode(0);\n    }\n    engine.setStencilBuffer(stencilState);\n  };\n  RenderingGroup2.prototype._renderOpaqueSorted = function(subMeshes) {\n    return RenderingGroup2._RenderSorted(subMeshes, this._opaqueSortCompareFn, this._scene.activeCamera, false);\n  };\n  RenderingGroup2.prototype._renderAlphaTestSorted = function(subMeshes) {\n    return RenderingGroup2._RenderSorted(subMeshes, this._alphaTestSortCompareFn, this._scene.activeCamera, false);\n  };\n  RenderingGroup2.prototype._renderTransparentSorted = function(subMeshes) {\n    return RenderingGroup2._RenderSorted(subMeshes, this._transparentSortCompareFn, this._scene.activeCamera, true);\n  };\n  RenderingGroup2._RenderSorted = function(subMeshes, sortCompareFn, camera, transparent) {\n    var subIndex = 0;\n    var subMesh;\n    var cameraPosition = camera ? camera.globalPosition : RenderingGroup2._ZeroVector;\n    if (transparent) {\n      for (; subIndex < subMeshes.length; subIndex++) {\n        subMesh = subMeshes.data[subIndex];\n        subMesh._alphaIndex = subMesh.getMesh().alphaIndex;\n        subMesh._distanceToCamera = Vector3.Distance(subMesh.getBoundingInfo().boundingSphere.centerWorld, cameraPosition);\n      }\n    }\n    var sortedArray = subMeshes.length === subMeshes.data.length ? subMeshes.data : subMeshes.data.slice(0, subMeshes.length);\n    if (sortCompareFn) {\n      sortedArray.sort(sortCompareFn);\n    }\n    var scene = sortedArray[0].getMesh().getScene();\n    for (subIndex = 0; subIndex < sortedArray.length; subIndex++) {\n      subMesh = sortedArray[subIndex];\n      if (scene._activeMeshesFrozenButKeepClipping && !subMesh.isInFrustum(scene._frustumPlanes)) {\n        continue;\n      }\n      if (transparent) {\n        var material = subMesh.getMaterial();\n        if (material && material.needDepthPrePass) {\n          var engine = material.getScene().getEngine();\n          engine.setColorWrite(false);\n          engine.setAlphaMode(0);\n          subMesh.render(false);\n          engine.setColorWrite(true);\n        }\n      }\n      subMesh.render(transparent);\n    }\n  };\n  RenderingGroup2.defaultTransparentSortCompare = function(a, b) {\n    if (a._alphaIndex > b._alphaIndex) {\n      return 1;\n    }\n    if (a._alphaIndex < b._alphaIndex) {\n      return -1;\n    }\n    return RenderingGroup2.backToFrontSortCompare(a, b);\n  };\n  RenderingGroup2.backToFrontSortCompare = function(a, b) {\n    if (a._distanceToCamera < b._distanceToCamera) {\n      return 1;\n    }\n    if (a._distanceToCamera > b._distanceToCamera) {\n      return -1;\n    }\n    return 0;\n  };\n  RenderingGroup2.frontToBackSortCompare = function(a, b) {\n    if (a._distanceToCamera < b._distanceToCamera) {\n      return -1;\n    }\n    if (a._distanceToCamera > b._distanceToCamera) {\n      return 1;\n    }\n    return 0;\n  };\n  RenderingGroup2.PainterSortCompare = function(a, b) {\n    var meshA = a.getMesh();\n    var meshB = b.getMesh();\n    if (meshA.material && meshB.material) {\n      return meshA.material.uniqueId - meshB.material.uniqueId;\n    }\n    return meshA.uniqueId - meshB.uniqueId;\n  };\n  RenderingGroup2.prototype.prepare = function() {\n    this._opaqueSubMeshes.reset();\n    this._transparentSubMeshes.reset();\n    this._alphaTestSubMeshes.reset();\n    this._depthOnlySubMeshes.reset();\n    this._particleSystems.reset();\n    this._spriteManagers.reset();\n    this._edgesRenderers.reset();\n    this._empty = true;\n  };\n  RenderingGroup2.prototype.dispose = function() {\n    this._opaqueSubMeshes.dispose();\n    this._transparentSubMeshes.dispose();\n    this._alphaTestSubMeshes.dispose();\n    this._depthOnlySubMeshes.dispose();\n    this._particleSystems.dispose();\n    this._spriteManagers.dispose();\n    this._edgesRenderers.dispose();\n  };\n  RenderingGroup2.prototype.dispatch = function(subMesh, mesh, material) {\n    if (mesh === void 0) {\n      mesh = subMesh.getMesh();\n    }\n    if (material === void 0) {\n      material = subMesh.getMaterial();\n    }\n    if (material === null || material === void 0) {\n      return;\n    }\n    if (material.needAlphaBlendingForMesh(mesh)) {\n      this._transparentSubMeshes.push(subMesh);\n    } else if (material.needAlphaTesting()) {\n      if (material.needDepthPrePass) {\n        this._depthOnlySubMeshes.push(subMesh);\n      }\n      this._alphaTestSubMeshes.push(subMesh);\n    } else {\n      if (material.needDepthPrePass) {\n        this._depthOnlySubMeshes.push(subMesh);\n      }\n      this._opaqueSubMeshes.push(subMesh);\n    }\n    mesh._renderingGroup = this;\n    if (mesh._edgesRenderer && mesh._edgesRenderer.isEnabled) {\n      this._edgesRenderers.pushNoDuplicate(mesh._edgesRenderer);\n    }\n    this._empty = false;\n  };\n  RenderingGroup2.prototype.dispatchSprites = function(spriteManager) {\n    this._spriteManagers.push(spriteManager);\n    this._empty = false;\n  };\n  RenderingGroup2.prototype.dispatchParticles = function(particleSystem) {\n    this._particleSystems.push(particleSystem);\n    this._empty = false;\n  };\n  RenderingGroup2.prototype._renderParticles = function(activeMeshes) {\n    if (this._particleSystems.length === 0) {\n      return;\n    }\n    var activeCamera = this._scene.activeCamera;\n    this._scene.onBeforeParticlesRenderingObservable.notifyObservers(this._scene);\n    for (var particleIndex = 0; particleIndex < this._particleSystems.length; particleIndex++) {\n      var particleSystem = this._particleSystems.data[particleIndex];\n      if ((activeCamera && activeCamera.layerMask & particleSystem.layerMask) === 0) {\n        continue;\n      }\n      var emitter = particleSystem.emitter;\n      if (!emitter.position || !activeMeshes || activeMeshes.indexOf(emitter) !== -1) {\n        this._scene._activeParticles.addCount(particleSystem.render(), false);\n      }\n    }\n    this._scene.onAfterParticlesRenderingObservable.notifyObservers(this._scene);\n  };\n  RenderingGroup2.prototype._renderSprites = function() {\n    if (!this._scene.spritesEnabled || this._spriteManagers.length === 0) {\n      return;\n    }\n    var activeCamera = this._scene.activeCamera;\n    this._scene.onBeforeSpritesRenderingObservable.notifyObservers(this._scene);\n    for (var id = 0; id < this._spriteManagers.length; id++) {\n      var spriteManager = this._spriteManagers.data[id];\n      if ((activeCamera && activeCamera.layerMask & spriteManager.layerMask) !== 0) {\n        spriteManager.render();\n      }\n    }\n    this._scene.onAfterSpritesRenderingObservable.notifyObservers(this._scene);\n  };\n  RenderingGroup2._ZeroVector = Vector3.Zero();\n  return RenderingGroup2;\n}();\nvar RenderingGroupInfo = function() {\n  function RenderingGroupInfo2() {\n  }\n  return RenderingGroupInfo2;\n}();\nvar RenderingManager = function() {\n  function RenderingManager2(scene) {\n    this._useSceneAutoClearSetup = false;\n    this._renderingGroups = new Array();\n    this._autoClearDepthStencil = {};\n    this._customOpaqueSortCompareFn = {};\n    this._customAlphaTestSortCompareFn = {};\n    this._customTransparentSortCompareFn = {};\n    this._renderingGroupInfo = new RenderingGroupInfo();\n    this._scene = scene;\n    for (var i = RenderingManager2.MIN_RENDERINGGROUPS; i < RenderingManager2.MAX_RENDERINGGROUPS; i++) {\n      this._autoClearDepthStencil[i] = { autoClear: true, depth: true, stencil: true };\n    }\n  }\n  RenderingManager2.prototype._clearDepthStencilBuffer = function(depth, stencil) {\n    if (depth === void 0) {\n      depth = true;\n    }\n    if (stencil === void 0) {\n      stencil = true;\n    }\n    if (this._depthStencilBufferAlreadyCleaned) {\n      return;\n    }\n    this._scene.getEngine().clear(null, false, depth, stencil);\n    this._depthStencilBufferAlreadyCleaned = true;\n  };\n  RenderingManager2.prototype.render = function(customRenderFunction, activeMeshes, renderParticles, renderSprites) {\n    var info = this._renderingGroupInfo;\n    info.scene = this._scene;\n    info.camera = this._scene.activeCamera;\n    if (this._scene.spriteManagers && renderSprites) {\n      for (var index = 0; index < this._scene.spriteManagers.length; index++) {\n        var manager = this._scene.spriteManagers[index];\n        this.dispatchSprites(manager);\n      }\n    }\n    for (var index = RenderingManager2.MIN_RENDERINGGROUPS; index < RenderingManager2.MAX_RENDERINGGROUPS; index++) {\n      this._depthStencilBufferAlreadyCleaned = index === RenderingManager2.MIN_RENDERINGGROUPS;\n      var renderingGroup = this._renderingGroups[index];\n      if (!renderingGroup || renderingGroup._empty) {\n        continue;\n      }\n      var renderingGroupMask = Math.pow(2, index);\n      info.renderingGroupId = index;\n      this._scene.onBeforeRenderingGroupObservable.notifyObservers(info, renderingGroupMask);\n      if (RenderingManager2.AUTOCLEAR) {\n        var autoClear = this._useSceneAutoClearSetup ? this._scene.getAutoClearDepthStencilSetup(index) : this._autoClearDepthStencil[index];\n        if (autoClear && autoClear.autoClear) {\n          this._clearDepthStencilBuffer(autoClear.depth, autoClear.stencil);\n        }\n      }\n      for (var _i = 0, _a = this._scene._beforeRenderingGroupDrawStage; _i < _a.length; _i++) {\n        var step = _a[_i];\n        step.action(index);\n      }\n      renderingGroup.render(customRenderFunction, renderSprites, renderParticles, activeMeshes);\n      for (var _b = 0, _c = this._scene._afterRenderingGroupDrawStage; _b < _c.length; _b++) {\n        var step = _c[_b];\n        step.action(index);\n      }\n      this._scene.onAfterRenderingGroupObservable.notifyObservers(info, renderingGroupMask);\n    }\n  };\n  RenderingManager2.prototype.reset = function() {\n    for (var index = RenderingManager2.MIN_RENDERINGGROUPS; index < RenderingManager2.MAX_RENDERINGGROUPS; index++) {\n      var renderingGroup = this._renderingGroups[index];\n      if (renderingGroup) {\n        renderingGroup.prepare();\n      }\n    }\n  };\n  RenderingManager2.prototype.dispose = function() {\n    this.freeRenderingGroups();\n    this._renderingGroups.length = 0;\n    this._renderingGroupInfo = null;\n  };\n  RenderingManager2.prototype.freeRenderingGroups = function() {\n    for (var index = RenderingManager2.MIN_RENDERINGGROUPS; index < RenderingManager2.MAX_RENDERINGGROUPS; index++) {\n      var renderingGroup = this._renderingGroups[index];\n      if (renderingGroup) {\n        renderingGroup.dispose();\n      }\n    }\n  };\n  RenderingManager2.prototype._prepareRenderingGroup = function(renderingGroupId) {\n    if (this._renderingGroups[renderingGroupId] === void 0) {\n      this._renderingGroups[renderingGroupId] = new RenderingGroup(renderingGroupId, this._scene, this._customOpaqueSortCompareFn[renderingGroupId], this._customAlphaTestSortCompareFn[renderingGroupId], this._customTransparentSortCompareFn[renderingGroupId]);\n    }\n  };\n  RenderingManager2.prototype.dispatchSprites = function(spriteManager) {\n    var renderingGroupId = spriteManager.renderingGroupId || 0;\n    this._prepareRenderingGroup(renderingGroupId);\n    this._renderingGroups[renderingGroupId].dispatchSprites(spriteManager);\n  };\n  RenderingManager2.prototype.dispatchParticles = function(particleSystem) {\n    var renderingGroupId = particleSystem.renderingGroupId || 0;\n    this._prepareRenderingGroup(renderingGroupId);\n    this._renderingGroups[renderingGroupId].dispatchParticles(particleSystem);\n  };\n  RenderingManager2.prototype.dispatch = function(subMesh, mesh, material) {\n    if (mesh === void 0) {\n      mesh = subMesh.getMesh();\n    }\n    var renderingGroupId = mesh.renderingGroupId || 0;\n    this._prepareRenderingGroup(renderingGroupId);\n    this._renderingGroups[renderingGroupId].dispatch(subMesh, mesh, material);\n  };\n  RenderingManager2.prototype.setRenderingOrder = function(renderingGroupId, opaqueSortCompareFn, alphaTestSortCompareFn, transparentSortCompareFn) {\n    if (opaqueSortCompareFn === void 0) {\n      opaqueSortCompareFn = null;\n    }\n    if (alphaTestSortCompareFn === void 0) {\n      alphaTestSortCompareFn = null;\n    }\n    if (transparentSortCompareFn === void 0) {\n      transparentSortCompareFn = null;\n    }\n    this._customOpaqueSortCompareFn[renderingGroupId] = opaqueSortCompareFn;\n    this._customAlphaTestSortCompareFn[renderingGroupId] = alphaTestSortCompareFn;\n    this._customTransparentSortCompareFn[renderingGroupId] = transparentSortCompareFn;\n    if (this._renderingGroups[renderingGroupId]) {\n      var group = this._renderingGroups[renderingGroupId];\n      group.opaqueSortCompareFn = this._customOpaqueSortCompareFn[renderingGroupId];\n      group.alphaTestSortCompareFn = this._customAlphaTestSortCompareFn[renderingGroupId];\n      group.transparentSortCompareFn = this._customTransparentSortCompareFn[renderingGroupId];\n    }\n  };\n  RenderingManager2.prototype.setRenderingAutoClearDepthStencil = function(renderingGroupId, autoClearDepthStencil, depth, stencil) {\n    if (depth === void 0) {\n      depth = true;\n    }\n    if (stencil === void 0) {\n      stencil = true;\n    }\n    this._autoClearDepthStencil[renderingGroupId] = {\n      autoClear: autoClearDepthStencil,\n      depth,\n      stencil\n    };\n  };\n  RenderingManager2.prototype.getAutoClearDepthStencilSetup = function(index) {\n    return this._autoClearDepthStencil[index];\n  };\n  RenderingManager2.MAX_RENDERINGGROUPS = 4;\n  RenderingManager2.MIN_RENDERINGGROUPS = 0;\n  RenderingManager2.AUTOCLEAR = true;\n  return RenderingManager2;\n}();\nvar SceneComponentConstants = function() {\n  function SceneComponentConstants2() {\n  }\n  SceneComponentConstants2.NAME_EFFECTLAYER = \"EffectLayer\";\n  SceneComponentConstants2.NAME_LAYER = \"Layer\";\n  SceneComponentConstants2.NAME_LENSFLARESYSTEM = \"LensFlareSystem\";\n  SceneComponentConstants2.NAME_BOUNDINGBOXRENDERER = \"BoundingBoxRenderer\";\n  SceneComponentConstants2.NAME_PARTICLESYSTEM = \"ParticleSystem\";\n  SceneComponentConstants2.NAME_GAMEPAD = \"Gamepad\";\n  SceneComponentConstants2.NAME_SIMPLIFICATIONQUEUE = \"SimplificationQueue\";\n  SceneComponentConstants2.NAME_GEOMETRYBUFFERRENDERER = \"GeometryBufferRenderer\";\n  SceneComponentConstants2.NAME_PREPASSRENDERER = \"PrePassRenderer\";\n  SceneComponentConstants2.NAME_DEPTHRENDERER = \"DepthRenderer\";\n  SceneComponentConstants2.NAME_DEPTHPEELINGRENDERER = \"DepthPeelingRenderer\";\n  SceneComponentConstants2.NAME_POSTPROCESSRENDERPIPELINEMANAGER = \"PostProcessRenderPipelineManager\";\n  SceneComponentConstants2.NAME_SPRITE = \"Sprite\";\n  SceneComponentConstants2.NAME_SUBSURFACE = \"SubSurface\";\n  SceneComponentConstants2.NAME_OUTLINERENDERER = \"Outline\";\n  SceneComponentConstants2.NAME_PROCEDURALTEXTURE = \"ProceduralTexture\";\n  SceneComponentConstants2.NAME_SHADOWGENERATOR = \"ShadowGenerator\";\n  SceneComponentConstants2.NAME_OCTREE = \"Octree\";\n  SceneComponentConstants2.NAME_PHYSICSENGINE = \"PhysicsEngine\";\n  SceneComponentConstants2.NAME_AUDIO = \"Audio\";\n  SceneComponentConstants2.STEP_ISREADYFORMESH_EFFECTLAYER = 0;\n  SceneComponentConstants2.STEP_BEFOREEVALUATEACTIVEMESH_BOUNDINGBOXRENDERER = 0;\n  SceneComponentConstants2.STEP_EVALUATESUBMESH_BOUNDINGBOXRENDERER = 0;\n  SceneComponentConstants2.STEP_PREACTIVEMESH_BOUNDINGBOXRENDERER = 0;\n  SceneComponentConstants2.STEP_CAMERADRAWRENDERTARGET_EFFECTLAYER = 1;\n  SceneComponentConstants2.STEP_BEFORECAMERADRAW_PREPASS = 0;\n  SceneComponentConstants2.STEP_BEFORECAMERADRAW_EFFECTLAYER = 1;\n  SceneComponentConstants2.STEP_BEFORECAMERADRAW_LAYER = 2;\n  SceneComponentConstants2.STEP_BEFORERENDERTARGETDRAW_PREPASS = 0;\n  SceneComponentConstants2.STEP_BEFORERENDERTARGETDRAW_LAYER = 1;\n  SceneComponentConstants2.STEP_BEFORERENDERINGMESH_PREPASS = 0;\n  SceneComponentConstants2.STEP_BEFORERENDERINGMESH_OUTLINE = 1;\n  SceneComponentConstants2.STEP_AFTERRENDERINGMESH_PREPASS = 0;\n  SceneComponentConstants2.STEP_AFTERRENDERINGMESH_OUTLINE = 1;\n  SceneComponentConstants2.STEP_AFTERRENDERINGGROUPDRAW_EFFECTLAYER_DRAW = 0;\n  SceneComponentConstants2.STEP_AFTERRENDERINGGROUPDRAW_BOUNDINGBOXRENDERER = 1;\n  SceneComponentConstants2.STEP_BEFORECAMERAUPDATE_SIMPLIFICATIONQUEUE = 0;\n  SceneComponentConstants2.STEP_BEFORECAMERAUPDATE_GAMEPAD = 1;\n  SceneComponentConstants2.STEP_BEFORECLEAR_PROCEDURALTEXTURE = 0;\n  SceneComponentConstants2.STEP_AFTERRENDERTARGETDRAW_PREPASS = 0;\n  SceneComponentConstants2.STEP_AFTERRENDERTARGETDRAW_LAYER = 1;\n  SceneComponentConstants2.STEP_AFTERCAMERADRAW_PREPASS = 0;\n  SceneComponentConstants2.STEP_AFTERCAMERADRAW_EFFECTLAYER = 1;\n  SceneComponentConstants2.STEP_AFTERCAMERADRAW_LENSFLARESYSTEM = 2;\n  SceneComponentConstants2.STEP_AFTERCAMERADRAW_EFFECTLAYER_DRAW = 3;\n  SceneComponentConstants2.STEP_AFTERCAMERADRAW_LAYER = 4;\n  SceneComponentConstants2.STEP_AFTERRENDER_AUDIO = 0;\n  SceneComponentConstants2.STEP_GATHERRENDERTARGETS_DEPTHRENDERER = 0;\n  SceneComponentConstants2.STEP_GATHERRENDERTARGETS_GEOMETRYBUFFERRENDERER = 1;\n  SceneComponentConstants2.STEP_GATHERRENDERTARGETS_SHADOWGENERATOR = 2;\n  SceneComponentConstants2.STEP_GATHERRENDERTARGETS_POSTPROCESSRENDERPIPELINEMANAGER = 3;\n  SceneComponentConstants2.STEP_GATHERACTIVECAMERARENDERTARGETS_DEPTHRENDERER = 0;\n  SceneComponentConstants2.STEP_BEFORECLEARSTAGE_PREPASS = 0;\n  SceneComponentConstants2.STEP_BEFORERENDERTARGETCLEARSTAGE_PREPASS = 0;\n  SceneComponentConstants2.STEP_POINTERMOVE_SPRITE = 0;\n  SceneComponentConstants2.STEP_POINTERDOWN_SPRITE = 0;\n  SceneComponentConstants2.STEP_POINTERUP_SPRITE = 0;\n  return SceneComponentConstants2;\n}();\nvar Stage = function(_super) {\n  __extends(Stage2, _super);\n  function Stage2(items) {\n    return _super.apply(this, items) || this;\n  }\n  Stage2.Create = function() {\n    return Object.create(Stage2.prototype);\n  };\n  Stage2.prototype.registerStep = function(index, component, action) {\n    var i = 0;\n    var maxIndex = Number.MAX_VALUE;\n    for (; i < this.length; i++) {\n      var step = this[i];\n      maxIndex = step.index;\n      if (index < maxIndex) {\n        break;\n      }\n    }\n    this.splice(i, 0, { index, component, action: action.bind(component) });\n  };\n  Stage2.prototype.clear = function() {\n    this.length = 0;\n  };\n  return Stage2;\n}(Array);\nvar PointerEventTypes = function() {\n  function PointerEventTypes2() {\n  }\n  PointerEventTypes2.POINTERDOWN = 1;\n  PointerEventTypes2.POINTERUP = 2;\n  PointerEventTypes2.POINTERMOVE = 4;\n  PointerEventTypes2.POINTERWHEEL = 8;\n  PointerEventTypes2.POINTERPICK = 16;\n  PointerEventTypes2.POINTERTAP = 32;\n  PointerEventTypes2.POINTERDOUBLETAP = 64;\n  return PointerEventTypes2;\n}();\nvar PointerInfoBase = function() {\n  function PointerInfoBase2(type, event) {\n    this.type = type;\n    this.event = event;\n  }\n  return PointerInfoBase2;\n}();\nvar PointerInfoPre = function(_super) {\n  __extends(PointerInfoPre2, _super);\n  function PointerInfoPre2(type, event, localX, localY) {\n    var _this = _super.call(this, type, event) || this;\n    _this.ray = null;\n    _this.skipOnPointerObservable = false;\n    _this.localPosition = new Vector2(localX, localY);\n    return _this;\n  }\n  return PointerInfoPre2;\n}(PointerInfoBase);\nvar PointerInfo = function(_super) {\n  __extends(PointerInfo2, _super);\n  function PointerInfo2(type, event, pickInfo) {\n    var _this = _super.call(this, type, event) || this;\n    _this.pickInfo = pickInfo;\n    return _this;\n  }\n  return PointerInfo2;\n}(PointerInfoBase);\nvar AbstractActionManager = function() {\n  function AbstractActionManager2() {\n    this.hoverCursor = \"\";\n    this.actions = new Array();\n    this.isRecursive = false;\n  }\n  Object.defineProperty(AbstractActionManager2, \"HasTriggers\", {\n    get: function() {\n      for (var t in AbstractActionManager2.Triggers) {\n        if (Object.prototype.hasOwnProperty.call(AbstractActionManager2.Triggers, t)) {\n          return true;\n        }\n      }\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractActionManager2, \"HasPickTriggers\", {\n    get: function() {\n      for (var t in AbstractActionManager2.Triggers) {\n        if (Object.prototype.hasOwnProperty.call(AbstractActionManager2.Triggers, t)) {\n          var tAsInt = parseInt(t);\n          if (tAsInt >= 1 && tAsInt <= 7) {\n            return true;\n          }\n        }\n      }\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  AbstractActionManager2.HasSpecificTrigger = function(trigger) {\n    for (var t in AbstractActionManager2.Triggers) {\n      if (Object.prototype.hasOwnProperty.call(AbstractActionManager2.Triggers, t)) {\n        var tAsInt = parseInt(t);\n        if (tAsInt === trigger) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n  AbstractActionManager2.Triggers = {};\n  return AbstractActionManager2;\n}();\nvar KeyboardEventTypes = function() {\n  function KeyboardEventTypes2() {\n  }\n  KeyboardEventTypes2.KEYDOWN = 1;\n  KeyboardEventTypes2.KEYUP = 2;\n  return KeyboardEventTypes2;\n}();\nvar KeyboardInfo = function() {\n  function KeyboardInfo2(type, event) {\n    this.type = type;\n    this.event = event;\n  }\n  return KeyboardInfo2;\n}();\nvar KeyboardInfoPre = function(_super) {\n  __extends(KeyboardInfoPre2, _super);\n  function KeyboardInfoPre2(type, event) {\n    var _this = _super.call(this, type, event) || this;\n    _this.type = type;\n    _this.event = event;\n    _this.skipOnKeyboardObservable = false;\n    return _this;\n  }\n  Object.defineProperty(KeyboardInfoPre2.prototype, \"skipOnPointerObservable\", {\n    get: function() {\n      return this.skipOnKeyboardObservable;\n    },\n    set: function(value) {\n      this.skipOnKeyboardObservable = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return KeyboardInfoPre2;\n}(KeyboardInfo);\nvar DeviceType;\n(function(DeviceType2) {\n  DeviceType2[DeviceType2[\"Generic\"] = 0] = \"Generic\";\n  DeviceType2[DeviceType2[\"Keyboard\"] = 1] = \"Keyboard\";\n  DeviceType2[DeviceType2[\"Mouse\"] = 2] = \"Mouse\";\n  DeviceType2[DeviceType2[\"Touch\"] = 3] = \"Touch\";\n  DeviceType2[DeviceType2[\"DualShock\"] = 4] = \"DualShock\";\n  DeviceType2[DeviceType2[\"Xbox\"] = 5] = \"Xbox\";\n  DeviceType2[DeviceType2[\"Switch\"] = 6] = \"Switch\";\n  DeviceType2[DeviceType2[\"DualSense\"] = 7] = \"DualSense\";\n})(DeviceType || (DeviceType = {}));\nvar PointerInput;\n(function(PointerInput2) {\n  PointerInput2[PointerInput2[\"Horizontal\"] = 0] = \"Horizontal\";\n  PointerInput2[PointerInput2[\"Vertical\"] = 1] = \"Vertical\";\n  PointerInput2[PointerInput2[\"LeftClick\"] = 2] = \"LeftClick\";\n  PointerInput2[PointerInput2[\"MiddleClick\"] = 3] = \"MiddleClick\";\n  PointerInput2[PointerInput2[\"RightClick\"] = 4] = \"RightClick\";\n  PointerInput2[PointerInput2[\"BrowserBack\"] = 5] = \"BrowserBack\";\n  PointerInput2[PointerInput2[\"BrowserForward\"] = 6] = \"BrowserForward\";\n  PointerInput2[PointerInput2[\"MouseWheelX\"] = 7] = \"MouseWheelX\";\n  PointerInput2[PointerInput2[\"MouseWheelY\"] = 8] = \"MouseWheelY\";\n  PointerInput2[PointerInput2[\"MouseWheelZ\"] = 9] = \"MouseWheelZ\";\n  PointerInput2[PointerInput2[\"Move\"] = 12] = \"Move\";\n})(PointerInput || (PointerInput = {}));\nvar NativePointerInput;\n(function(NativePointerInput2) {\n  NativePointerInput2[NativePointerInput2[\"Horizontal\"] = 0] = \"Horizontal\";\n  NativePointerInput2[NativePointerInput2[\"Vertical\"] = 1] = \"Vertical\";\n  NativePointerInput2[NativePointerInput2[\"LeftClick\"] = 2] = \"LeftClick\";\n  NativePointerInput2[NativePointerInput2[\"MiddleClick\"] = 3] = \"MiddleClick\";\n  NativePointerInput2[NativePointerInput2[\"RightClick\"] = 4] = \"RightClick\";\n  NativePointerInput2[NativePointerInput2[\"BrowserBack\"] = 5] = \"BrowserBack\";\n  NativePointerInput2[NativePointerInput2[\"BrowserForward\"] = 6] = \"BrowserForward\";\n  NativePointerInput2[NativePointerInput2[\"MouseWheelX\"] = 7] = \"MouseWheelX\";\n  NativePointerInput2[NativePointerInput2[\"MouseWheelY\"] = 8] = \"MouseWheelY\";\n  NativePointerInput2[NativePointerInput2[\"MouseWheelZ\"] = 9] = \"MouseWheelZ\";\n  NativePointerInput2[NativePointerInput2[\"DeltaHorizontal\"] = 10] = \"DeltaHorizontal\";\n  NativePointerInput2[NativePointerInput2[\"DeltaVertical\"] = 11] = \"DeltaVertical\";\n})(NativePointerInput || (NativePointerInput = {}));\nvar DualShockInput;\n(function(DualShockInput2) {\n  DualShockInput2[DualShockInput2[\"Cross\"] = 0] = \"Cross\";\n  DualShockInput2[DualShockInput2[\"Circle\"] = 1] = \"Circle\";\n  DualShockInput2[DualShockInput2[\"Square\"] = 2] = \"Square\";\n  DualShockInput2[DualShockInput2[\"Triangle\"] = 3] = \"Triangle\";\n  DualShockInput2[DualShockInput2[\"L1\"] = 4] = \"L1\";\n  DualShockInput2[DualShockInput2[\"R1\"] = 5] = \"R1\";\n  DualShockInput2[DualShockInput2[\"L2\"] = 6] = \"L2\";\n  DualShockInput2[DualShockInput2[\"R2\"] = 7] = \"R2\";\n  DualShockInput2[DualShockInput2[\"Share\"] = 8] = \"Share\";\n  DualShockInput2[DualShockInput2[\"Options\"] = 9] = \"Options\";\n  DualShockInput2[DualShockInput2[\"L3\"] = 10] = \"L3\";\n  DualShockInput2[DualShockInput2[\"R3\"] = 11] = \"R3\";\n  DualShockInput2[DualShockInput2[\"DPadUp\"] = 12] = \"DPadUp\";\n  DualShockInput2[DualShockInput2[\"DPadDown\"] = 13] = \"DPadDown\";\n  DualShockInput2[DualShockInput2[\"DPadLeft\"] = 14] = \"DPadLeft\";\n  DualShockInput2[DualShockInput2[\"DPadRight\"] = 15] = \"DPadRight\";\n  DualShockInput2[DualShockInput2[\"Home\"] = 16] = \"Home\";\n  DualShockInput2[DualShockInput2[\"TouchPad\"] = 17] = \"TouchPad\";\n  DualShockInput2[DualShockInput2[\"LStickXAxis\"] = 18] = \"LStickXAxis\";\n  DualShockInput2[DualShockInput2[\"LStickYAxis\"] = 19] = \"LStickYAxis\";\n  DualShockInput2[DualShockInput2[\"RStickXAxis\"] = 20] = \"RStickXAxis\";\n  DualShockInput2[DualShockInput2[\"RStickYAxis\"] = 21] = \"RStickYAxis\";\n})(DualShockInput || (DualShockInput = {}));\nvar DualSenseInput;\n(function(DualSenseInput2) {\n  DualSenseInput2[DualSenseInput2[\"Cross\"] = 0] = \"Cross\";\n  DualSenseInput2[DualSenseInput2[\"Circle\"] = 1] = \"Circle\";\n  DualSenseInput2[DualSenseInput2[\"Square\"] = 2] = \"Square\";\n  DualSenseInput2[DualSenseInput2[\"Triangle\"] = 3] = \"Triangle\";\n  DualSenseInput2[DualSenseInput2[\"L1\"] = 4] = \"L1\";\n  DualSenseInput2[DualSenseInput2[\"R1\"] = 5] = \"R1\";\n  DualSenseInput2[DualSenseInput2[\"L2\"] = 6] = \"L2\";\n  DualSenseInput2[DualSenseInput2[\"R2\"] = 7] = \"R2\";\n  DualSenseInput2[DualSenseInput2[\"Create\"] = 8] = \"Create\";\n  DualSenseInput2[DualSenseInput2[\"Options\"] = 9] = \"Options\";\n  DualSenseInput2[DualSenseInput2[\"L3\"] = 10] = \"L3\";\n  DualSenseInput2[DualSenseInput2[\"R3\"] = 11] = \"R3\";\n  DualSenseInput2[DualSenseInput2[\"DPadUp\"] = 12] = \"DPadUp\";\n  DualSenseInput2[DualSenseInput2[\"DPadDown\"] = 13] = \"DPadDown\";\n  DualSenseInput2[DualSenseInput2[\"DPadLeft\"] = 14] = \"DPadLeft\";\n  DualSenseInput2[DualSenseInput2[\"DPadRight\"] = 15] = \"DPadRight\";\n  DualSenseInput2[DualSenseInput2[\"Home\"] = 16] = \"Home\";\n  DualSenseInput2[DualSenseInput2[\"TouchPad\"] = 17] = \"TouchPad\";\n  DualSenseInput2[DualSenseInput2[\"LStickXAxis\"] = 18] = \"LStickXAxis\";\n  DualSenseInput2[DualSenseInput2[\"LStickYAxis\"] = 19] = \"LStickYAxis\";\n  DualSenseInput2[DualSenseInput2[\"RStickXAxis\"] = 20] = \"RStickXAxis\";\n  DualSenseInput2[DualSenseInput2[\"RStickYAxis\"] = 21] = \"RStickYAxis\";\n})(DualSenseInput || (DualSenseInput = {}));\nvar XboxInput;\n(function(XboxInput2) {\n  XboxInput2[XboxInput2[\"A\"] = 0] = \"A\";\n  XboxInput2[XboxInput2[\"B\"] = 1] = \"B\";\n  XboxInput2[XboxInput2[\"X\"] = 2] = \"X\";\n  XboxInput2[XboxInput2[\"Y\"] = 3] = \"Y\";\n  XboxInput2[XboxInput2[\"LB\"] = 4] = \"LB\";\n  XboxInput2[XboxInput2[\"RB\"] = 5] = \"RB\";\n  XboxInput2[XboxInput2[\"LT\"] = 6] = \"LT\";\n  XboxInput2[XboxInput2[\"RT\"] = 7] = \"RT\";\n  XboxInput2[XboxInput2[\"Back\"] = 8] = \"Back\";\n  XboxInput2[XboxInput2[\"Start\"] = 9] = \"Start\";\n  XboxInput2[XboxInput2[\"LS\"] = 10] = \"LS\";\n  XboxInput2[XboxInput2[\"RS\"] = 11] = \"RS\";\n  XboxInput2[XboxInput2[\"DPadUp\"] = 12] = \"DPadUp\";\n  XboxInput2[XboxInput2[\"DPadDown\"] = 13] = \"DPadDown\";\n  XboxInput2[XboxInput2[\"DPadLeft\"] = 14] = \"DPadLeft\";\n  XboxInput2[XboxInput2[\"DPadRight\"] = 15] = \"DPadRight\";\n  XboxInput2[XboxInput2[\"Home\"] = 16] = \"Home\";\n  XboxInput2[XboxInput2[\"LStickXAxis\"] = 17] = \"LStickXAxis\";\n  XboxInput2[XboxInput2[\"LStickYAxis\"] = 18] = \"LStickYAxis\";\n  XboxInput2[XboxInput2[\"RStickXAxis\"] = 19] = \"RStickXAxis\";\n  XboxInput2[XboxInput2[\"RStickYAxis\"] = 20] = \"RStickYAxis\";\n})(XboxInput || (XboxInput = {}));\nvar SwitchInput;\n(function(SwitchInput2) {\n  SwitchInput2[SwitchInput2[\"B\"] = 0] = \"B\";\n  SwitchInput2[SwitchInput2[\"A\"] = 1] = \"A\";\n  SwitchInput2[SwitchInput2[\"Y\"] = 2] = \"Y\";\n  SwitchInput2[SwitchInput2[\"X\"] = 3] = \"X\";\n  SwitchInput2[SwitchInput2[\"L\"] = 4] = \"L\";\n  SwitchInput2[SwitchInput2[\"R\"] = 5] = \"R\";\n  SwitchInput2[SwitchInput2[\"ZL\"] = 6] = \"ZL\";\n  SwitchInput2[SwitchInput2[\"ZR\"] = 7] = \"ZR\";\n  SwitchInput2[SwitchInput2[\"Minus\"] = 8] = \"Minus\";\n  SwitchInput2[SwitchInput2[\"Plus\"] = 9] = \"Plus\";\n  SwitchInput2[SwitchInput2[\"LS\"] = 10] = \"LS\";\n  SwitchInput2[SwitchInput2[\"RS\"] = 11] = \"RS\";\n  SwitchInput2[SwitchInput2[\"DPadUp\"] = 12] = \"DPadUp\";\n  SwitchInput2[SwitchInput2[\"DPadDown\"] = 13] = \"DPadDown\";\n  SwitchInput2[SwitchInput2[\"DPadLeft\"] = 14] = \"DPadLeft\";\n  SwitchInput2[SwitchInput2[\"DPadRight\"] = 15] = \"DPadRight\";\n  SwitchInput2[SwitchInput2[\"Home\"] = 16] = \"Home\";\n  SwitchInput2[SwitchInput2[\"Capture\"] = 17] = \"Capture\";\n  SwitchInput2[SwitchInput2[\"LStickXAxis\"] = 18] = \"LStickXAxis\";\n  SwitchInput2[SwitchInput2[\"LStickYAxis\"] = 19] = \"LStickYAxis\";\n  SwitchInput2[SwitchInput2[\"RStickXAxis\"] = 20] = \"RStickXAxis\";\n  SwitchInput2[SwitchInput2[\"RStickYAxis\"] = 21] = \"RStickYAxis\";\n})(SwitchInput || (SwitchInput = {}));\nvar DeviceInputEventType;\n(function(DeviceInputEventType2) {\n  DeviceInputEventType2[DeviceInputEventType2[\"PointerMove\"] = 0] = \"PointerMove\";\n  DeviceInputEventType2[DeviceInputEventType2[\"PointerDown\"] = 1] = \"PointerDown\";\n  DeviceInputEventType2[DeviceInputEventType2[\"PointerUp\"] = 2] = \"PointerUp\";\n})(DeviceInputEventType || (DeviceInputEventType = {}));\nvar EventConstants = function() {\n  function EventConstants2() {\n  }\n  EventConstants2.DOM_DELTA_PIXEL = 0;\n  EventConstants2.DOM_DELTA_LINE = 1;\n  EventConstants2.DOM_DELTA_PAGE = 2;\n  return EventConstants2;\n}();\nvar DeviceEventFactory = function() {\n  function DeviceEventFactory2() {\n  }\n  DeviceEventFactory2.CreateDeviceEvent = function(deviceType, deviceSlot, inputIndex, currentState, deviceInputSystem, elementToAttachTo) {\n    switch (deviceType) {\n      case DeviceType.Keyboard:\n        return this._CreateKeyboardEvent(inputIndex, currentState, deviceInputSystem, elementToAttachTo);\n      case DeviceType.Mouse:\n        if (inputIndex === PointerInput.MouseWheelX || inputIndex === PointerInput.MouseWheelY || inputIndex === PointerInput.MouseWheelZ) {\n          return this._CreateWheelEvent(deviceType, deviceSlot, inputIndex, currentState, deviceInputSystem, elementToAttachTo);\n        }\n      case DeviceType.Touch:\n        return this._CreatePointerEvent(deviceType, deviceSlot, inputIndex, currentState, deviceInputSystem, elementToAttachTo);\n      default:\n        throw \"Unable to generate event for device \".concat(DeviceType[deviceType]);\n    }\n  };\n  DeviceEventFactory2._CreatePointerEvent = function(deviceType, deviceSlot, inputIndex, currentState, deviceInputSystem, elementToAttachTo) {\n    var evt = this._CreateMouseEvent(deviceType, deviceSlot, inputIndex, currentState, deviceInputSystem, elementToAttachTo);\n    if (deviceType === DeviceType.Mouse) {\n      evt.deviceType = DeviceType.Mouse;\n      evt.pointerId = 1;\n      evt.pointerType = \"mouse\";\n    } else {\n      evt.deviceType = DeviceType.Touch;\n      evt.pointerId = deviceSlot;\n      evt.pointerType = \"touch\";\n    }\n    if (inputIndex === PointerInput.Move) {\n      evt.type = \"pointermove\";\n    } else if (inputIndex >= PointerInput.LeftClick && inputIndex <= PointerInput.RightClick) {\n      evt.type = currentState === 1 ? \"pointerdown\" : \"pointerup\";\n      evt.button = inputIndex - 2;\n    }\n    return evt;\n  };\n  DeviceEventFactory2._CreateWheelEvent = function(deviceType, deviceSlot, inputIndex, currentState, deviceInputSystem, elementToAttachTo) {\n    var evt = this._CreateMouseEvent(deviceType, deviceSlot, inputIndex, currentState, deviceInputSystem, elementToAttachTo);\n    evt.type = \"wheel\";\n    evt.deltaMode = EventConstants.DOM_DELTA_PIXEL;\n    evt.deltaX = 0;\n    evt.deltaY = 0;\n    evt.deltaZ = 0;\n    switch (inputIndex) {\n      case PointerInput.MouseWheelX:\n        evt.deltaX = currentState;\n        break;\n      case PointerInput.MouseWheelY:\n        evt.deltaY = currentState;\n        break;\n      case PointerInput.MouseWheelZ:\n        evt.deltaZ = currentState;\n        break;\n    }\n    return evt;\n  };\n  DeviceEventFactory2._CreateMouseEvent = function(deviceType, deviceSlot, inputIndex, currentState, deviceInputSystem, elementToAttachTo) {\n    var evt = this._CreateEvent(elementToAttachTo);\n    var pointerX = deviceInputSystem.pollInput(deviceType, deviceSlot, PointerInput.Horizontal);\n    var pointerY = deviceInputSystem.pollInput(deviceType, deviceSlot, PointerInput.Vertical);\n    if (elementToAttachTo) {\n      evt.movementX = 0;\n      evt.movementY = 0;\n      evt.offsetX = evt.movementX - elementToAttachTo.getBoundingClientRect().x;\n      evt.offsetY = evt.movementY - elementToAttachTo.getBoundingClientRect().y;\n    } else {\n      evt.movementX = deviceInputSystem.pollInput(deviceType, deviceSlot, NativePointerInput.DeltaHorizontal);\n      evt.movementY = deviceInputSystem.pollInput(deviceType, deviceSlot, NativePointerInput.DeltaVertical);\n      evt.offsetX = 0;\n      evt.offsetY = 0;\n    }\n    this._CheckNonCharacterKeys(evt, deviceInputSystem);\n    evt.clientX = pointerX;\n    evt.clientY = pointerY;\n    evt.x = pointerX;\n    evt.y = pointerY;\n    evt.deviceType = deviceType;\n    evt.deviceSlot = deviceSlot;\n    evt.inputIndex = inputIndex;\n    return evt;\n  };\n  DeviceEventFactory2._CreateKeyboardEvent = function(inputIndex, currentState, deviceInputSystem, elementToAttachTo) {\n    var evt = this._CreateEvent(elementToAttachTo);\n    this._CheckNonCharacterKeys(evt, deviceInputSystem);\n    evt.deviceType = DeviceType.Keyboard;\n    evt.deviceSlot = 0;\n    evt.inputIndex = inputIndex;\n    evt.type = currentState === 1 ? \"keydown\" : \"keyup\";\n    evt.key = String.fromCharCode(inputIndex);\n    evt.keyCode = inputIndex;\n    return evt;\n  };\n  DeviceEventFactory2._CheckNonCharacterKeys = function(evt, deviceInputSystem) {\n    var isKeyboardActive = deviceInputSystem.isDeviceAvailable(DeviceType.Keyboard);\n    var altKey = isKeyboardActive && deviceInputSystem.pollInput(DeviceType.Keyboard, 0, 18) === 1;\n    var ctrlKey = isKeyboardActive && deviceInputSystem.pollInput(DeviceType.Keyboard, 0, 17) === 1;\n    var metaKey = isKeyboardActive && (deviceInputSystem.pollInput(DeviceType.Keyboard, 0, 91) === 1 || deviceInputSystem.pollInput(DeviceType.Keyboard, 0, 92) === 1 || deviceInputSystem.pollInput(DeviceType.Keyboard, 0, 93) === 1);\n    var shiftKey = isKeyboardActive && deviceInputSystem.pollInput(DeviceType.Keyboard, 0, 16) === 1;\n    evt.altKey = altKey;\n    evt.ctrlKey = ctrlKey;\n    evt.metaKey = metaKey;\n    evt.shiftKey = shiftKey;\n  };\n  DeviceEventFactory2._CreateEvent = function(elementToAttachTo) {\n    var evt = {};\n    evt.preventDefault = function() {\n    };\n    evt.target = elementToAttachTo;\n    return evt;\n  };\n  return DeviceEventFactory2;\n}();\nvar NativeDeviceInputSystem = function() {\n  function NativeDeviceInputSystem2(onDeviceConnected, onDeviceDisconnected, onInputChanged) {\n    var _this = this;\n    this._nativeInput = _native.DeviceInputSystem ? new _native.DeviceInputSystem(onDeviceConnected, onDeviceDisconnected, function(deviceType, deviceSlot, inputIndex, currentState) {\n      var evt = DeviceEventFactory.CreateDeviceEvent(deviceType, deviceSlot, inputIndex, currentState, _this);\n      onInputChanged(deviceType, deviceSlot, evt);\n    }) : this._createDummyNativeInput();\n  }\n  NativeDeviceInputSystem2.prototype.pollInput = function(deviceType, deviceSlot, inputIndex) {\n    return this._nativeInput.pollInput(deviceType, deviceSlot, inputIndex);\n  };\n  NativeDeviceInputSystem2.prototype.isDeviceAvailable = function(deviceType) {\n    return deviceType === DeviceType.Mouse || deviceType === DeviceType.Touch;\n  };\n  NativeDeviceInputSystem2.prototype.dispose = function() {\n    this._nativeInput.dispose();\n  };\n  NativeDeviceInputSystem2.prototype._createDummyNativeInput = function() {\n    var nativeInput = {\n      pollInput: function() {\n        return 0;\n      },\n      isDeviceAvailable: function() {\n        return false;\n      },\n      dispose: function() {\n      }\n    };\n    return nativeInput;\n  };\n  return NativeDeviceInputSystem2;\n}();\nvar MAX_KEYCODES = 255;\nvar MAX_POINTER_INPUTS = Object.keys(PointerInput).length / 2;\nvar WebDeviceInputSystem = function() {\n  function WebDeviceInputSystem2(engine, onDeviceConnected, onDeviceDisconnected, onInputChanged) {\n    var _this = this;\n    this._inputs = [];\n    this._keyboardActive = false;\n    this._pointerActive = false;\n    this._usingSafari = Tools.IsSafari();\n    this._keyboardDownEvent = function(evt) {\n    };\n    this._keyboardUpEvent = function(evt) {\n    };\n    this._keyboardBlurEvent = function(evt) {\n    };\n    this._pointerMoveEvent = function(evt) {\n    };\n    this._pointerDownEvent = function(evt) {\n    };\n    this._pointerUpEvent = function(evt) {\n    };\n    this._pointerCancelEvent = function(evt) {\n    };\n    this._pointerWheelEvent = function(evt) {\n    };\n    this._pointerBlurEvent = function(evt) {\n    };\n    this._eventsAttached = false;\n    this._mouseId = -1;\n    this._isUsingFirefox = DomManagement.IsNavigatorAvailable() && navigator.userAgent && navigator.userAgent.indexOf(\"Firefox\") !== -1;\n    this._maxTouchPoints = 0;\n    this._pointerInputClearObserver = null;\n    this._gamepadConnectedEvent = function(evt) {\n    };\n    this._gamepadDisconnectedEvent = function(evt) {\n    };\n    this._eventPrefix = Tools.GetPointerPrefix(engine);\n    this._engine = engine;\n    this._onDeviceConnected = onDeviceConnected;\n    this._onDeviceDisconnected = onDeviceDisconnected;\n    this._onInputChanged = onInputChanged;\n    this._enableEvents();\n    if (!this._engine._onEngineViewChanged) {\n      this._engine._onEngineViewChanged = function() {\n        _this._enableEvents();\n      };\n    }\n  }\n  WebDeviceInputSystem2.prototype.pollInput = function(deviceType, deviceSlot, inputIndex) {\n    var device = this._inputs[deviceType][deviceSlot];\n    if (!device) {\n      throw \"Unable to find device \".concat(DeviceType[deviceType]);\n    }\n    if (deviceType >= DeviceType.DualShock && deviceType <= DeviceType.DualSense && navigator.getGamepads) {\n      this._updateDevice(deviceType, deviceSlot, inputIndex);\n    }\n    var currentValue = device[inputIndex];\n    if (currentValue === void 0) {\n      throw \"Unable to find input \".concat(inputIndex, \" for device \").concat(DeviceType[deviceType], \" in slot \").concat(deviceSlot);\n    }\n    if (inputIndex === PointerInput.Move) {\n      Tools.Warn(\"Unable to provide information for PointerInput.Move.  Try using PointerInput.Horizontal or PointerInput.Vertical for move data.\");\n    }\n    return currentValue;\n  };\n  WebDeviceInputSystem2.prototype.isDeviceAvailable = function(deviceType) {\n    return this._inputs[deviceType] !== void 0;\n  };\n  WebDeviceInputSystem2.prototype.dispose = function() {\n    this._onDeviceConnected = function() {\n    };\n    this._onDeviceDisconnected = function() {\n    };\n    this._onInputChanged = function() {\n    };\n    delete this._engine._onEngineViewChanged;\n    if (this._elementToAttachTo) {\n      this._disableEvents();\n    }\n  };\n  WebDeviceInputSystem2.prototype._enableEvents = function() {\n    var inputElement = this === null || this === void 0 ? void 0 : this._engine.getInputElement();\n    if (inputElement && (!this._eventsAttached || this._elementToAttachTo !== inputElement)) {\n      this._disableEvents();\n      if (this._inputs) {\n        for (var _i = 0, _a = this._inputs; _i < _a.length; _i++) {\n          var inputs = _a[_i];\n          if (inputs) {\n            for (var deviceSlotKey in inputs) {\n              var deviceSlot = +deviceSlotKey;\n              var device = inputs[deviceSlot];\n              if (device) {\n                for (var inputIndex = 0; inputIndex < device.length; inputIndex++) {\n                  device[inputIndex] = 0;\n                }\n              }\n            }\n          }\n        }\n      }\n      this._elementToAttachTo = inputElement;\n      this._elementToAttachTo.tabIndex = this._elementToAttachTo.tabIndex !== -1 ? this._elementToAttachTo.tabIndex : this._engine.canvasTabIndex;\n      this._handleKeyActions();\n      this._handlePointerActions();\n      this._handleGamepadActions();\n      this._eventsAttached = true;\n      this._checkForConnectedDevices();\n    }\n  };\n  WebDeviceInputSystem2.prototype._disableEvents = function() {\n    if (this._elementToAttachTo) {\n      this._elementToAttachTo.removeEventListener(\"blur\", this._keyboardBlurEvent);\n      this._elementToAttachTo.removeEventListener(\"blur\", this._pointerBlurEvent);\n      this._elementToAttachTo.removeEventListener(\"keydown\", this._keyboardDownEvent);\n      this._elementToAttachTo.removeEventListener(\"keyup\", this._keyboardUpEvent);\n      this._elementToAttachTo.removeEventListener(this._eventPrefix + \"move\", this._pointerMoveEvent);\n      this._elementToAttachTo.removeEventListener(this._eventPrefix + \"down\", this._pointerDownEvent);\n      this._elementToAttachTo.removeEventListener(this._eventPrefix + \"up\", this._pointerUpEvent);\n      this._elementToAttachTo.removeEventListener(this._eventPrefix + \"cancel\", this._pointerCancelEvent);\n      this._elementToAttachTo.removeEventListener(this._wheelEventName, this._pointerWheelEvent);\n      window.removeEventListener(\"gamepadconnected\", this._gamepadConnectedEvent);\n      window.removeEventListener(\"gamepaddisconnected\", this._gamepadDisconnectedEvent);\n    }\n    if (this._pointerInputClearObserver) {\n      this._engine.onEndFrameObservable.remove(this._pointerInputClearObserver);\n    }\n    this._eventsAttached = false;\n  };\n  WebDeviceInputSystem2.prototype._checkForConnectedDevices = function() {\n    if (navigator.getGamepads) {\n      var gamepads = navigator.getGamepads();\n      for (var _i = 0, gamepads_1 = gamepads; _i < gamepads_1.length; _i++) {\n        var gamepad = gamepads_1[_i];\n        if (gamepad) {\n          this._addGamePad(gamepad);\n        }\n      }\n    }\n    if (typeof matchMedia === \"function\" && matchMedia(\"(pointer:fine)\").matches) {\n      this._addPointerDevice(DeviceType.Mouse, 0, 0, 0);\n    }\n  };\n  WebDeviceInputSystem2.prototype._addGamePad = function(gamepad) {\n    var deviceType = this._getGamepadDeviceType(gamepad.id);\n    var deviceSlot = gamepad.index;\n    this._gamepads = this._gamepads || new Array(gamepad.index + 1);\n    this._registerDevice(deviceType, deviceSlot, gamepad.buttons.length + gamepad.axes.length);\n    this._gamepads[deviceSlot] = deviceType;\n  };\n  WebDeviceInputSystem2.prototype._addPointerDevice = function(deviceType, deviceSlot, currentX, currentY) {\n    if (!this._pointerActive) {\n      this._pointerActive = true;\n    }\n    this._registerDevice(deviceType, deviceSlot, MAX_POINTER_INPUTS);\n    var pointer = this._inputs[deviceType][deviceSlot];\n    pointer[0] = currentX;\n    pointer[1] = currentY;\n  };\n  WebDeviceInputSystem2.prototype._registerDevice = function(deviceType, deviceSlot, numberOfInputs) {\n    if (deviceSlot === void 0) {\n      throw \"Unable to register device \".concat(DeviceType[deviceType], \" to undefined slot.\");\n    }\n    if (!this._inputs[deviceType]) {\n      this._inputs[deviceType] = {};\n    }\n    if (!this._inputs[deviceType][deviceSlot]) {\n      var device = new Array(numberOfInputs);\n      for (var i = 0; i < numberOfInputs; i++) {\n        device[i] = 0;\n      }\n      this._inputs[deviceType][deviceSlot] = device;\n      this._onDeviceConnected(deviceType, deviceSlot);\n    }\n  };\n  WebDeviceInputSystem2.prototype._unregisterDevice = function(deviceType, deviceSlot) {\n    if (this._inputs[deviceType][deviceSlot]) {\n      delete this._inputs[deviceType][deviceSlot];\n      this._onDeviceDisconnected(deviceType, deviceSlot);\n    }\n  };\n  WebDeviceInputSystem2.prototype._handleKeyActions = function() {\n    var _this = this;\n    this._keyboardDownEvent = function(evt) {\n      if (!_this._keyboardActive) {\n        _this._keyboardActive = true;\n        _this._registerDevice(DeviceType.Keyboard, 0, MAX_KEYCODES);\n      }\n      var kbKey = _this._inputs[DeviceType.Keyboard][0];\n      if (kbKey) {\n        kbKey[evt.keyCode] = 1;\n        var deviceEvent = evt;\n        deviceEvent.inputIndex = evt.keyCode;\n        _this._onInputChanged(DeviceType.Keyboard, 0, deviceEvent);\n      }\n    };\n    this._keyboardUpEvent = function(evt) {\n      if (!_this._keyboardActive) {\n        _this._keyboardActive = true;\n        _this._registerDevice(DeviceType.Keyboard, 0, MAX_KEYCODES);\n      }\n      var kbKey = _this._inputs[DeviceType.Keyboard][0];\n      if (kbKey) {\n        kbKey[evt.keyCode] = 0;\n        var deviceEvent = evt;\n        deviceEvent.inputIndex = evt.keyCode;\n        _this._onInputChanged(DeviceType.Keyboard, 0, deviceEvent);\n      }\n    };\n    this._keyboardBlurEvent = function() {\n      if (_this._keyboardActive) {\n        var kbKey = _this._inputs[DeviceType.Keyboard][0];\n        for (var i = 0; i < kbKey.length; i++) {\n          if (kbKey[i] !== 0) {\n            kbKey[i] = 0;\n            var deviceEvent = DeviceEventFactory.CreateDeviceEvent(DeviceType.Keyboard, 0, i, 0, _this, _this._elementToAttachTo);\n            _this._onInputChanged(DeviceType.Keyboard, 0, deviceEvent);\n          }\n        }\n      }\n    };\n    this._elementToAttachTo.addEventListener(\"keydown\", this._keyboardDownEvent);\n    this._elementToAttachTo.addEventListener(\"keyup\", this._keyboardUpEvent);\n    this._elementToAttachTo.addEventListener(\"blur\", this._keyboardBlurEvent);\n  };\n  WebDeviceInputSystem2.prototype._handlePointerActions = function() {\n    var _this = this;\n    this._maxTouchPoints = DomManagement.IsNavigatorAvailable() && navigator.maxTouchPoints || 2;\n    if (!this._activeTouchIds) {\n      this._activeTouchIds = new Array(this._maxTouchPoints);\n    }\n    for (var i = 0; i < this._maxTouchPoints; i++) {\n      this._activeTouchIds[i] = -1;\n    }\n    this._pointerMoveEvent = function(evt) {\n      var deviceType = _this._getPointerType(evt);\n      var deviceSlot = deviceType === DeviceType.Mouse ? 0 : _this._activeTouchIds.indexOf(evt.pointerId);\n      if (!_this._inputs[deviceType]) {\n        _this._inputs[deviceType] = {};\n      }\n      if (!_this._inputs[deviceType][deviceSlot]) {\n        _this._addPointerDevice(deviceType, deviceSlot, evt.clientX, evt.clientY);\n      }\n      var pointer = _this._inputs[deviceType][deviceSlot];\n      if (pointer) {\n        pointer[PointerInput.Horizontal] = evt.clientX;\n        pointer[PointerInput.Vertical] = evt.clientY;\n        var deviceEvent = evt;\n        deviceEvent.inputIndex = PointerInput.Move;\n        _this._onInputChanged(deviceType, deviceSlot, deviceEvent);\n        if (!_this._usingSafari && evt.button !== -1) {\n          deviceEvent.inputIndex = evt.button + 2;\n          pointer[evt.button + 2] = pointer[evt.button + 2] ? 0 : 1;\n          _this._onInputChanged(deviceType, deviceSlot, deviceEvent);\n        }\n      }\n    };\n    this._pointerDownEvent = function(evt) {\n      var deviceType = _this._getPointerType(evt);\n      var deviceSlot = deviceType === DeviceType.Mouse ? 0 : evt.pointerId;\n      if (deviceType === DeviceType.Touch) {\n        var idx = _this._activeTouchIds.indexOf(-1);\n        if (idx >= 0) {\n          deviceSlot = idx;\n          _this._activeTouchIds[idx] = evt.pointerId;\n        } else {\n          Tools.Warn(\"Max number of touches exceeded.  Ignoring touches in excess of \".concat(_this._maxTouchPoints));\n          return;\n        }\n      }\n      if (!_this._inputs[deviceType]) {\n        _this._inputs[deviceType] = {};\n      }\n      if (!_this._inputs[deviceType][deviceSlot]) {\n        _this._addPointerDevice(deviceType, deviceSlot, evt.clientX, evt.clientY);\n      } else if (deviceType === DeviceType.Touch) {\n        _this._onDeviceConnected(deviceType, deviceSlot);\n      }\n      var pointer = _this._inputs[deviceType][deviceSlot];\n      if (pointer) {\n        var previousHorizontal = pointer[PointerInput.Horizontal];\n        var previousVertical = pointer[PointerInput.Vertical];\n        if (deviceType === DeviceType.Mouse) {\n          if (_this._mouseId === -1) {\n            if (evt.pointerId === void 0) {\n              _this._mouseId = _this._isUsingFirefox ? 0 : 1;\n            } else {\n              _this._mouseId = evt.pointerId;\n            }\n          }\n          if (!document.pointerLockElement && _this._elementToAttachTo.hasPointerCapture) {\n            try {\n              _this._elementToAttachTo.setPointerCapture(_this._mouseId);\n            } catch (e) {\n            }\n          }\n        } else {\n          if (evt.pointerId && !document.pointerLockElement && _this._elementToAttachTo.hasPointerCapture) {\n            try {\n              _this._elementToAttachTo.setPointerCapture(evt.pointerId);\n            } catch (e) {\n            }\n          }\n        }\n        pointer[PointerInput.Horizontal] = evt.clientX;\n        pointer[PointerInput.Vertical] = evt.clientY;\n        pointer[evt.button + 2] = 1;\n        var deviceEvent = evt;\n        deviceEvent.inputIndex = evt.button + 2;\n        _this._onInputChanged(deviceType, deviceSlot, deviceEvent);\n        if (previousHorizontal !== evt.clientX || previousVertical !== evt.clientY) {\n          deviceEvent.inputIndex = PointerInput.Move;\n          _this._onInputChanged(deviceType, deviceSlot, deviceEvent);\n        }\n      }\n    };\n    this._pointerUpEvent = function(evt) {\n      var _a, _b, _c, _d, _e;\n      var deviceType = _this._getPointerType(evt);\n      var deviceSlot = deviceType === DeviceType.Mouse ? 0 : _this._activeTouchIds.indexOf(evt.pointerId);\n      if (deviceType === DeviceType.Touch) {\n        if (deviceSlot === -1) {\n          return;\n        } else {\n          _this._activeTouchIds[deviceSlot] = -1;\n        }\n      }\n      var pointer = (_a = _this._inputs[deviceType]) === null || _a === void 0 ? void 0 : _a[deviceSlot];\n      if (pointer && pointer[evt.button + 2] !== 0) {\n        var previousHorizontal = pointer[PointerInput.Horizontal];\n        var previousVertical = pointer[PointerInput.Vertical];\n        pointer[PointerInput.Horizontal] = evt.clientX;\n        pointer[PointerInput.Vertical] = evt.clientY;\n        pointer[evt.button + 2] = 0;\n        var deviceEvent = evt;\n        if (previousHorizontal !== evt.clientX || previousVertical !== evt.clientY) {\n          deviceEvent.inputIndex = PointerInput.Move;\n          _this._onInputChanged(deviceType, deviceSlot, deviceEvent);\n        }\n        deviceEvent.inputIndex = evt.button + 2;\n        if (deviceType === DeviceType.Mouse && _this._mouseId >= 0 && ((_c = (_b = _this._elementToAttachTo).hasPointerCapture) === null || _c === void 0 ? void 0 : _c.call(_b, _this._mouseId))) {\n          _this._elementToAttachTo.releasePointerCapture(_this._mouseId);\n        } else if (evt.pointerId && ((_e = (_d = _this._elementToAttachTo).hasPointerCapture) === null || _e === void 0 ? void 0 : _e.call(_d, evt.pointerId))) {\n          _this._elementToAttachTo.releasePointerCapture(evt.pointerId);\n        }\n        _this._onInputChanged(deviceType, deviceSlot, deviceEvent);\n        if (deviceType === DeviceType.Touch) {\n          _this._onDeviceDisconnected(deviceType, deviceSlot);\n        }\n      }\n    };\n    this._pointerCancelEvent = function(evt) {\n      var _a, _b, _c, _d;\n      if (evt.pointerType === \"mouse\") {\n        var pointer = _this._inputs[DeviceType.Mouse][0];\n        if (_this._mouseId >= 0 && ((_b = (_a = _this._elementToAttachTo).hasPointerCapture) === null || _b === void 0 ? void 0 : _b.call(_a, _this._mouseId))) {\n          _this._elementToAttachTo.releasePointerCapture(_this._mouseId);\n        }\n        for (var inputIndex = PointerInput.LeftClick; inputIndex <= PointerInput.BrowserForward; inputIndex++) {\n          if (pointer[inputIndex] === 1) {\n            pointer[inputIndex] = 0;\n            var deviceEvent = DeviceEventFactory.CreateDeviceEvent(DeviceType.Mouse, 0, inputIndex, 0, _this, _this._elementToAttachTo);\n            _this._onInputChanged(DeviceType.Mouse, 0, deviceEvent);\n          }\n        }\n      } else {\n        var deviceSlot = _this._activeTouchIds.indexOf(evt.pointerId);\n        if ((_d = (_c = _this._elementToAttachTo).hasPointerCapture) === null || _d === void 0 ? void 0 : _d.call(_c, evt.pointerId)) {\n          _this._elementToAttachTo.releasePointerCapture(evt.pointerId);\n        }\n        _this._inputs[DeviceType.Touch][deviceSlot][PointerInput.LeftClick] = 0;\n        var deviceEvent = DeviceEventFactory.CreateDeviceEvent(DeviceType.Touch, deviceSlot, PointerInput.LeftClick, 0, _this, _this._elementToAttachTo);\n        _this._onInputChanged(DeviceType.Touch, deviceSlot, deviceEvent);\n        _this._activeTouchIds[deviceSlot] = -1;\n        _this._onDeviceDisconnected(DeviceType.Touch, deviceSlot);\n      }\n    };\n    this._wheelEventName = \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : document.onmousewheel !== void 0 ? \"mousewheel\" : \"DOMMouseScroll\";\n    var passiveSupported = false;\n    var noop = function() {\n    };\n    try {\n      var options = {\n        passive: {\n          get: function() {\n            passiveSupported = true;\n          }\n        }\n      };\n      this._elementToAttachTo.addEventListener(\"test\", noop, options);\n      this._elementToAttachTo.removeEventListener(\"test\", noop, options);\n    } catch (e) {\n    }\n    this._pointerBlurEvent = function() {\n      var _a, _b, _c, _d, _e;\n      if (_this.isDeviceAvailable(DeviceType.Mouse)) {\n        var pointer = _this._inputs[DeviceType.Mouse][0];\n        if (_this._mouseId >= 0 && ((_b = (_a = _this._elementToAttachTo).hasPointerCapture) === null || _b === void 0 ? void 0 : _b.call(_a, _this._mouseId))) {\n          _this._elementToAttachTo.releasePointerCapture(_this._mouseId);\n        }\n        for (var inputIndex = PointerInput.LeftClick; inputIndex <= PointerInput.BrowserForward; inputIndex++) {\n          if (pointer[inputIndex] === 1) {\n            pointer[inputIndex] = 0;\n            var deviceEvent = DeviceEventFactory.CreateDeviceEvent(DeviceType.Mouse, 0, inputIndex, 0, _this, _this._elementToAttachTo);\n            _this._onInputChanged(DeviceType.Mouse, 0, deviceEvent);\n          }\n        }\n      }\n      if (_this.isDeviceAvailable(DeviceType.Touch)) {\n        var pointer = _this._inputs[DeviceType.Touch];\n        for (var deviceSlot = 0; deviceSlot < _this._activeTouchIds.length; deviceSlot++) {\n          var pointerId = _this._activeTouchIds[deviceSlot];\n          if ((_d = (_c = _this._elementToAttachTo).hasPointerCapture) === null || _d === void 0 ? void 0 : _d.call(_c, pointerId)) {\n            _this._elementToAttachTo.releasePointerCapture(pointerId);\n          }\n          if (pointerId !== -1 && ((_e = pointer[deviceSlot]) === null || _e === void 0 ? void 0 : _e[PointerInput.LeftClick]) === 1) {\n            pointer[deviceSlot][PointerInput.LeftClick] = 0;\n            var deviceEvent = DeviceEventFactory.CreateDeviceEvent(DeviceType.Touch, deviceSlot, PointerInput.LeftClick, 0, _this, _this._elementToAttachTo);\n            _this._onInputChanged(DeviceType.Touch, deviceSlot, deviceEvent);\n            _this._activeTouchIds[deviceSlot] = -1;\n            _this._onDeviceDisconnected(DeviceType.Touch, deviceSlot);\n          }\n        }\n      }\n    };\n    this._pointerWheelEvent = function(evt) {\n      var deviceType = DeviceType.Mouse;\n      var deviceSlot = 0;\n      if (!_this._inputs[deviceType]) {\n        _this._inputs[deviceType] = [];\n      }\n      if (!_this._inputs[deviceType][deviceSlot]) {\n        _this._pointerActive = true;\n        _this._registerDevice(deviceType, deviceSlot, MAX_POINTER_INPUTS);\n      }\n      var pointer = _this._inputs[deviceType][deviceSlot];\n      if (pointer) {\n        pointer[PointerInput.MouseWheelX] = evt.deltaX || 0;\n        pointer[PointerInput.MouseWheelY] = evt.deltaY || evt.wheelDelta || 0;\n        pointer[PointerInput.MouseWheelZ] = evt.deltaZ || 0;\n        var deviceEvent = evt;\n        if (pointer[PointerInput.MouseWheelX] !== 0) {\n          deviceEvent.inputIndex = PointerInput.MouseWheelX;\n          _this._onInputChanged(deviceType, deviceSlot, deviceEvent);\n        }\n        if (pointer[PointerInput.MouseWheelY] !== 0) {\n          deviceEvent.inputIndex = PointerInput.MouseWheelY;\n          _this._onInputChanged(deviceType, deviceSlot, deviceEvent);\n        }\n        if (pointer[PointerInput.MouseWheelZ] !== 0) {\n          deviceEvent.inputIndex = PointerInput.MouseWheelZ;\n          _this._onInputChanged(deviceType, deviceSlot, deviceEvent);\n        }\n      }\n    };\n    this._elementToAttachTo.addEventListener(this._eventPrefix + \"move\", this._pointerMoveEvent);\n    this._elementToAttachTo.addEventListener(this._eventPrefix + \"down\", this._pointerDownEvent);\n    this._elementToAttachTo.addEventListener(this._eventPrefix + \"up\", this._pointerUpEvent);\n    this._elementToAttachTo.addEventListener(this._eventPrefix + \"cancel\", this._pointerCancelEvent);\n    this._elementToAttachTo.addEventListener(\"blur\", this._pointerBlurEvent);\n    this._elementToAttachTo.addEventListener(this._wheelEventName, this._pointerWheelEvent, passiveSupported ? { passive: false } : false);\n    this._pointerInputClearObserver = this._engine.onEndFrameObservable.add(function() {\n      if (_this.isDeviceAvailable(DeviceType.Mouse)) {\n        var pointer = _this._inputs[DeviceType.Mouse][0];\n        pointer[PointerInput.MouseWheelX] = 0;\n        pointer[PointerInput.MouseWheelY] = 0;\n        pointer[PointerInput.MouseWheelZ] = 0;\n      }\n    });\n  };\n  WebDeviceInputSystem2.prototype._handleGamepadActions = function() {\n    var _this = this;\n    this._gamepadConnectedEvent = function(evt) {\n      _this._addGamePad(evt.gamepad);\n    };\n    this._gamepadDisconnectedEvent = function(evt) {\n      if (_this._gamepads) {\n        var deviceType = _this._getGamepadDeviceType(evt.gamepad.id);\n        var deviceSlot = evt.gamepad.index;\n        _this._unregisterDevice(deviceType, deviceSlot);\n        delete _this._gamepads[deviceSlot];\n      }\n    };\n    window.addEventListener(\"gamepadconnected\", this._gamepadConnectedEvent);\n    window.addEventListener(\"gamepaddisconnected\", this._gamepadDisconnectedEvent);\n  };\n  WebDeviceInputSystem2.prototype._updateDevice = function(deviceType, deviceSlot, inputIndex) {\n    var gp = navigator.getGamepads()[deviceSlot];\n    if (gp && deviceType === this._gamepads[deviceSlot]) {\n      var device = this._inputs[deviceType][deviceSlot];\n      if (inputIndex >= gp.buttons.length) {\n        device[inputIndex] = gp.axes[inputIndex - gp.buttons.length].valueOf();\n      } else {\n        device[inputIndex] = gp.buttons[inputIndex].value;\n      }\n    }\n  };\n  WebDeviceInputSystem2.prototype._getGamepadDeviceType = function(deviceName) {\n    if (deviceName.indexOf(\"054c\") !== -1) {\n      return deviceName.indexOf(\"0ce6\") !== -1 ? DeviceType.DualSense : DeviceType.DualShock;\n    } else if (deviceName.indexOf(\"Xbox One\") !== -1 || deviceName.search(\"Xbox 360\") !== -1 || deviceName.search(\"xinput\") !== -1) {\n      return DeviceType.Xbox;\n    } else if (deviceName.indexOf(\"057e\") !== -1) {\n      return DeviceType.Switch;\n    }\n    return DeviceType.Generic;\n  };\n  WebDeviceInputSystem2.prototype._getPointerType = function(evt) {\n    var deviceType = DeviceType.Mouse;\n    if (evt.pointerType === \"touch\" || evt.pointerType === \"pen\" || evt.touches) {\n      deviceType = DeviceType.Touch;\n    }\n    return deviceType;\n  };\n  return WebDeviceInputSystem2;\n}();\nvar DeviceSource = function() {\n  function DeviceSource2(deviceInputSystem, deviceType, deviceSlot) {\n    if (deviceSlot === void 0) {\n      deviceSlot = 0;\n    }\n    this.deviceType = deviceType;\n    this.deviceSlot = deviceSlot;\n    this.onInputChangedObservable = new Observable();\n    this._deviceInputSystem = deviceInputSystem;\n  }\n  DeviceSource2.prototype.getInput = function(inputIndex) {\n    return this._deviceInputSystem.pollInput(this.deviceType, this.deviceSlot, inputIndex);\n  };\n  return DeviceSource2;\n}();\nvar InternalDeviceSourceManager = function() {\n  function InternalDeviceSourceManager2(engine) {\n    var _this = this;\n    this._registeredManagers = new Array();\n    this._refCount = 0;\n    this.registerManager = function(manager) {\n      for (var deviceType = 0; deviceType < _this._devices.length; deviceType++) {\n        var device = _this._devices[deviceType];\n        for (var deviceSlotKey in device) {\n          var deviceSlot = +deviceSlotKey;\n          manager._addDevice(new DeviceSource(_this._deviceInputSystem, deviceType, deviceSlot));\n        }\n      }\n      _this._registeredManagers.push(manager);\n    };\n    this.unregisterManager = function(manager) {\n      var idx = _this._registeredManagers.indexOf(manager);\n      if (idx > -1) {\n        _this._registeredManagers.splice(idx, 1);\n      }\n    };\n    var numberOfDeviceTypes = Object.keys(DeviceType).length / 2;\n    this._devices = new Array(numberOfDeviceTypes);\n    var onDeviceConnected = function(deviceType, deviceSlot) {\n      if (!_this._devices[deviceType]) {\n        _this._devices[deviceType] = new Array();\n      }\n      if (!_this._devices[deviceType][deviceSlot]) {\n        _this._devices[deviceType][deviceSlot] = deviceSlot;\n      }\n      for (var _i = 0, _a = _this._registeredManagers; _i < _a.length; _i++) {\n        var manager = _a[_i];\n        var deviceSource = new DeviceSource(_this._deviceInputSystem, deviceType, deviceSlot);\n        manager._addDevice(deviceSource);\n      }\n    };\n    var onDeviceDisconnected = function(deviceType, deviceSlot) {\n      var _a;\n      if ((_a = _this._devices[deviceType]) === null || _a === void 0 ? void 0 : _a[deviceSlot]) {\n        delete _this._devices[deviceType][deviceSlot];\n      }\n      for (var _i = 0, _b = _this._registeredManagers; _i < _b.length; _i++) {\n        var manager = _b[_i];\n        manager._removeDevice(deviceType, deviceSlot);\n      }\n    };\n    var onInputChanged = function(deviceType, deviceSlot, eventData) {\n      if (eventData) {\n        for (var _i = 0, _a = _this._registeredManagers; _i < _a.length; _i++) {\n          var manager = _a[_i];\n          manager._onInputChanged(deviceType, deviceSlot, eventData);\n        }\n      }\n    };\n    if (typeof _native !== \"undefined\") {\n      this._deviceInputSystem = new NativeDeviceInputSystem(onDeviceConnected, onDeviceDisconnected, onInputChanged);\n    } else {\n      this._deviceInputSystem = new WebDeviceInputSystem(engine, onDeviceConnected, onDeviceDisconnected, onInputChanged);\n    }\n  }\n  InternalDeviceSourceManager2.prototype.dispose = function() {\n    this._deviceInputSystem.dispose();\n  };\n  return InternalDeviceSourceManager2;\n}();\nvar DeviceSourceManager = function() {\n  function DeviceSourceManager2(engine) {\n    var _this = this;\n    var numberOfDeviceTypes = Object.keys(DeviceType).length / 2;\n    this._devices = new Array(numberOfDeviceTypes);\n    this._firstDevice = new Array(numberOfDeviceTypes);\n    this._engine = engine;\n    if (!this._engine._deviceSourceManager) {\n      this._engine._deviceSourceManager = new InternalDeviceSourceManager(engine);\n    }\n    this._engine._deviceSourceManager._refCount++;\n    this.onDeviceConnectedObservable = new Observable(function(observer) {\n      for (var _i = 0, _a = _this._devices; _i < _a.length; _i++) {\n        var devices = _a[_i];\n        if (devices) {\n          for (var _b = 0, devices_1 = devices; _b < devices_1.length; _b++) {\n            var device = devices_1[_b];\n            if (device) {\n              _this.onDeviceConnectedObservable.notifyObserver(observer, device);\n            }\n          }\n        }\n      }\n    });\n    this.onDeviceDisconnectedObservable = new Observable();\n    this._engine._deviceSourceManager.registerManager(this);\n    this._onDisposeObserver = engine.onDisposeObservable.add(function() {\n      _this.dispose();\n    });\n  }\n  DeviceSourceManager2.prototype.getDeviceSource = function(deviceType, deviceSlot) {\n    if (deviceSlot === void 0) {\n      if (this._firstDevice[deviceType] === void 0) {\n        return null;\n      }\n      deviceSlot = this._firstDevice[deviceType];\n    }\n    if (!this._devices[deviceType] || this._devices[deviceType][deviceSlot] === void 0) {\n      return null;\n    }\n    return this._devices[deviceType][deviceSlot];\n  };\n  DeviceSourceManager2.prototype.getDeviceSources = function(deviceType) {\n    return this._devices[deviceType].filter(function(source) {\n      return !!source;\n    });\n  };\n  DeviceSourceManager2.prototype.dispose = function() {\n    this.onDeviceConnectedObservable.clear();\n    this.onDeviceDisconnectedObservable.clear();\n    if (this._engine._deviceSourceManager) {\n      this._engine._deviceSourceManager.unregisterManager(this);\n      if (--this._engine._deviceSourceManager._refCount < 1) {\n        this._engine._deviceSourceManager.dispose();\n        delete this._engine._deviceSourceManager;\n      }\n    }\n    this._engine.onDisposeObservable.remove(this._onDisposeObserver);\n  };\n  DeviceSourceManager2.prototype._addDevice = function(deviceSource) {\n    if (!this._devices[deviceSource.deviceType]) {\n      this._devices[deviceSource.deviceType] = new Array();\n    }\n    if (!this._devices[deviceSource.deviceType][deviceSource.deviceSlot]) {\n      this._devices[deviceSource.deviceType][deviceSource.deviceSlot] = deviceSource;\n      this._updateFirstDevices(deviceSource.deviceType);\n    }\n    this.onDeviceConnectedObservable.notifyObservers(deviceSource);\n  };\n  DeviceSourceManager2.prototype._removeDevice = function(deviceType, deviceSlot) {\n    var _a, _b;\n    var deviceSource = (_a = this._devices[deviceType]) === null || _a === void 0 ? void 0 : _a[deviceSlot];\n    this.onDeviceDisconnectedObservable.notifyObservers(deviceSource);\n    if ((_b = this._devices[deviceType]) === null || _b === void 0 ? void 0 : _b[deviceSlot]) {\n      delete this._devices[deviceType][deviceSlot];\n    }\n    this._updateFirstDevices(deviceType);\n  };\n  DeviceSourceManager2.prototype._onInputChanged = function(deviceType, deviceSlot, eventData) {\n    var _a, _b;\n    (_b = (_a = this._devices[deviceType]) === null || _a === void 0 ? void 0 : _a[deviceSlot]) === null || _b === void 0 ? void 0 : _b.onInputChangedObservable.notifyObservers(eventData);\n  };\n  DeviceSourceManager2.prototype._updateFirstDevices = function(type) {\n    switch (type) {\n      case DeviceType.Keyboard:\n      case DeviceType.Mouse:\n        this._firstDevice[type] = 0;\n        break;\n      case DeviceType.Touch:\n      case DeviceType.DualSense:\n      case DeviceType.DualShock:\n      case DeviceType.Xbox:\n      case DeviceType.Switch:\n      case DeviceType.Generic: {\n        delete this._firstDevice[type];\n        var devices = this._devices[type];\n        if (devices) {\n          for (var i = 0; i < devices.length; i++) {\n            if (devices[i]) {\n              this._firstDevice[type] = i;\n              break;\n            }\n          }\n        }\n        break;\n      }\n    }\n  };\n  return DeviceSourceManager2;\n}();\nvar _ClickInfo = function() {\n  function _ClickInfo2() {\n    this._singleClick = false;\n    this._doubleClick = false;\n    this._hasSwiped = false;\n    this._ignore = false;\n  }\n  Object.defineProperty(_ClickInfo2.prototype, \"singleClick\", {\n    get: function() {\n      return this._singleClick;\n    },\n    set: function(b) {\n      this._singleClick = b;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(_ClickInfo2.prototype, \"doubleClick\", {\n    get: function() {\n      return this._doubleClick;\n    },\n    set: function(b) {\n      this._doubleClick = b;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(_ClickInfo2.prototype, \"hasSwiped\", {\n    get: function() {\n      return this._hasSwiped;\n    },\n    set: function(b) {\n      this._hasSwiped = b;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(_ClickInfo2.prototype, \"ignore\", {\n    get: function() {\n      return this._ignore;\n    },\n    set: function(b) {\n      this._ignore = b;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return _ClickInfo2;\n}();\nvar InputManager = function() {\n  function InputManager2(scene) {\n    this._alreadyAttached = false;\n    this._meshPickProceed = false;\n    this._currentPickResult = null;\n    this._previousPickResult = null;\n    this._totalPointersPressed = 0;\n    this._doubleClickOccured = false;\n    this._pointerX = 0;\n    this._pointerY = 0;\n    this._startingPointerPosition = new Vector2(0, 0);\n    this._previousStartingPointerPosition = new Vector2(0, 0);\n    this._startingPointerTime = 0;\n    this._previousStartingPointerTime = 0;\n    this._pointerCaptures = {};\n    this._meshUnderPointerId = {};\n    this._deviceSourceManager = null;\n    this._scene = scene || EngineStore.LastCreatedScene;\n    if (!this._scene) {\n      return;\n    }\n  }\n  Object.defineProperty(InputManager2.prototype, \"meshUnderPointer\", {\n    get: function() {\n      return this._pointerOverMesh;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  InputManager2.prototype.getMeshUnderPointerByPointerId = function(pointerId) {\n    return this._meshUnderPointerId[pointerId] || null;\n  };\n  Object.defineProperty(InputManager2.prototype, \"unTranslatedPointer\", {\n    get: function() {\n      return new Vector2(this._unTranslatedPointerX, this._unTranslatedPointerY);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(InputManager2.prototype, \"pointerX\", {\n    get: function() {\n      return this._pointerX;\n    },\n    set: function(value) {\n      this._pointerX = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(InputManager2.prototype, \"pointerY\", {\n    get: function() {\n      return this._pointerY;\n    },\n    set: function(value) {\n      this._pointerY = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  InputManager2.prototype._updatePointerPosition = function(evt) {\n    var canvasRect = this._scene.getEngine().getInputElementClientRect();\n    if (!canvasRect) {\n      return;\n    }\n    this._pointerX = evt.clientX - canvasRect.left;\n    this._pointerY = evt.clientY - canvasRect.top;\n    this._unTranslatedPointerX = this._pointerX;\n    this._unTranslatedPointerY = this._pointerY;\n  };\n  InputManager2.prototype._processPointerMove = function(pickResult, evt) {\n    var scene = this._scene;\n    var engine = scene.getEngine();\n    var canvas = engine.getInputElement();\n    if (canvas) {\n      canvas.tabIndex = engine.canvasTabIndex;\n      if (!scene.doNotHandleCursors) {\n        canvas.style.cursor = scene.defaultCursor;\n      }\n    }\n    var isMeshPicked = pickResult && pickResult.hit && pickResult.pickedMesh ? true : false;\n    if (isMeshPicked) {\n      scene.setPointerOverMesh(pickResult.pickedMesh, evt.pointerId, pickResult);\n      if (!scene.doNotHandleCursors && canvas && this._pointerOverMesh) {\n        var actionManager = this._pointerOverMesh._getActionManagerForTrigger();\n        if (actionManager && actionManager.hasPointerTriggers) {\n          canvas.style.cursor = actionManager.hoverCursor || scene.hoverCursor;\n        }\n      }\n    } else {\n      scene.setPointerOverMesh(null, evt.pointerId, pickResult);\n    }\n    for (var _i = 0, _a = scene._pointerMoveStage; _i < _a.length; _i++) {\n      var step = _a[_i];\n      pickResult = step.action(this._unTranslatedPointerX, this._unTranslatedPointerY, pickResult, isMeshPicked, canvas);\n    }\n    if (pickResult) {\n      var type = evt.type === \"wheel\" || evt.type === \"mousewheel\" || evt.type === \"DOMMouseScroll\" ? PointerEventTypes.POINTERWHEEL : PointerEventTypes.POINTERMOVE;\n      if (scene.onPointerMove) {\n        scene.onPointerMove(evt, pickResult, type);\n      }\n      if (scene.onPointerObservable.hasObservers()) {\n        var pi = new PointerInfo(type, evt, pickResult);\n        this._setRayOnPointerInfo(pi);\n        scene.onPointerObservable.notifyObservers(pi, type);\n      }\n    }\n  };\n  InputManager2.prototype._setRayOnPointerInfo = function(pointerInfo) {\n    var scene = this._scene;\n    if (pointerInfo.pickInfo && !pointerInfo.pickInfo._pickingUnavailable) {\n      if (!pointerInfo.pickInfo.ray) {\n        pointerInfo.pickInfo.ray = scene.createPickingRay(pointerInfo.event.offsetX, pointerInfo.event.offsetY, Matrix.Identity(), scene.activeCamera);\n      }\n    }\n  };\n  InputManager2.prototype._checkPrePointerObservable = function(pickResult, evt, type) {\n    var scene = this._scene;\n    var pi = new PointerInfoPre(type, evt, this._unTranslatedPointerX, this._unTranslatedPointerY);\n    if (pickResult) {\n      pi.ray = pickResult.ray;\n      if (pickResult.originMesh) {\n        pi.nearInteractionPickingInfo = pickResult;\n      }\n    }\n    scene.onPrePointerObservable.notifyObservers(pi, type);\n    if (pi.skipOnPointerObservable) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  InputManager2.prototype.simulatePointerMove = function(pickResult, pointerEventInit) {\n    var evt = new PointerEvent(\"pointermove\", pointerEventInit);\n    evt.inputIndex = PointerInput.Move;\n    if (this._checkPrePointerObservable(pickResult, evt, PointerEventTypes.POINTERMOVE)) {\n      return;\n    }\n    this._processPointerMove(pickResult, evt);\n  };\n  InputManager2.prototype.simulatePointerDown = function(pickResult, pointerEventInit) {\n    var evt = new PointerEvent(\"pointerdown\", pointerEventInit);\n    evt.inputIndex = evt.button + 2;\n    if (this._checkPrePointerObservable(pickResult, evt, PointerEventTypes.POINTERDOWN)) {\n      return;\n    }\n    this._processPointerDown(pickResult, evt);\n  };\n  InputManager2.prototype._processPointerDown = function(pickResult, evt) {\n    var _this = this;\n    var scene = this._scene;\n    if (pickResult && pickResult.hit && pickResult.pickedMesh) {\n      this._pickedDownMesh = pickResult.pickedMesh;\n      var actionManager_1 = pickResult.pickedMesh._getActionManagerForTrigger();\n      if (actionManager_1) {\n        if (actionManager_1.hasPickTriggers) {\n          actionManager_1.processTrigger(5, ActionEvent.CreateNew(pickResult.pickedMesh, evt));\n          switch (evt.button) {\n            case 0:\n              actionManager_1.processTrigger(2, ActionEvent.CreateNew(pickResult.pickedMesh, evt));\n              break;\n            case 1:\n              actionManager_1.processTrigger(4, ActionEvent.CreateNew(pickResult.pickedMesh, evt));\n              break;\n            case 2:\n              actionManager_1.processTrigger(3, ActionEvent.CreateNew(pickResult.pickedMesh, evt));\n              break;\n          }\n        }\n        if (actionManager_1.hasSpecificTrigger(8)) {\n          window.setTimeout(function() {\n            var pickResult2 = scene.pick(_this._unTranslatedPointerX, _this._unTranslatedPointerY, function(mesh) {\n              return mesh.isPickable && mesh.isVisible && mesh.isReady() && mesh.actionManager && mesh.actionManager.hasSpecificTrigger(8) && mesh === _this._pickedDownMesh;\n            }, false, scene.cameraToUseForPointers);\n            if (pickResult2 && pickResult2.hit && pickResult2.pickedMesh && actionManager_1) {\n              if (_this._totalPointersPressed !== 0 && Date.now() - _this._startingPointerTime > InputManager2.LongPressDelay && !_this._isPointerSwiping()) {\n                _this._startingPointerTime = 0;\n                actionManager_1.processTrigger(8, ActionEvent.CreateNew(pickResult2.pickedMesh, evt));\n              }\n            }\n          }, InputManager2.LongPressDelay);\n        }\n      }\n    } else {\n      for (var _i = 0, _a = scene._pointerDownStage; _i < _a.length; _i++) {\n        var step = _a[_i];\n        pickResult = step.action(this._unTranslatedPointerX, this._unTranslatedPointerY, pickResult, evt);\n      }\n    }\n    if (pickResult) {\n      var type = PointerEventTypes.POINTERDOWN;\n      if (scene.onPointerDown) {\n        scene.onPointerDown(evt, pickResult, type);\n      }\n      if (scene.onPointerObservable.hasObservers()) {\n        var pi = new PointerInfo(type, evt, pickResult);\n        this._setRayOnPointerInfo(pi);\n        scene.onPointerObservable.notifyObservers(pi, type);\n      }\n    }\n  };\n  InputManager2.prototype._isPointerSwiping = function() {\n    return Math.abs(this._startingPointerPosition.x - this._pointerX) > InputManager2.DragMovementThreshold || Math.abs(this._startingPointerPosition.y - this._pointerY) > InputManager2.DragMovementThreshold;\n  };\n  InputManager2.prototype.simulatePointerUp = function(pickResult, pointerEventInit, doubleTap) {\n    var evt = new PointerEvent(\"pointerup\", pointerEventInit);\n    evt.inputIndex = PointerInput.Move;\n    var clickInfo = new _ClickInfo();\n    if (doubleTap) {\n      clickInfo.doubleClick = true;\n    } else {\n      clickInfo.singleClick = true;\n    }\n    if (this._checkPrePointerObservable(pickResult, evt, PointerEventTypes.POINTERUP)) {\n      return;\n    }\n    this._processPointerUp(pickResult, evt, clickInfo);\n  };\n  InputManager2.prototype._processPointerUp = function(pickResult, evt, clickInfo) {\n    var scene = this._scene;\n    if (pickResult && pickResult.hit && pickResult.pickedMesh) {\n      this._pickedUpMesh = pickResult.pickedMesh;\n      if (this._pickedDownMesh === this._pickedUpMesh) {\n        if (scene.onPointerPick) {\n          scene.onPointerPick(evt, pickResult);\n        }\n        if (clickInfo.singleClick && !clickInfo.ignore && scene.onPointerObservable.hasObservers()) {\n          var type_1 = PointerEventTypes.POINTERPICK;\n          var pi = new PointerInfo(type_1, evt, pickResult);\n          this._setRayOnPointerInfo(pi);\n          scene.onPointerObservable.notifyObservers(pi, type_1);\n        }\n      }\n      var actionManager = pickResult.pickedMesh._getActionManagerForTrigger();\n      if (actionManager && !clickInfo.ignore) {\n        actionManager.processTrigger(7, ActionEvent.CreateNew(pickResult.pickedMesh, evt, pickResult));\n        if (!clickInfo.hasSwiped && clickInfo.singleClick) {\n          actionManager.processTrigger(1, ActionEvent.CreateNew(pickResult.pickedMesh, evt, pickResult));\n        }\n        var doubleClickActionManager = pickResult.pickedMesh._getActionManagerForTrigger(6);\n        if (clickInfo.doubleClick && doubleClickActionManager) {\n          doubleClickActionManager.processTrigger(6, ActionEvent.CreateNew(pickResult.pickedMesh, evt, pickResult));\n        }\n      }\n    } else {\n      if (!clickInfo.ignore) {\n        for (var _i = 0, _a = scene._pointerUpStage; _i < _a.length; _i++) {\n          var step = _a[_i];\n          pickResult = step.action(this._unTranslatedPointerX, this._unTranslatedPointerY, pickResult, evt);\n        }\n      }\n    }\n    if (this._pickedDownMesh && this._pickedDownMesh !== this._pickedUpMesh) {\n      var pickedDownActionManager = this._pickedDownMesh._getActionManagerForTrigger(16);\n      if (pickedDownActionManager) {\n        pickedDownActionManager.processTrigger(16, ActionEvent.CreateNew(this._pickedDownMesh, evt));\n      }\n    }\n    var type = 0;\n    if (scene.onPointerObservable.hasObservers()) {\n      if (!clickInfo.ignore && !clickInfo.hasSwiped) {\n        if (clickInfo.singleClick && scene.onPointerObservable.hasSpecificMask(PointerEventTypes.POINTERTAP)) {\n          type = PointerEventTypes.POINTERTAP;\n        } else if (clickInfo.doubleClick && scene.onPointerObservable.hasSpecificMask(PointerEventTypes.POINTERDOUBLETAP)) {\n          type = PointerEventTypes.POINTERDOUBLETAP;\n        }\n        if (type) {\n          var pi = new PointerInfo(type, evt, pickResult);\n          this._setRayOnPointerInfo(pi);\n          scene.onPointerObservable.notifyObservers(pi, type);\n        }\n      }\n      if (!clickInfo.ignore) {\n        type = PointerEventTypes.POINTERUP;\n        var pi = new PointerInfo(type, evt, pickResult);\n        this._setRayOnPointerInfo(pi);\n        scene.onPointerObservable.notifyObservers(pi, type);\n      }\n    }\n    if (scene.onPointerUp && !clickInfo.ignore) {\n      scene.onPointerUp(evt, pickResult, type);\n    }\n  };\n  InputManager2.prototype.isPointerCaptured = function(pointerId) {\n    if (pointerId === void 0) {\n      pointerId = 0;\n    }\n    return this._pointerCaptures[pointerId];\n  };\n  InputManager2.prototype.attachControl = function(attachUp, attachDown, attachMove, elementToAttachTo) {\n    var _this = this;\n    if (attachUp === void 0) {\n      attachUp = true;\n    }\n    if (attachDown === void 0) {\n      attachDown = true;\n    }\n    if (attachMove === void 0) {\n      attachMove = true;\n    }\n    if (elementToAttachTo === void 0) {\n      elementToAttachTo = null;\n    }\n    var scene = this._scene;\n    var engine = scene.getEngine();\n    if (!elementToAttachTo) {\n      elementToAttachTo = engine.getInputElement();\n    }\n    if (this._alreadyAttached) {\n      this.detachControl();\n    }\n    if (elementToAttachTo) {\n      this._alreadyAttachedTo = elementToAttachTo;\n    }\n    this._deviceSourceManager = new DeviceSourceManager(engine);\n    this._initActionManager = function(act) {\n      if (!_this._meshPickProceed) {\n        var pickResult = scene.skipPointerUpPicking ? null : scene.pick(_this._unTranslatedPointerX, _this._unTranslatedPointerY, scene.pointerUpPredicate, false, scene.cameraToUseForPointers);\n        _this._currentPickResult = pickResult;\n        if (pickResult) {\n          act = pickResult.hit && pickResult.pickedMesh ? pickResult.pickedMesh._getActionManagerForTrigger() : null;\n        }\n        _this._meshPickProceed = true;\n      }\n      return act;\n    };\n    this._delayedSimpleClick = function(btn, clickInfo, cb) {\n      if (Date.now() - _this._previousStartingPointerTime > InputManager2.DoubleClickDelay && !_this._doubleClickOccured || btn !== _this._previousButtonPressed) {\n        _this._doubleClickOccured = false;\n        clickInfo.singleClick = true;\n        clickInfo.ignore = false;\n        cb(clickInfo, _this._currentPickResult);\n      }\n    };\n    this._initClickEvent = function(obs1, obs2, evt, cb) {\n      var clickInfo = new _ClickInfo();\n      _this._currentPickResult = null;\n      var act = null;\n      var checkPicking = obs1.hasSpecificMask(PointerEventTypes.POINTERPICK) || obs2.hasSpecificMask(PointerEventTypes.POINTERPICK) || obs1.hasSpecificMask(PointerEventTypes.POINTERTAP) || obs2.hasSpecificMask(PointerEventTypes.POINTERTAP) || obs1.hasSpecificMask(PointerEventTypes.POINTERDOUBLETAP) || obs2.hasSpecificMask(PointerEventTypes.POINTERDOUBLETAP);\n      if (!checkPicking && AbstractActionManager) {\n        act = _this._initActionManager(act, clickInfo);\n        if (act) {\n          checkPicking = act.hasPickTriggers;\n        }\n      }\n      var needToIgnoreNext = false;\n      if (checkPicking) {\n        var btn = evt.button;\n        clickInfo.hasSwiped = _this._isPointerSwiping();\n        if (!clickInfo.hasSwiped) {\n          var checkSingleClickImmediately = !InputManager2.ExclusiveDoubleClickMode;\n          if (!checkSingleClickImmediately) {\n            checkSingleClickImmediately = !obs1.hasSpecificMask(PointerEventTypes.POINTERDOUBLETAP) && !obs2.hasSpecificMask(PointerEventTypes.POINTERDOUBLETAP);\n            if (checkSingleClickImmediately && !AbstractActionManager.HasSpecificTrigger(6)) {\n              act = _this._initActionManager(act, clickInfo);\n              if (act) {\n                checkSingleClickImmediately = !act.hasSpecificTrigger(6);\n              }\n            }\n          }\n          if (checkSingleClickImmediately) {\n            if (Date.now() - _this._previousStartingPointerTime > InputManager2.DoubleClickDelay || btn !== _this._previousButtonPressed) {\n              clickInfo.singleClick = true;\n              cb(clickInfo, _this._currentPickResult);\n              needToIgnoreNext = true;\n            }\n          } else {\n            _this._previousDelayedSimpleClickTimeout = _this._delayedSimpleClickTimeout;\n            _this._delayedSimpleClickTimeout = window.setTimeout(_this._delayedSimpleClick.bind(_this, btn, clickInfo, cb), InputManager2.DoubleClickDelay);\n          }\n          var checkDoubleClick = obs1.hasSpecificMask(PointerEventTypes.POINTERDOUBLETAP) || obs2.hasSpecificMask(PointerEventTypes.POINTERDOUBLETAP);\n          if (!checkDoubleClick && AbstractActionManager.HasSpecificTrigger(6)) {\n            act = _this._initActionManager(act, clickInfo);\n            if (act) {\n              checkDoubleClick = act.hasSpecificTrigger(6);\n            }\n          }\n          if (checkDoubleClick) {\n            if (btn === _this._previousButtonPressed && Date.now() - _this._previousStartingPointerTime < InputManager2.DoubleClickDelay && !_this._doubleClickOccured) {\n              if (!clickInfo.hasSwiped && !_this._isPointerSwiping()) {\n                _this._previousStartingPointerTime = 0;\n                _this._doubleClickOccured = true;\n                clickInfo.doubleClick = true;\n                clickInfo.ignore = false;\n                if (InputManager2.ExclusiveDoubleClickMode && _this._previousDelayedSimpleClickTimeout) {\n                  clearTimeout(_this._previousDelayedSimpleClickTimeout);\n                }\n                _this._previousDelayedSimpleClickTimeout = _this._delayedSimpleClickTimeout;\n                cb(clickInfo, _this._currentPickResult);\n              } else {\n                _this._doubleClickOccured = false;\n                _this._previousStartingPointerTime = _this._startingPointerTime;\n                _this._previousStartingPointerPosition.x = _this._startingPointerPosition.x;\n                _this._previousStartingPointerPosition.y = _this._startingPointerPosition.y;\n                _this._previousButtonPressed = btn;\n                if (InputManager2.ExclusiveDoubleClickMode) {\n                  if (_this._previousDelayedSimpleClickTimeout) {\n                    clearTimeout(_this._previousDelayedSimpleClickTimeout);\n                  }\n                  _this._previousDelayedSimpleClickTimeout = _this._delayedSimpleClickTimeout;\n                  cb(clickInfo, _this._previousPickResult);\n                } else {\n                  cb(clickInfo, _this._currentPickResult);\n                }\n              }\n              needToIgnoreNext = true;\n            } else {\n              _this._doubleClickOccured = false;\n              _this._previousStartingPointerTime = _this._startingPointerTime;\n              _this._previousStartingPointerPosition.x = _this._startingPointerPosition.x;\n              _this._previousStartingPointerPosition.y = _this._startingPointerPosition.y;\n              _this._previousButtonPressed = btn;\n            }\n          }\n        }\n      }\n      if (!needToIgnoreNext) {\n        cb(clickInfo, _this._currentPickResult);\n      }\n    };\n    this._onPointerMove = function(evt) {\n      if (evt.pointerId === void 0) {\n        evt.pointerId = 0;\n      }\n      _this._updatePointerPosition(evt);\n      if (_this._checkPrePointerObservable(null, evt, evt.type === \"wheel\" || evt.type === \"mousewheel\" || evt.type === \"DOMMouseScroll\" ? PointerEventTypes.POINTERWHEEL : PointerEventTypes.POINTERMOVE)) {\n        return;\n      }\n      if (!scene.cameraToUseForPointers && !scene.activeCamera) {\n        return;\n      }\n      if (scene.skipPointerMovePicking) {\n        _this._processPointerMove(new PickingInfo(), evt);\n        return;\n      }\n      if (!scene.pointerMovePredicate) {\n        scene.pointerMovePredicate = function(mesh) {\n          return mesh.isPickable && mesh.isVisible && mesh.isReady() && mesh.isEnabled() && (mesh.enablePointerMoveEvents || scene.constantlyUpdateMeshUnderPointer || mesh._getActionManagerForTrigger() !== null) && (!scene.cameraToUseForPointers || (scene.cameraToUseForPointers.layerMask & mesh.layerMask) !== 0);\n        };\n      }\n      var pickResult = scene.pick(_this._unTranslatedPointerX, _this._unTranslatedPointerY, scene.pointerMovePredicate, false, scene.cameraToUseForPointers, scene.pointerMoveTrianglePredicate);\n      _this._processPointerMove(pickResult, evt);\n    };\n    this._onPointerDown = function(evt) {\n      _this._totalPointersPressed++;\n      _this._pickedDownMesh = null;\n      _this._meshPickProceed = false;\n      if (evt.pointerId === void 0) {\n        evt.pointerId = 0;\n      }\n      _this._updatePointerPosition(evt);\n      if (scene.preventDefaultOnPointerDown && elementToAttachTo) {\n        evt.preventDefault();\n        elementToAttachTo.focus();\n      }\n      _this._startingPointerPosition.x = _this._pointerX;\n      _this._startingPointerPosition.y = _this._pointerY;\n      _this._startingPointerTime = Date.now();\n      if (_this._checkPrePointerObservable(null, evt, PointerEventTypes.POINTERDOWN)) {\n        return;\n      }\n      if (!scene.cameraToUseForPointers && !scene.activeCamera) {\n        return;\n      }\n      _this._pointerCaptures[evt.pointerId] = true;\n      if (!scene.pointerDownPredicate) {\n        scene.pointerDownPredicate = function(mesh) {\n          return mesh.isPickable && mesh.isVisible && mesh.isReady() && mesh.isEnabled() && (!scene.cameraToUseForPointers || (scene.cameraToUseForPointers.layerMask & mesh.layerMask) !== 0);\n        };\n      }\n      _this._pickedDownMesh = null;\n      var pickResult;\n      if (scene.skipPointerDownPicking) {\n        pickResult = new PickingInfo();\n      } else {\n        pickResult = scene.pick(_this._unTranslatedPointerX, _this._unTranslatedPointerY, scene.pointerDownPredicate, false, scene.cameraToUseForPointers);\n      }\n      _this._processPointerDown(pickResult, evt);\n    };\n    this._onPointerUp = function(evt) {\n      if (_this._totalPointersPressed === 0) {\n        return;\n      }\n      _this._totalPointersPressed--;\n      _this._pickedUpMesh = null;\n      _this._meshPickProceed = false;\n      if (evt.pointerId === void 0) {\n        evt.pointerId = 0;\n      }\n      _this._updatePointerPosition(evt);\n      if (scene.preventDefaultOnPointerUp && elementToAttachTo) {\n        evt.preventDefault();\n        elementToAttachTo.focus();\n      }\n      _this._initClickEvent(scene.onPrePointerObservable, scene.onPointerObservable, evt, function(clickInfo, pickResult) {\n        if (scene.onPrePointerObservable.hasObservers()) {\n          if (!clickInfo.ignore) {\n            if (!clickInfo.hasSwiped) {\n              if (clickInfo.singleClick && scene.onPrePointerObservable.hasSpecificMask(PointerEventTypes.POINTERTAP)) {\n                if (_this._checkPrePointerObservable(null, evt, PointerEventTypes.POINTERTAP)) {\n                  return;\n                }\n              }\n              if (clickInfo.doubleClick && scene.onPrePointerObservable.hasSpecificMask(PointerEventTypes.POINTERDOUBLETAP)) {\n                if (_this._checkPrePointerObservable(null, evt, PointerEventTypes.POINTERDOUBLETAP)) {\n                  return;\n                }\n              }\n            }\n            if (_this._checkPrePointerObservable(null, evt, PointerEventTypes.POINTERUP)) {\n              return;\n            }\n          }\n        }\n        if (!_this._pointerCaptures[evt.pointerId] && evt.buttons > 0) {\n          return;\n        }\n        _this._pointerCaptures[evt.pointerId] = false;\n        if (!scene.cameraToUseForPointers && !scene.activeCamera) {\n          return;\n        }\n        if (!scene.pointerUpPredicate) {\n          scene.pointerUpPredicate = function(mesh) {\n            return mesh.isPickable && mesh.isVisible && mesh.isReady() && mesh.isEnabled() && (!scene.cameraToUseForPointers || (scene.cameraToUseForPointers.layerMask & mesh.layerMask) !== 0);\n          };\n        }\n        if (!_this._meshPickProceed && (AbstractActionManager && AbstractActionManager.HasTriggers || scene.onPointerObservable.hasObservers())) {\n          _this._initActionManager(null, clickInfo);\n        }\n        if (!pickResult) {\n          pickResult = _this._currentPickResult;\n        }\n        _this._processPointerUp(pickResult, evt, clickInfo);\n        _this._previousPickResult = _this._currentPickResult;\n      });\n    };\n    this._onKeyDown = function(evt) {\n      var type = KeyboardEventTypes.KEYDOWN;\n      if (scene.onPreKeyboardObservable.hasObservers()) {\n        var pi = new KeyboardInfoPre(type, evt);\n        scene.onPreKeyboardObservable.notifyObservers(pi, type);\n        if (pi.skipOnKeyboardObservable) {\n          return;\n        }\n      }\n      if (scene.onKeyboardObservable.hasObservers()) {\n        var pi = new KeyboardInfo(type, evt);\n        scene.onKeyboardObservable.notifyObservers(pi, type);\n      }\n      if (scene.actionManager) {\n        scene.actionManager.processTrigger(14, ActionEvent.CreateNewFromScene(scene, evt));\n      }\n    };\n    this._onKeyUp = function(evt) {\n      var type = KeyboardEventTypes.KEYUP;\n      if (scene.onPreKeyboardObservable.hasObservers()) {\n        var pi = new KeyboardInfoPre(type, evt);\n        scene.onPreKeyboardObservable.notifyObservers(pi, type);\n        if (pi.skipOnKeyboardObservable) {\n          return;\n        }\n      }\n      if (scene.onKeyboardObservable.hasObservers()) {\n        var pi = new KeyboardInfo(type, evt);\n        scene.onKeyboardObservable.notifyObservers(pi, type);\n      }\n      if (scene.actionManager) {\n        scene.actionManager.processTrigger(15, ActionEvent.CreateNewFromScene(scene, evt));\n      }\n    };\n    this._deviceSourceManager.onDeviceConnectedObservable.add(function(deviceSource) {\n      if (deviceSource.deviceType === DeviceType.Mouse) {\n        deviceSource.onInputChangedObservable.add(function(eventData) {\n          if (eventData.inputIndex === PointerInput.LeftClick || eventData.inputIndex === PointerInput.MiddleClick || eventData.inputIndex === PointerInput.RightClick) {\n            if (attachDown && deviceSource.getInput(eventData.inputIndex) === 1) {\n              _this._onPointerDown(eventData);\n            } else if (attachUp && deviceSource.getInput(eventData.inputIndex) === 0) {\n              _this._onPointerUp(eventData);\n            }\n          } else if (attachMove) {\n            if (eventData.inputIndex === PointerInput.Move) {\n              _this._onPointerMove(eventData);\n            } else if (eventData.inputIndex === PointerInput.MouseWheelX || eventData.inputIndex === PointerInput.MouseWheelY || eventData.inputIndex === PointerInput.MouseWheelZ) {\n              _this._onPointerMove(eventData);\n            }\n          }\n        });\n      } else if (deviceSource.deviceType === DeviceType.Touch) {\n        deviceSource.onInputChangedObservable.add(function(eventData) {\n          if (eventData.inputIndex === PointerInput.LeftClick) {\n            if (attachDown && deviceSource.getInput(eventData.inputIndex) === 1) {\n              _this._onPointerDown(eventData);\n            } else if (attachUp && deviceSource.getInput(eventData.inputIndex) === 0) {\n              _this._onPointerUp(eventData);\n            }\n          }\n          if (attachMove && eventData.inputIndex === PointerInput.Move) {\n            _this._onPointerMove(eventData);\n          }\n        });\n      } else if (deviceSource.deviceType === DeviceType.Keyboard) {\n        deviceSource.onInputChangedObservable.add(function(eventData) {\n          if (eventData.type === \"keydown\") {\n            _this._onKeyDown(eventData);\n          } else if (eventData.type === \"keyup\") {\n            _this._onKeyUp(eventData);\n          }\n        });\n      }\n    });\n    this._alreadyAttached = true;\n  };\n  InputManager2.prototype.detachControl = function() {\n    if (this._alreadyAttached) {\n      this._deviceSourceManager.dispose();\n      this._deviceSourceManager = null;\n      if (this._alreadyAttachedTo && !this._scene.doNotHandleCursors) {\n        this._alreadyAttachedTo.style.cursor = this._scene.defaultCursor;\n      }\n      this._alreadyAttached = false;\n      this._alreadyAttachedTo = null;\n    }\n  };\n  InputManager2.prototype.setPointerOverMesh = function(mesh, pointerId, pickResult) {\n    if (pointerId === void 0) {\n      pointerId = 0;\n    }\n    if (this._meshUnderPointerId[pointerId] === mesh) {\n      return;\n    }\n    var underPointerMesh = this._meshUnderPointerId[pointerId];\n    var actionManager;\n    if (underPointerMesh) {\n      actionManager = underPointerMesh._getActionManagerForTrigger(10);\n      if (actionManager) {\n        actionManager.processTrigger(10, ActionEvent.CreateNew(underPointerMesh, void 0, { pointerId }));\n      }\n    }\n    if (mesh) {\n      this._meshUnderPointerId[pointerId] = mesh;\n      this._pointerOverMesh = mesh;\n      actionManager = mesh._getActionManagerForTrigger(9);\n      if (actionManager) {\n        actionManager.processTrigger(9, ActionEvent.CreateNew(mesh, void 0, { pointerId, pickResult }));\n      }\n    } else {\n      delete this._meshUnderPointerId[pointerId];\n      this._pointerOverMesh = null;\n    }\n  };\n  InputManager2.prototype.getPointerOverMesh = function() {\n    return this._pointerOverMesh;\n  };\n  InputManager2.prototype._invalidateMesh = function(mesh) {\n    if (this._pointerOverMesh === mesh) {\n      this._pointerOverMesh = null;\n    }\n    if (this._pickedDownMesh === mesh) {\n      this._pickedDownMesh = null;\n    }\n    if (this._pickedUpMesh === mesh) {\n      this._pickedUpMesh = null;\n    }\n    for (var pointerId in this._meshUnderPointerId) {\n      if (this._meshUnderPointerId[pointerId] === mesh) {\n        delete this._meshUnderPointerId[pointerId];\n      }\n    }\n  };\n  InputManager2.DragMovementThreshold = 10;\n  InputManager2.LongPressDelay = 500;\n  InputManager2.DoubleClickDelay = 300;\n  InputManager2.ExclusiveDoubleClickMode = false;\n  return InputManager2;\n}();\nvar Plane = function() {\n  function Plane2(a, b, c, d) {\n    this.normal = new Vector3(a, b, c);\n    this.d = d;\n  }\n  Plane2.prototype.asArray = function() {\n    return [this.normal.x, this.normal.y, this.normal.z, this.d];\n  };\n  Plane2.prototype.clone = function() {\n    return new Plane2(this.normal.x, this.normal.y, this.normal.z, this.d);\n  };\n  Plane2.prototype.getClassName = function() {\n    return \"Plane\";\n  };\n  Plane2.prototype.getHashCode = function() {\n    var hash = this.normal.getHashCode();\n    hash = hash * 397 ^ (this.d | 0);\n    return hash;\n  };\n  Plane2.prototype.normalize = function() {\n    var norm = Math.sqrt(this.normal.x * this.normal.x + this.normal.y * this.normal.y + this.normal.z * this.normal.z);\n    var magnitude = 0;\n    if (norm !== 0) {\n      magnitude = 1 / norm;\n    }\n    this.normal.x *= magnitude;\n    this.normal.y *= magnitude;\n    this.normal.z *= magnitude;\n    this.d *= magnitude;\n    return this;\n  };\n  Plane2.prototype.transform = function(transformation) {\n    var invertedMatrix = Plane2._TmpMatrix;\n    transformation.invertToRef(invertedMatrix);\n    var m = invertedMatrix.m;\n    var x = this.normal.x;\n    var y = this.normal.y;\n    var z = this.normal.z;\n    var d = this.d;\n    var normalX = x * m[0] + y * m[1] + z * m[2] + d * m[3];\n    var normalY = x * m[4] + y * m[5] + z * m[6] + d * m[7];\n    var normalZ = x * m[8] + y * m[9] + z * m[10] + d * m[11];\n    var finalD = x * m[12] + y * m[13] + z * m[14] + d * m[15];\n    return new Plane2(normalX, normalY, normalZ, finalD);\n  };\n  Plane2.prototype.dotCoordinate = function(point) {\n    return this.normal.x * point.x + this.normal.y * point.y + this.normal.z * point.z + this.d;\n  };\n  Plane2.prototype.copyFromPoints = function(point1, point2, point3) {\n    var x1 = point2.x - point1.x;\n    var y1 = point2.y - point1.y;\n    var z1 = point2.z - point1.z;\n    var x2 = point3.x - point1.x;\n    var y2 = point3.y - point1.y;\n    var z2 = point3.z - point1.z;\n    var yz = y1 * z2 - z1 * y2;\n    var xz = z1 * x2 - x1 * z2;\n    var xy = x1 * y2 - y1 * x2;\n    var pyth = Math.sqrt(yz * yz + xz * xz + xy * xy);\n    var invPyth;\n    if (pyth !== 0) {\n      invPyth = 1 / pyth;\n    } else {\n      invPyth = 0;\n    }\n    this.normal.x = yz * invPyth;\n    this.normal.y = xz * invPyth;\n    this.normal.z = xy * invPyth;\n    this.d = -(this.normal.x * point1.x + this.normal.y * point1.y + this.normal.z * point1.z);\n    return this;\n  };\n  Plane2.prototype.isFrontFacingTo = function(direction, epsilon) {\n    var dot = Vector3.Dot(this.normal, direction);\n    return dot <= epsilon;\n  };\n  Plane2.prototype.signedDistanceTo = function(point) {\n    return Vector3.Dot(point, this.normal) + this.d;\n  };\n  Plane2.FromArray = function(array) {\n    return new Plane2(array[0], array[1], array[2], array[3]);\n  };\n  Plane2.FromPoints = function(point1, point2, point3) {\n    var result = new Plane2(0, 0, 0, 0);\n    result.copyFromPoints(point1, point2, point3);\n    return result;\n  };\n  Plane2.FromPositionAndNormal = function(origin, normal) {\n    var result = new Plane2(0, 0, 0, 0);\n    normal.normalize();\n    result.normal = normal;\n    result.d = -(normal.x * origin.x + normal.y * origin.y + normal.z * origin.z);\n    return result;\n  };\n  Plane2.SignedDistanceToPlaneFromPositionAndNormal = function(origin, normal, point) {\n    var d = -(normal.x * origin.x + normal.y * origin.y + normal.z * origin.z);\n    return Vector3.Dot(point, normal) + d;\n  };\n  Plane2._TmpMatrix = Matrix.Identity();\n  return Plane2;\n}();\nvar Frustum = function() {\n  function Frustum2() {\n  }\n  Frustum2.GetPlanes = function(transform) {\n    var frustumPlanes = [];\n    for (var index = 0; index < 6; index++) {\n      frustumPlanes.push(new Plane(0, 0, 0, 0));\n    }\n    Frustum2.GetPlanesToRef(transform, frustumPlanes);\n    return frustumPlanes;\n  };\n  Frustum2.GetNearPlaneToRef = function(transform, frustumPlane) {\n    var m = transform.m;\n    frustumPlane.normal.x = m[3] + m[2];\n    frustumPlane.normal.y = m[7] + m[6];\n    frustumPlane.normal.z = m[11] + m[10];\n    frustumPlane.d = m[15] + m[14];\n    frustumPlane.normalize();\n  };\n  Frustum2.GetFarPlaneToRef = function(transform, frustumPlane) {\n    var m = transform.m;\n    frustumPlane.normal.x = m[3] - m[2];\n    frustumPlane.normal.y = m[7] - m[6];\n    frustumPlane.normal.z = m[11] - m[10];\n    frustumPlane.d = m[15] - m[14];\n    frustumPlane.normalize();\n  };\n  Frustum2.GetLeftPlaneToRef = function(transform, frustumPlane) {\n    var m = transform.m;\n    frustumPlane.normal.x = m[3] + m[0];\n    frustumPlane.normal.y = m[7] + m[4];\n    frustumPlane.normal.z = m[11] + m[8];\n    frustumPlane.d = m[15] + m[12];\n    frustumPlane.normalize();\n  };\n  Frustum2.GetRightPlaneToRef = function(transform, frustumPlane) {\n    var m = transform.m;\n    frustumPlane.normal.x = m[3] - m[0];\n    frustumPlane.normal.y = m[7] - m[4];\n    frustumPlane.normal.z = m[11] - m[8];\n    frustumPlane.d = m[15] - m[12];\n    frustumPlane.normalize();\n  };\n  Frustum2.GetTopPlaneToRef = function(transform, frustumPlane) {\n    var m = transform.m;\n    frustumPlane.normal.x = m[3] - m[1];\n    frustumPlane.normal.y = m[7] - m[5];\n    frustumPlane.normal.z = m[11] - m[9];\n    frustumPlane.d = m[15] - m[13];\n    frustumPlane.normalize();\n  };\n  Frustum2.GetBottomPlaneToRef = function(transform, frustumPlane) {\n    var m = transform.m;\n    frustumPlane.normal.x = m[3] + m[1];\n    frustumPlane.normal.y = m[7] + m[5];\n    frustumPlane.normal.z = m[11] + m[9];\n    frustumPlane.d = m[15] + m[13];\n    frustumPlane.normalize();\n  };\n  Frustum2.GetPlanesToRef = function(transform, frustumPlanes) {\n    Frustum2.GetNearPlaneToRef(transform, frustumPlanes[0]);\n    Frustum2.GetFarPlaneToRef(transform, frustumPlanes[1]);\n    Frustum2.GetLeftPlaneToRef(transform, frustumPlanes[2]);\n    Frustum2.GetRightPlaneToRef(transform, frustumPlanes[3]);\n    Frustum2.GetTopPlaneToRef(transform, frustumPlanes[4]);\n    Frustum2.GetBottomPlaneToRef(transform, frustumPlanes[5]);\n  };\n  return Frustum2;\n}();\nvar UniqueIdGenerator = function() {\n  function UniqueIdGenerator2() {\n  }\n  Object.defineProperty(UniqueIdGenerator2, \"UniqueId\", {\n    get: function() {\n      var result = this._UniqueIdCounter;\n      this._UniqueIdCounter++;\n      return result;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  UniqueIdGenerator2._UniqueIdCounter = 1;\n  return UniqueIdGenerator2;\n}();\nvar LightConstants = function() {\n  function LightConstants2() {\n  }\n  LightConstants2.CompareLightsPriority = function(a, b) {\n    if (a.shadowEnabled !== b.shadowEnabled) {\n      return (b.shadowEnabled ? 1 : 0) - (a.shadowEnabled ? 1 : 0);\n    }\n    return b.renderPriority - a.renderPriority;\n  };\n  LightConstants2.FALLOFF_DEFAULT = 0;\n  LightConstants2.FALLOFF_PHYSICAL = 1;\n  LightConstants2.FALLOFF_GLTF = 2;\n  LightConstants2.FALLOFF_STANDARD = 3;\n  LightConstants2.LIGHTMAP_DEFAULT = 0;\n  LightConstants2.LIGHTMAP_SPECULAR = 1;\n  LightConstants2.LIGHTMAP_SHADOWSONLY = 2;\n  LightConstants2.INTENSITYMODE_AUTOMATIC = 0;\n  LightConstants2.INTENSITYMODE_LUMINOUSPOWER = 1;\n  LightConstants2.INTENSITYMODE_LUMINOUSINTENSITY = 2;\n  LightConstants2.INTENSITYMODE_ILLUMINANCE = 3;\n  LightConstants2.INTENSITYMODE_LUMINANCE = 4;\n  LightConstants2.LIGHTTYPEID_POINTLIGHT = 0;\n  LightConstants2.LIGHTTYPEID_DIRECTIONALLIGHT = 1;\n  LightConstants2.LIGHTTYPEID_SPOTLIGHT = 2;\n  LightConstants2.LIGHTTYPEID_HEMISPHERICLIGHT = 3;\n  return LightConstants2;\n}();\nvar ComputePressureObserverWrapper = function() {\n  function ComputePressureObserverWrapper2(callback, thresholds) {\n    if (ComputePressureObserverWrapper2.IsAvailable) {\n      this._observer = new window.ComputePressureObserver(callback, thresholds);\n    }\n  }\n  Object.defineProperty(ComputePressureObserverWrapper2, \"IsAvailable\", {\n    get: function() {\n      return IsWindowObjectExist() && \"ComputePressureObserver\" in window;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ComputePressureObserverWrapper2.prototype.observe = function() {\n    var _a, _b;\n    ((_a = this._observer) === null || _a === void 0 ? void 0 : _a.observe) && ((_b = this._observer) === null || _b === void 0 ? void 0 : _b.observe().catch(function() {\n    }));\n  };\n  ComputePressureObserverWrapper2.prototype.unobserve = function() {\n    var _a, _b;\n    ((_a = this._observer) === null || _a === void 0 ? void 0 : _a.unobserve) && ((_b = this._observer) === null || _b === void 0 ? void 0 : _b.unobserve());\n  };\n  return ComputePressureObserverWrapper2;\n}();\nvar Scene = function(_super) {\n  __extends(Scene2, _super);\n  function Scene2(engine, options) {\n    var _this = _super.call(this) || this;\n    _this._inputManager = new InputManager(_this);\n    _this.cameraToUseForPointers = null;\n    _this._isScene = true;\n    _this._blockEntityCollection = false;\n    _this.autoClear = true;\n    _this.autoClearDepthAndStencil = true;\n    _this.clearColor = new Color4$1(0.2, 0.2, 0.3, 1);\n    _this.ambientColor = new Color3(0, 0, 0);\n    _this.environmentIntensity = 1;\n    _this._forceWireframe = false;\n    _this._skipFrustumClipping = false;\n    _this._forcePointsCloud = false;\n    _this.animationsEnabled = true;\n    _this._animationPropertiesOverride = null;\n    _this.useConstantAnimationDeltaTime = false;\n    _this.constantlyUpdateMeshUnderPointer = false;\n    _this.hoverCursor = \"pointer\";\n    _this.defaultCursor = \"\";\n    _this.doNotHandleCursors = false;\n    _this.preventDefaultOnPointerDown = true;\n    _this.preventDefaultOnPointerUp = true;\n    _this.metadata = null;\n    _this.reservedDataStore = null;\n    _this.disableOfflineSupportExceptionRules = new Array();\n    _this.onDisposeObservable = new Observable();\n    _this._onDisposeObserver = null;\n    _this.onBeforeRenderObservable = new Observable();\n    _this._onBeforeRenderObserver = null;\n    _this.onAfterRenderObservable = new Observable();\n    _this.onAfterRenderCameraObservable = new Observable();\n    _this._onAfterRenderObserver = null;\n    _this.onBeforeAnimationsObservable = new Observable();\n    _this.onAfterAnimationsObservable = new Observable();\n    _this.onBeforeDrawPhaseObservable = new Observable();\n    _this.onAfterDrawPhaseObservable = new Observable();\n    _this.onReadyObservable = new Observable();\n    _this.onBeforeCameraRenderObservable = new Observable();\n    _this._onBeforeCameraRenderObserver = null;\n    _this.onAfterCameraRenderObservable = new Observable();\n    _this._onAfterCameraRenderObserver = null;\n    _this.onBeforeActiveMeshesEvaluationObservable = new Observable();\n    _this.onAfterActiveMeshesEvaluationObservable = new Observable();\n    _this.onBeforeParticlesRenderingObservable = new Observable();\n    _this.onAfterParticlesRenderingObservable = new Observable();\n    _this.onDataLoadedObservable = new Observable();\n    _this.onNewCameraAddedObservable = new Observable();\n    _this.onCameraRemovedObservable = new Observable();\n    _this.onNewLightAddedObservable = new Observable();\n    _this.onLightRemovedObservable = new Observable();\n    _this.onNewGeometryAddedObservable = new Observable();\n    _this.onGeometryRemovedObservable = new Observable();\n    _this.onNewTransformNodeAddedObservable = new Observable();\n    _this.onTransformNodeRemovedObservable = new Observable();\n    _this.onNewMeshAddedObservable = new Observable();\n    _this.onMeshRemovedObservable = new Observable();\n    _this.onNewSkeletonAddedObservable = new Observable();\n    _this.onSkeletonRemovedObservable = new Observable();\n    _this.onNewMaterialAddedObservable = new Observable();\n    _this.onNewMultiMaterialAddedObservable = new Observable();\n    _this.onMaterialRemovedObservable = new Observable();\n    _this.onMultiMaterialRemovedObservable = new Observable();\n    _this.onNewTextureAddedObservable = new Observable();\n    _this.onTextureRemovedObservable = new Observable();\n    _this.onBeforeRenderTargetsRenderObservable = new Observable();\n    _this.onAfterRenderTargetsRenderObservable = new Observable();\n    _this.onBeforeStepObservable = new Observable();\n    _this.onAfterStepObservable = new Observable();\n    _this.onActiveCameraChanged = new Observable();\n    _this.onBeforeRenderingGroupObservable = new Observable();\n    _this.onAfterRenderingGroupObservable = new Observable();\n    _this.onMeshImportedObservable = new Observable();\n    _this.onAnimationFileImportedObservable = new Observable();\n    _this._registeredForLateAnimationBindings = new SmartArrayNoDuplicate(256);\n    _this.skipPointerMovePicking = false;\n    _this.skipPointerDownPicking = false;\n    _this.skipPointerUpPicking = false;\n    _this.onPrePointerObservable = new Observable();\n    _this.onPointerObservable = new Observable();\n    _this.onPreKeyboardObservable = new Observable();\n    _this.onKeyboardObservable = new Observable();\n    _this._useRightHandedSystem = false;\n    _this._timeAccumulator = 0;\n    _this._currentStepId = 0;\n    _this._currentInternalStep = 0;\n    _this._fogEnabled = true;\n    _this._fogMode = Scene2.FOGMODE_NONE;\n    _this.fogColor = new Color3(0.2, 0.2, 0.3);\n    _this.fogDensity = 0.1;\n    _this.fogStart = 0;\n    _this.fogEnd = 1e3;\n    _this.needsPreviousWorldMatrices = false;\n    _this._shadowsEnabled = true;\n    _this._lightsEnabled = true;\n    _this.activeCameras = new Array();\n    _this._texturesEnabled = true;\n    _this.physicsEnabled = true;\n    _this.particlesEnabled = true;\n    _this.spritesEnabled = true;\n    _this._skeletonsEnabled = true;\n    _this.lensFlaresEnabled = true;\n    _this.collisionsEnabled = true;\n    _this.gravity = new Vector3(0, -9.807, 0);\n    _this.postProcessesEnabled = true;\n    _this.renderTargetsEnabled = true;\n    _this.dumpNextRenderTargets = false;\n    _this.customRenderTargets = new Array();\n    _this.importedMeshesFiles = new Array();\n    _this.probesEnabled = true;\n    _this._meshesForIntersections = new SmartArrayNoDuplicate(256);\n    _this.proceduralTexturesEnabled = true;\n    _this._totalVertices = new PerfCounter();\n    _this._activeIndices = new PerfCounter();\n    _this._activeParticles = new PerfCounter();\n    _this._activeBones = new PerfCounter();\n    _this._animationTime = 0;\n    _this.animationTimeScale = 1;\n    _this._renderId = 0;\n    _this._frameId = 0;\n    _this._executeWhenReadyTimeoutId = null;\n    _this._intermediateRendering = false;\n    _this._defaultFrameBufferCleared = false;\n    _this._viewUpdateFlag = -1;\n    _this._projectionUpdateFlag = -1;\n    _this._toBeDisposed = new Array(256);\n    _this._activeRequests = new Array();\n    _this._pendingData = new Array();\n    _this._isDisposed = false;\n    _this.dispatchAllSubMeshesOfActiveMeshes = false;\n    _this._activeMeshes = new SmartArray(256);\n    _this._processedMaterials = new SmartArray(256);\n    _this._renderTargets = new SmartArrayNoDuplicate(256);\n    _this._materialsRenderTargets = new SmartArrayNoDuplicate(256);\n    _this._activeParticleSystems = new SmartArray(256);\n    _this._activeSkeletons = new SmartArrayNoDuplicate(32);\n    _this._softwareSkinnedMeshes = new SmartArrayNoDuplicate(32);\n    _this._activeAnimatables = new Array();\n    _this._transformMatrix = Matrix.Zero();\n    _this.requireLightSorting = false;\n    _this._components = [];\n    _this._serializableComponents = [];\n    _this._transientComponents = [];\n    _this._beforeCameraUpdateStage = Stage.Create();\n    _this._beforeClearStage = Stage.Create();\n    _this._beforeRenderTargetClearStage = Stage.Create();\n    _this._gatherRenderTargetsStage = Stage.Create();\n    _this._gatherActiveCameraRenderTargetsStage = Stage.Create();\n    _this._isReadyForMeshStage = Stage.Create();\n    _this._beforeEvaluateActiveMeshStage = Stage.Create();\n    _this._evaluateSubMeshStage = Stage.Create();\n    _this._preActiveMeshStage = Stage.Create();\n    _this._cameraDrawRenderTargetStage = Stage.Create();\n    _this._beforeCameraDrawStage = Stage.Create();\n    _this._beforeRenderTargetDrawStage = Stage.Create();\n    _this._beforeRenderingGroupDrawStage = Stage.Create();\n    _this._beforeRenderingMeshStage = Stage.Create();\n    _this._afterRenderingMeshStage = Stage.Create();\n    _this._afterRenderingGroupDrawStage = Stage.Create();\n    _this._afterCameraDrawStage = Stage.Create();\n    _this._afterRenderTargetDrawStage = Stage.Create();\n    _this._afterRenderStage = Stage.Create();\n    _this._pointerMoveStage = Stage.Create();\n    _this._pointerDownStage = Stage.Create();\n    _this._pointerUpStage = Stage.Create();\n    _this._geometriesByUniqueId = null;\n    _this._defaultMeshCandidates = {\n      data: [],\n      length: 0\n    };\n    _this._defaultSubMeshCandidates = {\n      data: [],\n      length: 0\n    };\n    _this._preventFreeActiveMeshesAndRenderingGroups = false;\n    _this._activeMeshesFrozen = false;\n    _this._activeMeshesFrozenButKeepClipping = false;\n    _this._skipEvaluateActiveMeshesCompletely = false;\n    _this._allowPostProcessClearColor = true;\n    _this.getDeterministicFrameTime = function() {\n      return _this._engine.getTimeStep();\n    };\n    _this._blockMaterialDirtyMechanism = false;\n    _this._perfCollector = null;\n    _this.onComputePressureChanged = new Observable();\n    var fullOptions = __assign({ useGeometryUniqueIdsMap: true, useMaterialMeshMap: true, useClonedMeshMap: true, virtual: false }, options);\n    _this._engine = engine || EngineStore.LastCreatedEngine;\n    if (!fullOptions.virtual) {\n      EngineStore._LastCreatedScene = _this;\n      _this._engine.scenes.push(_this);\n    } else {\n      _this._engine._virtualScenes.push(_this);\n    }\n    _this._uid = null;\n    _this._renderingManager = new RenderingManager(_this);\n    if (PostProcessManager) {\n      _this.postProcessManager = new PostProcessManager(_this);\n    }\n    if (IsWindowObjectExist()) {\n      _this.attachControl();\n    }\n    _this._createUbo();\n    if (ImageProcessingConfiguration) {\n      _this._imageProcessingConfiguration = new ImageProcessingConfiguration();\n    }\n    _this.setDefaultCandidateProviders();\n    if (fullOptions.useGeometryUniqueIdsMap) {\n      _this._geometriesByUniqueId = {};\n    }\n    _this.useMaterialMeshMap = fullOptions.useMaterialMeshMap;\n    _this.useClonedMeshMap = fullOptions.useClonedMeshMap;\n    if (!options || !options.virtual) {\n      _this._engine.onNewSceneAddedObservable.notifyObservers(_this);\n    }\n    if (ComputePressureObserverWrapper.IsAvailable) {\n      _this._computePressureObserver = new ComputePressureObserverWrapper(function(update) {\n        _this.onComputePressureChanged.notifyObservers(update);\n      }, {\n        cpuUtilizationThresholds: [0.25, 0.5, 0.75, 0.9],\n        cpuSpeedThresholds: [0.5]\n      });\n      _this._computePressureObserver.observe();\n    }\n    return _this;\n  }\n  Scene2.DefaultMaterialFactory = function(scene) {\n    throw _WarnImport(\"StandardMaterial\");\n  };\n  Scene2.CollisionCoordinatorFactory = function() {\n    throw _WarnImport(\"DefaultCollisionCoordinator\");\n  };\n  Object.defineProperty(Scene2.prototype, \"environmentTexture\", {\n    get: function() {\n      return this._environmentTexture;\n    },\n    set: function(value) {\n      if (this._environmentTexture === value) {\n        return;\n      }\n      this._environmentTexture = value;\n      this.markAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"imageProcessingConfiguration\", {\n    get: function() {\n      return this._imageProcessingConfiguration;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"forceWireframe\", {\n    get: function() {\n      return this._forceWireframe;\n    },\n    set: function(value) {\n      if (this._forceWireframe === value) {\n        return;\n      }\n      this._forceWireframe = value;\n      this.markAllMaterialsAsDirty(16);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"skipFrustumClipping\", {\n    get: function() {\n      return this._skipFrustumClipping;\n    },\n    set: function(value) {\n      if (this._skipFrustumClipping === value) {\n        return;\n      }\n      this._skipFrustumClipping = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"forcePointsCloud\", {\n    get: function() {\n      return this._forcePointsCloud;\n    },\n    set: function(value) {\n      if (this._forcePointsCloud === value) {\n        return;\n      }\n      this._forcePointsCloud = value;\n      this.markAllMaterialsAsDirty(16);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"animationPropertiesOverride\", {\n    get: function() {\n      return this._animationPropertiesOverride;\n    },\n    set: function(value) {\n      this._animationPropertiesOverride = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"onDispose\", {\n    set: function(callback) {\n      if (this._onDisposeObserver) {\n        this.onDisposeObservable.remove(this._onDisposeObserver);\n      }\n      this._onDisposeObserver = this.onDisposeObservable.add(callback);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"beforeRender\", {\n    set: function(callback) {\n      if (this._onBeforeRenderObserver) {\n        this.onBeforeRenderObservable.remove(this._onBeforeRenderObserver);\n      }\n      if (callback) {\n        this._onBeforeRenderObserver = this.onBeforeRenderObservable.add(callback);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"afterRender\", {\n    set: function(callback) {\n      if (this._onAfterRenderObserver) {\n        this.onAfterRenderObservable.remove(this._onAfterRenderObserver);\n      }\n      if (callback) {\n        this._onAfterRenderObserver = this.onAfterRenderObservable.add(callback);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"beforeCameraRender\", {\n    set: function(callback) {\n      if (this._onBeforeCameraRenderObserver) {\n        this.onBeforeCameraRenderObservable.remove(this._onBeforeCameraRenderObserver);\n      }\n      this._onBeforeCameraRenderObserver = this.onBeforeCameraRenderObservable.add(callback);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"afterCameraRender\", {\n    set: function(callback) {\n      if (this._onAfterCameraRenderObserver) {\n        this.onAfterCameraRenderObservable.remove(this._onAfterCameraRenderObserver);\n      }\n      this._onAfterCameraRenderObserver = this.onAfterCameraRenderObservable.add(callback);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"unTranslatedPointer\", {\n    get: function() {\n      return this._inputManager.unTranslatedPointer;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2, \"DragMovementThreshold\", {\n    get: function() {\n      return InputManager.DragMovementThreshold;\n    },\n    set: function(value) {\n      InputManager.DragMovementThreshold = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2, \"LongPressDelay\", {\n    get: function() {\n      return InputManager.LongPressDelay;\n    },\n    set: function(value) {\n      InputManager.LongPressDelay = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2, \"DoubleClickDelay\", {\n    get: function() {\n      return InputManager.DoubleClickDelay;\n    },\n    set: function(value) {\n      InputManager.DoubleClickDelay = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2, \"ExclusiveDoubleClickMode\", {\n    get: function() {\n      return InputManager.ExclusiveDoubleClickMode;\n    },\n    set: function(value) {\n      InputManager.ExclusiveDoubleClickMode = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Scene2.prototype.bindEyePosition = function(effect, variableName, isVector3) {\n    var _a;\n    if (variableName === void 0) {\n      variableName = \"vEyePosition\";\n    }\n    if (isVector3 === void 0) {\n      isVector3 = false;\n    }\n    var eyePosition = this._forcedViewPosition ? this._forcedViewPosition : this._mirroredCameraPosition ? this._mirroredCameraPosition : (_a = this.activeCamera.globalPosition) !== null && _a !== void 0 ? _a : this.activeCamera.devicePosition;\n    var invertNormal = this.useRightHandedSystem === (this._mirroredCameraPosition != null);\n    TmpVectors.Vector4[0].set(eyePosition.x, eyePosition.y, eyePosition.z, invertNormal ? -1 : 1);\n    if (effect) {\n      if (isVector3) {\n        effect.setFloat3(variableName, TmpVectors.Vector4[0].x, TmpVectors.Vector4[0].y, TmpVectors.Vector4[0].z);\n      } else {\n        effect.setVector4(variableName, TmpVectors.Vector4[0]);\n      }\n    }\n    return TmpVectors.Vector4[0];\n  };\n  Scene2.prototype.finalizeSceneUbo = function() {\n    var ubo = this.getSceneUniformBuffer();\n    var eyePosition = this.bindEyePosition(null);\n    ubo.updateFloat4(\"vEyePosition\", eyePosition.x, eyePosition.y, eyePosition.z, eyePosition.w);\n    ubo.update();\n    return ubo;\n  };\n  Object.defineProperty(Scene2.prototype, \"useRightHandedSystem\", {\n    get: function() {\n      return this._useRightHandedSystem;\n    },\n    set: function(value) {\n      if (this._useRightHandedSystem === value) {\n        return;\n      }\n      this._useRightHandedSystem = value;\n      this.markAllMaterialsAsDirty(16);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Scene2.prototype.setStepId = function(newStepId) {\n    this._currentStepId = newStepId;\n  };\n  Scene2.prototype.getStepId = function() {\n    return this._currentStepId;\n  };\n  Scene2.prototype.getInternalStep = function() {\n    return this._currentInternalStep;\n  };\n  Object.defineProperty(Scene2.prototype, \"fogEnabled\", {\n    get: function() {\n      return this._fogEnabled;\n    },\n    set: function(value) {\n      if (this._fogEnabled === value) {\n        return;\n      }\n      this._fogEnabled = value;\n      this.markAllMaterialsAsDirty(16);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"fogMode\", {\n    get: function() {\n      return this._fogMode;\n    },\n    set: function(value) {\n      if (this._fogMode === value) {\n        return;\n      }\n      this._fogMode = value;\n      this.markAllMaterialsAsDirty(16);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"prePass\", {\n    get: function() {\n      return !!this.prePassRenderer && this.prePassRenderer.defaultRT.enabled;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"shadowsEnabled\", {\n    get: function() {\n      return this._shadowsEnabled;\n    },\n    set: function(value) {\n      if (this._shadowsEnabled === value) {\n        return;\n      }\n      this._shadowsEnabled = value;\n      this.markAllMaterialsAsDirty(2);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"lightsEnabled\", {\n    get: function() {\n      return this._lightsEnabled;\n    },\n    set: function(value) {\n      if (this._lightsEnabled === value) {\n        return;\n      }\n      this._lightsEnabled = value;\n      this.markAllMaterialsAsDirty(2);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"activeCamera\", {\n    get: function() {\n      return this._activeCamera;\n    },\n    set: function(value) {\n      if (value === this._activeCamera) {\n        return;\n      }\n      this._activeCamera = value;\n      this.onActiveCameraChanged.notifyObservers(this);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"defaultMaterial\", {\n    get: function() {\n      if (!this._defaultMaterial) {\n        this._defaultMaterial = Scene2.DefaultMaterialFactory(this);\n      }\n      return this._defaultMaterial;\n    },\n    set: function(value) {\n      this._defaultMaterial = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"texturesEnabled\", {\n    get: function() {\n      return this._texturesEnabled;\n    },\n    set: function(value) {\n      if (this._texturesEnabled === value) {\n        return;\n      }\n      this._texturesEnabled = value;\n      this.markAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"skeletonsEnabled\", {\n    get: function() {\n      return this._skeletonsEnabled;\n    },\n    set: function(value) {\n      if (this._skeletonsEnabled === value) {\n        return;\n      }\n      this._skeletonsEnabled = value;\n      this.markAllMaterialsAsDirty(8);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"collisionCoordinator\", {\n    get: function() {\n      if (!this._collisionCoordinator) {\n        this._collisionCoordinator = Scene2.CollisionCoordinatorFactory();\n        this._collisionCoordinator.init(this);\n      }\n      return this._collisionCoordinator;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"frustumPlanes\", {\n    get: function() {\n      return this._frustumPlanes;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Scene2.prototype._registerTransientComponents = function() {\n    if (this._transientComponents.length > 0) {\n      for (var _i = 0, _a = this._transientComponents; _i < _a.length; _i++) {\n        var component = _a[_i];\n        component.register();\n      }\n      this._transientComponents = [];\n    }\n  };\n  Scene2.prototype._addComponent = function(component) {\n    this._components.push(component);\n    this._transientComponents.push(component);\n    var serializableComponent = component;\n    if (serializableComponent.addFromContainer && serializableComponent.serialize) {\n      this._serializableComponents.push(serializableComponent);\n    }\n  };\n  Scene2.prototype._getComponent = function(name2) {\n    for (var _i = 0, _a = this._components; _i < _a.length; _i++) {\n      var component = _a[_i];\n      if (component.name === name2) {\n        return component;\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getClassName = function() {\n    return \"Scene\";\n  };\n  Scene2.prototype._getDefaultMeshCandidates = function() {\n    this._defaultMeshCandidates.data = this.meshes;\n    this._defaultMeshCandidates.length = this.meshes.length;\n    return this._defaultMeshCandidates;\n  };\n  Scene2.prototype._getDefaultSubMeshCandidates = function(mesh) {\n    this._defaultSubMeshCandidates.data = mesh.subMeshes;\n    this._defaultSubMeshCandidates.length = mesh.subMeshes.length;\n    return this._defaultSubMeshCandidates;\n  };\n  Scene2.prototype.setDefaultCandidateProviders = function() {\n    this.getActiveMeshCandidates = this._getDefaultMeshCandidates.bind(this);\n    this.getActiveSubMeshCandidates = this._getDefaultSubMeshCandidates.bind(this);\n    this.getIntersectingSubMeshCandidates = this._getDefaultSubMeshCandidates.bind(this);\n    this.getCollidingSubMeshCandidates = this._getDefaultSubMeshCandidates.bind(this);\n  };\n  Object.defineProperty(Scene2.prototype, \"meshUnderPointer\", {\n    get: function() {\n      return this._inputManager.meshUnderPointer;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"pointerX\", {\n    get: function() {\n      return this._inputManager.pointerX;\n    },\n    set: function(value) {\n      this._inputManager.pointerX = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Scene2.prototype, \"pointerY\", {\n    get: function() {\n      return this._inputManager.pointerY;\n    },\n    set: function(value) {\n      this._inputManager.pointerY = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Scene2.prototype.getCachedMaterial = function() {\n    return this._cachedMaterial;\n  };\n  Scene2.prototype.getCachedEffect = function() {\n    return this._cachedEffect;\n  };\n  Scene2.prototype.getCachedVisibility = function() {\n    return this._cachedVisibility;\n  };\n  Scene2.prototype.isCachedMaterialInvalid = function(material, effect, visibility) {\n    if (visibility === void 0) {\n      visibility = 1;\n    }\n    return this._cachedEffect !== effect || this._cachedMaterial !== material || this._cachedVisibility !== visibility;\n  };\n  Scene2.prototype.getEngine = function() {\n    return this._engine;\n  };\n  Scene2.prototype.getTotalVertices = function() {\n    return this._totalVertices.current;\n  };\n  Object.defineProperty(Scene2.prototype, \"totalVerticesPerfCounter\", {\n    get: function() {\n      return this._totalVertices;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Scene2.prototype.getActiveIndices = function() {\n    return this._activeIndices.current;\n  };\n  Object.defineProperty(Scene2.prototype, \"totalActiveIndicesPerfCounter\", {\n    get: function() {\n      return this._activeIndices;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Scene2.prototype.getActiveParticles = function() {\n    return this._activeParticles.current;\n  };\n  Object.defineProperty(Scene2.prototype, \"activeParticlesPerfCounter\", {\n    get: function() {\n      return this._activeParticles;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Scene2.prototype.getActiveBones = function() {\n    return this._activeBones.current;\n  };\n  Object.defineProperty(Scene2.prototype, \"activeBonesPerfCounter\", {\n    get: function() {\n      return this._activeBones;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Scene2.prototype.getActiveMeshes = function() {\n    return this._activeMeshes;\n  };\n  Scene2.prototype.getAnimationRatio = function() {\n    return this._animationRatio !== void 0 ? this._animationRatio : 1;\n  };\n  Scene2.prototype.getRenderId = function() {\n    return this._renderId;\n  };\n  Scene2.prototype.getFrameId = function() {\n    return this._frameId;\n  };\n  Scene2.prototype.incrementRenderId = function() {\n    this._renderId++;\n  };\n  Scene2.prototype._createUbo = function() {\n    this.setSceneUniformBuffer(this.createSceneUniformBuffer());\n  };\n  Scene2.prototype.simulatePointerMove = function(pickResult, pointerEventInit) {\n    this._inputManager.simulatePointerMove(pickResult, pointerEventInit);\n    return this;\n  };\n  Scene2.prototype.simulatePointerDown = function(pickResult, pointerEventInit) {\n    this._inputManager.simulatePointerDown(pickResult, pointerEventInit);\n    return this;\n  };\n  Scene2.prototype.simulatePointerUp = function(pickResult, pointerEventInit, doubleTap) {\n    this._inputManager.simulatePointerUp(pickResult, pointerEventInit, doubleTap);\n    return this;\n  };\n  Scene2.prototype.isPointerCaptured = function(pointerId) {\n    if (pointerId === void 0) {\n      pointerId = 0;\n    }\n    return this._inputManager.isPointerCaptured(pointerId);\n  };\n  Scene2.prototype.attachControl = function(attachUp, attachDown, attachMove) {\n    if (attachUp === void 0) {\n      attachUp = true;\n    }\n    if (attachDown === void 0) {\n      attachDown = true;\n    }\n    if (attachMove === void 0) {\n      attachMove = true;\n    }\n    this._inputManager.attachControl(attachUp, attachDown, attachMove);\n  };\n  Scene2.prototype.detachControl = function() {\n    this._inputManager.detachControl();\n  };\n  Scene2.prototype.isReady = function(checkRenderTargets) {\n    if (checkRenderTargets === void 0) {\n      checkRenderTargets = true;\n    }\n    if (this._isDisposed) {\n      return false;\n    }\n    var index;\n    var engine = this.getEngine();\n    var isReady = true;\n    if (this._pendingData.length > 0) {\n      isReady = false;\n    }\n    if (checkRenderTargets) {\n      this._processedMaterials.reset();\n      this._materialsRenderTargets.reset();\n    }\n    for (index = 0; index < this.meshes.length; index++) {\n      var mesh = this.meshes[index];\n      if (!mesh.subMeshes || mesh.subMeshes.length === 0) {\n        continue;\n      }\n      if (!mesh.isReady(true)) {\n        isReady = false;\n        continue;\n      }\n      var hardwareInstancedRendering = mesh.hasThinInstances || mesh.getClassName() === \"InstancedMesh\" || mesh.getClassName() === \"InstancedLinesMesh\" || engine.getCaps().instancedArrays && mesh.instances.length > 0;\n      for (var _i = 0, _a = this._isReadyForMeshStage; _i < _a.length; _i++) {\n        var step = _a[_i];\n        if (!step.action(mesh, hardwareInstancedRendering)) {\n          isReady = false;\n        }\n      }\n      if (!checkRenderTargets) {\n        continue;\n      }\n      var mat = mesh.material || this.defaultMaterial;\n      if (mat) {\n        if (mat._storeEffectOnSubMeshes) {\n          for (var _b = 0, _c = mesh.subMeshes; _b < _c.length; _b++) {\n            var subMesh = _c[_b];\n            var material = subMesh.getMaterial();\n            if (material && material.hasRenderTargetTextures && material.getRenderTargetTextures != null) {\n              if (this._processedMaterials.indexOf(material) === -1) {\n                this._processedMaterials.push(material);\n                this._materialsRenderTargets.concatWithNoDuplicate(material.getRenderTargetTextures());\n              }\n            }\n          }\n        } else {\n          if (mat.hasRenderTargetTextures && mat.getRenderTargetTextures != null) {\n            if (this._processedMaterials.indexOf(mat) === -1) {\n              this._processedMaterials.push(mat);\n              this._materialsRenderTargets.concatWithNoDuplicate(mat.getRenderTargetTextures());\n            }\n          }\n        }\n      }\n    }\n    if (!isReady) {\n      return false;\n    }\n    if (!engine.areAllEffectsReady()) {\n      return false;\n    }\n    if (checkRenderTargets) {\n      for (index = 0; index < this._materialsRenderTargets.length; ++index) {\n        var rtt = this._materialsRenderTargets.data[index];\n        if (!rtt.isReadyForRendering()) {\n          return false;\n        }\n      }\n    }\n    for (index = 0; index < this.geometries.length; index++) {\n      var geometry = this.geometries[index];\n      if (geometry.delayLoadState === 2) {\n        return false;\n      }\n    }\n    if (this.activeCameras && this.activeCameras.length > 0) {\n      for (var _d = 0, _e = this.activeCameras; _d < _e.length; _d++) {\n        var camera = _e[_d];\n        if (!camera.isReady(true)) {\n          return false;\n        }\n      }\n    } else if (this.activeCamera) {\n      if (!this.activeCamera.isReady(true)) {\n        return false;\n      }\n    }\n    for (var _f = 0, _g = this.particleSystems; _f < _g.length; _f++) {\n      var particleSystem = _g[_f];\n      if (!particleSystem.isReady()) {\n        return false;\n      }\n    }\n    return true;\n  };\n  Scene2.prototype.resetCachedMaterial = function() {\n    this._cachedMaterial = null;\n    this._cachedEffect = null;\n    this._cachedVisibility = null;\n  };\n  Scene2.prototype.registerBeforeRender = function(func) {\n    this.onBeforeRenderObservable.add(func);\n  };\n  Scene2.prototype.unregisterBeforeRender = function(func) {\n    this.onBeforeRenderObservable.removeCallback(func);\n  };\n  Scene2.prototype.registerAfterRender = function(func) {\n    this.onAfterRenderObservable.add(func);\n  };\n  Scene2.prototype.unregisterAfterRender = function(func) {\n    this.onAfterRenderObservable.removeCallback(func);\n  };\n  Scene2.prototype._executeOnceBeforeRender = function(func) {\n    var _this = this;\n    var execFunc = function() {\n      func();\n      setTimeout(function() {\n        _this.unregisterBeforeRender(execFunc);\n      });\n    };\n    this.registerBeforeRender(execFunc);\n  };\n  Scene2.prototype.executeOnceBeforeRender = function(func, timeout) {\n    var _this = this;\n    if (timeout !== void 0) {\n      setTimeout(function() {\n        _this._executeOnceBeforeRender(func);\n      }, timeout);\n    } else {\n      this._executeOnceBeforeRender(func);\n    }\n  };\n  Scene2.prototype._addPendingData = function(data) {\n    this._pendingData.push(data);\n  };\n  Scene2.prototype._removePendingData = function(data) {\n    var wasLoading = this.isLoading;\n    var index = this._pendingData.indexOf(data);\n    if (index !== -1) {\n      this._pendingData.splice(index, 1);\n    }\n    if (wasLoading && !this.isLoading) {\n      this.onDataLoadedObservable.notifyObservers(this);\n    }\n  };\n  Scene2.prototype.getWaitingItemsCount = function() {\n    return this._pendingData.length;\n  };\n  Object.defineProperty(Scene2.prototype, \"isLoading\", {\n    get: function() {\n      return this._pendingData.length > 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Scene2.prototype.executeWhenReady = function(func, checkRenderTargets) {\n    if (checkRenderTargets === void 0) {\n      checkRenderTargets = false;\n    }\n    this.onReadyObservable.add(func);\n    if (this._executeWhenReadyTimeoutId !== null) {\n      return;\n    }\n    this._checkIsReady(checkRenderTargets);\n  };\n  Scene2.prototype.whenReadyAsync = function(checkRenderTargets) {\n    var _this = this;\n    if (checkRenderTargets === void 0) {\n      checkRenderTargets = false;\n    }\n    return new Promise(function(resolve) {\n      _this.executeWhenReady(function() {\n        resolve();\n      }, checkRenderTargets);\n    });\n  };\n  Scene2.prototype._checkIsReady = function(checkRenderTargets) {\n    var _this = this;\n    if (checkRenderTargets === void 0) {\n      checkRenderTargets = false;\n    }\n    this._registerTransientComponents();\n    if (this.isReady(checkRenderTargets)) {\n      this.onReadyObservable.notifyObservers(this);\n      this.onReadyObservable.clear();\n      this._executeWhenReadyTimeoutId = null;\n      return;\n    }\n    if (this._isDisposed) {\n      this.onReadyObservable.clear();\n      this._executeWhenReadyTimeoutId = null;\n      return;\n    }\n    this._executeWhenReadyTimeoutId = setTimeout(function() {\n      _this._checkIsReady(checkRenderTargets);\n    }, 100);\n  };\n  Object.defineProperty(Scene2.prototype, \"animatables\", {\n    get: function() {\n      return this._activeAnimatables;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Scene2.prototype.resetLastAnimationTimeFrame = function() {\n    this._animationTimeLast = PrecisionDate.Now;\n  };\n  Scene2.prototype.getViewMatrix = function() {\n    return this._viewMatrix;\n  };\n  Scene2.prototype.getProjectionMatrix = function() {\n    return this._projectionMatrix;\n  };\n  Scene2.prototype.getTransformMatrix = function() {\n    return this._transformMatrix;\n  };\n  Scene2.prototype.setTransformMatrix = function(viewL, projectionL, viewR, projectionR) {\n    if (!viewR && !projectionR && this._multiviewSceneUbo) {\n      this._multiviewSceneUbo.dispose();\n      this._multiviewSceneUbo = null;\n    }\n    if (this._viewUpdateFlag === viewL.updateFlag && this._projectionUpdateFlag === projectionL.updateFlag) {\n      return;\n    }\n    this._viewUpdateFlag = viewL.updateFlag;\n    this._projectionUpdateFlag = projectionL.updateFlag;\n    this._viewMatrix = viewL;\n    this._projectionMatrix = projectionL;\n    this._viewMatrix.multiplyToRef(this._projectionMatrix, this._transformMatrix);\n    if (!this._frustumPlanes) {\n      this._frustumPlanes = Frustum.GetPlanes(this._transformMatrix);\n    } else {\n      Frustum.GetPlanesToRef(this._transformMatrix, this._frustumPlanes);\n    }\n    if (this._multiviewSceneUbo && this._multiviewSceneUbo.useUbo) {\n      this._updateMultiviewUbo(viewR, projectionR);\n    } else if (this._sceneUbo.useUbo) {\n      this._sceneUbo.updateMatrix(\"viewProjection\", this._transformMatrix);\n      this._sceneUbo.updateMatrix(\"view\", this._viewMatrix);\n      this._sceneUbo.updateMatrix(\"projection\", this._projectionMatrix);\n    }\n  };\n  Scene2.prototype.getSceneUniformBuffer = function() {\n    return this._multiviewSceneUbo ? this._multiviewSceneUbo : this._sceneUbo;\n  };\n  Scene2.prototype.createSceneUniformBuffer = function(name2) {\n    var sceneUbo = new UniformBuffer(this._engine, void 0, false, name2 !== null && name2 !== void 0 ? name2 : \"scene\");\n    sceneUbo.addUniform(\"viewProjection\", 16);\n    sceneUbo.addUniform(\"view\", 16);\n    sceneUbo.addUniform(\"projection\", 16);\n    sceneUbo.addUniform(\"vEyePosition\", 4);\n    return sceneUbo;\n  };\n  Scene2.prototype.setSceneUniformBuffer = function(ubo) {\n    this._sceneUbo = ubo;\n    this._viewUpdateFlag = -1;\n    this._projectionUpdateFlag = -1;\n  };\n  Scene2.prototype.getUniqueId = function() {\n    return UniqueIdGenerator.UniqueId;\n  };\n  Scene2.prototype.addMesh = function(newMesh, recursive) {\n    var _this = this;\n    if (recursive === void 0) {\n      recursive = false;\n    }\n    if (this._blockEntityCollection) {\n      return;\n    }\n    this.meshes.push(newMesh);\n    newMesh._resyncLightSources();\n    if (!newMesh.parent) {\n      newMesh._addToSceneRootNodes();\n    }\n    this.onNewMeshAddedObservable.notifyObservers(newMesh);\n    if (recursive) {\n      newMesh.getChildMeshes().forEach(function(m) {\n        _this.addMesh(m);\n      });\n    }\n  };\n  Scene2.prototype.removeMesh = function(toRemove, recursive) {\n    var _this = this;\n    if (recursive === void 0) {\n      recursive = false;\n    }\n    var index = this.meshes.indexOf(toRemove);\n    if (index !== -1) {\n      this.meshes[index] = this.meshes[this.meshes.length - 1];\n      this.meshes.pop();\n      if (!toRemove.parent) {\n        toRemove._removeFromSceneRootNodes();\n      }\n    }\n    this._inputManager._invalidateMesh(toRemove);\n    this.onMeshRemovedObservable.notifyObservers(toRemove);\n    if (recursive) {\n      toRemove.getChildMeshes().forEach(function(m) {\n        _this.removeMesh(m);\n      });\n    }\n    return index;\n  };\n  Scene2.prototype.addTransformNode = function(newTransformNode) {\n    if (this._blockEntityCollection) {\n      return;\n    }\n    if (newTransformNode.getScene() === this && newTransformNode._indexInSceneTransformNodesArray !== -1) {\n      return;\n    }\n    newTransformNode._indexInSceneTransformNodesArray = this.transformNodes.length;\n    this.transformNodes.push(newTransformNode);\n    if (!newTransformNode.parent) {\n      newTransformNode._addToSceneRootNodes();\n    }\n    this.onNewTransformNodeAddedObservable.notifyObservers(newTransformNode);\n  };\n  Scene2.prototype.removeTransformNode = function(toRemove) {\n    var index = toRemove._indexInSceneTransformNodesArray;\n    if (index !== -1) {\n      if (index !== this.transformNodes.length - 1) {\n        var lastNode = this.transformNodes[this.transformNodes.length - 1];\n        this.transformNodes[index] = lastNode;\n        lastNode._indexInSceneTransformNodesArray = index;\n      }\n      toRemove._indexInSceneTransformNodesArray = -1;\n      this.transformNodes.pop();\n      if (!toRemove.parent) {\n        toRemove._removeFromSceneRootNodes();\n      }\n    }\n    this.onTransformNodeRemovedObservable.notifyObservers(toRemove);\n    return index;\n  };\n  Scene2.prototype.removeSkeleton = function(toRemove) {\n    var index = this.skeletons.indexOf(toRemove);\n    if (index !== -1) {\n      this.skeletons.splice(index, 1);\n      this.onSkeletonRemovedObservable.notifyObservers(toRemove);\n      this._executeActiveContainerCleanup(this._activeSkeletons);\n    }\n    return index;\n  };\n  Scene2.prototype.removeMorphTargetManager = function(toRemove) {\n    var index = this.morphTargetManagers.indexOf(toRemove);\n    if (index !== -1) {\n      this.morphTargetManagers.splice(index, 1);\n    }\n    return index;\n  };\n  Scene2.prototype.removeLight = function(toRemove) {\n    var index = this.lights.indexOf(toRemove);\n    if (index !== -1) {\n      for (var _i = 0, _a = this.meshes; _i < _a.length; _i++) {\n        var mesh = _a[_i];\n        mesh._removeLightSource(toRemove, false);\n      }\n      this.lights.splice(index, 1);\n      this.sortLightsByPriority();\n      if (!toRemove.parent) {\n        toRemove._removeFromSceneRootNodes();\n      }\n    }\n    this.onLightRemovedObservable.notifyObservers(toRemove);\n    return index;\n  };\n  Scene2.prototype.removeCamera = function(toRemove) {\n    var index = this.cameras.indexOf(toRemove);\n    if (index !== -1) {\n      this.cameras.splice(index, 1);\n      if (!toRemove.parent) {\n        toRemove._removeFromSceneRootNodes();\n      }\n    }\n    if (this.activeCameras) {\n      var index2 = this.activeCameras.indexOf(toRemove);\n      if (index2 !== -1) {\n        this.activeCameras.splice(index2, 1);\n      }\n    }\n    if (this.activeCamera === toRemove) {\n      if (this.cameras.length > 0) {\n        this.activeCamera = this.cameras[0];\n      } else {\n        this.activeCamera = null;\n      }\n    }\n    this.onCameraRemovedObservable.notifyObservers(toRemove);\n    return index;\n  };\n  Scene2.prototype.removeParticleSystem = function(toRemove) {\n    var index = this.particleSystems.indexOf(toRemove);\n    if (index !== -1) {\n      this.particleSystems.splice(index, 1);\n      this._executeActiveContainerCleanup(this._activeParticleSystems);\n    }\n    return index;\n  };\n  Scene2.prototype.removeAnimation = function(toRemove) {\n    var index = this.animations.indexOf(toRemove);\n    if (index !== -1) {\n      this.animations.splice(index, 1);\n    }\n    return index;\n  };\n  Scene2.prototype.stopAnimation = function(target, animationName, targetMask) {\n  };\n  Scene2.prototype.removeAnimationGroup = function(toRemove) {\n    var index = this.animationGroups.indexOf(toRemove);\n    if (index !== -1) {\n      this.animationGroups.splice(index, 1);\n    }\n    return index;\n  };\n  Scene2.prototype.removeMultiMaterial = function(toRemove) {\n    var index = this.multiMaterials.indexOf(toRemove);\n    if (index !== -1) {\n      this.multiMaterials.splice(index, 1);\n    }\n    this.onMultiMaterialRemovedObservable.notifyObservers(toRemove);\n    return index;\n  };\n  Scene2.prototype.removeMaterial = function(toRemove) {\n    var index = toRemove._indexInSceneMaterialArray;\n    if (index !== -1 && index < this.materials.length) {\n      if (index !== this.materials.length - 1) {\n        var lastMaterial = this.materials[this.materials.length - 1];\n        this.materials[index] = lastMaterial;\n        lastMaterial._indexInSceneMaterialArray = index;\n      }\n      toRemove._indexInSceneMaterialArray = -1;\n      this.materials.pop();\n    }\n    this.onMaterialRemovedObservable.notifyObservers(toRemove);\n    return index;\n  };\n  Scene2.prototype.removeActionManager = function(toRemove) {\n    var index = this.actionManagers.indexOf(toRemove);\n    if (index !== -1) {\n      this.actionManagers.splice(index, 1);\n    }\n    return index;\n  };\n  Scene2.prototype.removeTexture = function(toRemove) {\n    var index = this.textures.indexOf(toRemove);\n    if (index !== -1) {\n      this.textures.splice(index, 1);\n    }\n    this.onTextureRemovedObservable.notifyObservers(toRemove);\n    return index;\n  };\n  Scene2.prototype.addLight = function(newLight) {\n    if (this._blockEntityCollection) {\n      return;\n    }\n    this.lights.push(newLight);\n    this.sortLightsByPriority();\n    if (!newLight.parent) {\n      newLight._addToSceneRootNodes();\n    }\n    for (var _i = 0, _a = this.meshes; _i < _a.length; _i++) {\n      var mesh = _a[_i];\n      if (mesh.lightSources.indexOf(newLight) === -1) {\n        mesh.lightSources.push(newLight);\n        mesh._resyncLightSources();\n      }\n    }\n    this.onNewLightAddedObservable.notifyObservers(newLight);\n  };\n  Scene2.prototype.sortLightsByPriority = function() {\n    if (this.requireLightSorting) {\n      this.lights.sort(LightConstants.CompareLightsPriority);\n    }\n  };\n  Scene2.prototype.addCamera = function(newCamera) {\n    if (this._blockEntityCollection) {\n      return;\n    }\n    this.cameras.push(newCamera);\n    this.onNewCameraAddedObservable.notifyObservers(newCamera);\n    if (!newCamera.parent) {\n      newCamera._addToSceneRootNodes();\n    }\n  };\n  Scene2.prototype.addSkeleton = function(newSkeleton) {\n    if (this._blockEntityCollection) {\n      return;\n    }\n    this.skeletons.push(newSkeleton);\n    this.onNewSkeletonAddedObservable.notifyObservers(newSkeleton);\n  };\n  Scene2.prototype.addParticleSystem = function(newParticleSystem) {\n    if (this._blockEntityCollection) {\n      return;\n    }\n    this.particleSystems.push(newParticleSystem);\n  };\n  Scene2.prototype.addAnimation = function(newAnimation) {\n    if (this._blockEntityCollection) {\n      return;\n    }\n    this.animations.push(newAnimation);\n  };\n  Scene2.prototype.addAnimationGroup = function(newAnimationGroup) {\n    if (this._blockEntityCollection) {\n      return;\n    }\n    this.animationGroups.push(newAnimationGroup);\n  };\n  Scene2.prototype.addMultiMaterial = function(newMultiMaterial) {\n    if (this._blockEntityCollection) {\n      return;\n    }\n    this.multiMaterials.push(newMultiMaterial);\n    this.onNewMultiMaterialAddedObservable.notifyObservers(newMultiMaterial);\n  };\n  Scene2.prototype.addMaterial = function(newMaterial) {\n    if (this._blockEntityCollection) {\n      return;\n    }\n    if (newMaterial.getScene() === this && newMaterial._indexInSceneMaterialArray !== -1) {\n      return;\n    }\n    newMaterial._indexInSceneMaterialArray = this.materials.length;\n    this.materials.push(newMaterial);\n    this.onNewMaterialAddedObservable.notifyObservers(newMaterial);\n  };\n  Scene2.prototype.addMorphTargetManager = function(newMorphTargetManager) {\n    if (this._blockEntityCollection) {\n      return;\n    }\n    this.morphTargetManagers.push(newMorphTargetManager);\n  };\n  Scene2.prototype.addGeometry = function(newGeometry) {\n    if (this._blockEntityCollection) {\n      return;\n    }\n    if (this._geometriesByUniqueId) {\n      this._geometriesByUniqueId[newGeometry.uniqueId] = this.geometries.length;\n    }\n    this.geometries.push(newGeometry);\n  };\n  Scene2.prototype.addActionManager = function(newActionManager) {\n    this.actionManagers.push(newActionManager);\n  };\n  Scene2.prototype.addTexture = function(newTexture) {\n    if (this._blockEntityCollection) {\n      return;\n    }\n    this.textures.push(newTexture);\n    this.onNewTextureAddedObservable.notifyObservers(newTexture);\n  };\n  Scene2.prototype.switchActiveCamera = function(newCamera, attachControl) {\n    if (attachControl === void 0) {\n      attachControl = true;\n    }\n    var canvas = this._engine.getInputElement();\n    if (!canvas) {\n      return;\n    }\n    if (this.activeCamera) {\n      this.activeCamera.detachControl();\n    }\n    this.activeCamera = newCamera;\n    if (attachControl) {\n      newCamera.attachControl();\n    }\n  };\n  Scene2.prototype.setActiveCameraById = function(id) {\n    var camera = this.getCameraById(id);\n    if (camera) {\n      this.activeCamera = camera;\n      return camera;\n    }\n    return null;\n  };\n  Scene2.prototype.setActiveCameraByName = function(name2) {\n    var camera = this.getCameraByName(name2);\n    if (camera) {\n      this.activeCamera = camera;\n      return camera;\n    }\n    return null;\n  };\n  Scene2.prototype.getAnimationGroupByName = function(name2) {\n    for (var index = 0; index < this.animationGroups.length; index++) {\n      if (this.animationGroups[index].name === name2) {\n        return this.animationGroups[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getMaterialByUniqueID = function(uniqueId) {\n    for (var index = 0; index < this.materials.length; index++) {\n      if (this.materials[index].uniqueId === uniqueId) {\n        return this.materials[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getMaterialById = function(id) {\n    for (var index = 0; index < this.materials.length; index++) {\n      if (this.materials[index].id === id) {\n        return this.materials[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getLastMaterialById = function(id, allowMultiMaterials) {\n    if (allowMultiMaterials === void 0) {\n      allowMultiMaterials = false;\n    }\n    for (var index = this.materials.length - 1; index >= 0; index--) {\n      if (this.materials[index].id === id) {\n        return this.materials[index];\n      }\n    }\n    if (allowMultiMaterials) {\n      for (var index = this.multiMaterials.length - 1; index >= 0; index--) {\n        if (this.multiMaterials[index].id === id) {\n          return this.multiMaterials[index];\n        }\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getMaterialByName = function(name2) {\n    for (var index = 0; index < this.materials.length; index++) {\n      if (this.materials[index].name === name2) {\n        return this.materials[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getTextureByUniqueId = function(uniqueId) {\n    for (var index = 0; index < this.textures.length; index++) {\n      if (this.textures[index].uniqueId === uniqueId) {\n        return this.textures[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getTextureByName = function(name2) {\n    for (var index = 0; index < this.textures.length; index++) {\n      if (this.textures[index].name === name2) {\n        return this.textures[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getCameraById = function(id) {\n    for (var index = 0; index < this.cameras.length; index++) {\n      if (this.cameras[index].id === id) {\n        return this.cameras[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getCameraByUniqueId = function(uniqueId) {\n    for (var index = 0; index < this.cameras.length; index++) {\n      if (this.cameras[index].uniqueId === uniqueId) {\n        return this.cameras[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getCameraByName = function(name2) {\n    for (var index = 0; index < this.cameras.length; index++) {\n      if (this.cameras[index].name === name2) {\n        return this.cameras[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getBoneById = function(id) {\n    for (var skeletonIndex = 0; skeletonIndex < this.skeletons.length; skeletonIndex++) {\n      var skeleton = this.skeletons[skeletonIndex];\n      for (var boneIndex = 0; boneIndex < skeleton.bones.length; boneIndex++) {\n        if (skeleton.bones[boneIndex].id === id) {\n          return skeleton.bones[boneIndex];\n        }\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getBoneByName = function(name2) {\n    for (var skeletonIndex = 0; skeletonIndex < this.skeletons.length; skeletonIndex++) {\n      var skeleton = this.skeletons[skeletonIndex];\n      for (var boneIndex = 0; boneIndex < skeleton.bones.length; boneIndex++) {\n        if (skeleton.bones[boneIndex].name === name2) {\n          return skeleton.bones[boneIndex];\n        }\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getLightByName = function(name2) {\n    for (var index = 0; index < this.lights.length; index++) {\n      if (this.lights[index].name === name2) {\n        return this.lights[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getLightById = function(id) {\n    for (var index = 0; index < this.lights.length; index++) {\n      if (this.lights[index].id === id) {\n        return this.lights[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getLightByUniqueId = function(uniqueId) {\n    for (var index = 0; index < this.lights.length; index++) {\n      if (this.lights[index].uniqueId === uniqueId) {\n        return this.lights[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getParticleSystemById = function(id) {\n    for (var index = 0; index < this.particleSystems.length; index++) {\n      if (this.particleSystems[index].id === id) {\n        return this.particleSystems[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getGeometryById = function(id) {\n    for (var index = 0; index < this.geometries.length; index++) {\n      if (this.geometries[index].id === id) {\n        return this.geometries[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype._getGeometryByUniqueId = function(uniqueId) {\n    if (this._geometriesByUniqueId) {\n      var index = this._geometriesByUniqueId[uniqueId];\n      if (index !== void 0) {\n        return this.geometries[index];\n      }\n    } else {\n      for (var index = 0; index < this.geometries.length; index++) {\n        if (this.geometries[index].uniqueId === uniqueId) {\n          return this.geometries[index];\n        }\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.pushGeometry = function(geometry, force) {\n    if (!force && this._getGeometryByUniqueId(geometry.uniqueId)) {\n      return false;\n    }\n    this.addGeometry(geometry);\n    this.onNewGeometryAddedObservable.notifyObservers(geometry);\n    return true;\n  };\n  Scene2.prototype.removeGeometry = function(geometry) {\n    var index;\n    if (this._geometriesByUniqueId) {\n      index = this._geometriesByUniqueId[geometry.uniqueId];\n      if (index === void 0) {\n        return false;\n      }\n    } else {\n      index = this.geometries.indexOf(geometry);\n      if (index < 0) {\n        return false;\n      }\n    }\n    if (index !== this.geometries.length - 1) {\n      var lastGeometry = this.geometries[this.geometries.length - 1];\n      if (lastGeometry) {\n        this.geometries[index] = lastGeometry;\n        if (this._geometriesByUniqueId) {\n          this._geometriesByUniqueId[lastGeometry.uniqueId] = index;\n          this._geometriesByUniqueId[geometry.uniqueId] = void 0;\n        }\n      }\n    }\n    this.geometries.pop();\n    this.onGeometryRemovedObservable.notifyObservers(geometry);\n    return true;\n  };\n  Scene2.prototype.getGeometries = function() {\n    return this.geometries;\n  };\n  Scene2.prototype.getMeshById = function(id) {\n    for (var index = 0; index < this.meshes.length; index++) {\n      if (this.meshes[index].id === id) {\n        return this.meshes[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getMeshesById = function(id) {\n    return this.meshes.filter(function(m) {\n      return m.id === id;\n    });\n  };\n  Scene2.prototype.getTransformNodeById = function(id) {\n    for (var index = 0; index < this.transformNodes.length; index++) {\n      if (this.transformNodes[index].id === id) {\n        return this.transformNodes[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getTransformNodeByUniqueId = function(uniqueId) {\n    for (var index = 0; index < this.transformNodes.length; index++) {\n      if (this.transformNodes[index].uniqueId === uniqueId) {\n        return this.transformNodes[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getTransformNodesById = function(id) {\n    return this.transformNodes.filter(function(m) {\n      return m.id === id;\n    });\n  };\n  Scene2.prototype.getMeshByUniqueId = function(uniqueId) {\n    for (var index = 0; index < this.meshes.length; index++) {\n      if (this.meshes[index].uniqueId === uniqueId) {\n        return this.meshes[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getLastMeshById = function(id) {\n    for (var index = this.meshes.length - 1; index >= 0; index--) {\n      if (this.meshes[index].id === id) {\n        return this.meshes[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getLastEntryById = function(id) {\n    var index;\n    for (index = this.meshes.length - 1; index >= 0; index--) {\n      if (this.meshes[index].id === id) {\n        return this.meshes[index];\n      }\n    }\n    for (index = this.transformNodes.length - 1; index >= 0; index--) {\n      if (this.transformNodes[index].id === id) {\n        return this.transformNodes[index];\n      }\n    }\n    for (index = this.cameras.length - 1; index >= 0; index--) {\n      if (this.cameras[index].id === id) {\n        return this.cameras[index];\n      }\n    }\n    for (index = this.lights.length - 1; index >= 0; index--) {\n      if (this.lights[index].id === id) {\n        return this.lights[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getNodeById = function(id) {\n    var mesh = this.getMeshById(id);\n    if (mesh) {\n      return mesh;\n    }\n    var transformNode = this.getTransformNodeById(id);\n    if (transformNode) {\n      return transformNode;\n    }\n    var light = this.getLightById(id);\n    if (light) {\n      return light;\n    }\n    var camera = this.getCameraById(id);\n    if (camera) {\n      return camera;\n    }\n    var bone = this.getBoneById(id);\n    if (bone) {\n      return bone;\n    }\n    return null;\n  };\n  Scene2.prototype.getNodeByName = function(name2) {\n    var mesh = this.getMeshByName(name2);\n    if (mesh) {\n      return mesh;\n    }\n    var transformNode = this.getTransformNodeByName(name2);\n    if (transformNode) {\n      return transformNode;\n    }\n    var light = this.getLightByName(name2);\n    if (light) {\n      return light;\n    }\n    var camera = this.getCameraByName(name2);\n    if (camera) {\n      return camera;\n    }\n    var bone = this.getBoneByName(name2);\n    if (bone) {\n      return bone;\n    }\n    return null;\n  };\n  Scene2.prototype.getMeshByName = function(name2) {\n    for (var index = 0; index < this.meshes.length; index++) {\n      if (this.meshes[index].name === name2) {\n        return this.meshes[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getTransformNodeByName = function(name2) {\n    for (var index = 0; index < this.transformNodes.length; index++) {\n      if (this.transformNodes[index].name === name2) {\n        return this.transformNodes[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getLastSkeletonById = function(id) {\n    for (var index = this.skeletons.length - 1; index >= 0; index--) {\n      if (this.skeletons[index].id === id) {\n        return this.skeletons[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getSkeletonByUniqueId = function(uniqueId) {\n    for (var index = 0; index < this.skeletons.length; index++) {\n      if (this.skeletons[index].uniqueId === uniqueId) {\n        return this.skeletons[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getSkeletonById = function(id) {\n    for (var index = 0; index < this.skeletons.length; index++) {\n      if (this.skeletons[index].id === id) {\n        return this.skeletons[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getSkeletonByName = function(name2) {\n    for (var index = 0; index < this.skeletons.length; index++) {\n      if (this.skeletons[index].name === name2) {\n        return this.skeletons[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getMorphTargetManagerById = function(id) {\n    for (var index = 0; index < this.morphTargetManagers.length; index++) {\n      if (this.morphTargetManagers[index].uniqueId === id) {\n        return this.morphTargetManagers[index];\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getMorphTargetById = function(id) {\n    for (var managerIndex = 0; managerIndex < this.morphTargetManagers.length; ++managerIndex) {\n      var morphTargetManager = this.morphTargetManagers[managerIndex];\n      for (var index = 0; index < morphTargetManager.numTargets; ++index) {\n        var target = morphTargetManager.getTarget(index);\n        if (target.id === id) {\n          return target;\n        }\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getMorphTargetByName = function(name2) {\n    for (var managerIndex = 0; managerIndex < this.morphTargetManagers.length; ++managerIndex) {\n      var morphTargetManager = this.morphTargetManagers[managerIndex];\n      for (var index = 0; index < morphTargetManager.numTargets; ++index) {\n        var target = morphTargetManager.getTarget(index);\n        if (target.name === name2) {\n          return target;\n        }\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.getPostProcessByName = function(name2) {\n    for (var postProcessIndex = 0; postProcessIndex < this.postProcesses.length; ++postProcessIndex) {\n      var postProcess = this.postProcesses[postProcessIndex];\n      if (postProcess.name === name2) {\n        return postProcess;\n      }\n    }\n    return null;\n  };\n  Scene2.prototype.isActiveMesh = function(mesh) {\n    return this._activeMeshes.indexOf(mesh) !== -1;\n  };\n  Object.defineProperty(Scene2.prototype, \"uid\", {\n    get: function() {\n      if (!this._uid) {\n        this._uid = Tools.RandomId();\n      }\n      return this._uid;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Scene2.prototype.addExternalData = function(key, data) {\n    if (!this._externalData) {\n      this._externalData = new StringDictionary();\n    }\n    return this._externalData.add(key, data);\n  };\n  Scene2.prototype.getExternalData = function(key) {\n    if (!this._externalData) {\n      return null;\n    }\n    return this._externalData.get(key);\n  };\n  Scene2.prototype.getOrAddExternalDataWithFactory = function(key, factory) {\n    if (!this._externalData) {\n      this._externalData = new StringDictionary();\n    }\n    return this._externalData.getOrAddWithFactory(key, factory);\n  };\n  Scene2.prototype.removeExternalData = function(key) {\n    return this._externalData.remove(key);\n  };\n  Scene2.prototype._evaluateSubMesh = function(subMesh, mesh, initialMesh) {\n    if (initialMesh.hasInstances || initialMesh.isAnInstance || this.dispatchAllSubMeshesOfActiveMeshes || this._skipFrustumClipping || mesh.alwaysSelectAsActiveMesh || mesh.subMeshes.length === 1 || subMesh.isInFrustum(this._frustumPlanes)) {\n      for (var _i = 0, _a = this._evaluateSubMeshStage; _i < _a.length; _i++) {\n        var step = _a[_i];\n        step.action(mesh, subMesh);\n      }\n      var material = subMesh.getMaterial();\n      if (material !== null && material !== void 0) {\n        if (material.hasRenderTargetTextures && material.getRenderTargetTextures != null) {\n          if (this._processedMaterials.indexOf(material) === -1) {\n            this._processedMaterials.push(material);\n            this._materialsRenderTargets.concatWithNoDuplicate(material.getRenderTargetTextures());\n          }\n        }\n        this._renderingManager.dispatch(subMesh, mesh, material);\n      }\n    }\n  };\n  Scene2.prototype.freeProcessedMaterials = function() {\n    this._processedMaterials.dispose();\n  };\n  Object.defineProperty(Scene2.prototype, \"blockfreeActiveMeshesAndRenderingGroups\", {\n    get: function() {\n      return this._preventFreeActiveMeshesAndRenderingGroups;\n    },\n    set: function(value) {\n      if (this._preventFreeActiveMeshesAndRenderingGroups === value) {\n        return;\n      }\n      if (value) {\n        this.freeActiveMeshes();\n        this.freeRenderingGroups();\n      }\n      this._preventFreeActiveMeshesAndRenderingGroups = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Scene2.prototype.freeActiveMeshes = function() {\n    if (this.blockfreeActiveMeshesAndRenderingGroups) {\n      return;\n    }\n    this._activeMeshes.dispose();\n    if (this.activeCamera && this.activeCamera._activeMeshes) {\n      this.activeCamera._activeMeshes.dispose();\n    }\n    if (this.activeCameras) {\n      for (var i = 0; i < this.activeCameras.length; i++) {\n        var activeCamera = this.activeCameras[i];\n        if (activeCamera && activeCamera._activeMeshes) {\n          activeCamera._activeMeshes.dispose();\n        }\n      }\n    }\n  };\n  Scene2.prototype.freeRenderingGroups = function() {\n    if (this.blockfreeActiveMeshesAndRenderingGroups) {\n      return;\n    }\n    if (this._renderingManager) {\n      this._renderingManager.freeRenderingGroups();\n    }\n    if (this.textures) {\n      for (var i = 0; i < this.textures.length; i++) {\n        var texture = this.textures[i];\n        if (texture && texture.renderList) {\n          texture.freeRenderingGroups();\n        }\n      }\n    }\n  };\n  Scene2.prototype._isInIntermediateRendering = function() {\n    return this._intermediateRendering;\n  };\n  Scene2.prototype.freezeActiveMeshes = function(skipEvaluateActiveMeshes, onSuccess, onError, freezeMeshes, keepFrustumCulling) {\n    var _this = this;\n    if (skipEvaluateActiveMeshes === void 0) {\n      skipEvaluateActiveMeshes = false;\n    }\n    if (freezeMeshes === void 0) {\n      freezeMeshes = true;\n    }\n    if (keepFrustumCulling === void 0) {\n      keepFrustumCulling = false;\n    }\n    this.executeWhenReady(function() {\n      if (!_this.activeCamera) {\n        onError && onError(\"No active camera found\");\n        return;\n      }\n      if (!_this._frustumPlanes) {\n        _this.updateTransformMatrix();\n      }\n      _this._evaluateActiveMeshes();\n      _this._activeMeshesFrozen = true;\n      _this._activeMeshesFrozenButKeepClipping = keepFrustumCulling;\n      _this._skipEvaluateActiveMeshesCompletely = skipEvaluateActiveMeshes;\n      if (freezeMeshes) {\n        for (var index = 0; index < _this._activeMeshes.length; index++) {\n          _this._activeMeshes.data[index]._freeze();\n        }\n      }\n      onSuccess && onSuccess();\n    });\n    return this;\n  };\n  Scene2.prototype.unfreezeActiveMeshes = function() {\n    for (var index = 0; index < this.meshes.length; index++) {\n      var mesh = this.meshes[index];\n      if (mesh._internalAbstractMeshDataInfo) {\n        mesh._internalAbstractMeshDataInfo._isActive = false;\n      }\n    }\n    for (var index = 0; index < this._activeMeshes.length; index++) {\n      this._activeMeshes.data[index]._unFreeze();\n    }\n    this._activeMeshesFrozen = false;\n    return this;\n  };\n  Scene2.prototype._executeActiveContainerCleanup = function(container) {\n    var isInFastMode = this._engine.snapshotRendering && this._engine.snapshotRenderingMode === 1;\n    if (!isInFastMode && this._activeMeshesFrozen && this._activeMeshes.length) {\n      return;\n    }\n    this.onBeforeRenderObservable.addOnce(function() {\n      return container.dispose();\n    });\n  };\n  Scene2.prototype._evaluateActiveMeshes = function() {\n    var _a;\n    if (this._engine.snapshotRendering && this._engine.snapshotRenderingMode === 1) {\n      if (this._activeMeshes.length > 0) {\n        (_a = this.activeCamera) === null || _a === void 0 ? void 0 : _a._activeMeshes.reset();\n        this._activeMeshes.reset();\n        this._renderingManager.reset();\n        this._processedMaterials.reset();\n        this._activeParticleSystems.reset();\n        this._activeSkeletons.reset();\n        this._softwareSkinnedMeshes.reset();\n      }\n      return;\n    }\n    if (this._activeMeshesFrozen && this._activeMeshes.length) {\n      if (!this._skipEvaluateActiveMeshesCompletely) {\n        var len_1 = this._activeMeshes.length;\n        for (var i = 0; i < len_1; i++) {\n          var mesh = this._activeMeshes.data[i];\n          mesh.computeWorldMatrix();\n        }\n      }\n      if (this._activeParticleSystems) {\n        var psLength = this._activeParticleSystems.length;\n        for (var i = 0; i < psLength; i++) {\n          this._activeParticleSystems.data[i].animate();\n        }\n      }\n      return;\n    }\n    if (!this.activeCamera) {\n      return;\n    }\n    this.onBeforeActiveMeshesEvaluationObservable.notifyObservers(this);\n    this.activeCamera._activeMeshes.reset();\n    this._activeMeshes.reset();\n    this._renderingManager.reset();\n    this._processedMaterials.reset();\n    this._activeParticleSystems.reset();\n    this._activeSkeletons.reset();\n    this._softwareSkinnedMeshes.reset();\n    this._materialsRenderTargets.reset();\n    for (var _i = 0, _b = this._beforeEvaluateActiveMeshStage; _i < _b.length; _i++) {\n      var step = _b[_i];\n      step.action();\n    }\n    var meshes = this.getActiveMeshCandidates();\n    var len = meshes.length;\n    for (var i = 0; i < len; i++) {\n      var mesh = meshes.data[i];\n      mesh._internalAbstractMeshDataInfo._currentLODIsUpToDate = false;\n      if (mesh.isBlocked) {\n        continue;\n      }\n      this._totalVertices.addCount(mesh.getTotalVertices(), false);\n      if (!mesh.isReady() || !mesh.isEnabled() || mesh.scaling.hasAZeroComponent) {\n        continue;\n      }\n      mesh.computeWorldMatrix();\n      if (mesh.actionManager && mesh.actionManager.hasSpecificTriggers2(12, 13)) {\n        this._meshesForIntersections.pushNoDuplicate(mesh);\n      }\n      var meshToRender = this.customLODSelector ? this.customLODSelector(mesh, this.activeCamera) : mesh.getLOD(this.activeCamera);\n      mesh._internalAbstractMeshDataInfo._currentLOD = meshToRender;\n      mesh._internalAbstractMeshDataInfo._currentLODIsUpToDate = true;\n      if (meshToRender === void 0 || meshToRender === null) {\n        continue;\n      }\n      if (meshToRender !== mesh && meshToRender.billboardMode !== 0) {\n        meshToRender.computeWorldMatrix();\n      }\n      mesh._preActivate();\n      if (mesh.isVisible && mesh.visibility > 0 && (mesh.layerMask & this.activeCamera.layerMask) !== 0 && (this._skipFrustumClipping || mesh.alwaysSelectAsActiveMesh || mesh.isInFrustum(this._frustumPlanes))) {\n        this._activeMeshes.push(mesh);\n        this.activeCamera._activeMeshes.push(mesh);\n        if (meshToRender !== mesh) {\n          meshToRender._activate(this._renderId, false);\n        }\n        for (var _c = 0, _d = this._preActiveMeshStage; _c < _d.length; _c++) {\n          var step = _d[_c];\n          step.action(mesh);\n        }\n        if (mesh._activate(this._renderId, false)) {\n          if (!mesh.isAnInstance) {\n            meshToRender._internalAbstractMeshDataInfo._onlyForInstances = false;\n          } else {\n            if (mesh._internalAbstractMeshDataInfo._actAsRegularMesh) {\n              meshToRender = mesh;\n            }\n          }\n          meshToRender._internalAbstractMeshDataInfo._isActive = true;\n          this._activeMesh(mesh, meshToRender);\n        }\n        mesh._postActivate();\n      }\n    }\n    this.onAfterActiveMeshesEvaluationObservable.notifyObservers(this);\n    if (this.particlesEnabled) {\n      this.onBeforeParticlesRenderingObservable.notifyObservers(this);\n      for (var particleIndex = 0; particleIndex < this.particleSystems.length; particleIndex++) {\n        var particleSystem = this.particleSystems[particleIndex];\n        if (!particleSystem.isStarted() || !particleSystem.emitter) {\n          continue;\n        }\n        var emitter = particleSystem.emitter;\n        if (!emitter.position || emitter.isEnabled()) {\n          this._activeParticleSystems.push(particleSystem);\n          particleSystem.animate();\n          this._renderingManager.dispatchParticles(particleSystem);\n        }\n      }\n      this.onAfterParticlesRenderingObservable.notifyObservers(this);\n    }\n  };\n  Scene2.prototype._activeMesh = function(sourceMesh, mesh) {\n    if (this._skeletonsEnabled && mesh.skeleton !== null && mesh.skeleton !== void 0) {\n      if (this._activeSkeletons.pushNoDuplicate(mesh.skeleton)) {\n        mesh.skeleton.prepare();\n        this._activeBones.addCount(mesh.skeleton.bones.length, false);\n      }\n      if (!mesh.computeBonesUsingShaders) {\n        this._softwareSkinnedMeshes.pushNoDuplicate(mesh);\n      }\n    }\n    if (mesh && mesh.subMeshes && mesh.subMeshes.length > 0) {\n      var subMeshes = this.getActiveSubMeshCandidates(mesh);\n      var len = subMeshes.length;\n      for (var i = 0; i < len; i++) {\n        var subMesh = subMeshes.data[i];\n        this._evaluateSubMesh(subMesh, mesh, sourceMesh);\n      }\n    }\n  };\n  Scene2.prototype.updateTransformMatrix = function(force) {\n    if (!this.activeCamera) {\n      return;\n    }\n    if (this.activeCamera._renderingMultiview) {\n      var leftCamera = this.activeCamera._rigCameras[0];\n      var rightCamera = this.activeCamera._rigCameras[1];\n      this.setTransformMatrix(leftCamera.getViewMatrix(), leftCamera.getProjectionMatrix(force), rightCamera.getViewMatrix(), rightCamera.getProjectionMatrix(force));\n    } else {\n      this.setTransformMatrix(this.activeCamera.getViewMatrix(), this.activeCamera.getProjectionMatrix(force));\n    }\n  };\n  Scene2.prototype._bindFrameBuffer = function(camera, clear) {\n    if (clear === void 0) {\n      clear = true;\n    }\n    if (camera && camera._multiviewTexture) {\n      camera._multiviewTexture._bindFrameBuffer();\n    } else if (camera && camera.outputRenderTarget) {\n      camera.outputRenderTarget._bindFrameBuffer();\n    } else {\n      if (!this._engine._currentFrameBufferIsDefaultFrameBuffer()) {\n        this._engine.restoreDefaultFramebuffer();\n      }\n    }\n    if (clear) {\n      this._clearFrameBuffer(camera);\n    }\n  };\n  Scene2.prototype._clearFrameBuffer = function(camera) {\n    if (camera && camera._multiviewTexture)\n      ;\n    else if (camera && camera.outputRenderTarget) {\n      var rtt = camera.outputRenderTarget;\n      if (rtt.onClearObservable.hasObservers()) {\n        rtt.onClearObservable.notifyObservers(this._engine);\n      } else if (!rtt.skipInitialClear) {\n        this._engine.clear(rtt.clearColor || this.clearColor, !rtt._cleared, true, true);\n        rtt._cleared = true;\n      }\n    } else {\n      if (!this._defaultFrameBufferCleared) {\n        this._defaultFrameBufferCleared = true;\n        this._clear();\n      } else {\n        this._engine.clear(null, false, true, true);\n      }\n    }\n  };\n  Scene2.prototype._renderForCamera = function(camera, rigParent, bindFrameBuffer) {\n    var _a, _b, _c;\n    if (bindFrameBuffer === void 0) {\n      bindFrameBuffer = true;\n    }\n    if (camera && camera._skipRendering) {\n      return;\n    }\n    var engine = this._engine;\n    this._activeCamera = camera;\n    if (!this.activeCamera) {\n      throw new Error(\"Active camera not set\");\n    }\n    engine.setViewport(this.activeCamera.viewport);\n    this.resetCachedMaterial();\n    this._renderId++;\n    if (!this.prePass && bindFrameBuffer) {\n      var skipInitialClear = true;\n      if (camera._renderingMultiview && camera.outputRenderTarget) {\n        skipInitialClear = camera.outputRenderTarget.skipInitialClear;\n        if (this.autoClear) {\n          camera.outputRenderTarget.skipInitialClear = false;\n        }\n      }\n      this._bindFrameBuffer(this._activeCamera);\n      if (camera._renderingMultiview && camera.outputRenderTarget) {\n        camera.outputRenderTarget.skipInitialClear = skipInitialClear;\n      }\n    }\n    this.updateTransformMatrix();\n    this.onBeforeCameraRenderObservable.notifyObservers(this.activeCamera);\n    this._evaluateActiveMeshes();\n    for (var softwareSkinnedMeshIndex = 0; softwareSkinnedMeshIndex < this._softwareSkinnedMeshes.length; softwareSkinnedMeshIndex++) {\n      var mesh = this._softwareSkinnedMeshes.data[softwareSkinnedMeshIndex];\n      mesh.applySkeleton(mesh.skeleton);\n    }\n    this.onBeforeRenderTargetsRenderObservable.notifyObservers(this);\n    this._renderTargets.concatWithNoDuplicate(this._materialsRenderTargets);\n    if (camera.customRenderTargets && camera.customRenderTargets.length > 0) {\n      this._renderTargets.concatWithNoDuplicate(camera.customRenderTargets);\n    }\n    if (rigParent && rigParent.customRenderTargets && rigParent.customRenderTargets.length > 0) {\n      this._renderTargets.concatWithNoDuplicate(rigParent.customRenderTargets);\n    }\n    if (this.environmentTexture && this.environmentTexture.isRenderTarget) {\n      this._renderTargets.pushNoDuplicate(this.environmentTexture);\n    }\n    for (var _i = 0, _d = this._gatherActiveCameraRenderTargetsStage; _i < _d.length; _i++) {\n      var step = _d[_i];\n      step.action(this._renderTargets);\n    }\n    var needRebind = false;\n    if (this.renderTargetsEnabled) {\n      this._intermediateRendering = true;\n      if (this._renderTargets.length > 0) {\n        Tools.StartPerformanceCounter(\"Render targets\", this._renderTargets.length > 0);\n        for (var renderIndex = 0; renderIndex < this._renderTargets.length; renderIndex++) {\n          var renderTarget = this._renderTargets.data[renderIndex];\n          if (renderTarget._shouldRender()) {\n            this._renderId++;\n            var hasSpecialRenderTargetCamera = renderTarget.activeCamera && renderTarget.activeCamera !== this.activeCamera;\n            renderTarget.render(hasSpecialRenderTargetCamera, this.dumpNextRenderTargets);\n            needRebind = true;\n          }\n        }\n        Tools.EndPerformanceCounter(\"Render targets\", this._renderTargets.length > 0);\n        this._renderId++;\n      }\n      for (var _e = 0, _f = this._cameraDrawRenderTargetStage; _e < _f.length; _e++) {\n        var step = _f[_e];\n        needRebind = step.action(this.activeCamera) || needRebind;\n      }\n      this._intermediateRendering = false;\n    }\n    this._engine.currentRenderPassId = (_c = (_b = (_a = camera.outputRenderTarget) === null || _a === void 0 ? void 0 : _a.renderPassId) !== null && _b !== void 0 ? _b : camera.renderPassId) !== null && _c !== void 0 ? _c : 0;\n    if (needRebind && !this.prePass) {\n      this._bindFrameBuffer(this._activeCamera, false);\n    }\n    this.onAfterRenderTargetsRenderObservable.notifyObservers(this);\n    if (this.postProcessManager && !camera._multiviewTexture && !this.prePass) {\n      this.postProcessManager._prepareFrame();\n    }\n    for (var _g = 0, _h = this._beforeCameraDrawStage; _g < _h.length; _g++) {\n      var step = _h[_g];\n      step.action(this.activeCamera);\n    }\n    this.onBeforeDrawPhaseObservable.notifyObservers(this);\n    if (engine.snapshotRendering && engine.snapshotRenderingMode === 1) {\n      this.finalizeSceneUbo();\n    }\n    this._renderingManager.render(null, null, true, true);\n    this.onAfterDrawPhaseObservable.notifyObservers(this);\n    for (var _j = 0, _k = this._afterCameraDrawStage; _j < _k.length; _j++) {\n      var step = _k[_j];\n      step.action(this.activeCamera);\n    }\n    if (this.postProcessManager && !camera._multiviewTexture) {\n      var texture = camera.outputRenderTarget ? camera.outputRenderTarget.renderTarget : void 0;\n      this.postProcessManager._finalizeFrame(camera.isIntermediate, texture);\n    }\n    this._renderTargets.reset();\n    this.onAfterCameraRenderObservable.notifyObservers(this.activeCamera);\n  };\n  Scene2.prototype._processSubCameras = function(camera, bindFrameBuffer) {\n    if (bindFrameBuffer === void 0) {\n      bindFrameBuffer = true;\n    }\n    if (camera.cameraRigMode === 0 || camera._renderingMultiview) {\n      if (camera._renderingMultiview && !this._multiviewSceneUbo) {\n        this._createMultiviewUbo();\n      }\n      this._renderForCamera(camera, void 0, bindFrameBuffer);\n      this.onAfterRenderCameraObservable.notifyObservers(camera);\n      return;\n    }\n    if (camera._useMultiviewToSingleView) {\n      this._renderMultiviewToSingleView(camera);\n    } else {\n      this.onBeforeCameraRenderObservable.notifyObservers(camera);\n      for (var index = 0; index < camera._rigCameras.length; index++) {\n        this._renderForCamera(camera._rigCameras[index], camera);\n      }\n    }\n    this._activeCamera = camera;\n    this.updateTransformMatrix();\n    this.onAfterRenderCameraObservable.notifyObservers(camera);\n  };\n  Scene2.prototype._checkIntersections = function() {\n    for (var index = 0; index < this._meshesForIntersections.length; index++) {\n      var sourceMesh = this._meshesForIntersections.data[index];\n      if (!sourceMesh.actionManager) {\n        continue;\n      }\n      var _loop_1 = function(actionIndex2) {\n        var action = sourceMesh.actionManager.actions[actionIndex2];\n        if (action.trigger === 12 || action.trigger === 13) {\n          var parameters = action.getTriggerParameter();\n          var otherMesh_1 = parameters.mesh ? parameters.mesh : parameters;\n          var areIntersecting = otherMesh_1.intersectsMesh(sourceMesh, parameters.usePreciseIntersection);\n          var currentIntersectionInProgress = sourceMesh._intersectionsInProgress.indexOf(otherMesh_1);\n          if (areIntersecting && currentIntersectionInProgress === -1) {\n            if (action.trigger === 12) {\n              action._executeCurrent(ActionEvent.CreateNew(sourceMesh, void 0, otherMesh_1));\n              sourceMesh._intersectionsInProgress.push(otherMesh_1);\n            } else if (action.trigger === 13) {\n              sourceMesh._intersectionsInProgress.push(otherMesh_1);\n            }\n          } else if (!areIntersecting && currentIntersectionInProgress > -1) {\n            if (action.trigger === 13) {\n              action._executeCurrent(ActionEvent.CreateNew(sourceMesh, void 0, otherMesh_1));\n            }\n            if (!sourceMesh.actionManager.hasSpecificTrigger(13, function(parameter) {\n              var parameterMesh = parameter.mesh ? parameter.mesh : parameter;\n              return otherMesh_1 === parameterMesh;\n            }) || action.trigger === 13) {\n              sourceMesh._intersectionsInProgress.splice(currentIntersectionInProgress, 1);\n            }\n          }\n        }\n      };\n      for (var actionIndex = 0; sourceMesh.actionManager && actionIndex < sourceMesh.actionManager.actions.length; actionIndex++) {\n        _loop_1(actionIndex);\n      }\n    }\n  };\n  Scene2.prototype._advancePhysicsEngineStep = function(step) {\n  };\n  Scene2.prototype._animate = function() {\n  };\n  Scene2.prototype.animate = function() {\n    if (this._engine.isDeterministicLockStep()) {\n      var deltaTime = Math.max(Scene2.MinDeltaTime, Math.min(this._engine.getDeltaTime(), Scene2.MaxDeltaTime)) + this._timeAccumulator;\n      var defaultFrameTime = this._engine.getTimeStep();\n      var defaultFPS = 1e3 / defaultFrameTime / 1e3;\n      var stepsTaken = 0;\n      var maxSubSteps = this._engine.getLockstepMaxSteps();\n      var internalSteps = Math.floor(deltaTime / defaultFrameTime);\n      internalSteps = Math.min(internalSteps, maxSubSteps);\n      while (deltaTime > 0 && stepsTaken < internalSteps) {\n        this.onBeforeStepObservable.notifyObservers(this);\n        this._animationRatio = defaultFrameTime * defaultFPS;\n        this._animate();\n        this.onAfterAnimationsObservable.notifyObservers(this);\n        if (this.physicsEnabled) {\n          this._advancePhysicsEngineStep(defaultFrameTime);\n        }\n        this.onAfterStepObservable.notifyObservers(this);\n        this._currentStepId++;\n        stepsTaken++;\n        deltaTime -= defaultFrameTime;\n      }\n      this._timeAccumulator = deltaTime < 0 ? 0 : deltaTime;\n    } else {\n      var deltaTime = this.useConstantAnimationDeltaTime ? 16 : Math.max(Scene2.MinDeltaTime, Math.min(this._engine.getDeltaTime(), Scene2.MaxDeltaTime));\n      this._animationRatio = deltaTime * (60 / 1e3);\n      this._animate();\n      this.onAfterAnimationsObservable.notifyObservers(this);\n      if (this.physicsEnabled) {\n        this._advancePhysicsEngineStep(deltaTime);\n      }\n    }\n  };\n  Scene2.prototype._clear = function() {\n    if (this.autoClearDepthAndStencil || this.autoClear) {\n      this._engine.clear(this.clearColor, this.autoClear || this.forceWireframe || this.forcePointsCloud, this.autoClearDepthAndStencil, this.autoClearDepthAndStencil);\n    }\n  };\n  Scene2.prototype._checkCameraRenderTarget = function(camera) {\n    var _a;\n    if ((camera === null || camera === void 0 ? void 0 : camera.outputRenderTarget) && !(camera === null || camera === void 0 ? void 0 : camera.isRigCamera)) {\n      camera.outputRenderTarget._cleared = false;\n    }\n    if ((_a = camera === null || camera === void 0 ? void 0 : camera.rigCameras) === null || _a === void 0 ? void 0 : _a.length) {\n      for (var i = 0; i < camera.rigCameras.length; ++i) {\n        var rtt = camera.rigCameras[i].outputRenderTarget;\n        if (rtt) {\n          rtt._cleared = false;\n        }\n      }\n    }\n  };\n  Scene2.prototype.resetDrawCache = function(passId) {\n    if (!this.meshes) {\n      return;\n    }\n    for (var _i = 0, _a = this.meshes; _i < _a.length; _i++) {\n      var mesh = _a[_i];\n      mesh.resetDrawCache(passId);\n    }\n  };\n  Scene2.prototype.render = function(updateCameras, ignoreAnimations) {\n    var _a, _b, _c;\n    if (updateCameras === void 0) {\n      updateCameras = true;\n    }\n    if (ignoreAnimations === void 0) {\n      ignoreAnimations = false;\n    }\n    if (this.isDisposed) {\n      return;\n    }\n    if (this.onReadyObservable.hasObservers() && this._executeWhenReadyTimeoutId === null) {\n      this._checkIsReady();\n    }\n    this._frameId++;\n    this._defaultFrameBufferCleared = false;\n    this._checkCameraRenderTarget(this.activeCamera);\n    if ((_a = this.activeCameras) === null || _a === void 0 ? void 0 : _a.length) {\n      this.activeCameras.forEach(this._checkCameraRenderTarget);\n    }\n    this._registerTransientComponents();\n    this._activeParticles.fetchNewFrame();\n    this._totalVertices.fetchNewFrame();\n    this._activeIndices.fetchNewFrame();\n    this._activeBones.fetchNewFrame();\n    this._meshesForIntersections.reset();\n    this.resetCachedMaterial();\n    this.onBeforeAnimationsObservable.notifyObservers(this);\n    if (this.actionManager) {\n      this.actionManager.processTrigger(11);\n    }\n    if (!ignoreAnimations) {\n      this.animate();\n    }\n    for (var _i = 0, _d = this._beforeCameraUpdateStage; _i < _d.length; _i++) {\n      var step = _d[_i];\n      step.action();\n    }\n    if (updateCameras) {\n      if (this.activeCameras && this.activeCameras.length > 0) {\n        for (var cameraIndex = 0; cameraIndex < this.activeCameras.length; cameraIndex++) {\n          var camera = this.activeCameras[cameraIndex];\n          camera.update();\n          if (camera.cameraRigMode !== 0) {\n            for (var index = 0; index < camera._rigCameras.length; index++) {\n              camera._rigCameras[index].update();\n            }\n          }\n        }\n      } else if (this.activeCamera) {\n        this.activeCamera.update();\n        if (this.activeCamera.cameraRigMode !== 0) {\n          for (var index = 0; index < this.activeCamera._rigCameras.length; index++) {\n            this.activeCamera._rigCameras[index].update();\n          }\n        }\n      }\n    }\n    this.onBeforeRenderObservable.notifyObservers(this);\n    var engine = this.getEngine();\n    this.onBeforeRenderTargetsRenderObservable.notifyObservers(this);\n    var currentActiveCamera = ((_b = this.activeCameras) === null || _b === void 0 ? void 0 : _b.length) ? this.activeCameras[0] : this.activeCamera;\n    if (this.renderTargetsEnabled) {\n      Tools.StartPerformanceCounter(\"Custom render targets\", this.customRenderTargets.length > 0);\n      this._intermediateRendering = true;\n      for (var customIndex = 0; customIndex < this.customRenderTargets.length; customIndex++) {\n        var renderTarget = this.customRenderTargets[customIndex];\n        if (renderTarget._shouldRender()) {\n          this._renderId++;\n          this.activeCamera = renderTarget.activeCamera || this.activeCamera;\n          if (!this.activeCamera) {\n            throw new Error(\"Active camera not set\");\n          }\n          engine.setViewport(this.activeCamera.viewport);\n          this.updateTransformMatrix();\n          renderTarget.render(currentActiveCamera !== this.activeCamera, this.dumpNextRenderTargets);\n        }\n      }\n      Tools.EndPerformanceCounter(\"Custom render targets\", this.customRenderTargets.length > 0);\n      this._intermediateRendering = false;\n      this._renderId++;\n    }\n    this._engine.currentRenderPassId = (_c = currentActiveCamera === null || currentActiveCamera === void 0 ? void 0 : currentActiveCamera.renderPassId) !== null && _c !== void 0 ? _c : 0;\n    this.activeCamera = currentActiveCamera;\n    if (this._activeCamera && this._activeCamera.cameraRigMode !== 22 && !this.prePass) {\n      this._bindFrameBuffer(this._activeCamera, false);\n    }\n    this.onAfterRenderTargetsRenderObservable.notifyObservers(this);\n    for (var _e = 0, _f = this._beforeClearStage; _e < _f.length; _e++) {\n      var step = _f[_e];\n      step.action();\n    }\n    this._clearFrameBuffer(this.activeCamera);\n    for (var _g = 0, _h = this._gatherRenderTargetsStage; _g < _h.length; _g++) {\n      var step = _h[_g];\n      step.action(this._renderTargets);\n    }\n    if (this.activeCameras && this.activeCameras.length > 0) {\n      for (var cameraIndex = 0; cameraIndex < this.activeCameras.length; cameraIndex++) {\n        this._processSubCameras(this.activeCameras[cameraIndex], cameraIndex > 0);\n      }\n    } else {\n      if (!this.activeCamera) {\n        throw new Error(\"No camera defined\");\n      }\n      this._processSubCameras(this.activeCamera, !!this.activeCamera.outputRenderTarget);\n    }\n    this._checkIntersections();\n    for (var _j = 0, _k = this._afterRenderStage; _j < _k.length; _j++) {\n      var step = _k[_j];\n      step.action();\n    }\n    if (this.afterRender) {\n      this.afterRender();\n    }\n    this.onAfterRenderObservable.notifyObservers(this);\n    if (this._toBeDisposed.length) {\n      for (var index = 0; index < this._toBeDisposed.length; index++) {\n        var data = this._toBeDisposed[index];\n        if (data) {\n          data.dispose();\n        }\n      }\n      this._toBeDisposed = [];\n    }\n    if (this.dumpNextRenderTargets) {\n      this.dumpNextRenderTargets = false;\n    }\n    this._activeBones.addCount(0, true);\n    this._activeIndices.addCount(0, true);\n    this._activeParticles.addCount(0, true);\n    this._engine.restoreDefaultFramebuffer();\n  };\n  Scene2.prototype.freezeMaterials = function() {\n    for (var i = 0; i < this.materials.length; i++) {\n      this.materials[i].freeze();\n    }\n  };\n  Scene2.prototype.unfreezeMaterials = function() {\n    for (var i = 0; i < this.materials.length; i++) {\n      this.materials[i].unfreeze();\n    }\n  };\n  Scene2.prototype.dispose = function() {\n    var _a;\n    if (this.isDisposed) {\n      return;\n    }\n    this.beforeRender = null;\n    this.afterRender = null;\n    this.metadata = null;\n    this.skeletons = [];\n    this.morphTargetManagers = [];\n    this._transientComponents = [];\n    this._isReadyForMeshStage.clear();\n    this._beforeEvaluateActiveMeshStage.clear();\n    this._evaluateSubMeshStage.clear();\n    this._preActiveMeshStage.clear();\n    this._cameraDrawRenderTargetStage.clear();\n    this._beforeCameraDrawStage.clear();\n    this._beforeRenderTargetDrawStage.clear();\n    this._beforeRenderingGroupDrawStage.clear();\n    this._beforeRenderingMeshStage.clear();\n    this._afterRenderingMeshStage.clear();\n    this._afterRenderingGroupDrawStage.clear();\n    this._afterCameraDrawStage.clear();\n    this._afterRenderTargetDrawStage.clear();\n    this._afterRenderStage.clear();\n    this._beforeCameraUpdateStage.clear();\n    this._beforeClearStage.clear();\n    this._gatherRenderTargetsStage.clear();\n    this._gatherActiveCameraRenderTargetsStage.clear();\n    this._pointerMoveStage.clear();\n    this._pointerDownStage.clear();\n    this._pointerUpStage.clear();\n    this.importedMeshesFiles = new Array();\n    if (this.stopAllAnimations) {\n      this.stopAllAnimations();\n    }\n    this.resetCachedMaterial();\n    if (this.activeCamera) {\n      this.activeCamera._activeMeshes.dispose();\n      this.activeCamera = null;\n    }\n    this._activeMeshes.dispose();\n    this._renderingManager.dispose();\n    this._processedMaterials.dispose();\n    this._activeParticleSystems.dispose();\n    this._activeSkeletons.dispose();\n    this._softwareSkinnedMeshes.dispose();\n    this._renderTargets.dispose();\n    this._materialsRenderTargets.dispose();\n    this._registeredForLateAnimationBindings.dispose();\n    this._meshesForIntersections.dispose();\n    this._toBeDisposed = [];\n    var activeRequests = this._activeRequests.slice();\n    for (var _i = 0, activeRequests_1 = activeRequests; _i < activeRequests_1.length; _i++) {\n      var request = activeRequests_1[_i];\n      request.abort();\n    }\n    this._activeRequests = [];\n    this.onDisposeObservable.notifyObservers(this);\n    this.onDisposeObservable.clear();\n    this.onBeforeRenderObservable.clear();\n    this.onAfterRenderObservable.clear();\n    this.onBeforeRenderTargetsRenderObservable.clear();\n    this.onAfterRenderTargetsRenderObservable.clear();\n    this.onAfterStepObservable.clear();\n    this.onBeforeStepObservable.clear();\n    this.onBeforeActiveMeshesEvaluationObservable.clear();\n    this.onAfterActiveMeshesEvaluationObservable.clear();\n    this.onBeforeParticlesRenderingObservable.clear();\n    this.onAfterParticlesRenderingObservable.clear();\n    this.onBeforeDrawPhaseObservable.clear();\n    this.onAfterDrawPhaseObservable.clear();\n    this.onBeforeAnimationsObservable.clear();\n    this.onAfterAnimationsObservable.clear();\n    this.onDataLoadedObservable.clear();\n    this.onBeforeRenderingGroupObservable.clear();\n    this.onAfterRenderingGroupObservable.clear();\n    this.onMeshImportedObservable.clear();\n    this.onBeforeCameraRenderObservable.clear();\n    this.onAfterCameraRenderObservable.clear();\n    this.onReadyObservable.clear();\n    this.onNewCameraAddedObservable.clear();\n    this.onCameraRemovedObservable.clear();\n    this.onNewLightAddedObservable.clear();\n    this.onLightRemovedObservable.clear();\n    this.onNewGeometryAddedObservable.clear();\n    this.onGeometryRemovedObservable.clear();\n    this.onNewTransformNodeAddedObservable.clear();\n    this.onTransformNodeRemovedObservable.clear();\n    this.onNewMeshAddedObservable.clear();\n    this.onMeshRemovedObservable.clear();\n    this.onNewSkeletonAddedObservable.clear();\n    this.onSkeletonRemovedObservable.clear();\n    this.onNewMaterialAddedObservable.clear();\n    this.onNewMultiMaterialAddedObservable.clear();\n    this.onMaterialRemovedObservable.clear();\n    this.onMultiMaterialRemovedObservable.clear();\n    this.onNewTextureAddedObservable.clear();\n    this.onTextureRemovedObservable.clear();\n    this.onPrePointerObservable.clear();\n    this.onPointerObservable.clear();\n    this.onPreKeyboardObservable.clear();\n    this.onKeyboardObservable.clear();\n    this.onActiveCameraChanged.clear();\n    this.onComputePressureChanged.clear();\n    (_a = this._computePressureObserver) === null || _a === void 0 ? void 0 : _a.unobserve();\n    this._computePressureObserver = void 0;\n    this.detachControl();\n    var canvas = this._engine.getInputElement();\n    if (canvas) {\n      for (var index_1 = 0; index_1 < this.cameras.length; index_1++) {\n        this.cameras[index_1].detachControl();\n      }\n    }\n    this._disposeList(this.animationGroups);\n    this._disposeList(this.lights);\n    this._disposeList(this.meshes, function(item) {\n      return item.dispose(true);\n    });\n    this._disposeList(this.transformNodes, function(item) {\n      return item.dispose(true);\n    });\n    this._disposeList(this.cameras);\n    if (this._defaultMaterial) {\n      this._defaultMaterial.dispose();\n    }\n    this._disposeList(this.multiMaterials);\n    this._disposeList(this.materials);\n    this._disposeList(this.particleSystems);\n    this._disposeList(this.postProcesses);\n    this._disposeList(this.textures);\n    this._disposeList(this.morphTargetManagers);\n    this._sceneUbo.dispose();\n    if (this._multiviewSceneUbo) {\n      this._multiviewSceneUbo.dispose();\n    }\n    this.postProcessManager.dispose();\n    this._disposeList(this._components);\n    var index = this._engine.scenes.indexOf(this);\n    if (index > -1) {\n      this._engine.scenes.splice(index, 1);\n    }\n    if (EngineStore._LastCreatedScene === this) {\n      if (this._engine.scenes.length > 0) {\n        EngineStore._LastCreatedScene = this._engine.scenes[this._engine.scenes.length - 1];\n      } else {\n        EngineStore._LastCreatedScene = null;\n      }\n    }\n    index = this._engine._virtualScenes.indexOf(this);\n    if (index > -1) {\n      this._engine._virtualScenes.splice(index, 1);\n    }\n    this._engine.wipeCaches(true);\n    this._isDisposed = true;\n  };\n  Scene2.prototype._disposeList = function(items, callback) {\n    var itemsCopy = items.slice(0);\n    callback = callback !== null && callback !== void 0 ? callback : function(item2) {\n      return item2.dispose();\n    };\n    for (var _i = 0, itemsCopy_1 = itemsCopy; _i < itemsCopy_1.length; _i++) {\n      var item = itemsCopy_1[_i];\n      callback(item);\n    }\n    items.length = 0;\n  };\n  Object.defineProperty(Scene2.prototype, \"isDisposed\", {\n    get: function() {\n      return this._isDisposed;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Scene2.prototype.clearCachedVertexData = function() {\n    for (var meshIndex = 0; meshIndex < this.meshes.length; meshIndex++) {\n      var mesh = this.meshes[meshIndex];\n      var geometry = mesh.geometry;\n      if (geometry) {\n        geometry.clearCachedData();\n      }\n    }\n  };\n  Scene2.prototype.cleanCachedTextureBuffer = function() {\n    for (var _i = 0, _a = this.textures; _i < _a.length; _i++) {\n      var baseTexture = _a[_i];\n      var buffer = baseTexture._buffer;\n      if (buffer) {\n        baseTexture._buffer = null;\n      }\n    }\n  };\n  Scene2.prototype.getWorldExtends = function(filterPredicate) {\n    var min = new Vector3(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n    var max = new Vector3(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);\n    filterPredicate = filterPredicate || function() {\n      return true;\n    };\n    this.meshes.filter(filterPredicate).forEach(function(mesh) {\n      mesh.computeWorldMatrix(true);\n      if (!mesh.subMeshes || mesh.subMeshes.length === 0 || mesh.infiniteDistance) {\n        return;\n      }\n      var boundingInfo = mesh.getBoundingInfo();\n      var minBox = boundingInfo.boundingBox.minimumWorld;\n      var maxBox = boundingInfo.boundingBox.maximumWorld;\n      Vector3.CheckExtends(minBox, min, max);\n      Vector3.CheckExtends(maxBox, min, max);\n    });\n    return {\n      min,\n      max\n    };\n  };\n  Scene2.prototype.createPickingRay = function(x, y, world, camera, cameraViewSpace) {\n    throw _WarnImport(\"Ray\");\n  };\n  Scene2.prototype.createPickingRayToRef = function(x, y, world, result, camera, cameraViewSpace, enableDistantPicking) {\n    throw _WarnImport(\"Ray\");\n  };\n  Scene2.prototype.createPickingRayInCameraSpace = function(x, y, camera) {\n    throw _WarnImport(\"Ray\");\n  };\n  Scene2.prototype.createPickingRayInCameraSpaceToRef = function(x, y, result, camera) {\n    throw _WarnImport(\"Ray\");\n  };\n  Scene2.prototype.pick = function(x, y, predicate, fastCheck, camera, trianglePredicate) {\n    var pi = new PickingInfo();\n    pi._pickingUnavailable = true;\n    return pi;\n  };\n  Scene2.prototype.pickWithBoundingInfo = function(x, y, predicate, fastCheck, camera) {\n    var pi = new PickingInfo();\n    pi._pickingUnavailable = true;\n    return pi;\n  };\n  Scene2.prototype.pickWithRay = function(ray, predicate, fastCheck, trianglePredicate) {\n    throw _WarnImport(\"Ray\");\n  };\n  Scene2.prototype.multiPick = function(x, y, predicate, camera, trianglePredicate) {\n    throw _WarnImport(\"Ray\");\n  };\n  Scene2.prototype.multiPickWithRay = function(ray, predicate, trianglePredicate) {\n    throw _WarnImport(\"Ray\");\n  };\n  Scene2.prototype.setPointerOverMesh = function(mesh, pointerId, pickResult) {\n    this._inputManager.setPointerOverMesh(mesh, pointerId, pickResult);\n  };\n  Scene2.prototype.getPointerOverMesh = function() {\n    return this._inputManager.getPointerOverMesh();\n  };\n  Scene2.prototype._rebuildGeometries = function() {\n    for (var _i = 0, _a = this.geometries; _i < _a.length; _i++) {\n      var geometry = _a[_i];\n      geometry._rebuild();\n    }\n    for (var _b = 0, _c = this.meshes; _b < _c.length; _b++) {\n      var mesh = _c[_b];\n      mesh._rebuild();\n    }\n    if (this.postProcessManager) {\n      this.postProcessManager._rebuild();\n    }\n    for (var _d = 0, _e = this._components; _d < _e.length; _d++) {\n      var component = _e[_d];\n      component.rebuild();\n    }\n    for (var _f = 0, _g = this.particleSystems; _f < _g.length; _f++) {\n      var system = _g[_f];\n      system.rebuild();\n    }\n    if (this.spriteManagers) {\n      for (var _h = 0, _j = this.spriteManagers; _h < _j.length; _h++) {\n        var spriteMgr = _j[_h];\n        spriteMgr.rebuild();\n      }\n    }\n  };\n  Scene2.prototype._rebuildTextures = function() {\n    for (var _i = 0, _a = this.textures; _i < _a.length; _i++) {\n      var texture = _a[_i];\n      texture._rebuild();\n    }\n    this.markAllMaterialsAsDirty(1);\n  };\n  Scene2.prototype._getByTags = function(list, tagsQuery, forEach) {\n    if (tagsQuery === void 0) {\n      return list;\n    }\n    var listByTags = [];\n    forEach = forEach || function(item2) {\n      return;\n    };\n    for (var i in list) {\n      var item = list[i];\n      if (Tags && Tags.MatchesQuery(item, tagsQuery)) {\n        listByTags.push(item);\n        forEach(item);\n      }\n    }\n    return listByTags;\n  };\n  Scene2.prototype.getMeshesByTags = function(tagsQuery, forEach) {\n    return this._getByTags(this.meshes, tagsQuery, forEach);\n  };\n  Scene2.prototype.getCamerasByTags = function(tagsQuery, forEach) {\n    return this._getByTags(this.cameras, tagsQuery, forEach);\n  };\n  Scene2.prototype.getLightsByTags = function(tagsQuery, forEach) {\n    return this._getByTags(this.lights, tagsQuery, forEach);\n  };\n  Scene2.prototype.getMaterialByTags = function(tagsQuery, forEach) {\n    return this._getByTags(this.materials, tagsQuery, forEach).concat(this._getByTags(this.multiMaterials, tagsQuery, forEach));\n  };\n  Scene2.prototype.getTransformNodesByTags = function(tagsQuery, forEach) {\n    return this._getByTags(this.transformNodes, tagsQuery, forEach);\n  };\n  Scene2.prototype.setRenderingOrder = function(renderingGroupId, opaqueSortCompareFn, alphaTestSortCompareFn, transparentSortCompareFn) {\n    if (opaqueSortCompareFn === void 0) {\n      opaqueSortCompareFn = null;\n    }\n    if (alphaTestSortCompareFn === void 0) {\n      alphaTestSortCompareFn = null;\n    }\n    if (transparentSortCompareFn === void 0) {\n      transparentSortCompareFn = null;\n    }\n    this._renderingManager.setRenderingOrder(renderingGroupId, opaqueSortCompareFn, alphaTestSortCompareFn, transparentSortCompareFn);\n  };\n  Scene2.prototype.setRenderingAutoClearDepthStencil = function(renderingGroupId, autoClearDepthStencil, depth, stencil) {\n    if (depth === void 0) {\n      depth = true;\n    }\n    if (stencil === void 0) {\n      stencil = true;\n    }\n    this._renderingManager.setRenderingAutoClearDepthStencil(renderingGroupId, autoClearDepthStencil, depth, stencil);\n  };\n  Scene2.prototype.getAutoClearDepthStencilSetup = function(index) {\n    return this._renderingManager.getAutoClearDepthStencilSetup(index);\n  };\n  Object.defineProperty(Scene2.prototype, \"blockMaterialDirtyMechanism\", {\n    get: function() {\n      return this._blockMaterialDirtyMechanism;\n    },\n    set: function(value) {\n      if (this._blockMaterialDirtyMechanism === value) {\n        return;\n      }\n      this._blockMaterialDirtyMechanism = value;\n      if (!value) {\n        this.markAllMaterialsAsDirty(63);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Scene2.prototype.markAllMaterialsAsDirty = function(flag, predicate) {\n    if (this._blockMaterialDirtyMechanism) {\n      return;\n    }\n    for (var _i = 0, _a = this.materials; _i < _a.length; _i++) {\n      var material = _a[_i];\n      if (predicate && !predicate(material)) {\n        continue;\n      }\n      material.markAsDirty(flag);\n    }\n  };\n  Scene2.prototype._loadFile = function(fileOrUrl, onSuccess, onProgress, useOfflineSupport, useArrayBuffer, onError, onOpened) {\n    var _this = this;\n    var request = LoadFile(fileOrUrl, onSuccess, onProgress, useOfflineSupport ? this.offlineProvider : void 0, useArrayBuffer, onError, onOpened);\n    this._activeRequests.push(request);\n    request.onCompleteObservable.add(function(request2) {\n      _this._activeRequests.splice(_this._activeRequests.indexOf(request2), 1);\n    });\n    return request;\n  };\n  Scene2.prototype._loadFileAsync = function(fileOrUrl, onProgress, useOfflineSupport, useArrayBuffer, onOpened) {\n    var _this = this;\n    return new Promise(function(resolve, reject) {\n      _this._loadFile(fileOrUrl, function(data) {\n        resolve(data);\n      }, onProgress, useOfflineSupport, useArrayBuffer, function(request, exception) {\n        reject(exception);\n      }, onOpened);\n    });\n  };\n  Scene2.prototype._requestFile = function(url, onSuccess, onProgress, useOfflineSupport, useArrayBuffer, onError, onOpened) {\n    var _this = this;\n    var request = RequestFile(url, onSuccess, onProgress, useOfflineSupport ? this.offlineProvider : void 0, useArrayBuffer, onError, onOpened);\n    this._activeRequests.push(request);\n    request.onCompleteObservable.add(function(request2) {\n      _this._activeRequests.splice(_this._activeRequests.indexOf(request2), 1);\n    });\n    return request;\n  };\n  Scene2.prototype._requestFileAsync = function(url, onProgress, useOfflineSupport, useArrayBuffer, onOpened) {\n    var _this = this;\n    return new Promise(function(resolve, reject) {\n      _this._requestFile(url, function(data) {\n        resolve(data);\n      }, onProgress, useOfflineSupport, useArrayBuffer, function(error) {\n        reject(error);\n      }, onOpened);\n    });\n  };\n  Scene2.prototype._readFile = function(file, onSuccess, onProgress, useArrayBuffer, onError) {\n    var _this = this;\n    var request = ReadFile(file, onSuccess, onProgress, useArrayBuffer, onError);\n    this._activeRequests.push(request);\n    request.onCompleteObservable.add(function(request2) {\n      _this._activeRequests.splice(_this._activeRequests.indexOf(request2), 1);\n    });\n    return request;\n  };\n  Scene2.prototype._readFileAsync = function(file, onProgress, useArrayBuffer) {\n    var _this = this;\n    return new Promise(function(resolve, reject) {\n      _this._readFile(file, function(data) {\n        resolve(data);\n      }, onProgress, useArrayBuffer, function(error) {\n        reject(error);\n      });\n    });\n  };\n  Scene2.prototype.getPerfCollector = function() {\n    throw _WarnImport(\"performanceViewerSceneExtension\");\n  };\n  Scene2.FOGMODE_NONE = 0;\n  Scene2.FOGMODE_EXP = 1;\n  Scene2.FOGMODE_EXP2 = 2;\n  Scene2.FOGMODE_LINEAR = 3;\n  Scene2.MinDeltaTime = 1;\n  Scene2.MaxDeltaTime = 1e3;\n  return Scene2;\n}(AbstractScene);\nScene.prototype.setActiveCameraByID = function(id) {\n  return this.setActiveCameraById(id);\n};\nScene.prototype.getLastMaterialByID = function(id) {\n  return this.getLastMaterialById(id);\n};\nScene.prototype.getMaterialByID = function(id) {\n  return this.getMaterialById(id);\n};\nScene.prototype.getTextureByUniqueID = function(uniqueId) {\n  return this.getTextureByUniqueId(uniqueId);\n};\nScene.prototype.getCameraByID = function(id) {\n  return this.getCameraById(id);\n};\nScene.prototype.getCameraByUniqueID = function(uniqueId) {\n  return this.getCameraByUniqueId(uniqueId);\n};\nScene.prototype.getBoneByID = function(id) {\n  return this.getBoneById(id);\n};\nScene.prototype.getLightByID = function(id) {\n  return this.getLightById(id);\n};\nScene.prototype.getLightByUniqueID = function(uniqueId) {\n  return this.getLightByUniqueId(uniqueId);\n};\nScene.prototype.getParticleSystemByID = function(id) {\n  return this.getParticleSystemById(id);\n};\nScene.prototype.getGeometryByID = function(id) {\n  return this.getGeometryById(id);\n};\nScene.prototype.getMeshByID = function(id) {\n  return this.getMeshById(id);\n};\nScene.prototype.getMeshesByID = function(id) {\n  return this.getMeshesById(id);\n};\nScene.prototype.getTransformNodeByID = function(id) {\n  return this.getTransformNodeById(id);\n};\nScene.prototype.getTransformNodeByUniqueID = function(uniqueId) {\n  return this.getTransformNodeByUniqueId(uniqueId);\n};\nScene.prototype.getTransformNodesByID = function(id) {\n  return this.getTransformNodesById(id);\n};\nScene.prototype.getMeshByUniqueID = function(uniqueId) {\n  return this.getMeshByUniqueId(uniqueId);\n};\nScene.prototype.getLastMeshByID = function(id) {\n  return this.getLastMeshById(id);\n};\nScene.prototype.getLastEntryByID = function(id) {\n  return this.getLastEntryById(id);\n};\nScene.prototype.getNodeByID = function(id) {\n  return this.getNodeById(id);\n};\nScene.prototype.getLastSkeletonByID = function(id) {\n  return this.getLastSkeletonById(id);\n};\nfunction inlineScheduler(coroutine, onStep, onError) {\n  try {\n    var step_1 = coroutine.next();\n    if (step_1.done) {\n      onStep(step_1);\n    } else if (!step_1.value) {\n      onStep(step_1);\n    } else {\n      step_1.value.then(function() {\n        step_1.value = void 0;\n        onStep(step_1);\n      }, onError);\n    }\n  } catch (error) {\n    onError(error);\n  }\n}\nfunction createYieldingScheduler(yieldAfterMS) {\n  if (yieldAfterMS === void 0) {\n    yieldAfterMS = 25;\n  }\n  var startTime;\n  return function(coroutine, onStep, onError) {\n    var currentTime = performance.now();\n    if (startTime === void 0 || currentTime - startTime > yieldAfterMS) {\n      startTime = currentTime;\n      setTimeout(function() {\n        inlineScheduler(coroutine, onStep, onError);\n      }, 0);\n    } else {\n      inlineScheduler(coroutine, onStep, onError);\n    }\n  };\n}\nfunction runCoroutine(coroutine, scheduler, onSuccess, onError, abortSignal) {\n  var resume = function() {\n    var reschedule;\n    var onStep = function(stepResult) {\n      if (stepResult.done) {\n        onSuccess(stepResult.value);\n      } else {\n        if (reschedule === void 0) {\n          reschedule = true;\n        } else {\n          resume();\n        }\n      }\n    };\n    do {\n      reschedule = void 0;\n      if (!abortSignal || !abortSignal.aborted) {\n        scheduler(coroutine, onStep, onError);\n      } else {\n        onError(new Error(\"Aborted\"));\n      }\n      if (reschedule === void 0) {\n        reschedule = false;\n      }\n    } while (reschedule);\n  };\n  resume();\n}\nfunction runCoroutineSync(coroutine, abortSignal) {\n  var result;\n  runCoroutine(coroutine, inlineScheduler, function(r) {\n    return result = r;\n  }, function(e) {\n    throw e;\n  }, abortSignal);\n  return result;\n}\nfunction runCoroutineAsync(coroutine, scheduler, abortSignal) {\n  return new Promise(function(resolve, reject) {\n    runCoroutine(coroutine, scheduler, resolve, reject, abortSignal);\n  });\n}\nfunction makeSyncFunction(coroutineFactory, abortSignal) {\n  return function() {\n    var params = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      params[_i] = arguments[_i];\n    }\n    return runCoroutineSync(coroutineFactory.apply(void 0, params), abortSignal);\n  };\n}\nvar _InternalNodeDataInfo = function() {\n  function _InternalNodeDataInfo2() {\n    this._doNotSerialize = false;\n    this._isDisposed = false;\n    this._sceneRootNodesIndex = -1;\n    this._isEnabled = true;\n    this._isParentEnabled = true;\n    this._isReady = true;\n    this._onEnabledStateChangedObservable = new Observable();\n    this._onClonedObservable = new Observable();\n  }\n  return _InternalNodeDataInfo2;\n}();\nvar Node = function() {\n  function Node2(name2, scene) {\n    if (scene === void 0) {\n      scene = null;\n    }\n    this._isDirty = false;\n    this._nodeDataStorage = new _InternalNodeDataInfo();\n    this.state = \"\";\n    this.metadata = null;\n    this.reservedDataStore = null;\n    this._parentContainer = null;\n    this.animations = new Array();\n    this._ranges = {};\n    this.onReady = null;\n    this._currentRenderId = -1;\n    this._parentUpdateId = -1;\n    this._childUpdateId = -1;\n    this._waitingParentId = null;\n    this._cache = {};\n    this._parentNode = null;\n    this._children = null;\n    this._worldMatrix = Matrix.Identity();\n    this._worldMatrixDeterminant = 0;\n    this._worldMatrixDeterminantIsDirty = true;\n    this._animationPropertiesOverride = null;\n    this._isNode = true;\n    this.onDisposeObservable = new Observable();\n    this._onDisposeObserver = null;\n    this._behaviors = new Array();\n    this.name = name2;\n    this.id = name2;\n    this._scene = scene || EngineStore.LastCreatedScene;\n    this.uniqueId = this._scene.getUniqueId();\n    this._initCache();\n  }\n  Node2.AddNodeConstructor = function(type, constructorFunc) {\n    this._NodeConstructors[type] = constructorFunc;\n  };\n  Node2.Construct = function(type, name2, scene, options) {\n    var constructorFunc = this._NodeConstructors[type];\n    if (!constructorFunc) {\n      return null;\n    }\n    return constructorFunc(name2, scene, options);\n  };\n  Object.defineProperty(Node2.prototype, \"doNotSerialize\", {\n    get: function() {\n      if (this._nodeDataStorage._doNotSerialize) {\n        return true;\n      }\n      if (this._parentNode) {\n        return this._parentNode.doNotSerialize;\n      }\n      return false;\n    },\n    set: function(value) {\n      this._nodeDataStorage._doNotSerialize = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Node2.prototype.isDisposed = function() {\n    return this._nodeDataStorage._isDisposed;\n  };\n  Object.defineProperty(Node2.prototype, \"parent\", {\n    get: function() {\n      return this._parentNode;\n    },\n    set: function(parent) {\n      if (this._parentNode === parent) {\n        return;\n      }\n      var previousParentNode = this._parentNode;\n      if (this._parentNode && this._parentNode._children !== void 0 && this._parentNode._children !== null) {\n        var index = this._parentNode._children.indexOf(this);\n        if (index !== -1) {\n          this._parentNode._children.splice(index, 1);\n        }\n        if (!parent && !this._nodeDataStorage._isDisposed) {\n          this._addToSceneRootNodes();\n        }\n      }\n      this._parentNode = parent;\n      if (this._parentNode) {\n        if (this._parentNode._children === void 0 || this._parentNode._children === null) {\n          this._parentNode._children = new Array();\n        }\n        this._parentNode._children.push(this);\n        if (!previousParentNode) {\n          this._removeFromSceneRootNodes();\n        }\n      }\n      this._syncParentEnabledState();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Node2.prototype._addToSceneRootNodes = function() {\n    if (this._nodeDataStorage._sceneRootNodesIndex === -1) {\n      this._nodeDataStorage._sceneRootNodesIndex = this._scene.rootNodes.length;\n      this._scene.rootNodes.push(this);\n    }\n  };\n  Node2.prototype._removeFromSceneRootNodes = function() {\n    if (this._nodeDataStorage._sceneRootNodesIndex !== -1) {\n      var rootNodes = this._scene.rootNodes;\n      var lastIdx = rootNodes.length - 1;\n      rootNodes[this._nodeDataStorage._sceneRootNodesIndex] = rootNodes[lastIdx];\n      rootNodes[this._nodeDataStorage._sceneRootNodesIndex]._nodeDataStorage._sceneRootNodesIndex = this._nodeDataStorage._sceneRootNodesIndex;\n      this._scene.rootNodes.pop();\n      this._nodeDataStorage._sceneRootNodesIndex = -1;\n    }\n  };\n  Object.defineProperty(Node2.prototype, \"animationPropertiesOverride\", {\n    get: function() {\n      if (!this._animationPropertiesOverride) {\n        return this._scene.animationPropertiesOverride;\n      }\n      return this._animationPropertiesOverride;\n    },\n    set: function(value) {\n      this._animationPropertiesOverride = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Node2.prototype.getClassName = function() {\n    return \"Node\";\n  };\n  Object.defineProperty(Node2.prototype, \"onDispose\", {\n    set: function(callback) {\n      if (this._onDisposeObserver) {\n        this.onDisposeObservable.remove(this._onDisposeObserver);\n      }\n      this._onDisposeObserver = this.onDisposeObservable.add(callback);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Node2.prototype, \"onEnabledStateChangedObservable\", {\n    get: function() {\n      return this._nodeDataStorage._onEnabledStateChangedObservable;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Node2.prototype, \"onClonedObservable\", {\n    get: function() {\n      return this._nodeDataStorage._onClonedObservable;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Node2.prototype.getScene = function() {\n    return this._scene;\n  };\n  Node2.prototype.getEngine = function() {\n    return this._scene.getEngine();\n  };\n  Node2.prototype.addBehavior = function(behavior, attachImmediately) {\n    var _this = this;\n    if (attachImmediately === void 0) {\n      attachImmediately = false;\n    }\n    var index = this._behaviors.indexOf(behavior);\n    if (index !== -1) {\n      return this;\n    }\n    behavior.init();\n    if (this._scene.isLoading && !attachImmediately) {\n      this._scene.onDataLoadedObservable.addOnce(function() {\n        behavior.attach(_this);\n      });\n    } else {\n      behavior.attach(this);\n    }\n    this._behaviors.push(behavior);\n    return this;\n  };\n  Node2.prototype.removeBehavior = function(behavior) {\n    var index = this._behaviors.indexOf(behavior);\n    if (index === -1) {\n      return this;\n    }\n    this._behaviors[index].detach();\n    this._behaviors.splice(index, 1);\n    return this;\n  };\n  Object.defineProperty(Node2.prototype, \"behaviors\", {\n    get: function() {\n      return this._behaviors;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Node2.prototype.getBehaviorByName = function(name2) {\n    for (var _i = 0, _a = this._behaviors; _i < _a.length; _i++) {\n      var behavior = _a[_i];\n      if (behavior.name === name2) {\n        return behavior;\n      }\n    }\n    return null;\n  };\n  Node2.prototype.getWorldMatrix = function() {\n    if (this._currentRenderId !== this._scene.getRenderId()) {\n      this.computeWorldMatrix();\n    }\n    return this._worldMatrix;\n  };\n  Node2.prototype._getWorldMatrixDeterminant = function() {\n    if (this._worldMatrixDeterminantIsDirty) {\n      this._worldMatrixDeterminantIsDirty = false;\n      this._worldMatrixDeterminant = this._worldMatrix.determinant();\n    }\n    return this._worldMatrixDeterminant;\n  };\n  Object.defineProperty(Node2.prototype, \"worldMatrixFromCache\", {\n    get: function() {\n      return this._worldMatrix;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Node2.prototype._initCache = function() {\n    this._cache = {};\n    this._cache.parent = void 0;\n  };\n  Node2.prototype.updateCache = function(force) {\n    if (!force && this.isSynchronized()) {\n      return;\n    }\n    this._cache.parent = this.parent;\n    this._updateCache();\n  };\n  Node2.prototype._getActionManagerForTrigger = function(trigger, initialCall) {\n    if (!this.parent) {\n      return null;\n    }\n    return this.parent._getActionManagerForTrigger(trigger, false);\n  };\n  Node2.prototype._updateCache = function(ignoreParentClass) {\n  };\n  Node2.prototype._isSynchronized = function() {\n    return true;\n  };\n  Node2.prototype._markSyncedWithParent = function() {\n    if (this._parentNode) {\n      this._parentUpdateId = this._parentNode._childUpdateId;\n    }\n  };\n  Node2.prototype.isSynchronizedWithParent = function() {\n    if (!this._parentNode) {\n      return true;\n    }\n    if (this._parentNode._isDirty || this._parentUpdateId !== this._parentNode._childUpdateId) {\n      return false;\n    }\n    return this._parentNode.isSynchronized();\n  };\n  Node2.prototype.isSynchronized = function() {\n    if (this._cache.parent !== this._parentNode) {\n      this._cache.parent = this._parentNode;\n      return false;\n    }\n    if (this._parentNode && !this.isSynchronizedWithParent()) {\n      return false;\n    }\n    return this._isSynchronized();\n  };\n  Node2.prototype.isReady = function(completeCheck) {\n    return this._nodeDataStorage._isReady;\n  };\n  Node2.prototype.markAsDirty = function(property) {\n    this._currentRenderId = Number.MAX_VALUE;\n    this._isDirty = true;\n    return this;\n  };\n  Node2.prototype.isEnabled = function(checkAncestors) {\n    if (checkAncestors === void 0) {\n      checkAncestors = true;\n    }\n    if (checkAncestors === false) {\n      return this._nodeDataStorage._isEnabled;\n    }\n    if (!this._nodeDataStorage._isEnabled) {\n      return false;\n    }\n    return this._nodeDataStorage._isParentEnabled;\n  };\n  Node2.prototype._syncParentEnabledState = function() {\n    this._nodeDataStorage._isParentEnabled = this._parentNode ? this._parentNode.isEnabled() : true;\n    if (this._children) {\n      this._children.forEach(function(c) {\n        c._syncParentEnabledState();\n      });\n    }\n  };\n  Node2.prototype.setEnabled = function(value) {\n    if (this._nodeDataStorage._isEnabled === value) {\n      return;\n    }\n    this._nodeDataStorage._isEnabled = value;\n    this._nodeDataStorage._onEnabledStateChangedObservable.notifyObservers(value);\n    this._syncParentEnabledState();\n  };\n  Node2.prototype.isDescendantOf = function(ancestor) {\n    if (this.parent) {\n      if (this.parent === ancestor) {\n        return true;\n      }\n      return this.parent.isDescendantOf(ancestor);\n    }\n    return false;\n  };\n  Node2.prototype._getDescendants = function(results, directDescendantsOnly, predicate) {\n    if (directDescendantsOnly === void 0) {\n      directDescendantsOnly = false;\n    }\n    if (!this._children) {\n      return;\n    }\n    for (var index = 0; index < this._children.length; index++) {\n      var item = this._children[index];\n      if (!predicate || predicate(item)) {\n        results.push(item);\n      }\n      if (!directDescendantsOnly) {\n        item._getDescendants(results, false, predicate);\n      }\n    }\n  };\n  Node2.prototype.getDescendants = function(directDescendantsOnly, predicate) {\n    var results = new Array();\n    this._getDescendants(results, directDescendantsOnly, predicate);\n    return results;\n  };\n  Node2.prototype.getChildMeshes = function(directDescendantsOnly, predicate) {\n    var results = [];\n    this._getDescendants(results, directDescendantsOnly, function(node) {\n      return (!predicate || predicate(node)) && node.cullingStrategy !== void 0;\n    });\n    return results;\n  };\n  Node2.prototype.getChildren = function(predicate, directDescendantsOnly) {\n    if (directDescendantsOnly === void 0) {\n      directDescendantsOnly = true;\n    }\n    return this.getDescendants(directDescendantsOnly, predicate);\n  };\n  Node2.prototype._setReady = function(state) {\n    if (state === this._nodeDataStorage._isReady) {\n      return;\n    }\n    if (!state) {\n      this._nodeDataStorage._isReady = false;\n      return;\n    }\n    if (this.onReady) {\n      this.onReady(this);\n    }\n    this._nodeDataStorage._isReady = true;\n  };\n  Node2.prototype.getAnimationByName = function(name2) {\n    for (var i = 0; i < this.animations.length; i++) {\n      var animation = this.animations[i];\n      if (animation.name === name2) {\n        return animation;\n      }\n    }\n    return null;\n  };\n  Node2.prototype.createAnimationRange = function(name2, from, to) {\n    if (!this._ranges[name2]) {\n      this._ranges[name2] = Node2._AnimationRangeFactory(name2, from, to);\n      for (var i = 0, nAnimations = this.animations.length; i < nAnimations; i++) {\n        if (this.animations[i]) {\n          this.animations[i].createRange(name2, from, to);\n        }\n      }\n    }\n  };\n  Node2.prototype.deleteAnimationRange = function(name2, deleteFrames) {\n    if (deleteFrames === void 0) {\n      deleteFrames = true;\n    }\n    for (var i = 0, nAnimations = this.animations.length; i < nAnimations; i++) {\n      if (this.animations[i]) {\n        this.animations[i].deleteRange(name2, deleteFrames);\n      }\n    }\n    this._ranges[name2] = null;\n  };\n  Node2.prototype.getAnimationRange = function(name2) {\n    return this._ranges[name2] || null;\n  };\n  Node2.prototype.getAnimationRanges = function() {\n    var animationRanges = [];\n    var name2;\n    for (name2 in this._ranges) {\n      animationRanges.push(this._ranges[name2]);\n    }\n    return animationRanges;\n  };\n  Node2.prototype.beginAnimation = function(name2, loop, speedRatio, onAnimationEnd) {\n    var range = this.getAnimationRange(name2);\n    if (!range) {\n      return null;\n    }\n    return this._scene.beginAnimation(this, range.from, range.to, loop, speedRatio, onAnimationEnd);\n  };\n  Node2.prototype.serializeAnimationRanges = function() {\n    var serializationRanges = [];\n    for (var name_1 in this._ranges) {\n      var localRange = this._ranges[name_1];\n      if (!localRange) {\n        continue;\n      }\n      var range = {};\n      range.name = name_1;\n      range.from = localRange.from;\n      range.to = localRange.to;\n      serializationRanges.push(range);\n    }\n    return serializationRanges;\n  };\n  Node2.prototype.computeWorldMatrix = function(force) {\n    if (!this._worldMatrix) {\n      this._worldMatrix = Matrix.Identity();\n    }\n    return this._worldMatrix;\n  };\n  Node2.prototype.dispose = function(doNotRecurse, disposeMaterialAndTextures) {\n    if (disposeMaterialAndTextures === void 0) {\n      disposeMaterialAndTextures = false;\n    }\n    this._nodeDataStorage._isDisposed = true;\n    if (!doNotRecurse) {\n      var nodes = this.getDescendants(true);\n      for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n        var node = nodes_1[_i];\n        node.dispose(doNotRecurse, disposeMaterialAndTextures);\n      }\n    }\n    if (!this.parent) {\n      this._removeFromSceneRootNodes();\n    } else {\n      this.parent = null;\n    }\n    this.onDisposeObservable.notifyObservers(this);\n    this.onDisposeObservable.clear();\n    this.onEnabledStateChangedObservable.clear();\n    this.onClonedObservable.clear();\n    for (var _a = 0, _b = this._behaviors; _a < _b.length; _a++) {\n      var behavior = _b[_a];\n      behavior.detach();\n    }\n    this._behaviors = [];\n    this.metadata = null;\n  };\n  Node2.ParseAnimationRanges = function(node, parsedNode, scene) {\n    if (parsedNode.ranges) {\n      for (var index = 0; index < parsedNode.ranges.length; index++) {\n        var data = parsedNode.ranges[index];\n        node.createAnimationRange(data.name, data.from, data.to);\n      }\n    }\n  };\n  Node2.prototype.getHierarchyBoundingVectors = function(includeDescendants, predicate) {\n    if (includeDescendants === void 0) {\n      includeDescendants = true;\n    }\n    if (predicate === void 0) {\n      predicate = null;\n    }\n    this.getScene().incrementRenderId();\n    this.computeWorldMatrix(true);\n    var min;\n    var max;\n    var thisAbstractMesh = this;\n    if (thisAbstractMesh.getBoundingInfo && thisAbstractMesh.subMeshes) {\n      var boundingInfo = thisAbstractMesh.getBoundingInfo();\n      min = boundingInfo.boundingBox.minimumWorld.clone();\n      max = boundingInfo.boundingBox.maximumWorld.clone();\n    } else {\n      min = new Vector3(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n      max = new Vector3(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);\n    }\n    if (includeDescendants) {\n      var descendants = this.getDescendants(false);\n      for (var _i = 0, descendants_1 = descendants; _i < descendants_1.length; _i++) {\n        var descendant = descendants_1[_i];\n        var childMesh = descendant;\n        childMesh.computeWorldMatrix(true);\n        if (predicate && !predicate(childMesh)) {\n          continue;\n        }\n        if (!childMesh.getBoundingInfo || childMesh.getTotalVertices() === 0) {\n          continue;\n        }\n        var childBoundingInfo = childMesh.getBoundingInfo();\n        var boundingBox = childBoundingInfo.boundingBox;\n        var minBox = boundingBox.minimumWorld;\n        var maxBox = boundingBox.maximumWorld;\n        Vector3.CheckExtends(minBox, min, max);\n        Vector3.CheckExtends(maxBox, min, max);\n      }\n    }\n    return {\n      min,\n      max\n    };\n  };\n  Node2._AnimationRangeFactory = function(name2, from, to) {\n    throw _WarnImport(\"AnimationRange\");\n  };\n  Node2._NodeConstructors = {};\n  __decorate([\n    serialize()\n  ], Node2.prototype, \"name\", void 0);\n  __decorate([\n    serialize()\n  ], Node2.prototype, \"id\", void 0);\n  __decorate([\n    serialize()\n  ], Node2.prototype, \"uniqueId\", void 0);\n  __decorate([\n    serialize()\n  ], Node2.prototype, \"state\", void 0);\n  __decorate([\n    serialize()\n  ], Node2.prototype, \"metadata\", void 0);\n  return Node2;\n}();\nvar VertexData = function() {\n  function VertexData2() {\n    this._applyTo = makeSyncFunction(this._applyToCoroutine.bind(this));\n  }\n  VertexData2.prototype.set = function(data, kind) {\n    if (!data.length) {\n      Logger.Warn(\"Setting vertex data kind '\".concat(kind, \"' with an empty array\"));\n    }\n    switch (kind) {\n      case VertexBuffer.PositionKind:\n        this.positions = data;\n        break;\n      case VertexBuffer.NormalKind:\n        this.normals = data;\n        break;\n      case VertexBuffer.TangentKind:\n        this.tangents = data;\n        break;\n      case VertexBuffer.UVKind:\n        this.uvs = data;\n        break;\n      case VertexBuffer.UV2Kind:\n        this.uvs2 = data;\n        break;\n      case VertexBuffer.UV3Kind:\n        this.uvs3 = data;\n        break;\n      case VertexBuffer.UV4Kind:\n        this.uvs4 = data;\n        break;\n      case VertexBuffer.UV5Kind:\n        this.uvs5 = data;\n        break;\n      case VertexBuffer.UV6Kind:\n        this.uvs6 = data;\n        break;\n      case VertexBuffer.ColorKind:\n        this.colors = data;\n        break;\n      case VertexBuffer.MatricesIndicesKind:\n        this.matricesIndices = data;\n        break;\n      case VertexBuffer.MatricesWeightsKind:\n        this.matricesWeights = data;\n        break;\n      case VertexBuffer.MatricesIndicesExtraKind:\n        this.matricesIndicesExtra = data;\n        break;\n      case VertexBuffer.MatricesWeightsExtraKind:\n        this.matricesWeightsExtra = data;\n        break;\n    }\n  };\n  VertexData2.prototype.applyToMesh = function(mesh, updatable) {\n    this._applyTo(mesh, updatable, false);\n    return this;\n  };\n  VertexData2.prototype.applyToGeometry = function(geometry, updatable) {\n    this._applyTo(geometry, updatable, false);\n    return this;\n  };\n  VertexData2.prototype.updateMesh = function(mesh) {\n    this._update(mesh);\n    return this;\n  };\n  VertexData2.prototype.updateGeometry = function(geometry) {\n    this._update(geometry);\n    return this;\n  };\n  VertexData2.prototype._applyToCoroutine = function(meshOrGeometry, updatable, isAsync) {\n    if (updatable === void 0) {\n      updatable = false;\n    }\n    return __generator(this, function(_a) {\n      switch (_a.label) {\n        case 0:\n          if (!this.positions)\n            return [3, 2];\n          meshOrGeometry.setVerticesData(VertexBuffer.PositionKind, this.positions, updatable);\n          if (!isAsync)\n            return [3, 2];\n          return [4];\n        case 1:\n          _a.sent();\n          _a.label = 2;\n        case 2:\n          if (!this.normals)\n            return [3, 4];\n          meshOrGeometry.setVerticesData(VertexBuffer.NormalKind, this.normals, updatable);\n          if (!isAsync)\n            return [3, 4];\n          return [4];\n        case 3:\n          _a.sent();\n          _a.label = 4;\n        case 4:\n          if (!this.tangents)\n            return [3, 6];\n          meshOrGeometry.setVerticesData(VertexBuffer.TangentKind, this.tangents, updatable);\n          if (!isAsync)\n            return [3, 6];\n          return [4];\n        case 5:\n          _a.sent();\n          _a.label = 6;\n        case 6:\n          if (!this.uvs)\n            return [3, 8];\n          meshOrGeometry.setVerticesData(VertexBuffer.UVKind, this.uvs, updatable);\n          if (!isAsync)\n            return [3, 8];\n          return [4];\n        case 7:\n          _a.sent();\n          _a.label = 8;\n        case 8:\n          if (!this.uvs2)\n            return [3, 10];\n          meshOrGeometry.setVerticesData(VertexBuffer.UV2Kind, this.uvs2, updatable);\n          if (!isAsync)\n            return [3, 10];\n          return [4];\n        case 9:\n          _a.sent();\n          _a.label = 10;\n        case 10:\n          if (!this.uvs3)\n            return [3, 12];\n          meshOrGeometry.setVerticesData(VertexBuffer.UV3Kind, this.uvs3, updatable);\n          if (!isAsync)\n            return [3, 12];\n          return [4];\n        case 11:\n          _a.sent();\n          _a.label = 12;\n        case 12:\n          if (!this.uvs4)\n            return [3, 14];\n          meshOrGeometry.setVerticesData(VertexBuffer.UV4Kind, this.uvs4, updatable);\n          if (!isAsync)\n            return [3, 14];\n          return [4];\n        case 13:\n          _a.sent();\n          _a.label = 14;\n        case 14:\n          if (!this.uvs5)\n            return [3, 16];\n          meshOrGeometry.setVerticesData(VertexBuffer.UV5Kind, this.uvs5, updatable);\n          if (!isAsync)\n            return [3, 16];\n          return [4];\n        case 15:\n          _a.sent();\n          _a.label = 16;\n        case 16:\n          if (!this.uvs6)\n            return [3, 18];\n          meshOrGeometry.setVerticesData(VertexBuffer.UV6Kind, this.uvs6, updatable);\n          if (!isAsync)\n            return [3, 18];\n          return [4];\n        case 17:\n          _a.sent();\n          _a.label = 18;\n        case 18:\n          if (!this.colors)\n            return [3, 20];\n          meshOrGeometry.setVerticesData(VertexBuffer.ColorKind, this.colors, updatable);\n          if (!isAsync)\n            return [3, 20];\n          return [4];\n        case 19:\n          _a.sent();\n          _a.label = 20;\n        case 20:\n          if (!this.matricesIndices)\n            return [3, 22];\n          meshOrGeometry.setVerticesData(VertexBuffer.MatricesIndicesKind, this.matricesIndices, updatable);\n          if (!isAsync)\n            return [3, 22];\n          return [4];\n        case 21:\n          _a.sent();\n          _a.label = 22;\n        case 22:\n          if (!this.matricesWeights)\n            return [3, 24];\n          meshOrGeometry.setVerticesData(VertexBuffer.MatricesWeightsKind, this.matricesWeights, updatable);\n          if (!isAsync)\n            return [3, 24];\n          return [4];\n        case 23:\n          _a.sent();\n          _a.label = 24;\n        case 24:\n          if (!this.matricesIndicesExtra)\n            return [3, 26];\n          meshOrGeometry.setVerticesData(VertexBuffer.MatricesIndicesExtraKind, this.matricesIndicesExtra, updatable);\n          if (!isAsync)\n            return [3, 26];\n          return [4];\n        case 25:\n          _a.sent();\n          _a.label = 26;\n        case 26:\n          if (!this.matricesWeightsExtra)\n            return [3, 28];\n          meshOrGeometry.setVerticesData(VertexBuffer.MatricesWeightsExtraKind, this.matricesWeightsExtra, updatable);\n          if (!isAsync)\n            return [3, 28];\n          return [4];\n        case 27:\n          _a.sent();\n          _a.label = 28;\n        case 28:\n          if (!this.indices)\n            return [3, 31];\n          meshOrGeometry.setIndices(this.indices, null, updatable);\n          if (!isAsync)\n            return [3, 30];\n          return [4];\n        case 29:\n          _a.sent();\n          _a.label = 30;\n        case 30:\n          return [3, 32];\n        case 31:\n          meshOrGeometry.setIndices([], null);\n          _a.label = 32;\n        case 32:\n          return [2, this];\n      }\n    });\n  };\n  VertexData2.prototype._update = function(meshOrGeometry, updateExtends, makeItUnique) {\n    if (this.positions) {\n      meshOrGeometry.updateVerticesData(VertexBuffer.PositionKind, this.positions, updateExtends, makeItUnique);\n    }\n    if (this.normals) {\n      meshOrGeometry.updateVerticesData(VertexBuffer.NormalKind, this.normals, updateExtends, makeItUnique);\n    }\n    if (this.tangents) {\n      meshOrGeometry.updateVerticesData(VertexBuffer.TangentKind, this.tangents, updateExtends, makeItUnique);\n    }\n    if (this.uvs) {\n      meshOrGeometry.updateVerticesData(VertexBuffer.UVKind, this.uvs, updateExtends, makeItUnique);\n    }\n    if (this.uvs2) {\n      meshOrGeometry.updateVerticesData(VertexBuffer.UV2Kind, this.uvs2, updateExtends, makeItUnique);\n    }\n    if (this.uvs3) {\n      meshOrGeometry.updateVerticesData(VertexBuffer.UV3Kind, this.uvs3, updateExtends, makeItUnique);\n    }\n    if (this.uvs4) {\n      meshOrGeometry.updateVerticesData(VertexBuffer.UV4Kind, this.uvs4, updateExtends, makeItUnique);\n    }\n    if (this.uvs5) {\n      meshOrGeometry.updateVerticesData(VertexBuffer.UV5Kind, this.uvs5, updateExtends, makeItUnique);\n    }\n    if (this.uvs6) {\n      meshOrGeometry.updateVerticesData(VertexBuffer.UV6Kind, this.uvs6, updateExtends, makeItUnique);\n    }\n    if (this.colors) {\n      meshOrGeometry.updateVerticesData(VertexBuffer.ColorKind, this.colors, updateExtends, makeItUnique);\n    }\n    if (this.matricesIndices) {\n      meshOrGeometry.updateVerticesData(VertexBuffer.MatricesIndicesKind, this.matricesIndices, updateExtends, makeItUnique);\n    }\n    if (this.matricesWeights) {\n      meshOrGeometry.updateVerticesData(VertexBuffer.MatricesWeightsKind, this.matricesWeights, updateExtends, makeItUnique);\n    }\n    if (this.matricesIndicesExtra) {\n      meshOrGeometry.updateVerticesData(VertexBuffer.MatricesIndicesExtraKind, this.matricesIndicesExtra, updateExtends, makeItUnique);\n    }\n    if (this.matricesWeightsExtra) {\n      meshOrGeometry.updateVerticesData(VertexBuffer.MatricesWeightsExtraKind, this.matricesWeightsExtra, updateExtends, makeItUnique);\n    }\n    if (this.indices) {\n      meshOrGeometry.setIndices(this.indices, null);\n    }\n    return this;\n  };\n  VertexData2._TransformVector3Coordinates = function(coordinates, transformation, offset, length) {\n    if (offset === void 0) {\n      offset = 0;\n    }\n    if (length === void 0) {\n      length = coordinates.length;\n    }\n    var coordinate = TmpVectors.Vector3[0];\n    var transformedCoordinate = TmpVectors.Vector3[1];\n    for (var index = offset; index < offset + length; index += 3) {\n      Vector3.FromArrayToRef(coordinates, index, coordinate);\n      Vector3.TransformCoordinatesToRef(coordinate, transformation, transformedCoordinate);\n      coordinates[index] = transformedCoordinate.x;\n      coordinates[index + 1] = transformedCoordinate.y;\n      coordinates[index + 2] = transformedCoordinate.z;\n    }\n  };\n  VertexData2._TransformVector3Normals = function(normals, transformation, offset, length) {\n    if (offset === void 0) {\n      offset = 0;\n    }\n    if (length === void 0) {\n      length = normals.length;\n    }\n    var normal = TmpVectors.Vector3[0];\n    var transformedNormal = TmpVectors.Vector3[1];\n    for (var index = offset; index < offset + length; index += 3) {\n      Vector3.FromArrayToRef(normals, index, normal);\n      Vector3.TransformNormalToRef(normal, transformation, transformedNormal);\n      normals[index] = transformedNormal.x;\n      normals[index + 1] = transformedNormal.y;\n      normals[index + 2] = transformedNormal.z;\n    }\n  };\n  VertexData2._TransformVector4Normals = function(normals, transformation, offset, length) {\n    if (offset === void 0) {\n      offset = 0;\n    }\n    if (length === void 0) {\n      length = normals.length;\n    }\n    var normal = TmpVectors.Vector4[0];\n    var transformedNormal = TmpVectors.Vector4[1];\n    for (var index = offset; index < offset + length; index += 4) {\n      Vector4.FromArrayToRef(normals, index, normal);\n      Vector4.TransformNormalToRef(normal, transformation, transformedNormal);\n      normals[index] = transformedNormal.x;\n      normals[index + 1] = transformedNormal.y;\n      normals[index + 2] = transformedNormal.z;\n      normals[index + 3] = transformedNormal.w;\n    }\n  };\n  VertexData2._FlipFaces = function(indices, offset, length) {\n    if (offset === void 0) {\n      offset = 0;\n    }\n    if (length === void 0) {\n      length = indices.length;\n    }\n    for (var index = offset; index < offset + length; index += 3) {\n      var tmp = indices[index + 1];\n      indices[index + 1] = indices[index + 2];\n      indices[index + 2] = tmp;\n    }\n  };\n  VertexData2.prototype.transform = function(matrix) {\n    var flip = matrix.determinant() < 0;\n    if (this.positions) {\n      VertexData2._TransformVector3Coordinates(this.positions, matrix);\n    }\n    if (this.normals) {\n      VertexData2._TransformVector3Normals(this.normals, matrix);\n    }\n    if (this.tangents) {\n      VertexData2._TransformVector4Normals(this.tangents, matrix);\n    }\n    if (flip && this.indices) {\n      VertexData2._FlipFaces(this.indices);\n    }\n    return this;\n  };\n  VertexData2.prototype.merge = function(others, use32BitsIndices, forceCloneIndices) {\n    if (use32BitsIndices === void 0) {\n      use32BitsIndices = false;\n    }\n    if (forceCloneIndices === void 0) {\n      forceCloneIndices = false;\n    }\n    var vertexDatas = Array.isArray(others) ? others.map(function(other) {\n      return [other, void 0];\n    }) : [[others, void 0]];\n    return runCoroutineSync(this._mergeCoroutine(void 0, vertexDatas, use32BitsIndices, false, forceCloneIndices));\n  };\n  VertexData2.prototype._mergeCoroutine = function(transform, vertexDatas, use32BitsIndices, isAsync, forceCloneIndices) {\n    var others, _i, others_1, other, totalIndices, sliceIndices, indices, indicesOffset, temp, positionsOffset, _a, vertexDatas_1, _b, other, transform_1, index;\n    var _this = this;\n    var _c, _d, _e, _f;\n    if (use32BitsIndices === void 0) {\n      use32BitsIndices = false;\n    }\n    return __generator(this, function(_g) {\n      switch (_g.label) {\n        case 0:\n          this._validate();\n          others = vertexDatas.map(function(vertexData) {\n            return vertexData[0];\n          });\n          for (_i = 0, others_1 = others; _i < others_1.length; _i++) {\n            other = others_1[_i];\n            other._validate();\n            if (!this.normals !== !other.normals || !this.tangents !== !other.tangents || !this.uvs !== !other.uvs || !this.uvs2 !== !other.uvs2 || !this.uvs3 !== !other.uvs3 || !this.uvs4 !== !other.uvs4 || !this.uvs5 !== !other.uvs5 || !this.uvs6 !== !other.uvs6 || !this.colors !== !other.colors || !this.matricesIndices !== !other.matricesIndices || !this.matricesWeights !== !other.matricesWeights || !this.matricesIndicesExtra !== !other.matricesIndicesExtra || !this.matricesWeightsExtra !== !other.matricesWeightsExtra) {\n              throw new Error(\"Cannot merge vertex data that do not have the same set of attributes\");\n            }\n          }\n          totalIndices = others.reduce(function(indexSum, vertexData) {\n            var _a2, _b2;\n            return indexSum + ((_b2 = (_a2 = vertexData.indices) === null || _a2 === void 0 ? void 0 : _a2.length) !== null && _b2 !== void 0 ? _b2 : 0);\n          }, (_d = (_c = this.indices) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0);\n          sliceIndices = forceCloneIndices || others.some(function(vertexData) {\n            return vertexData.indices === _this.indices;\n          });\n          indices = sliceIndices ? (_e = this.indices) === null || _e === void 0 ? void 0 : _e.slice() : this.indices;\n          if (!(totalIndices > 0))\n            return [3, 4];\n          indicesOffset = (_f = indices === null || indices === void 0 ? void 0 : indices.length) !== null && _f !== void 0 ? _f : 0;\n          if (!indices) {\n            indices = new Array(totalIndices);\n          }\n          if (indices.length !== totalIndices) {\n            if (Array.isArray(indices)) {\n              indices.length = totalIndices;\n            } else {\n              temp = use32BitsIndices || indices instanceof Uint32Array ? new Uint32Array(totalIndices) : new Uint16Array(totalIndices);\n              temp.set(indices);\n              indices = temp;\n            }\n            if (transform && transform.determinant() < 0) {\n              VertexData2._FlipFaces(indices, 0, indicesOffset);\n            }\n          }\n          positionsOffset = this.positions ? this.positions.length / 3 : 0;\n          _a = 0, vertexDatas_1 = vertexDatas;\n          _g.label = 1;\n        case 1:\n          if (!(_a < vertexDatas_1.length))\n            return [3, 4];\n          _b = vertexDatas_1[_a], other = _b[0], transform_1 = _b[1];\n          if (!other.indices)\n            return [3, 3];\n          for (index = 0; index < other.indices.length; index++) {\n            indices[indicesOffset + index] = other.indices[index] + positionsOffset;\n          }\n          if (transform_1 && transform_1.determinant() < 0) {\n            VertexData2._FlipFaces(indices, indicesOffset, other.indices.length);\n          }\n          positionsOffset += other.positions.length / 3;\n          indicesOffset += other.indices.length;\n          if (!isAsync)\n            return [3, 3];\n          return [4];\n        case 2:\n          _g.sent();\n          _g.label = 3;\n        case 3:\n          _a++;\n          return [3, 1];\n        case 4:\n          this.indices = indices;\n          this.positions = VertexData2._MergeElement(VertexBuffer.PositionKind, this.positions, transform, vertexDatas.map(function(other2) {\n            return [other2[0].positions, other2[1]];\n          }));\n          if (!isAsync)\n            return [3, 6];\n          return [4];\n        case 5:\n          _g.sent();\n          _g.label = 6;\n        case 6:\n          this.normals = VertexData2._MergeElement(VertexBuffer.NormalKind, this.normals, transform, vertexDatas.map(function(other2) {\n            return [other2[0].normals, other2[1]];\n          }));\n          if (!isAsync)\n            return [3, 8];\n          return [4];\n        case 7:\n          _g.sent();\n          _g.label = 8;\n        case 8:\n          this.tangents = VertexData2._MergeElement(VertexBuffer.TangentKind, this.tangents, transform, vertexDatas.map(function(other2) {\n            return [other2[0].tangents, other2[1]];\n          }));\n          if (!isAsync)\n            return [3, 10];\n          return [4];\n        case 9:\n          _g.sent();\n          _g.label = 10;\n        case 10:\n          this.uvs = VertexData2._MergeElement(VertexBuffer.UVKind, this.uvs, transform, vertexDatas.map(function(other2) {\n            return [other2[0].uvs, other2[1]];\n          }));\n          if (!isAsync)\n            return [3, 12];\n          return [4];\n        case 11:\n          _g.sent();\n          _g.label = 12;\n        case 12:\n          this.uvs2 = VertexData2._MergeElement(VertexBuffer.UV2Kind, this.uvs2, transform, vertexDatas.map(function(other2) {\n            return [other2[0].uvs2, other2[1]];\n          }));\n          if (!isAsync)\n            return [3, 14];\n          return [4];\n        case 13:\n          _g.sent();\n          _g.label = 14;\n        case 14:\n          this.uvs3 = VertexData2._MergeElement(VertexBuffer.UV3Kind, this.uvs3, transform, vertexDatas.map(function(other2) {\n            return [other2[0].uvs3, other2[1]];\n          }));\n          if (!isAsync)\n            return [3, 16];\n          return [4];\n        case 15:\n          _g.sent();\n          _g.label = 16;\n        case 16:\n          this.uvs4 = VertexData2._MergeElement(VertexBuffer.UV4Kind, this.uvs4, transform, vertexDatas.map(function(other2) {\n            return [other2[0].uvs4, other2[1]];\n          }));\n          if (!isAsync)\n            return [3, 18];\n          return [4];\n        case 17:\n          _g.sent();\n          _g.label = 18;\n        case 18:\n          this.uvs5 = VertexData2._MergeElement(VertexBuffer.UV5Kind, this.uvs5, transform, vertexDatas.map(function(other2) {\n            return [other2[0].uvs5, other2[1]];\n          }));\n          if (!isAsync)\n            return [3, 20];\n          return [4];\n        case 19:\n          _g.sent();\n          _g.label = 20;\n        case 20:\n          this.uvs6 = VertexData2._MergeElement(VertexBuffer.UV6Kind, this.uvs6, transform, vertexDatas.map(function(other2) {\n            return [other2[0].uvs6, other2[1]];\n          }));\n          if (!isAsync)\n            return [3, 22];\n          return [4];\n        case 21:\n          _g.sent();\n          _g.label = 22;\n        case 22:\n          this.colors = VertexData2._MergeElement(VertexBuffer.ColorKind, this.colors, transform, vertexDatas.map(function(other2) {\n            return [other2[0].colors, other2[1]];\n          }));\n          if (!isAsync)\n            return [3, 24];\n          return [4];\n        case 23:\n          _g.sent();\n          _g.label = 24;\n        case 24:\n          this.matricesIndices = VertexData2._MergeElement(VertexBuffer.MatricesIndicesKind, this.matricesIndices, transform, vertexDatas.map(function(other2) {\n            return [other2[0].matricesIndices, other2[1]];\n          }));\n          if (!isAsync)\n            return [3, 26];\n          return [4];\n        case 25:\n          _g.sent();\n          _g.label = 26;\n        case 26:\n          this.matricesWeights = VertexData2._MergeElement(VertexBuffer.MatricesWeightsKind, this.matricesWeights, transform, vertexDatas.map(function(other2) {\n            return [other2[0].matricesWeights, other2[1]];\n          }));\n          if (!isAsync)\n            return [3, 28];\n          return [4];\n        case 27:\n          _g.sent();\n          _g.label = 28;\n        case 28:\n          this.matricesIndicesExtra = VertexData2._MergeElement(VertexBuffer.MatricesIndicesExtraKind, this.matricesIndicesExtra, transform, vertexDatas.map(function(other2) {\n            return [other2[0].matricesIndicesExtra, other2[1]];\n          }));\n          if (!isAsync)\n            return [3, 30];\n          return [4];\n        case 29:\n          _g.sent();\n          _g.label = 30;\n        case 30:\n          this.matricesWeightsExtra = VertexData2._MergeElement(VertexBuffer.MatricesWeightsExtraKind, this.matricesWeightsExtra, transform, vertexDatas.map(function(other2) {\n            return [other2[0].matricesWeightsExtra, other2[1]];\n          }));\n          return [2, this];\n      }\n    });\n  };\n  VertexData2._MergeElement = function(kind, source, transform, others) {\n    var nonNullOthers = others.filter(function(other) {\n      return other[0] !== null && other[0] !== void 0;\n    });\n    if (!source && nonNullOthers.length == 0) {\n      return source;\n    }\n    if (!source) {\n      return this._MergeElement(kind, nonNullOthers[0][0], nonNullOthers[0][1], nonNullOthers.slice(1));\n    }\n    var len = nonNullOthers.reduce(function(sumLen, elements) {\n      return sumLen + elements[0].length;\n    }, source.length);\n    var transformRange = kind === VertexBuffer.PositionKind ? VertexData2._TransformVector3Coordinates : kind === VertexBuffer.NormalKind ? VertexData2._TransformVector3Normals : kind === VertexBuffer.TangentKind ? VertexData2._TransformVector4Normals : function() {\n    };\n    if (source instanceof Float32Array) {\n      var ret32 = new Float32Array(len);\n      ret32.set(source);\n      transform && transformRange(ret32, transform, 0, source.length);\n      var offset = source.length;\n      for (var _i = 0, nonNullOthers_1 = nonNullOthers; _i < nonNullOthers_1.length; _i++) {\n        var _a = nonNullOthers_1[_i], vertexData = _a[0], transform_2 = _a[1];\n        ret32.set(vertexData, offset);\n        transform_2 && transformRange(ret32, transform_2, offset, vertexData.length);\n        offset += vertexData.length;\n      }\n      return ret32;\n    } else {\n      var ret = new Array(len);\n      for (var i = 0; i < source.length; i++) {\n        ret[i] = source[i];\n      }\n      transform && transformRange(ret, transform, 0, source.length);\n      var offset = source.length;\n      for (var _b = 0, nonNullOthers_2 = nonNullOthers; _b < nonNullOthers_2.length; _b++) {\n        var _c = nonNullOthers_2[_b], vertexData = _c[0], transform_3 = _c[1];\n        for (var i = 0; i < vertexData.length; i++) {\n          ret[offset + i] = vertexData[i];\n        }\n        transform_3 && transformRange(ret, transform_3, offset, vertexData.length);\n        offset += vertexData.length;\n      }\n      return ret;\n    }\n  };\n  VertexData2.prototype._validate = function() {\n    if (!this.positions) {\n      throw new RuntimeError(\"Positions are required\", ErrorCodes.MeshInvalidPositionsError);\n    }\n    var getElementCount = function(kind, values) {\n      var stride = VertexBuffer.DeduceStride(kind);\n      if (values.length % stride !== 0) {\n        throw new Error(\"The \" + kind + \"s array count must be a multiple of \" + stride);\n      }\n      return values.length / stride;\n    };\n    var positionsElementCount = getElementCount(VertexBuffer.PositionKind, this.positions);\n    var validateElementCount = function(kind, values) {\n      var elementCount = getElementCount(kind, values);\n      if (elementCount !== positionsElementCount) {\n        throw new Error(\"The \" + kind + \"s element count (\" + elementCount + \") does not match the positions count (\" + positionsElementCount + \")\");\n      }\n    };\n    if (this.normals) {\n      validateElementCount(VertexBuffer.NormalKind, this.normals);\n    }\n    if (this.tangents) {\n      validateElementCount(VertexBuffer.TangentKind, this.tangents);\n    }\n    if (this.uvs) {\n      validateElementCount(VertexBuffer.UVKind, this.uvs);\n    }\n    if (this.uvs2) {\n      validateElementCount(VertexBuffer.UV2Kind, this.uvs2);\n    }\n    if (this.uvs3) {\n      validateElementCount(VertexBuffer.UV3Kind, this.uvs3);\n    }\n    if (this.uvs4) {\n      validateElementCount(VertexBuffer.UV4Kind, this.uvs4);\n    }\n    if (this.uvs5) {\n      validateElementCount(VertexBuffer.UV5Kind, this.uvs5);\n    }\n    if (this.uvs6) {\n      validateElementCount(VertexBuffer.UV6Kind, this.uvs6);\n    }\n    if (this.colors) {\n      validateElementCount(VertexBuffer.ColorKind, this.colors);\n    }\n    if (this.matricesIndices) {\n      validateElementCount(VertexBuffer.MatricesIndicesKind, this.matricesIndices);\n    }\n    if (this.matricesWeights) {\n      validateElementCount(VertexBuffer.MatricesWeightsKind, this.matricesWeights);\n    }\n    if (this.matricesIndicesExtra) {\n      validateElementCount(VertexBuffer.MatricesIndicesExtraKind, this.matricesIndicesExtra);\n    }\n    if (this.matricesWeightsExtra) {\n      validateElementCount(VertexBuffer.MatricesWeightsExtraKind, this.matricesWeightsExtra);\n    }\n  };\n  VertexData2.prototype.serialize = function() {\n    var serializationObject = {};\n    if (this.positions) {\n      serializationObject.positions = this.positions;\n    }\n    if (this.normals) {\n      serializationObject.normals = this.normals;\n    }\n    if (this.tangents) {\n      serializationObject.tangents = this.tangents;\n    }\n    if (this.uvs) {\n      serializationObject.uvs = this.uvs;\n    }\n    if (this.uvs2) {\n      serializationObject.uvs2 = this.uvs2;\n    }\n    if (this.uvs3) {\n      serializationObject.uvs3 = this.uvs3;\n    }\n    if (this.uvs4) {\n      serializationObject.uvs4 = this.uvs4;\n    }\n    if (this.uvs5) {\n      serializationObject.uvs5 = this.uvs5;\n    }\n    if (this.uvs6) {\n      serializationObject.uvs6 = this.uvs6;\n    }\n    if (this.colors) {\n      serializationObject.colors = this.colors;\n    }\n    if (this.matricesIndices) {\n      serializationObject.matricesIndices = this.matricesIndices;\n      serializationObject.matricesIndices._isExpanded = true;\n    }\n    if (this.matricesWeights) {\n      serializationObject.matricesWeights = this.matricesWeights;\n    }\n    if (this.matricesIndicesExtra) {\n      serializationObject.matricesIndicesExtra = this.matricesIndicesExtra;\n      serializationObject.matricesIndicesExtra._isExpanded = true;\n    }\n    if (this.matricesWeightsExtra) {\n      serializationObject.matricesWeightsExtra = this.matricesWeightsExtra;\n    }\n    serializationObject.indices = this.indices;\n    return serializationObject;\n  };\n  VertexData2.ExtractFromMesh = function(mesh, copyWhenShared, forceCopy) {\n    return VertexData2._ExtractFrom(mesh, copyWhenShared, forceCopy);\n  };\n  VertexData2.ExtractFromGeometry = function(geometry, copyWhenShared, forceCopy) {\n    return VertexData2._ExtractFrom(geometry, copyWhenShared, forceCopy);\n  };\n  VertexData2._ExtractFrom = function(meshOrGeometry, copyWhenShared, forceCopy) {\n    var result = new VertexData2();\n    if (meshOrGeometry.isVerticesDataPresent(VertexBuffer.PositionKind)) {\n      result.positions = meshOrGeometry.getVerticesData(VertexBuffer.PositionKind, copyWhenShared, forceCopy);\n    }\n    if (meshOrGeometry.isVerticesDataPresent(VertexBuffer.NormalKind)) {\n      result.normals = meshOrGeometry.getVerticesData(VertexBuffer.NormalKind, copyWhenShared, forceCopy);\n    }\n    if (meshOrGeometry.isVerticesDataPresent(VertexBuffer.TangentKind)) {\n      result.tangents = meshOrGeometry.getVerticesData(VertexBuffer.TangentKind, copyWhenShared, forceCopy);\n    }\n    if (meshOrGeometry.isVerticesDataPresent(VertexBuffer.UVKind)) {\n      result.uvs = meshOrGeometry.getVerticesData(VertexBuffer.UVKind, copyWhenShared, forceCopy);\n    }\n    if (meshOrGeometry.isVerticesDataPresent(VertexBuffer.UV2Kind)) {\n      result.uvs2 = meshOrGeometry.getVerticesData(VertexBuffer.UV2Kind, copyWhenShared, forceCopy);\n    }\n    if (meshOrGeometry.isVerticesDataPresent(VertexBuffer.UV3Kind)) {\n      result.uvs3 = meshOrGeometry.getVerticesData(VertexBuffer.UV3Kind, copyWhenShared, forceCopy);\n    }\n    if (meshOrGeometry.isVerticesDataPresent(VertexBuffer.UV4Kind)) {\n      result.uvs4 = meshOrGeometry.getVerticesData(VertexBuffer.UV4Kind, copyWhenShared, forceCopy);\n    }\n    if (meshOrGeometry.isVerticesDataPresent(VertexBuffer.UV5Kind)) {\n      result.uvs5 = meshOrGeometry.getVerticesData(VertexBuffer.UV5Kind, copyWhenShared, forceCopy);\n    }\n    if (meshOrGeometry.isVerticesDataPresent(VertexBuffer.UV6Kind)) {\n      result.uvs6 = meshOrGeometry.getVerticesData(VertexBuffer.UV6Kind, copyWhenShared, forceCopy);\n    }\n    if (meshOrGeometry.isVerticesDataPresent(VertexBuffer.ColorKind)) {\n      result.colors = meshOrGeometry.getVerticesData(VertexBuffer.ColorKind, copyWhenShared, forceCopy);\n    }\n    if (meshOrGeometry.isVerticesDataPresent(VertexBuffer.MatricesIndicesKind)) {\n      result.matricesIndices = meshOrGeometry.getVerticesData(VertexBuffer.MatricesIndicesKind, copyWhenShared, forceCopy);\n    }\n    if (meshOrGeometry.isVerticesDataPresent(VertexBuffer.MatricesWeightsKind)) {\n      result.matricesWeights = meshOrGeometry.getVerticesData(VertexBuffer.MatricesWeightsKind, copyWhenShared, forceCopy);\n    }\n    if (meshOrGeometry.isVerticesDataPresent(VertexBuffer.MatricesIndicesExtraKind)) {\n      result.matricesIndicesExtra = meshOrGeometry.getVerticesData(VertexBuffer.MatricesIndicesExtraKind, copyWhenShared, forceCopy);\n    }\n    if (meshOrGeometry.isVerticesDataPresent(VertexBuffer.MatricesWeightsExtraKind)) {\n      result.matricesWeightsExtra = meshOrGeometry.getVerticesData(VertexBuffer.MatricesWeightsExtraKind, copyWhenShared, forceCopy);\n    }\n    result.indices = meshOrGeometry.getIndices(copyWhenShared, forceCopy);\n    return result;\n  };\n  VertexData2.CreateRibbon = function(options) {\n    throw _WarnImport(\"ribbonBuilder\");\n  };\n  VertexData2.CreateBox = function(options) {\n    throw _WarnImport(\"boxBuilder\");\n  };\n  VertexData2.CreateTiledBox = function(options) {\n    throw _WarnImport(\"tiledBoxBuilder\");\n  };\n  VertexData2.CreateTiledPlane = function(options) {\n    throw _WarnImport(\"tiledPlaneBuilder\");\n  };\n  VertexData2.CreateSphere = function(options) {\n    throw _WarnImport(\"sphereBuilder\");\n  };\n  VertexData2.CreateCylinder = function(options) {\n    throw _WarnImport(\"cylinderBuilder\");\n  };\n  VertexData2.CreateTorus = function(options) {\n    throw _WarnImport(\"torusBuilder\");\n  };\n  VertexData2.CreateLineSystem = function(options) {\n    throw _WarnImport(\"linesBuilder\");\n  };\n  VertexData2.CreateDashedLines = function(options) {\n    throw _WarnImport(\"linesBuilder\");\n  };\n  VertexData2.CreateGround = function(options) {\n    throw _WarnImport(\"groundBuilder\");\n  };\n  VertexData2.CreateTiledGround = function(options) {\n    throw _WarnImport(\"groundBuilder\");\n  };\n  VertexData2.CreateGroundFromHeightMap = function(options) {\n    throw _WarnImport(\"groundBuilder\");\n  };\n  VertexData2.CreatePlane = function(options) {\n    throw _WarnImport(\"planeBuilder\");\n  };\n  VertexData2.CreateDisc = function(options) {\n    throw _WarnImport(\"discBuilder\");\n  };\n  VertexData2.CreatePolygon = function(polygon, sideOrientation, fUV, fColors, frontUVs, backUVs, wrap) {\n    throw _WarnImport(\"polygonBuilder\");\n  };\n  VertexData2.CreateIcoSphere = function(options) {\n    throw _WarnImport(\"icoSphereBuilder\");\n  };\n  VertexData2.CreatePolyhedron = function(options) {\n    throw _WarnImport(\"polyhedronBuilder\");\n  };\n  VertexData2.CreateCapsule = function(options) {\n    if (options === void 0) {\n      options = {\n        orientation: Vector3.Up(),\n        subdivisions: 2,\n        tessellation: 16,\n        height: 1,\n        radius: 0.25,\n        capSubdivisions: 6\n      };\n    }\n    throw _WarnImport(\"capsuleBuilder\");\n  };\n  VertexData2.CreateTorusKnot = function(options) {\n    throw _WarnImport(\"torusKnotBuilder\");\n  };\n  VertexData2.ComputeNormals = function(positions, indices, normals, options) {\n    var index = 0;\n    var p1p2x = 0;\n    var p1p2y = 0;\n    var p1p2z = 0;\n    var p3p2x = 0;\n    var p3p2y = 0;\n    var p3p2z = 0;\n    var faceNormalx = 0;\n    var faceNormaly = 0;\n    var faceNormalz = 0;\n    var length = 0;\n    var v1x = 0;\n    var v1y = 0;\n    var v1z = 0;\n    var v2x = 0;\n    var v2y = 0;\n    var v2z = 0;\n    var v3x = 0;\n    var v3y = 0;\n    var v3z = 0;\n    var computeFacetNormals = false;\n    var computeFacetPositions = false;\n    var computeFacetPartitioning = false;\n    var computeDepthSort = false;\n    var faceNormalSign = 1;\n    var ratio = 0;\n    var distanceTo = null;\n    if (options) {\n      computeFacetNormals = options.facetNormals ? true : false;\n      computeFacetPositions = options.facetPositions ? true : false;\n      computeFacetPartitioning = options.facetPartitioning ? true : false;\n      faceNormalSign = options.useRightHandedSystem === true ? -1 : 1;\n      ratio = options.ratio || 0;\n      computeDepthSort = options.depthSort ? true : false;\n      distanceTo = options.distanceTo;\n      if (computeDepthSort) {\n        if (distanceTo === void 0) {\n          distanceTo = Vector3.Zero();\n        }\n      }\n    }\n    var xSubRatio = 0;\n    var ySubRatio = 0;\n    var zSubRatio = 0;\n    var subSq = 0;\n    if (computeFacetPartitioning && options && options.bbSize) {\n      xSubRatio = options.subDiv.X * ratio / options.bbSize.x;\n      ySubRatio = options.subDiv.Y * ratio / options.bbSize.y;\n      zSubRatio = options.subDiv.Z * ratio / options.bbSize.z;\n      subSq = options.subDiv.max * options.subDiv.max;\n      options.facetPartitioning.length = 0;\n    }\n    for (index = 0; index < positions.length; index++) {\n      normals[index] = 0;\n    }\n    var nbFaces = indices.length / 3 | 0;\n    for (index = 0; index < nbFaces; index++) {\n      v1x = indices[index * 3] * 3;\n      v1y = v1x + 1;\n      v1z = v1x + 2;\n      v2x = indices[index * 3 + 1] * 3;\n      v2y = v2x + 1;\n      v2z = v2x + 2;\n      v3x = indices[index * 3 + 2] * 3;\n      v3y = v3x + 1;\n      v3z = v3x + 2;\n      p1p2x = positions[v1x] - positions[v2x];\n      p1p2y = positions[v1y] - positions[v2y];\n      p1p2z = positions[v1z] - positions[v2z];\n      p3p2x = positions[v3x] - positions[v2x];\n      p3p2y = positions[v3y] - positions[v2y];\n      p3p2z = positions[v3z] - positions[v2z];\n      faceNormalx = faceNormalSign * (p1p2y * p3p2z - p1p2z * p3p2y);\n      faceNormaly = faceNormalSign * (p1p2z * p3p2x - p1p2x * p3p2z);\n      faceNormalz = faceNormalSign * (p1p2x * p3p2y - p1p2y * p3p2x);\n      length = Math.sqrt(faceNormalx * faceNormalx + faceNormaly * faceNormaly + faceNormalz * faceNormalz);\n      length = length === 0 ? 1 : length;\n      faceNormalx /= length;\n      faceNormaly /= length;\n      faceNormalz /= length;\n      if (computeFacetNormals && options) {\n        options.facetNormals[index].x = faceNormalx;\n        options.facetNormals[index].y = faceNormaly;\n        options.facetNormals[index].z = faceNormalz;\n      }\n      if (computeFacetPositions && options) {\n        options.facetPositions[index].x = (positions[v1x] + positions[v2x] + positions[v3x]) / 3;\n        options.facetPositions[index].y = (positions[v1y] + positions[v2y] + positions[v3y]) / 3;\n        options.facetPositions[index].z = (positions[v1z] + positions[v2z] + positions[v3z]) / 3;\n      }\n      if (computeFacetPartitioning && options) {\n        var ox = Math.floor((options.facetPositions[index].x - options.bInfo.minimum.x * ratio) * xSubRatio);\n        var oy = Math.floor((options.facetPositions[index].y - options.bInfo.minimum.y * ratio) * ySubRatio);\n        var oz = Math.floor((options.facetPositions[index].z - options.bInfo.minimum.z * ratio) * zSubRatio);\n        var b1x = Math.floor((positions[v1x] - options.bInfo.minimum.x * ratio) * xSubRatio);\n        var b1y = Math.floor((positions[v1y] - options.bInfo.minimum.y * ratio) * ySubRatio);\n        var b1z = Math.floor((positions[v1z] - options.bInfo.minimum.z * ratio) * zSubRatio);\n        var b2x = Math.floor((positions[v2x] - options.bInfo.minimum.x * ratio) * xSubRatio);\n        var b2y = Math.floor((positions[v2y] - options.bInfo.minimum.y * ratio) * ySubRatio);\n        var b2z = Math.floor((positions[v2z] - options.bInfo.minimum.z * ratio) * zSubRatio);\n        var b3x = Math.floor((positions[v3x] - options.bInfo.minimum.x * ratio) * xSubRatio);\n        var b3y = Math.floor((positions[v3y] - options.bInfo.minimum.y * ratio) * ySubRatio);\n        var b3z = Math.floor((positions[v3z] - options.bInfo.minimum.z * ratio) * zSubRatio);\n        var block_idx_v1 = b1x + options.subDiv.max * b1y + subSq * b1z;\n        var block_idx_v2 = b2x + options.subDiv.max * b2y + subSq * b2z;\n        var block_idx_v3 = b3x + options.subDiv.max * b3y + subSq * b3z;\n        var block_idx_o = ox + options.subDiv.max * oy + subSq * oz;\n        options.facetPartitioning[block_idx_o] = options.facetPartitioning[block_idx_o] ? options.facetPartitioning[block_idx_o] : new Array();\n        options.facetPartitioning[block_idx_v1] = options.facetPartitioning[block_idx_v1] ? options.facetPartitioning[block_idx_v1] : new Array();\n        options.facetPartitioning[block_idx_v2] = options.facetPartitioning[block_idx_v2] ? options.facetPartitioning[block_idx_v2] : new Array();\n        options.facetPartitioning[block_idx_v3] = options.facetPartitioning[block_idx_v3] ? options.facetPartitioning[block_idx_v3] : new Array();\n        options.facetPartitioning[block_idx_v1].push(index);\n        if (block_idx_v2 != block_idx_v1) {\n          options.facetPartitioning[block_idx_v2].push(index);\n        }\n        if (!(block_idx_v3 == block_idx_v2 || block_idx_v3 == block_idx_v1)) {\n          options.facetPartitioning[block_idx_v3].push(index);\n        }\n        if (!(block_idx_o == block_idx_v1 || block_idx_o == block_idx_v2 || block_idx_o == block_idx_v3)) {\n          options.facetPartitioning[block_idx_o].push(index);\n        }\n      }\n      if (computeDepthSort && options && options.facetPositions) {\n        var dsf = options.depthSortedFacets[index];\n        dsf.ind = index * 3;\n        dsf.sqDistance = Vector3.DistanceSquared(options.facetPositions[index], distanceTo);\n      }\n      normals[v1x] += faceNormalx;\n      normals[v1y] += faceNormaly;\n      normals[v1z] += faceNormalz;\n      normals[v2x] += faceNormalx;\n      normals[v2y] += faceNormaly;\n      normals[v2z] += faceNormalz;\n      normals[v3x] += faceNormalx;\n      normals[v3y] += faceNormaly;\n      normals[v3z] += faceNormalz;\n    }\n    for (index = 0; index < normals.length / 3; index++) {\n      faceNormalx = normals[index * 3];\n      faceNormaly = normals[index * 3 + 1];\n      faceNormalz = normals[index * 3 + 2];\n      length = Math.sqrt(faceNormalx * faceNormalx + faceNormaly * faceNormaly + faceNormalz * faceNormalz);\n      length = length === 0 ? 1 : length;\n      faceNormalx /= length;\n      faceNormaly /= length;\n      faceNormalz /= length;\n      normals[index * 3] = faceNormalx;\n      normals[index * 3 + 1] = faceNormaly;\n      normals[index * 3 + 2] = faceNormalz;\n    }\n  };\n  VertexData2._ComputeSides = function(sideOrientation, positions, indices, normals, uvs, frontUVs, backUVs) {\n    var li = indices.length;\n    var ln = normals.length;\n    var i;\n    var n;\n    sideOrientation = sideOrientation || VertexData2.DEFAULTSIDE;\n    switch (sideOrientation) {\n      case VertexData2.FRONTSIDE:\n        break;\n      case VertexData2.BACKSIDE:\n        for (i = 0; i < li; i += 3) {\n          var tmp = indices[i];\n          indices[i] = indices[i + 2];\n          indices[i + 2] = tmp;\n        }\n        for (n = 0; n < ln; n++) {\n          normals[n] = -normals[n];\n        }\n        break;\n      case VertexData2.DOUBLESIDE: {\n        var lp = positions.length;\n        var l = lp / 3;\n        for (var p = 0; p < lp; p++) {\n          positions[lp + p] = positions[p];\n        }\n        for (i = 0; i < li; i += 3) {\n          indices[i + li] = indices[i + 2] + l;\n          indices[i + 1 + li] = indices[i + 1] + l;\n          indices[i + 2 + li] = indices[i] + l;\n        }\n        for (n = 0; n < ln; n++) {\n          normals[ln + n] = -normals[n];\n        }\n        var lu = uvs.length;\n        var u = 0;\n        for (u = 0; u < lu; u++) {\n          uvs[u + lu] = uvs[u];\n        }\n        frontUVs = frontUVs ? frontUVs : new Vector4(0, 0, 1, 1);\n        backUVs = backUVs ? backUVs : new Vector4(0, 0, 1, 1);\n        u = 0;\n        for (i = 0; i < lu / 2; i++) {\n          uvs[u] = frontUVs.x + (frontUVs.z - frontUVs.x) * uvs[u];\n          uvs[u + 1] = frontUVs.y + (frontUVs.w - frontUVs.y) * uvs[u + 1];\n          uvs[u + lu] = backUVs.x + (backUVs.z - backUVs.x) * uvs[u + lu];\n          uvs[u + lu + 1] = backUVs.y + (backUVs.w - backUVs.y) * uvs[u + lu + 1];\n          u += 2;\n        }\n        break;\n      }\n    }\n  };\n  VertexData2.ImportVertexData = function(parsedVertexData, geometry) {\n    var vertexData = new VertexData2();\n    var positions = parsedVertexData.positions;\n    if (positions) {\n      vertexData.set(positions, VertexBuffer.PositionKind);\n    }\n    var normals = parsedVertexData.normals;\n    if (normals) {\n      vertexData.set(normals, VertexBuffer.NormalKind);\n    }\n    var tangents = parsedVertexData.tangents;\n    if (tangents) {\n      vertexData.set(tangents, VertexBuffer.TangentKind);\n    }\n    var uvs = parsedVertexData.uvs;\n    if (uvs) {\n      vertexData.set(uvs, VertexBuffer.UVKind);\n    }\n    var uv2s = parsedVertexData.uv2s;\n    if (uv2s) {\n      vertexData.set(uv2s, VertexBuffer.UV2Kind);\n    }\n    var uv3s = parsedVertexData.uv3s;\n    if (uv3s) {\n      vertexData.set(uv3s, VertexBuffer.UV3Kind);\n    }\n    var uv4s = parsedVertexData.uv4s;\n    if (uv4s) {\n      vertexData.set(uv4s, VertexBuffer.UV4Kind);\n    }\n    var uv5s = parsedVertexData.uv5s;\n    if (uv5s) {\n      vertexData.set(uv5s, VertexBuffer.UV5Kind);\n    }\n    var uv6s = parsedVertexData.uv6s;\n    if (uv6s) {\n      vertexData.set(uv6s, VertexBuffer.UV6Kind);\n    }\n    var colors = parsedVertexData.colors;\n    if (colors) {\n      vertexData.set(Color4$1.CheckColors4(colors, positions.length / 3), VertexBuffer.ColorKind);\n    }\n    var matricesIndices = parsedVertexData.matricesIndices;\n    if (matricesIndices) {\n      vertexData.set(matricesIndices, VertexBuffer.MatricesIndicesKind);\n    }\n    var matricesWeights = parsedVertexData.matricesWeights;\n    if (matricesWeights) {\n      vertexData.set(matricesWeights, VertexBuffer.MatricesWeightsKind);\n    }\n    var indices = parsedVertexData.indices;\n    if (indices) {\n      vertexData.indices = indices;\n    }\n    geometry.setAllVerticesData(vertexData, parsedVertexData.updatable);\n  };\n  VertexData2.FRONTSIDE = 0;\n  VertexData2.BACKSIDE = 1;\n  VertexData2.DOUBLESIDE = 2;\n  VertexData2.DEFAULTSIDE = 0;\n  __decorate([\n    nativeOverride.filter(function() {\n      var _a = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        _a[_i] = arguments[_i];\n      }\n      var coordinates = _a[0];\n      return !Array.isArray(coordinates);\n    })\n  ], VertexData2, \"_TransformVector3Coordinates\", null);\n  __decorate([\n    nativeOverride.filter(function() {\n      var _a = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        _a[_i] = arguments[_i];\n      }\n      var normals = _a[0];\n      return !Array.isArray(normals);\n    })\n  ], VertexData2, \"_TransformVector3Normals\", null);\n  __decorate([\n    nativeOverride.filter(function() {\n      var _a = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        _a[_i] = arguments[_i];\n      }\n      var normals = _a[0];\n      return !Array.isArray(normals);\n    })\n  ], VertexData2, \"_TransformVector4Normals\", null);\n  __decorate([\n    nativeOverride.filter(function() {\n      var _a = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        _a[_i] = arguments[_i];\n      }\n      var indices = _a[0];\n      return !Array.isArray(indices);\n    })\n  ], VertexData2, \"_FlipFaces\", null);\n  return VertexData2;\n}();\nvar IntersectionInfo = function() {\n  function IntersectionInfo2(bu, bv, distance) {\n    this.bu = bu;\n    this.bv = bv;\n    this.distance = distance;\n    this.faceId = 0;\n    this.subMeshId = 0;\n  }\n  return IntersectionInfo2;\n}();\nvar BoundingBox = function() {\n  function BoundingBox2(min, max, worldMatrix) {\n    this.vectors = ArrayTools.BuildArray(8, Vector3.Zero);\n    this.center = Vector3.Zero();\n    this.centerWorld = Vector3.Zero();\n    this.extendSize = Vector3.Zero();\n    this.extendSizeWorld = Vector3.Zero();\n    this.directions = ArrayTools.BuildArray(3, Vector3.Zero);\n    this.vectorsWorld = ArrayTools.BuildArray(8, Vector3.Zero);\n    this.minimumWorld = Vector3.Zero();\n    this.maximumWorld = Vector3.Zero();\n    this.minimum = Vector3.Zero();\n    this.maximum = Vector3.Zero();\n    this._drawWrapperFront = null;\n    this._drawWrapperBack = null;\n    this.reConstruct(min, max, worldMatrix);\n  }\n  BoundingBox2.prototype.reConstruct = function(min, max, worldMatrix) {\n    var minX = min.x, minY = min.y, minZ = min.z, maxX = max.x, maxY = max.y, maxZ = max.z;\n    var vectors = this.vectors;\n    this.minimum.copyFromFloats(minX, minY, minZ);\n    this.maximum.copyFromFloats(maxX, maxY, maxZ);\n    vectors[0].copyFromFloats(minX, minY, minZ);\n    vectors[1].copyFromFloats(maxX, maxY, maxZ);\n    vectors[2].copyFromFloats(maxX, minY, minZ);\n    vectors[3].copyFromFloats(minX, maxY, minZ);\n    vectors[4].copyFromFloats(minX, minY, maxZ);\n    vectors[5].copyFromFloats(maxX, maxY, minZ);\n    vectors[6].copyFromFloats(minX, maxY, maxZ);\n    vectors[7].copyFromFloats(maxX, minY, maxZ);\n    max.addToRef(min, this.center).scaleInPlace(0.5);\n    max.subtractToRef(min, this.extendSize).scaleInPlace(0.5);\n    this._worldMatrix = worldMatrix || Matrix.IdentityReadOnly;\n    this._update(this._worldMatrix);\n  };\n  BoundingBox2.prototype.scale = function(factor) {\n    var tmpVectors = BoundingBox2._TmpVector3;\n    var diff = this.maximum.subtractToRef(this.minimum, tmpVectors[0]);\n    var len = diff.length();\n    diff.normalizeFromLength(len);\n    var distance = len * factor;\n    var newRadius = diff.scaleInPlace(distance * 0.5);\n    var min = this.center.subtractToRef(newRadius, tmpVectors[1]);\n    var max = this.center.addToRef(newRadius, tmpVectors[2]);\n    this.reConstruct(min, max, this._worldMatrix);\n    return this;\n  };\n  BoundingBox2.prototype.getWorldMatrix = function() {\n    return this._worldMatrix;\n  };\n  BoundingBox2.prototype._update = function(world) {\n    var minWorld = this.minimumWorld;\n    var maxWorld = this.maximumWorld;\n    var directions = this.directions;\n    var vectorsWorld = this.vectorsWorld;\n    var vectors = this.vectors;\n    if (!world.isIdentity()) {\n      minWorld.setAll(Number.MAX_VALUE);\n      maxWorld.setAll(-Number.MAX_VALUE);\n      for (var index = 0; index < 8; ++index) {\n        var v = vectorsWorld[index];\n        Vector3.TransformCoordinatesToRef(vectors[index], world, v);\n        minWorld.minimizeInPlace(v);\n        maxWorld.maximizeInPlace(v);\n      }\n      maxWorld.subtractToRef(minWorld, this.extendSizeWorld).scaleInPlace(0.5);\n      maxWorld.addToRef(minWorld, this.centerWorld).scaleInPlace(0.5);\n    } else {\n      minWorld.copyFrom(this.minimum);\n      maxWorld.copyFrom(this.maximum);\n      for (var index = 0; index < 8; ++index) {\n        vectorsWorld[index].copyFrom(vectors[index]);\n      }\n      this.extendSizeWorld.copyFrom(this.extendSize);\n      this.centerWorld.copyFrom(this.center);\n    }\n    Vector3.FromArrayToRef(world.m, 0, directions[0]);\n    Vector3.FromArrayToRef(world.m, 4, directions[1]);\n    Vector3.FromArrayToRef(world.m, 8, directions[2]);\n    this._worldMatrix = world;\n  };\n  BoundingBox2.prototype.isInFrustum = function(frustumPlanes) {\n    return BoundingBox2.IsInFrustum(this.vectorsWorld, frustumPlanes);\n  };\n  BoundingBox2.prototype.isCompletelyInFrustum = function(frustumPlanes) {\n    return BoundingBox2.IsCompletelyInFrustum(this.vectorsWorld, frustumPlanes);\n  };\n  BoundingBox2.prototype.intersectsPoint = function(point) {\n    var min = this.minimumWorld;\n    var max = this.maximumWorld;\n    var minX = min.x, minY = min.y, minZ = min.z, maxX = max.x, maxY = max.y, maxZ = max.z;\n    var pointX = point.x, pointY = point.y, pointZ = point.z;\n    var delta = -Epsilon;\n    if (maxX - pointX < delta || delta > pointX - minX) {\n      return false;\n    }\n    if (maxY - pointY < delta || delta > pointY - minY) {\n      return false;\n    }\n    if (maxZ - pointZ < delta || delta > pointZ - minZ) {\n      return false;\n    }\n    return true;\n  };\n  BoundingBox2.prototype.intersectsSphere = function(sphere) {\n    return BoundingBox2.IntersectsSphere(this.minimumWorld, this.maximumWorld, sphere.centerWorld, sphere.radiusWorld);\n  };\n  BoundingBox2.prototype.intersectsMinMax = function(min, max) {\n    var myMin = this.minimumWorld;\n    var myMax = this.maximumWorld;\n    var myMinX = myMin.x, myMinY = myMin.y, myMinZ = myMin.z, myMaxX = myMax.x, myMaxY = myMax.y, myMaxZ = myMax.z;\n    var minX = min.x, minY = min.y, minZ = min.z, maxX = max.x, maxY = max.y, maxZ = max.z;\n    if (myMaxX < minX || myMinX > maxX) {\n      return false;\n    }\n    if (myMaxY < minY || myMinY > maxY) {\n      return false;\n    }\n    if (myMaxZ < minZ || myMinZ > maxZ) {\n      return false;\n    }\n    return true;\n  };\n  BoundingBox2.prototype.dispose = function() {\n    var _a, _b;\n    (_a = this._drawWrapperFront) === null || _a === void 0 ? void 0 : _a.dispose();\n    (_b = this._drawWrapperBack) === null || _b === void 0 ? void 0 : _b.dispose();\n  };\n  BoundingBox2.Intersects = function(box0, box1) {\n    return box0.intersectsMinMax(box1.minimumWorld, box1.maximumWorld);\n  };\n  BoundingBox2.IntersectsSphere = function(minPoint, maxPoint, sphereCenter, sphereRadius) {\n    var vector = BoundingBox2._TmpVector3[0];\n    Vector3.ClampToRef(sphereCenter, minPoint, maxPoint, vector);\n    var num = Vector3.DistanceSquared(sphereCenter, vector);\n    return num <= sphereRadius * sphereRadius;\n  };\n  BoundingBox2.IsCompletelyInFrustum = function(boundingVectors, frustumPlanes) {\n    for (var p = 0; p < 6; ++p) {\n      var frustumPlane = frustumPlanes[p];\n      for (var i = 0; i < 8; ++i) {\n        if (frustumPlane.dotCoordinate(boundingVectors[i]) < 0) {\n          return false;\n        }\n      }\n    }\n    return true;\n  };\n  BoundingBox2.IsInFrustum = function(boundingVectors, frustumPlanes) {\n    for (var p = 0; p < 6; ++p) {\n      var canReturnFalse = true;\n      var frustumPlane = frustumPlanes[p];\n      for (var i = 0; i < 8; ++i) {\n        if (frustumPlane.dotCoordinate(boundingVectors[i]) >= 0) {\n          canReturnFalse = false;\n          break;\n        }\n      }\n      if (canReturnFalse) {\n        return false;\n      }\n    }\n    return true;\n  };\n  BoundingBox2._TmpVector3 = ArrayTools.BuildArray(3, Vector3.Zero);\n  return BoundingBox2;\n}();\nvar BoundingSphere = function() {\n  function BoundingSphere2(min, max, worldMatrix) {\n    this.center = Vector3.Zero();\n    this.centerWorld = Vector3.Zero();\n    this.minimum = Vector3.Zero();\n    this.maximum = Vector3.Zero();\n    this.reConstruct(min, max, worldMatrix);\n  }\n  BoundingSphere2.prototype.reConstruct = function(min, max, worldMatrix) {\n    this.minimum.copyFrom(min);\n    this.maximum.copyFrom(max);\n    var distance = Vector3.Distance(min, max);\n    max.addToRef(min, this.center).scaleInPlace(0.5);\n    this.radius = distance * 0.5;\n    this._update(worldMatrix || Matrix.IdentityReadOnly);\n  };\n  BoundingSphere2.prototype.scale = function(factor) {\n    var newRadius = this.radius * factor;\n    var tmpVectors = BoundingSphere2._TmpVector3;\n    var tempRadiusVector = tmpVectors[0].setAll(newRadius);\n    var min = this.center.subtractToRef(tempRadiusVector, tmpVectors[1]);\n    var max = this.center.addToRef(tempRadiusVector, tmpVectors[2]);\n    this.reConstruct(min, max, this._worldMatrix);\n    return this;\n  };\n  BoundingSphere2.prototype.getWorldMatrix = function() {\n    return this._worldMatrix;\n  };\n  BoundingSphere2.prototype._update = function(worldMatrix) {\n    if (!worldMatrix.isIdentity()) {\n      Vector3.TransformCoordinatesToRef(this.center, worldMatrix, this.centerWorld);\n      var tempVector = BoundingSphere2._TmpVector3[0];\n      Vector3.TransformNormalFromFloatsToRef(1, 1, 1, worldMatrix, tempVector);\n      this.radiusWorld = Math.max(Math.abs(tempVector.x), Math.abs(tempVector.y), Math.abs(tempVector.z)) * this.radius;\n    } else {\n      this.centerWorld.copyFrom(this.center);\n      this.radiusWorld = this.radius;\n    }\n  };\n  BoundingSphere2.prototype.isInFrustum = function(frustumPlanes) {\n    var center = this.centerWorld;\n    var radius = this.radiusWorld;\n    for (var i = 0; i < 6; i++) {\n      if (frustumPlanes[i].dotCoordinate(center) <= -radius) {\n        return false;\n      }\n    }\n    return true;\n  };\n  BoundingSphere2.prototype.isCenterInFrustum = function(frustumPlanes) {\n    var center = this.centerWorld;\n    for (var i = 0; i < 6; i++) {\n      if (frustumPlanes[i].dotCoordinate(center) < 0) {\n        return false;\n      }\n    }\n    return true;\n  };\n  BoundingSphere2.prototype.intersectsPoint = function(point) {\n    var squareDistance = Vector3.DistanceSquared(this.centerWorld, point);\n    if (this.radiusWorld * this.radiusWorld < squareDistance) {\n      return false;\n    }\n    return true;\n  };\n  BoundingSphere2.Intersects = function(sphere0, sphere1) {\n    var squareDistance = Vector3.DistanceSquared(sphere0.centerWorld, sphere1.centerWorld);\n    var radiusSum = sphere0.radiusWorld + sphere1.radiusWorld;\n    if (radiusSum * radiusSum < squareDistance) {\n      return false;\n    }\n    return true;\n  };\n  BoundingSphere2.CreateFromCenterAndRadius = function(center, radius, matrix) {\n    this._TmpVector3[0].copyFrom(center);\n    this._TmpVector3[1].copyFromFloats(0, 0, radius);\n    this._TmpVector3[2].copyFrom(center);\n    this._TmpVector3[0].addInPlace(this._TmpVector3[1]);\n    this._TmpVector3[2].subtractInPlace(this._TmpVector3[1]);\n    var sphere = new BoundingSphere2(this._TmpVector3[0], this._TmpVector3[2]);\n    if (matrix) {\n      sphere._worldMatrix = matrix;\n    } else {\n      sphere._worldMatrix = Matrix.Identity();\n    }\n    return sphere;\n  };\n  BoundingSphere2._TmpVector3 = ArrayTools.BuildArray(3, Vector3.Zero);\n  return BoundingSphere2;\n}();\nvar _result0 = { min: 0, max: 0 };\nvar _result1 = { min: 0, max: 0 };\nvar computeBoxExtents = function(axis, box, result) {\n  var p = Vector3.Dot(box.centerWorld, axis);\n  var r0 = Math.abs(Vector3.Dot(box.directions[0], axis)) * box.extendSize.x;\n  var r1 = Math.abs(Vector3.Dot(box.directions[1], axis)) * box.extendSize.y;\n  var r2 = Math.abs(Vector3.Dot(box.directions[2], axis)) * box.extendSize.z;\n  var r = r0 + r1 + r2;\n  result.min = p - r;\n  result.max = p + r;\n};\nvar axisOverlap = function(axis, box0, box1) {\n  computeBoxExtents(axis, box0, _result0);\n  computeBoxExtents(axis, box1, _result1);\n  return !(_result0.min > _result1.max || _result1.min > _result0.max);\n};\nvar BoundingInfo = function() {\n  function BoundingInfo2(minimum, maximum, worldMatrix) {\n    this._isLocked = false;\n    this.boundingBox = new BoundingBox(minimum, maximum, worldMatrix);\n    this.boundingSphere = new BoundingSphere(minimum, maximum, worldMatrix);\n  }\n  BoundingInfo2.prototype.reConstruct = function(min, max, worldMatrix) {\n    this.boundingBox.reConstruct(min, max, worldMatrix);\n    this.boundingSphere.reConstruct(min, max, worldMatrix);\n  };\n  Object.defineProperty(BoundingInfo2.prototype, \"minimum\", {\n    get: function() {\n      return this.boundingBox.minimum;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BoundingInfo2.prototype, \"maximum\", {\n    get: function() {\n      return this.boundingBox.maximum;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BoundingInfo2.prototype, \"isLocked\", {\n    get: function() {\n      return this._isLocked;\n    },\n    set: function(value) {\n      this._isLocked = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  BoundingInfo2.prototype.update = function(world) {\n    if (this._isLocked) {\n      return;\n    }\n    this.boundingBox._update(world);\n    this.boundingSphere._update(world);\n  };\n  BoundingInfo2.prototype.centerOn = function(center, extend) {\n    var minimum = BoundingInfo2._TmpVector3[0].copyFrom(center).subtractInPlace(extend);\n    var maximum = BoundingInfo2._TmpVector3[1].copyFrom(center).addInPlace(extend);\n    this.boundingBox.reConstruct(minimum, maximum, this.boundingBox.getWorldMatrix());\n    this.boundingSphere.reConstruct(minimum, maximum, this.boundingBox.getWorldMatrix());\n    return this;\n  };\n  BoundingInfo2.prototype.encapsulate = function(point) {\n    var minimum = Vector3.Minimize(this.minimum, point);\n    var maximum = Vector3.Maximize(this.maximum, point);\n    this.reConstruct(minimum, maximum, this.boundingBox.getWorldMatrix());\n    return this;\n  };\n  BoundingInfo2.prototype.encapsulateBoundingInfo = function(toEncapsulate) {\n    this.encapsulate(toEncapsulate.boundingBox.centerWorld.subtract(toEncapsulate.boundingBox.extendSizeWorld));\n    this.encapsulate(toEncapsulate.boundingBox.centerWorld.add(toEncapsulate.boundingBox.extendSizeWorld));\n    return this;\n  };\n  BoundingInfo2.prototype.scale = function(factor) {\n    this.boundingBox.scale(factor);\n    this.boundingSphere.scale(factor);\n    return this;\n  };\n  BoundingInfo2.prototype.isInFrustum = function(frustumPlanes, strategy) {\n    if (strategy === void 0) {\n      strategy = 0;\n    }\n    var inclusionTest = strategy === 2 || strategy === 3;\n    if (inclusionTest) {\n      if (this.boundingSphere.isCenterInFrustum(frustumPlanes)) {\n        return true;\n      }\n    }\n    if (!this.boundingSphere.isInFrustum(frustumPlanes)) {\n      return false;\n    }\n    var bSphereOnlyTest = strategy === 1 || strategy === 3;\n    if (bSphereOnlyTest) {\n      return true;\n    }\n    return this.boundingBox.isInFrustum(frustumPlanes);\n  };\n  Object.defineProperty(BoundingInfo2.prototype, \"diagonalLength\", {\n    get: function() {\n      var boundingBox = this.boundingBox;\n      var diag = boundingBox.maximumWorld.subtractToRef(boundingBox.minimumWorld, BoundingInfo2._TmpVector3[0]);\n      return diag.length();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  BoundingInfo2.prototype.isCompletelyInFrustum = function(frustumPlanes) {\n    return this.boundingBox.isCompletelyInFrustum(frustumPlanes);\n  };\n  BoundingInfo2.prototype._checkCollision = function(collider) {\n    return collider._canDoCollision(this.boundingSphere.centerWorld, this.boundingSphere.radiusWorld, this.boundingBox.minimumWorld, this.boundingBox.maximumWorld);\n  };\n  BoundingInfo2.prototype.intersectsPoint = function(point) {\n    if (!this.boundingSphere.centerWorld) {\n      return false;\n    }\n    if (!this.boundingSphere.intersectsPoint(point)) {\n      return false;\n    }\n    if (!this.boundingBox.intersectsPoint(point)) {\n      return false;\n    }\n    return true;\n  };\n  BoundingInfo2.prototype.intersects = function(boundingInfo, precise) {\n    if (!BoundingSphere.Intersects(this.boundingSphere, boundingInfo.boundingSphere)) {\n      return false;\n    }\n    if (!BoundingBox.Intersects(this.boundingBox, boundingInfo.boundingBox)) {\n      return false;\n    }\n    if (!precise) {\n      return true;\n    }\n    var box0 = this.boundingBox;\n    var box1 = boundingInfo.boundingBox;\n    if (!axisOverlap(box0.directions[0], box0, box1)) {\n      return false;\n    }\n    if (!axisOverlap(box0.directions[1], box0, box1)) {\n      return false;\n    }\n    if (!axisOverlap(box0.directions[2], box0, box1)) {\n      return false;\n    }\n    if (!axisOverlap(box1.directions[0], box0, box1)) {\n      return false;\n    }\n    if (!axisOverlap(box1.directions[1], box0, box1)) {\n      return false;\n    }\n    if (!axisOverlap(box1.directions[2], box0, box1)) {\n      return false;\n    }\n    if (!axisOverlap(Vector3.Cross(box0.directions[0], box1.directions[0]), box0, box1)) {\n      return false;\n    }\n    if (!axisOverlap(Vector3.Cross(box0.directions[0], box1.directions[1]), box0, box1)) {\n      return false;\n    }\n    if (!axisOverlap(Vector3.Cross(box0.directions[0], box1.directions[2]), box0, box1)) {\n      return false;\n    }\n    if (!axisOverlap(Vector3.Cross(box0.directions[1], box1.directions[0]), box0, box1)) {\n      return false;\n    }\n    if (!axisOverlap(Vector3.Cross(box0.directions[1], box1.directions[1]), box0, box1)) {\n      return false;\n    }\n    if (!axisOverlap(Vector3.Cross(box0.directions[1], box1.directions[2]), box0, box1)) {\n      return false;\n    }\n    if (!axisOverlap(Vector3.Cross(box0.directions[2], box1.directions[0]), box0, box1)) {\n      return false;\n    }\n    if (!axisOverlap(Vector3.Cross(box0.directions[2], box1.directions[1]), box0, box1)) {\n      return false;\n    }\n    if (!axisOverlap(Vector3.Cross(box0.directions[2], box1.directions[2]), box0, box1)) {\n      return false;\n    }\n    return true;\n  };\n  BoundingInfo2._TmpVector3 = ArrayTools.BuildArray(2, Vector3.Zero);\n  return BoundingInfo2;\n}();\nvar MathHelpers = function() {\n  function MathHelpers2() {\n  }\n  MathHelpers2.extractMinAndMaxIndexed = function(positions, indices, indexStart, indexCount, minimum, maximum) {\n    for (var index = indexStart; index < indexStart + indexCount; index++) {\n      var offset = indices[index] * 3;\n      var x = positions[offset];\n      var y = positions[offset + 1];\n      var z = positions[offset + 2];\n      minimum.minimizeInPlaceFromFloats(x, y, z);\n      maximum.maximizeInPlaceFromFloats(x, y, z);\n    }\n  };\n  MathHelpers2.extractMinAndMax = function(positions, start, count, stride, minimum, maximum) {\n    for (var index = start, offset = start * stride; index < start + count; index++, offset += stride) {\n      var x = positions[offset];\n      var y = positions[offset + 1];\n      var z = positions[offset + 2];\n      minimum.minimizeInPlaceFromFloats(x, y, z);\n      maximum.maximizeInPlaceFromFloats(x, y, z);\n    }\n  };\n  __decorate([\n    nativeOverride.filter(function() {\n      var _a = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        _a[_i] = arguments[_i];\n      }\n      var positions = _a[0], indices = _a[1];\n      return !Array.isArray(positions) && !Array.isArray(indices);\n    })\n  ], MathHelpers2, \"extractMinAndMaxIndexed\", null);\n  __decorate([\n    nativeOverride.filter(function() {\n      var _a = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        _a[_i] = arguments[_i];\n      }\n      var positions = _a[0];\n      return !Array.isArray(positions);\n    })\n  ], MathHelpers2, \"extractMinAndMax\", null);\n  return MathHelpers2;\n}();\nfunction extractMinAndMaxIndexed(positions, indices, indexStart, indexCount, bias) {\n  if (bias === void 0) {\n    bias = null;\n  }\n  var minimum = new Vector3(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n  var maximum = new Vector3(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);\n  MathHelpers.extractMinAndMaxIndexed(positions, indices, indexStart, indexCount, minimum, maximum);\n  if (bias) {\n    minimum.x -= minimum.x * bias.x + bias.y;\n    minimum.y -= minimum.y * bias.x + bias.y;\n    minimum.z -= minimum.z * bias.x + bias.y;\n    maximum.x += maximum.x * bias.x + bias.y;\n    maximum.y += maximum.y * bias.x + bias.y;\n    maximum.z += maximum.z * bias.x + bias.y;\n  }\n  return {\n    minimum,\n    maximum\n  };\n}\nfunction extractMinAndMax(positions, start, count, bias, stride) {\n  if (bias === void 0) {\n    bias = null;\n  }\n  var minimum = new Vector3(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n  var maximum = new Vector3(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);\n  if (!stride) {\n    stride = 3;\n  }\n  MathHelpers.extractMinAndMax(positions, start, count, stride, minimum, maximum);\n  if (bias) {\n    minimum.x -= minimum.x * bias.x + bias.y;\n    minimum.y -= minimum.y * bias.x + bias.y;\n    minimum.z -= minimum.z * bias.x + bias.y;\n    maximum.x += maximum.x * bias.x + bias.y;\n    maximum.y += maximum.y * bias.x + bias.y;\n    maximum.z += maximum.z * bias.x + bias.y;\n  }\n  return {\n    minimum,\n    maximum\n  };\n}\nvar SubMesh = function() {\n  function SubMesh2(materialIndex, verticesStart, verticesCount, indexStart, indexCount, mesh, renderingMesh, createBoundingBox, addToMesh) {\n    if (createBoundingBox === void 0) {\n      createBoundingBox = true;\n    }\n    if (addToMesh === void 0) {\n      addToMesh = true;\n    }\n    this.materialIndex = materialIndex;\n    this.verticesStart = verticesStart;\n    this.verticesCount = verticesCount;\n    this.indexStart = indexStart;\n    this.indexCount = indexCount;\n    this._mainDrawWrapperOverride = null;\n    this._linesIndexCount = 0;\n    this._linesIndexBuffer = null;\n    this._lastColliderWorldVertices = null;\n    this._lastColliderTransformMatrix = null;\n    this._renderId = 0;\n    this._alphaIndex = 0;\n    this._distanceToCamera = 0;\n    this._currentMaterial = null;\n    this._mesh = mesh;\n    this._renderingMesh = renderingMesh || mesh;\n    if (addToMesh) {\n      mesh.subMeshes.push(this);\n    }\n    this._engine = this._mesh.getScene().getEngine();\n    this.resetDrawCache();\n    this._trianglePlanes = [];\n    this._id = mesh.subMeshes.length - 1;\n    if (createBoundingBox) {\n      this.refreshBoundingInfo();\n      mesh.computeWorldMatrix(true);\n    }\n  }\n  Object.defineProperty(SubMesh2.prototype, \"materialDefines\", {\n    get: function() {\n      var _a;\n      return this._mainDrawWrapperOverride ? this._mainDrawWrapperOverride.defines : (_a = this._getDrawWrapper()) === null || _a === void 0 ? void 0 : _a.defines;\n    },\n    set: function(defines) {\n      var _a;\n      var drawWrapper = (_a = this._mainDrawWrapperOverride) !== null && _a !== void 0 ? _a : this._getDrawWrapper(void 0, true);\n      drawWrapper.defines = defines;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  SubMesh2.prototype._getDrawWrapper = function(passId, createIfNotExisting) {\n    if (createIfNotExisting === void 0) {\n      createIfNotExisting = false;\n    }\n    passId = passId !== null && passId !== void 0 ? passId : this._engine.currentRenderPassId;\n    var drawWrapper = this._drawWrappers[passId];\n    if (!drawWrapper && createIfNotExisting) {\n      this._drawWrappers[passId] = drawWrapper = new DrawWrapper(this._mesh.getScene().getEngine());\n    }\n    return drawWrapper;\n  };\n  SubMesh2.prototype._removeDrawWrapper = function(passId, disposeWrapper) {\n    var _a;\n    if (disposeWrapper === void 0) {\n      disposeWrapper = true;\n    }\n    if (disposeWrapper) {\n      (_a = this._drawWrappers[passId]) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n    this._drawWrappers[passId] = void 0;\n  };\n  Object.defineProperty(SubMesh2.prototype, \"effect\", {\n    get: function() {\n      var _a, _b;\n      return this._mainDrawWrapperOverride ? this._mainDrawWrapperOverride.effect : (_b = (_a = this._getDrawWrapper()) === null || _a === void 0 ? void 0 : _a.effect) !== null && _b !== void 0 ? _b : null;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SubMesh2.prototype, \"_drawWrapper\", {\n    get: function() {\n      var _a;\n      return (_a = this._mainDrawWrapperOverride) !== null && _a !== void 0 ? _a : this._getDrawWrapper(void 0, true);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SubMesh2.prototype, \"_drawWrapperOverride\", {\n    get: function() {\n      return this._mainDrawWrapperOverride;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  SubMesh2.prototype._setMainDrawWrapperOverride = function(wrapper) {\n    this._mainDrawWrapperOverride = wrapper;\n  };\n  SubMesh2.prototype.setEffect = function(effect, defines, materialContext, resetContext) {\n    if (defines === void 0) {\n      defines = null;\n    }\n    if (resetContext === void 0) {\n      resetContext = true;\n    }\n    var drawWrapper = this._drawWrapper;\n    drawWrapper.setEffect(effect, defines, resetContext);\n    if (materialContext !== void 0) {\n      drawWrapper.materialContext = materialContext;\n    }\n    if (!effect) {\n      drawWrapper.defines = null;\n      drawWrapper.materialContext = void 0;\n    }\n  };\n  SubMesh2.prototype.resetDrawCache = function(passId) {\n    if (this._drawWrappers) {\n      if (passId !== void 0) {\n        this._removeDrawWrapper(passId);\n        return;\n      } else {\n        for (var _i = 0, _a = this._drawWrappers; _i < _a.length; _i++) {\n          var drawWrapper = _a[_i];\n          drawWrapper === null || drawWrapper === void 0 ? void 0 : drawWrapper.dispose();\n        }\n      }\n    }\n    this._drawWrappers = [];\n  };\n  SubMesh2.AddToMesh = function(materialIndex, verticesStart, verticesCount, indexStart, indexCount, mesh, renderingMesh, createBoundingBox) {\n    if (createBoundingBox === void 0) {\n      createBoundingBox = true;\n    }\n    return new SubMesh2(materialIndex, verticesStart, verticesCount, indexStart, indexCount, mesh, renderingMesh, createBoundingBox);\n  };\n  Object.defineProperty(SubMesh2.prototype, \"IsGlobal\", {\n    get: function() {\n      return this.verticesStart === 0 && this.verticesCount === this._mesh.getTotalVertices() && this.indexStart === 0 && this.indexCount === this._mesh.getTotalIndices();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  SubMesh2.prototype.getBoundingInfo = function() {\n    if (this.IsGlobal) {\n      return this._mesh.getBoundingInfo();\n    }\n    return this._boundingInfo;\n  };\n  SubMesh2.prototype.setBoundingInfo = function(boundingInfo) {\n    this._boundingInfo = boundingInfo;\n    return this;\n  };\n  SubMesh2.prototype.getMesh = function() {\n    return this._mesh;\n  };\n  SubMesh2.prototype.getRenderingMesh = function() {\n    return this._renderingMesh;\n  };\n  SubMesh2.prototype.getReplacementMesh = function() {\n    return this._mesh._internalAbstractMeshDataInfo._actAsRegularMesh ? this._mesh : null;\n  };\n  SubMesh2.prototype.getEffectiveMesh = function() {\n    var replacementMesh = this._mesh._internalAbstractMeshDataInfo._actAsRegularMesh ? this._mesh : null;\n    return replacementMesh ? replacementMesh : this._renderingMesh;\n  };\n  SubMesh2.prototype.getMaterial = function() {\n    var _a;\n    var rootMaterial = (_a = this._renderingMesh.getMaterialForRenderPass(this._engine.currentRenderPassId)) !== null && _a !== void 0 ? _a : this._renderingMesh.material;\n    if (!rootMaterial) {\n      return this._mesh.getScene().defaultMaterial;\n    } else if (this._isMultiMaterial(rootMaterial)) {\n      var effectiveMaterial = rootMaterial.getSubMaterial(this.materialIndex);\n      if (this._currentMaterial !== effectiveMaterial) {\n        this._currentMaterial = effectiveMaterial;\n        this.resetDrawCache();\n      }\n      return effectiveMaterial;\n    }\n    return rootMaterial;\n  };\n  SubMesh2.prototype._isMultiMaterial = function(material) {\n    return material.getSubMaterial !== void 0;\n  };\n  SubMesh2.prototype.refreshBoundingInfo = function(data) {\n    if (data === void 0) {\n      data = null;\n    }\n    this._lastColliderWorldVertices = null;\n    if (this.IsGlobal || !this._renderingMesh || !this._renderingMesh.geometry) {\n      return this;\n    }\n    if (!data) {\n      data = this._renderingMesh.getVerticesData(VertexBuffer.PositionKind);\n    }\n    if (!data) {\n      this._boundingInfo = this._mesh.getBoundingInfo();\n      return this;\n    }\n    var indices = this._renderingMesh.getIndices();\n    var extend;\n    if (this.indexStart === 0 && this.indexCount === indices.length) {\n      var boundingInfo = this._renderingMesh.getBoundingInfo();\n      extend = { minimum: boundingInfo.minimum.clone(), maximum: boundingInfo.maximum.clone() };\n    } else {\n      extend = extractMinAndMaxIndexed(data, indices, this.indexStart, this.indexCount, this._renderingMesh.geometry.boundingBias);\n    }\n    if (this._boundingInfo) {\n      this._boundingInfo.reConstruct(extend.minimum, extend.maximum);\n    } else {\n      this._boundingInfo = new BoundingInfo(extend.minimum, extend.maximum);\n    }\n    return this;\n  };\n  SubMesh2.prototype._checkCollision = function(collider) {\n    var boundingInfo = this.getBoundingInfo();\n    return boundingInfo._checkCollision(collider);\n  };\n  SubMesh2.prototype.updateBoundingInfo = function(world) {\n    var boundingInfo = this.getBoundingInfo();\n    if (!boundingInfo) {\n      this.refreshBoundingInfo();\n      boundingInfo = this.getBoundingInfo();\n    }\n    if (boundingInfo) {\n      boundingInfo.update(world);\n    }\n    return this;\n  };\n  SubMesh2.prototype.isInFrustum = function(frustumPlanes) {\n    var boundingInfo = this.getBoundingInfo();\n    if (!boundingInfo) {\n      return false;\n    }\n    return boundingInfo.isInFrustum(frustumPlanes, this._mesh.cullingStrategy);\n  };\n  SubMesh2.prototype.isCompletelyInFrustum = function(frustumPlanes) {\n    var boundingInfo = this.getBoundingInfo();\n    if (!boundingInfo) {\n      return false;\n    }\n    return boundingInfo.isCompletelyInFrustum(frustumPlanes);\n  };\n  SubMesh2.prototype.render = function(enableAlphaMode) {\n    this._renderingMesh.render(this, enableAlphaMode, this._mesh._internalAbstractMeshDataInfo._actAsRegularMesh ? this._mesh : void 0);\n    return this;\n  };\n  SubMesh2.prototype._getLinesIndexBuffer = function(indices, engine) {\n    if (!this._linesIndexBuffer) {\n      var linesIndices = [];\n      for (var index = this.indexStart; index < this.indexStart + this.indexCount; index += 3) {\n        linesIndices.push(indices[index], indices[index + 1], indices[index + 1], indices[index + 2], indices[index + 2], indices[index]);\n      }\n      this._linesIndexBuffer = engine.createIndexBuffer(linesIndices);\n      this._linesIndexCount = linesIndices.length;\n    }\n    return this._linesIndexBuffer;\n  };\n  SubMesh2.prototype.canIntersects = function(ray) {\n    var boundingInfo = this.getBoundingInfo();\n    if (!boundingInfo) {\n      return false;\n    }\n    return ray.intersectsBox(boundingInfo.boundingBox);\n  };\n  SubMesh2.prototype.intersects = function(ray, positions, indices, fastCheck, trianglePredicate) {\n    var material = this.getMaterial();\n    if (!material) {\n      return null;\n    }\n    var step = 3;\n    var checkStopper = false;\n    switch (material.fillMode) {\n      case 3:\n      case 5:\n      case 6:\n      case 8:\n        return null;\n      case 7:\n        step = 1;\n        checkStopper = true;\n        break;\n    }\n    if (material.fillMode === 4) {\n      if (!indices.length) {\n        return this._intersectUnIndexedLines(ray, positions, indices, this._mesh.intersectionThreshold, fastCheck);\n      }\n      return this._intersectLines(ray, positions, indices, this._mesh.intersectionThreshold, fastCheck);\n    } else {\n      if (!indices.length && this._mesh._unIndexed) {\n        return this._intersectUnIndexedTriangles(ray, positions, indices, fastCheck, trianglePredicate);\n      }\n      return this._intersectTriangles(ray, positions, indices, step, checkStopper, fastCheck, trianglePredicate);\n    }\n  };\n  SubMesh2.prototype._intersectLines = function(ray, positions, indices, intersectionThreshold, fastCheck) {\n    var intersectInfo = null;\n    for (var index = this.indexStart; index < this.indexStart + this.indexCount; index += 2) {\n      var p0 = positions[indices[index]];\n      var p1 = positions[indices[index + 1]];\n      var length_1 = ray.intersectionSegment(p0, p1, intersectionThreshold);\n      if (length_1 < 0) {\n        continue;\n      }\n      if (fastCheck || !intersectInfo || length_1 < intersectInfo.distance) {\n        intersectInfo = new IntersectionInfo(null, null, length_1);\n        intersectInfo.faceId = index / 2;\n        if (fastCheck) {\n          break;\n        }\n      }\n    }\n    return intersectInfo;\n  };\n  SubMesh2.prototype._intersectUnIndexedLines = function(ray, positions, indices, intersectionThreshold, fastCheck) {\n    var intersectInfo = null;\n    for (var index = this.verticesStart; index < this.verticesStart + this.verticesCount; index += 2) {\n      var p0 = positions[index];\n      var p1 = positions[index + 1];\n      var length_2 = ray.intersectionSegment(p0, p1, intersectionThreshold);\n      if (length_2 < 0) {\n        continue;\n      }\n      if (fastCheck || !intersectInfo || length_2 < intersectInfo.distance) {\n        intersectInfo = new IntersectionInfo(null, null, length_2);\n        intersectInfo.faceId = index / 2;\n        if (fastCheck) {\n          break;\n        }\n      }\n    }\n    return intersectInfo;\n  };\n  SubMesh2.prototype._intersectTriangles = function(ray, positions, indices, step, checkStopper, fastCheck, trianglePredicate) {\n    var intersectInfo = null;\n    var faceId = -1;\n    for (var index = this.indexStart; index < this.indexStart + this.indexCount - (3 - step); index += step) {\n      faceId++;\n      var indexA = indices[index];\n      var indexB = indices[index + 1];\n      var indexC = indices[index + 2];\n      if (checkStopper && indexC === 4294967295) {\n        index += 2;\n        continue;\n      }\n      var p0 = positions[indexA];\n      var p1 = positions[indexB];\n      var p2 = positions[indexC];\n      if (!p0 || !p1 || !p2) {\n        continue;\n      }\n      if (trianglePredicate && !trianglePredicate(p0, p1, p2, ray)) {\n        continue;\n      }\n      var currentIntersectInfo = ray.intersectsTriangle(p0, p1, p2);\n      if (currentIntersectInfo) {\n        if (currentIntersectInfo.distance < 0) {\n          continue;\n        }\n        if (fastCheck || !intersectInfo || currentIntersectInfo.distance < intersectInfo.distance) {\n          intersectInfo = currentIntersectInfo;\n          intersectInfo.faceId = faceId;\n          if (fastCheck) {\n            break;\n          }\n        }\n      }\n    }\n    return intersectInfo;\n  };\n  SubMesh2.prototype._intersectUnIndexedTriangles = function(ray, positions, indices, fastCheck, trianglePredicate) {\n    var intersectInfo = null;\n    for (var index = this.verticesStart; index < this.verticesStart + this.verticesCount; index += 3) {\n      var p0 = positions[index];\n      var p1 = positions[index + 1];\n      var p2 = positions[index + 2];\n      if (trianglePredicate && !trianglePredicate(p0, p1, p2, ray)) {\n        continue;\n      }\n      var currentIntersectInfo = ray.intersectsTriangle(p0, p1, p2);\n      if (currentIntersectInfo) {\n        if (currentIntersectInfo.distance < 0) {\n          continue;\n        }\n        if (fastCheck || !intersectInfo || currentIntersectInfo.distance < intersectInfo.distance) {\n          intersectInfo = currentIntersectInfo;\n          intersectInfo.faceId = index / 3;\n          if (fastCheck) {\n            break;\n          }\n        }\n      }\n    }\n    return intersectInfo;\n  };\n  SubMesh2.prototype._rebuild = function() {\n    if (this._linesIndexBuffer) {\n      this._linesIndexBuffer = null;\n    }\n  };\n  SubMesh2.prototype.clone = function(newMesh, newRenderingMesh) {\n    var result = new SubMesh2(this.materialIndex, this.verticesStart, this.verticesCount, this.indexStart, this.indexCount, newMesh, newRenderingMesh, false);\n    if (!this.IsGlobal) {\n      var boundingInfo = this.getBoundingInfo();\n      if (!boundingInfo) {\n        return result;\n      }\n      result._boundingInfo = new BoundingInfo(boundingInfo.minimum, boundingInfo.maximum);\n    }\n    return result;\n  };\n  SubMesh2.prototype.dispose = function() {\n    if (this._linesIndexBuffer) {\n      this._mesh.getScene().getEngine()._releaseBuffer(this._linesIndexBuffer);\n      this._linesIndexBuffer = null;\n    }\n    var index = this._mesh.subMeshes.indexOf(this);\n    this._mesh.subMeshes.splice(index, 1);\n    this.resetDrawCache();\n  };\n  SubMesh2.prototype.getClassName = function() {\n    return \"SubMesh\";\n  };\n  SubMesh2.CreateFromIndices = function(materialIndex, startIndex, indexCount, mesh, renderingMesh, createBoundingBox) {\n    if (createBoundingBox === void 0) {\n      createBoundingBox = true;\n    }\n    var minVertexIndex = Number.MAX_VALUE;\n    var maxVertexIndex = -Number.MAX_VALUE;\n    var whatWillRender = renderingMesh || mesh;\n    var indices = whatWillRender.getIndices();\n    for (var index = startIndex; index < startIndex + indexCount; index++) {\n      var vertexIndex = indices[index];\n      if (vertexIndex < minVertexIndex) {\n        minVertexIndex = vertexIndex;\n      }\n      if (vertexIndex > maxVertexIndex) {\n        maxVertexIndex = vertexIndex;\n      }\n    }\n    return new SubMesh2(materialIndex, minVertexIndex, maxVertexIndex - minVertexIndex + 1, startIndex, indexCount, mesh, renderingMesh, createBoundingBox);\n  };\n  return SubMesh2;\n}();\nvar SceneLoaderFlags = function() {\n  function SceneLoaderFlags2() {\n  }\n  Object.defineProperty(SceneLoaderFlags2, \"ForceFullSceneLoadingForIncremental\", {\n    get: function() {\n      return SceneLoaderFlags2._ForceFullSceneLoadingForIncremental;\n    },\n    set: function(value) {\n      SceneLoaderFlags2._ForceFullSceneLoadingForIncremental = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SceneLoaderFlags2, \"ShowLoadingScreen\", {\n    get: function() {\n      return SceneLoaderFlags2._ShowLoadingScreen;\n    },\n    set: function(value) {\n      SceneLoaderFlags2._ShowLoadingScreen = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SceneLoaderFlags2, \"loggingLevel\", {\n    get: function() {\n      return SceneLoaderFlags2._LoggingLevel;\n    },\n    set: function(value) {\n      SceneLoaderFlags2._LoggingLevel = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SceneLoaderFlags2, \"CleanBoneMatrixWeights\", {\n    get: function() {\n      return SceneLoaderFlags2._CleanBoneMatrixWeights;\n    },\n    set: function(value) {\n      SceneLoaderFlags2._CleanBoneMatrixWeights = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  SceneLoaderFlags2._ForceFullSceneLoadingForIncremental = false;\n  SceneLoaderFlags2._ShowLoadingScreen = true;\n  SceneLoaderFlags2._CleanBoneMatrixWeights = false;\n  SceneLoaderFlags2._LoggingLevel = 0;\n  return SceneLoaderFlags2;\n}();\nvar CompatibilityOptions = function() {\n  function CompatibilityOptions2() {\n  }\n  CompatibilityOptions2.UseOpenGLOrientationForUV = false;\n  return CompatibilityOptions2;\n}();\nvar Geometry = function() {\n  function Geometry2(id, scene, vertexData, updatable, mesh) {\n    if (updatable === void 0) {\n      updatable = false;\n    }\n    if (mesh === void 0) {\n      mesh = null;\n    }\n    this.delayLoadState = 0;\n    this._totalVertices = 0;\n    this._isDisposed = false;\n    this._indexBufferIsUpdatable = false;\n    this._positionsCache = [];\n    this._parentContainer = null;\n    this.useBoundingInfoFromGeometry = false;\n    this._scene = scene || EngineStore.LastCreatedScene;\n    if (!this._scene) {\n      return;\n    }\n    this.id = id;\n    this.uniqueId = this._scene.getUniqueId();\n    this._engine = this._scene.getEngine();\n    this._meshes = [];\n    this._vertexBuffers = {};\n    this._indices = [];\n    this._updatable = updatable;\n    if (vertexData) {\n      this.setAllVerticesData(vertexData, updatable);\n    } else {\n      this._totalVertices = 0;\n      this._indices = [];\n    }\n    if (this._engine.getCaps().vertexArrayObject) {\n      this._vertexArrayObjects = {};\n    }\n    if (mesh) {\n      this.applyToMesh(mesh);\n      mesh.computeWorldMatrix(true);\n    }\n  }\n  Object.defineProperty(Geometry2.prototype, \"boundingBias\", {\n    get: function() {\n      return this._boundingBias;\n    },\n    set: function(value) {\n      if (this._boundingBias) {\n        this._boundingBias.copyFrom(value);\n      } else {\n        this._boundingBias = value.clone();\n      }\n      this._updateBoundingInfo(true, null);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Geometry2.CreateGeometryForMesh = function(mesh) {\n    var geometry = new Geometry2(Geometry2.RandomId(), mesh.getScene());\n    geometry.applyToMesh(mesh);\n    return geometry;\n  };\n  Object.defineProperty(Geometry2.prototype, \"meshes\", {\n    get: function() {\n      return this._meshes;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Geometry2.prototype, \"extend\", {\n    get: function() {\n      return this._extend;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Geometry2.prototype.getScene = function() {\n    return this._scene;\n  };\n  Geometry2.prototype.getEngine = function() {\n    return this._engine;\n  };\n  Geometry2.prototype.isReady = function() {\n    return this.delayLoadState === 1 || this.delayLoadState === 0;\n  };\n  Object.defineProperty(Geometry2.prototype, \"doNotSerialize\", {\n    get: function() {\n      for (var index = 0; index < this._meshes.length; index++) {\n        if (!this._meshes[index].doNotSerialize) {\n          return false;\n        }\n      }\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Geometry2.prototype._rebuild = function() {\n    if (this._vertexArrayObjects) {\n      this._vertexArrayObjects = {};\n    }\n    if (this._meshes.length !== 0 && this._indices) {\n      this._indexBuffer = this._engine.createIndexBuffer(this._indices, this._updatable);\n    }\n    for (var key in this._vertexBuffers) {\n      var vertexBuffer = this._vertexBuffers[key];\n      vertexBuffer._rebuild();\n    }\n  };\n  Geometry2.prototype.setAllVerticesData = function(vertexData, updatable) {\n    vertexData.applyToGeometry(this, updatable);\n    this._notifyUpdate();\n  };\n  Geometry2.prototype.setVerticesData = function(kind, data, updatable, stride) {\n    if (updatable === void 0) {\n      updatable = false;\n    }\n    if (updatable && Array.isArray(data)) {\n      data = new Float32Array(data);\n    }\n    var buffer = new VertexBuffer(this._engine, data, kind, updatable, this._meshes.length === 0, stride);\n    this.setVerticesBuffer(buffer);\n  };\n  Geometry2.prototype.removeVerticesData = function(kind) {\n    if (this._vertexBuffers[kind]) {\n      this._vertexBuffers[kind].dispose();\n      delete this._vertexBuffers[kind];\n    }\n    if (this._vertexArrayObjects) {\n      this._disposeVertexArrayObjects();\n    }\n  };\n  Geometry2.prototype.setVerticesBuffer = function(buffer, totalVertices, disposeExistingBuffer) {\n    if (totalVertices === void 0) {\n      totalVertices = null;\n    }\n    if (disposeExistingBuffer === void 0) {\n      disposeExistingBuffer = true;\n    }\n    var kind = buffer.getKind();\n    if (this._vertexBuffers[kind] && disposeExistingBuffer) {\n      this._vertexBuffers[kind].dispose();\n    }\n    if (buffer._buffer) {\n      buffer._buffer._increaseReferences();\n    }\n    this._vertexBuffers[kind] = buffer;\n    var meshes = this._meshes;\n    var numOfMeshes = meshes.length;\n    if (kind === VertexBuffer.PositionKind) {\n      var data = buffer.getData();\n      if (totalVertices != null) {\n        this._totalVertices = totalVertices;\n      } else {\n        if (data != null) {\n          this._totalVertices = data.length / (buffer.type === VertexBuffer.BYTE ? buffer.byteStride : buffer.byteStride / 4);\n        }\n      }\n      this._updateExtend(data);\n      this._resetPointsArrayCache();\n      for (var index = 0; index < numOfMeshes; index++) {\n        var mesh = meshes[index];\n        mesh.buildBoundingInfo(this._extend.minimum, this._extend.maximum);\n        mesh._createGlobalSubMesh(mesh.isUnIndexed);\n        mesh.computeWorldMatrix(true);\n        mesh.synchronizeInstances();\n      }\n    }\n    this._notifyUpdate(kind);\n  };\n  Geometry2.prototype.updateVerticesDataDirectly = function(kind, data, offset, useBytes) {\n    if (useBytes === void 0) {\n      useBytes = false;\n    }\n    var vertexBuffer = this.getVertexBuffer(kind);\n    if (!vertexBuffer) {\n      return;\n    }\n    vertexBuffer.updateDirectly(data, offset, useBytes);\n    this._notifyUpdate(kind);\n  };\n  Geometry2.prototype.updateVerticesData = function(kind, data, updateExtends) {\n    if (updateExtends === void 0) {\n      updateExtends = false;\n    }\n    var vertexBuffer = this.getVertexBuffer(kind);\n    if (!vertexBuffer) {\n      return;\n    }\n    vertexBuffer.update(data);\n    if (kind === VertexBuffer.PositionKind) {\n      this._updateBoundingInfo(updateExtends, data);\n    }\n    this._notifyUpdate(kind);\n  };\n  Geometry2.prototype._updateBoundingInfo = function(updateExtends, data) {\n    if (updateExtends) {\n      this._updateExtend(data);\n    }\n    this._resetPointsArrayCache();\n    if (updateExtends) {\n      var meshes = this._meshes;\n      for (var _i = 0, meshes_1 = meshes; _i < meshes_1.length; _i++) {\n        var mesh = meshes_1[_i];\n        if (mesh.hasBoundingInfo) {\n          mesh.getBoundingInfo().reConstruct(this._extend.minimum, this._extend.maximum);\n        } else {\n          mesh.buildBoundingInfo(this._extend.minimum, this._extend.maximum);\n        }\n        var subMeshes = mesh.subMeshes;\n        for (var _a = 0, subMeshes_1 = subMeshes; _a < subMeshes_1.length; _a++) {\n          var subMesh = subMeshes_1[_a];\n          subMesh.refreshBoundingInfo();\n        }\n      }\n    }\n  };\n  Geometry2.prototype._bind = function(effect, indexToBind, overrideVertexBuffers, overrideVertexArrayObjects) {\n    if (!effect) {\n      return;\n    }\n    if (indexToBind === void 0) {\n      indexToBind = this._indexBuffer;\n    }\n    var vbs = this.getVertexBuffers();\n    if (!vbs) {\n      return;\n    }\n    if (indexToBind != this._indexBuffer || !this._vertexArrayObjects && !overrideVertexArrayObjects) {\n      this._engine.bindBuffers(vbs, indexToBind, effect, overrideVertexBuffers);\n      return;\n    }\n    var vaos = overrideVertexArrayObjects ? overrideVertexArrayObjects : this._vertexArrayObjects;\n    if (!vaos[effect.key]) {\n      vaos[effect.key] = this._engine.recordVertexArrayObject(vbs, indexToBind, effect, overrideVertexBuffers);\n    }\n    this._engine.bindVertexArrayObject(vaos[effect.key], indexToBind);\n  };\n  Geometry2.prototype.getTotalVertices = function() {\n    if (!this.isReady()) {\n      return 0;\n    }\n    return this._totalVertices;\n  };\n  Geometry2.prototype.getVerticesData = function(kind, copyWhenShared, forceCopy) {\n    var vertexBuffer = this.getVertexBuffer(kind);\n    if (!vertexBuffer) {\n      return null;\n    }\n    return vertexBuffer.getFloatData(this._totalVertices, forceCopy || copyWhenShared && this._meshes.length !== 1);\n  };\n  Geometry2.prototype.isVertexBufferUpdatable = function(kind) {\n    var vb = this._vertexBuffers[kind];\n    if (!vb) {\n      return false;\n    }\n    return vb.isUpdatable();\n  };\n  Geometry2.prototype.getVertexBuffer = function(kind) {\n    if (!this.isReady()) {\n      return null;\n    }\n    return this._vertexBuffers[kind];\n  };\n  Geometry2.prototype.getVertexBuffers = function() {\n    if (!this.isReady()) {\n      return null;\n    }\n    return this._vertexBuffers;\n  };\n  Geometry2.prototype.isVerticesDataPresent = function(kind) {\n    if (!this._vertexBuffers) {\n      if (this._delayInfo) {\n        return this._delayInfo.indexOf(kind) !== -1;\n      }\n      return false;\n    }\n    return this._vertexBuffers[kind] !== void 0;\n  };\n  Geometry2.prototype.getVerticesDataKinds = function() {\n    var result = [];\n    var kind;\n    if (!this._vertexBuffers && this._delayInfo) {\n      for (kind in this._delayInfo) {\n        result.push(kind);\n      }\n    } else {\n      for (kind in this._vertexBuffers) {\n        result.push(kind);\n      }\n    }\n    return result;\n  };\n  Geometry2.prototype.updateIndices = function(indices, offset, gpuMemoryOnly) {\n    if (gpuMemoryOnly === void 0) {\n      gpuMemoryOnly = false;\n    }\n    if (!this._indexBuffer) {\n      return;\n    }\n    if (!this._indexBufferIsUpdatable) {\n      this.setIndices(indices, null, true);\n    } else {\n      var needToUpdateSubMeshes = indices.length !== this._indices.length;\n      if (!gpuMemoryOnly) {\n        this._indices = indices.slice();\n      }\n      this._engine.updateDynamicIndexBuffer(this._indexBuffer, indices, offset);\n      if (needToUpdateSubMeshes) {\n        for (var _i = 0, _a = this._meshes; _i < _a.length; _i++) {\n          var mesh = _a[_i];\n          mesh._createGlobalSubMesh(true);\n        }\n      }\n    }\n  };\n  Geometry2.prototype.setIndices = function(indices, totalVertices, updatable) {\n    if (totalVertices === void 0) {\n      totalVertices = null;\n    }\n    if (updatable === void 0) {\n      updatable = false;\n    }\n    if (this._indexBuffer) {\n      this._engine._releaseBuffer(this._indexBuffer);\n    }\n    this._indices = indices;\n    this._indexBufferIsUpdatable = updatable;\n    if (this._meshes.length !== 0 && this._indices) {\n      this._indexBuffer = this._engine.createIndexBuffer(this._indices, updatable);\n    }\n    if (totalVertices != void 0) {\n      this._totalVertices = totalVertices;\n    }\n    for (var _i = 0, _a = this._meshes; _i < _a.length; _i++) {\n      var mesh = _a[_i];\n      mesh._createGlobalSubMesh(true);\n      mesh.synchronizeInstances();\n    }\n    this._notifyUpdate();\n  };\n  Geometry2.prototype.getTotalIndices = function() {\n    if (!this.isReady()) {\n      return 0;\n    }\n    return this._indices.length;\n  };\n  Geometry2.prototype.getIndices = function(copyWhenShared, forceCopy) {\n    if (!this.isReady()) {\n      return null;\n    }\n    var orig = this._indices;\n    if (!forceCopy && (!copyWhenShared || this._meshes.length === 1)) {\n      return orig;\n    } else {\n      return orig.slice();\n    }\n  };\n  Geometry2.prototype.getIndexBuffer = function() {\n    if (!this.isReady()) {\n      return null;\n    }\n    return this._indexBuffer;\n  };\n  Geometry2.prototype._releaseVertexArrayObject = function(effect) {\n    if (effect === void 0) {\n      effect = null;\n    }\n    if (!effect || !this._vertexArrayObjects) {\n      return;\n    }\n    if (this._vertexArrayObjects[effect.key]) {\n      this._engine.releaseVertexArrayObject(this._vertexArrayObjects[effect.key]);\n      delete this._vertexArrayObjects[effect.key];\n    }\n  };\n  Geometry2.prototype.releaseForMesh = function(mesh, shouldDispose) {\n    var meshes = this._meshes;\n    var index = meshes.indexOf(mesh);\n    if (index === -1) {\n      return;\n    }\n    meshes.splice(index, 1);\n    if (this._vertexArrayObjects) {\n      mesh._invalidateInstanceVertexArrayObject();\n    }\n    mesh._geometry = null;\n    if (meshes.length === 0 && shouldDispose) {\n      this.dispose();\n    }\n  };\n  Geometry2.prototype.applyToMesh = function(mesh) {\n    if (mesh._geometry === this) {\n      return;\n    }\n    var previousGeometry = mesh._geometry;\n    if (previousGeometry) {\n      previousGeometry.releaseForMesh(mesh);\n    }\n    if (this._vertexArrayObjects) {\n      mesh._invalidateInstanceVertexArrayObject();\n    }\n    var meshes = this._meshes;\n    mesh._geometry = this;\n    mesh._internalAbstractMeshDataInfo._positions = null;\n    this._scene.pushGeometry(this);\n    meshes.push(mesh);\n    if (this.isReady()) {\n      this._applyToMesh(mesh);\n    } else if (this._boundingInfo) {\n      mesh.setBoundingInfo(this._boundingInfo);\n    }\n  };\n  Geometry2.prototype._updateExtend = function(data) {\n    if (data === void 0) {\n      data = null;\n    }\n    if (this.useBoundingInfoFromGeometry && this._boundingInfo) {\n      this._extend = {\n        minimum: this._boundingInfo.minimum.clone(),\n        maximum: this._boundingInfo.maximum.clone()\n      };\n    } else {\n      if (!data) {\n        data = this.getVerticesData(VertexBuffer.PositionKind);\n        if (!data) {\n          return;\n        }\n      }\n      this._extend = extractMinAndMax(data, 0, this._totalVertices, this.boundingBias, 3);\n    }\n  };\n  Geometry2.prototype._applyToMesh = function(mesh) {\n    var numOfMeshes = this._meshes.length;\n    for (var kind in this._vertexBuffers) {\n      if (numOfMeshes === 1) {\n        this._vertexBuffers[kind].create();\n      }\n      if (kind === VertexBuffer.PositionKind) {\n        if (!this._extend) {\n          this._updateExtend();\n        }\n        mesh.buildBoundingInfo(this._extend.minimum, this._extend.maximum);\n        mesh._createGlobalSubMesh(mesh.isUnIndexed);\n        mesh._updateBoundingInfo();\n      }\n    }\n    if (numOfMeshes === 1 && this._indices && this._indices.length > 0) {\n      this._indexBuffer = this._engine.createIndexBuffer(this._indices, this._updatable);\n    }\n    mesh._syncGeometryWithMorphTargetManager();\n    mesh.synchronizeInstances();\n  };\n  Geometry2.prototype._notifyUpdate = function(kind) {\n    if (this.onGeometryUpdated) {\n      this.onGeometryUpdated(this, kind);\n    }\n    if (this._vertexArrayObjects) {\n      this._disposeVertexArrayObjects();\n    }\n    for (var _i = 0, _a = this._meshes; _i < _a.length; _i++) {\n      var mesh = _a[_i];\n      mesh._markSubMeshesAsAttributesDirty();\n    }\n  };\n  Geometry2.prototype.load = function(scene, onLoaded) {\n    if (this.delayLoadState === 2) {\n      return;\n    }\n    if (this.isReady()) {\n      if (onLoaded) {\n        onLoaded();\n      }\n      return;\n    }\n    this.delayLoadState = 2;\n    this._queueLoad(scene, onLoaded);\n  };\n  Geometry2.prototype._queueLoad = function(scene, onLoaded) {\n    var _this = this;\n    if (!this.delayLoadingFile) {\n      return;\n    }\n    scene._addPendingData(this);\n    scene._loadFile(this.delayLoadingFile, function(data) {\n      if (!_this._delayLoadingFunction) {\n        return;\n      }\n      _this._delayLoadingFunction(JSON.parse(data), _this);\n      _this.delayLoadState = 1;\n      _this._delayInfo = [];\n      scene._removePendingData(_this);\n      var meshes = _this._meshes;\n      var numOfMeshes = meshes.length;\n      for (var index = 0; index < numOfMeshes; index++) {\n        _this._applyToMesh(meshes[index]);\n      }\n      if (onLoaded) {\n        onLoaded();\n      }\n    }, void 0, true);\n  };\n  Geometry2.prototype.toLeftHanded = function() {\n    var tIndices = this.getIndices(false);\n    if (tIndices != null && tIndices.length > 0) {\n      for (var i = 0; i < tIndices.length; i += 3) {\n        var tTemp = tIndices[i + 0];\n        tIndices[i + 0] = tIndices[i + 2];\n        tIndices[i + 2] = tTemp;\n      }\n      this.setIndices(tIndices);\n    }\n    var tPositions = this.getVerticesData(VertexBuffer.PositionKind, false);\n    if (tPositions != null && tPositions.length > 0) {\n      for (var i = 0; i < tPositions.length; i += 3) {\n        tPositions[i + 2] = -tPositions[i + 2];\n      }\n      this.setVerticesData(VertexBuffer.PositionKind, tPositions, false);\n    }\n    var tNormals = this.getVerticesData(VertexBuffer.NormalKind, false);\n    if (tNormals != null && tNormals.length > 0) {\n      for (var i = 0; i < tNormals.length; i += 3) {\n        tNormals[i + 2] = -tNormals[i + 2];\n      }\n      this.setVerticesData(VertexBuffer.NormalKind, tNormals, false);\n    }\n  };\n  Geometry2.prototype._resetPointsArrayCache = function() {\n    this._positions = null;\n  };\n  Geometry2.prototype._generatePointsArray = function() {\n    if (this._positions) {\n      return true;\n    }\n    var data = this.getVerticesData(VertexBuffer.PositionKind);\n    if (!data || data.length === 0) {\n      return false;\n    }\n    for (var index = this._positionsCache.length * 3, arrayIdx = this._positionsCache.length; index < data.length; index += 3, ++arrayIdx) {\n      this._positionsCache[arrayIdx] = Vector3.FromArray(data, index);\n    }\n    for (var index = 0, arrayIdx = 0; index < data.length; index += 3, ++arrayIdx) {\n      this._positionsCache[arrayIdx].set(data[0 + index], data[1 + index], data[2 + index]);\n    }\n    this._positionsCache.length = data.length / 3;\n    this._positions = this._positionsCache;\n    return true;\n  };\n  Geometry2.prototype.isDisposed = function() {\n    return this._isDisposed;\n  };\n  Geometry2.prototype._disposeVertexArrayObjects = function() {\n    if (this._vertexArrayObjects) {\n      for (var kind in this._vertexArrayObjects) {\n        this._engine.releaseVertexArrayObject(this._vertexArrayObjects[kind]);\n      }\n      this._vertexArrayObjects = {};\n      var meshes = this._meshes;\n      var numOfMeshes = meshes.length;\n      for (var index = 0; index < numOfMeshes; index++) {\n        meshes[index]._invalidateInstanceVertexArrayObject();\n      }\n    }\n  };\n  Geometry2.prototype.dispose = function() {\n    var meshes = this._meshes;\n    var numOfMeshes = meshes.length;\n    var index;\n    for (index = 0; index < numOfMeshes; index++) {\n      this.releaseForMesh(meshes[index]);\n    }\n    this._meshes = [];\n    this._disposeVertexArrayObjects();\n    for (var kind in this._vertexBuffers) {\n      this._vertexBuffers[kind].dispose();\n    }\n    this._vertexBuffers = {};\n    this._totalVertices = 0;\n    if (this._indexBuffer) {\n      this._engine._releaseBuffer(this._indexBuffer);\n    }\n    this._indexBuffer = null;\n    this._indices = [];\n    this.delayLoadState = 0;\n    this.delayLoadingFile = null;\n    this._delayLoadingFunction = null;\n    this._delayInfo = [];\n    this._boundingInfo = null;\n    this._scene.removeGeometry(this);\n    if (this._parentContainer) {\n      var index_1 = this._parentContainer.geometries.indexOf(this);\n      if (index_1 > -1) {\n        this._parentContainer.geometries.splice(index_1, 1);\n      }\n      this._parentContainer = null;\n    }\n    this._isDisposed = true;\n  };\n  Geometry2.prototype.copy = function(id) {\n    var vertexData = new VertexData();\n    vertexData.indices = [];\n    var indices = this.getIndices();\n    if (indices) {\n      for (var index = 0; index < indices.length; index++) {\n        vertexData.indices.push(indices[index]);\n      }\n    }\n    var updatable = false;\n    var stopChecking = false;\n    var kind;\n    for (kind in this._vertexBuffers) {\n      var data = this.getVerticesData(kind);\n      if (data) {\n        if (data instanceof Float32Array) {\n          vertexData.set(new Float32Array(data), kind);\n        } else {\n          vertexData.set(data.slice(0), kind);\n        }\n        if (!stopChecking) {\n          var vb = this.getVertexBuffer(kind);\n          if (vb) {\n            updatable = vb.isUpdatable();\n            stopChecking = !updatable;\n          }\n        }\n      }\n    }\n    var geometry = new Geometry2(id, this._scene, vertexData, updatable);\n    geometry.delayLoadState = this.delayLoadState;\n    geometry.delayLoadingFile = this.delayLoadingFile;\n    geometry._delayLoadingFunction = this._delayLoadingFunction;\n    for (kind in this._delayInfo) {\n      geometry._delayInfo = geometry._delayInfo || [];\n      geometry._delayInfo.push(kind);\n    }\n    geometry._boundingInfo = new BoundingInfo(this._extend.minimum, this._extend.maximum);\n    return geometry;\n  };\n  Geometry2.prototype.serialize = function() {\n    var serializationObject = {};\n    serializationObject.id = this.id;\n    serializationObject.uniqueId = this.uniqueId;\n    serializationObject.updatable = this._updatable;\n    if (Tags && Tags.HasTags(this)) {\n      serializationObject.tags = Tags.GetTags(this);\n    }\n    return serializationObject;\n  };\n  Geometry2.prototype._toNumberArray = function(origin) {\n    if (Array.isArray(origin)) {\n      return origin;\n    } else {\n      return Array.prototype.slice.call(origin);\n    }\n  };\n  Geometry2.prototype.clearCachedData = function() {\n    this._indices = [];\n    this._resetPointsArrayCache();\n    for (var vbName in this._vertexBuffers) {\n      if (!Object.prototype.hasOwnProperty.call(this._vertexBuffers, vbName)) {\n        continue;\n      }\n      this._vertexBuffers[vbName]._buffer._data = null;\n    }\n  };\n  Geometry2.prototype.serializeVerticeData = function() {\n    var serializationObject = this.serialize();\n    if (this.isVerticesDataPresent(VertexBuffer.PositionKind)) {\n      serializationObject.positions = this._toNumberArray(this.getVerticesData(VertexBuffer.PositionKind));\n      if (this.isVertexBufferUpdatable(VertexBuffer.PositionKind)) {\n        serializationObject.positions._updatable = true;\n      }\n    }\n    if (this.isVerticesDataPresent(VertexBuffer.NormalKind)) {\n      serializationObject.normals = this._toNumberArray(this.getVerticesData(VertexBuffer.NormalKind));\n      if (this.isVertexBufferUpdatable(VertexBuffer.NormalKind)) {\n        serializationObject.normals._updatable = true;\n      }\n    }\n    if (this.isVerticesDataPresent(VertexBuffer.TangentKind)) {\n      serializationObject.tangents = this._toNumberArray(this.getVerticesData(VertexBuffer.TangentKind));\n      if (this.isVertexBufferUpdatable(VertexBuffer.TangentKind)) {\n        serializationObject.tangents._updatable = true;\n      }\n    }\n    if (this.isVerticesDataPresent(VertexBuffer.UVKind)) {\n      serializationObject.uvs = this._toNumberArray(this.getVerticesData(VertexBuffer.UVKind));\n      if (this.isVertexBufferUpdatable(VertexBuffer.UVKind)) {\n        serializationObject.uvs._updatable = true;\n      }\n    }\n    if (this.isVerticesDataPresent(VertexBuffer.UV2Kind)) {\n      serializationObject.uv2s = this._toNumberArray(this.getVerticesData(VertexBuffer.UV2Kind));\n      if (this.isVertexBufferUpdatable(VertexBuffer.UV2Kind)) {\n        serializationObject.uv2s._updatable = true;\n      }\n    }\n    if (this.isVerticesDataPresent(VertexBuffer.UV3Kind)) {\n      serializationObject.uv3s = this._toNumberArray(this.getVerticesData(VertexBuffer.UV3Kind));\n      if (this.isVertexBufferUpdatable(VertexBuffer.UV3Kind)) {\n        serializationObject.uv3s._updatable = true;\n      }\n    }\n    if (this.isVerticesDataPresent(VertexBuffer.UV4Kind)) {\n      serializationObject.uv4s = this._toNumberArray(this.getVerticesData(VertexBuffer.UV4Kind));\n      if (this.isVertexBufferUpdatable(VertexBuffer.UV4Kind)) {\n        serializationObject.uv4s._updatable = true;\n      }\n    }\n    if (this.isVerticesDataPresent(VertexBuffer.UV5Kind)) {\n      serializationObject.uv5s = this._toNumberArray(this.getVerticesData(VertexBuffer.UV5Kind));\n      if (this.isVertexBufferUpdatable(VertexBuffer.UV5Kind)) {\n        serializationObject.uv5s._updatable = true;\n      }\n    }\n    if (this.isVerticesDataPresent(VertexBuffer.UV6Kind)) {\n      serializationObject.uv6s = this._toNumberArray(this.getVerticesData(VertexBuffer.UV6Kind));\n      if (this.isVertexBufferUpdatable(VertexBuffer.UV6Kind)) {\n        serializationObject.uv6s._updatable = true;\n      }\n    }\n    if (this.isVerticesDataPresent(VertexBuffer.ColorKind)) {\n      serializationObject.colors = this._toNumberArray(this.getVerticesData(VertexBuffer.ColorKind));\n      if (this.isVertexBufferUpdatable(VertexBuffer.ColorKind)) {\n        serializationObject.colors._updatable = true;\n      }\n    }\n    if (this.isVerticesDataPresent(VertexBuffer.MatricesIndicesKind)) {\n      serializationObject.matricesIndices = this._toNumberArray(this.getVerticesData(VertexBuffer.MatricesIndicesKind));\n      serializationObject.matricesIndices._isExpanded = true;\n      if (this.isVertexBufferUpdatable(VertexBuffer.MatricesIndicesKind)) {\n        serializationObject.matricesIndices._updatable = true;\n      }\n    }\n    if (this.isVerticesDataPresent(VertexBuffer.MatricesWeightsKind)) {\n      serializationObject.matricesWeights = this._toNumberArray(this.getVerticesData(VertexBuffer.MatricesWeightsKind));\n      if (this.isVertexBufferUpdatable(VertexBuffer.MatricesWeightsKind)) {\n        serializationObject.matricesWeights._updatable = true;\n      }\n    }\n    serializationObject.indices = this._toNumberArray(this.getIndices());\n    return serializationObject;\n  };\n  Geometry2.ExtractFromMesh = function(mesh, id) {\n    var geometry = mesh._geometry;\n    if (!geometry) {\n      return null;\n    }\n    return geometry.copy(id);\n  };\n  Geometry2.RandomId = function() {\n    return Tools.RandomId();\n  };\n  Geometry2._GetGeometryByLoadedUniqueId = function(uniqueId, scene) {\n    for (var index = 0; index < scene.geometries.length; index++) {\n      if (scene.geometries[index]._loadedUniqueId === uniqueId) {\n        return scene.geometries[index];\n      }\n    }\n    return null;\n  };\n  Geometry2._ImportGeometry = function(parsedGeometry, mesh) {\n    var scene = mesh.getScene();\n    var geometryUniqueId = parsedGeometry.geometryUniqueId;\n    var geometryId = parsedGeometry.geometryId;\n    if (geometryUniqueId || geometryId) {\n      var geometry = geometryUniqueId ? this._GetGeometryByLoadedUniqueId(geometryUniqueId, scene) : scene.getGeometryById(geometryId);\n      if (geometry) {\n        geometry.applyToMesh(mesh);\n      }\n    } else if (parsedGeometry instanceof ArrayBuffer) {\n      var binaryInfo = mesh._binaryInfo;\n      if (binaryInfo.positionsAttrDesc && binaryInfo.positionsAttrDesc.count > 0) {\n        var positionsData = new Float32Array(parsedGeometry, binaryInfo.positionsAttrDesc.offset, binaryInfo.positionsAttrDesc.count);\n        mesh.setVerticesData(VertexBuffer.PositionKind, positionsData, false);\n      }\n      if (binaryInfo.normalsAttrDesc && binaryInfo.normalsAttrDesc.count > 0) {\n        var normalsData = new Float32Array(parsedGeometry, binaryInfo.normalsAttrDesc.offset, binaryInfo.normalsAttrDesc.count);\n        mesh.setVerticesData(VertexBuffer.NormalKind, normalsData, false);\n      }\n      if (binaryInfo.tangetsAttrDesc && binaryInfo.tangetsAttrDesc.count > 0) {\n        var tangentsData = new Float32Array(parsedGeometry, binaryInfo.tangetsAttrDesc.offset, binaryInfo.tangetsAttrDesc.count);\n        mesh.setVerticesData(VertexBuffer.TangentKind, tangentsData, false);\n      }\n      if (binaryInfo.uvsAttrDesc && binaryInfo.uvsAttrDesc.count > 0) {\n        var uvsData = new Float32Array(parsedGeometry, binaryInfo.uvsAttrDesc.offset, binaryInfo.uvsAttrDesc.count);\n        if (CompatibilityOptions.UseOpenGLOrientationForUV) {\n          for (var index = 1; index < uvsData.length; index += 2) {\n            uvsData[index] = 1 - uvsData[index];\n          }\n        }\n        mesh.setVerticesData(VertexBuffer.UVKind, uvsData, false);\n      }\n      if (binaryInfo.uvs2AttrDesc && binaryInfo.uvs2AttrDesc.count > 0) {\n        var uvs2Data = new Float32Array(parsedGeometry, binaryInfo.uvs2AttrDesc.offset, binaryInfo.uvs2AttrDesc.count);\n        if (CompatibilityOptions.UseOpenGLOrientationForUV) {\n          for (var index = 1; index < uvs2Data.length; index += 2) {\n            uvs2Data[index] = 1 - uvs2Data[index];\n          }\n        }\n        mesh.setVerticesData(VertexBuffer.UV2Kind, uvs2Data, false);\n      }\n      if (binaryInfo.uvs3AttrDesc && binaryInfo.uvs3AttrDesc.count > 0) {\n        var uvs3Data = new Float32Array(parsedGeometry, binaryInfo.uvs3AttrDesc.offset, binaryInfo.uvs3AttrDesc.count);\n        if (CompatibilityOptions.UseOpenGLOrientationForUV) {\n          for (var index = 1; index < uvs3Data.length; index += 2) {\n            uvs3Data[index] = 1 - uvs3Data[index];\n          }\n        }\n        mesh.setVerticesData(VertexBuffer.UV3Kind, uvs3Data, false);\n      }\n      if (binaryInfo.uvs4AttrDesc && binaryInfo.uvs4AttrDesc.count > 0) {\n        var uvs4Data = new Float32Array(parsedGeometry, binaryInfo.uvs4AttrDesc.offset, binaryInfo.uvs4AttrDesc.count);\n        if (CompatibilityOptions.UseOpenGLOrientationForUV) {\n          for (var index = 1; index < uvs4Data.length; index += 2) {\n            uvs4Data[index] = 1 - uvs4Data[index];\n          }\n        }\n        mesh.setVerticesData(VertexBuffer.UV4Kind, uvs4Data, false);\n      }\n      if (binaryInfo.uvs5AttrDesc && binaryInfo.uvs5AttrDesc.count > 0) {\n        var uvs5Data = new Float32Array(parsedGeometry, binaryInfo.uvs5AttrDesc.offset, binaryInfo.uvs5AttrDesc.count);\n        if (CompatibilityOptions.UseOpenGLOrientationForUV) {\n          for (var index = 1; index < uvs5Data.length; index += 2) {\n            uvs5Data[index] = 1 - uvs5Data[index];\n          }\n        }\n        mesh.setVerticesData(VertexBuffer.UV5Kind, uvs5Data, false);\n      }\n      if (binaryInfo.uvs6AttrDesc && binaryInfo.uvs6AttrDesc.count > 0) {\n        var uvs6Data = new Float32Array(parsedGeometry, binaryInfo.uvs6AttrDesc.offset, binaryInfo.uvs6AttrDesc.count);\n        if (CompatibilityOptions.UseOpenGLOrientationForUV) {\n          for (var index = 1; index < uvs6Data.length; index += 2) {\n            uvs6Data[index] = 1 - uvs6Data[index];\n          }\n        }\n        mesh.setVerticesData(VertexBuffer.UV6Kind, uvs6Data, false);\n      }\n      if (binaryInfo.colorsAttrDesc && binaryInfo.colorsAttrDesc.count > 0) {\n        var colorsData = new Float32Array(parsedGeometry, binaryInfo.colorsAttrDesc.offset, binaryInfo.colorsAttrDesc.count);\n        mesh.setVerticesData(VertexBuffer.ColorKind, colorsData, false, binaryInfo.colorsAttrDesc.stride);\n      }\n      if (binaryInfo.matricesIndicesAttrDesc && binaryInfo.matricesIndicesAttrDesc.count > 0) {\n        var matricesIndicesData = new Int32Array(parsedGeometry, binaryInfo.matricesIndicesAttrDesc.offset, binaryInfo.matricesIndicesAttrDesc.count);\n        var floatIndices = [];\n        for (var i = 0; i < matricesIndicesData.length; i++) {\n          var index = matricesIndicesData[i];\n          floatIndices.push(index & 255);\n          floatIndices.push((index & 65280) >> 8);\n          floatIndices.push((index & 16711680) >> 16);\n          floatIndices.push(index >> 24 & 255);\n        }\n        mesh.setVerticesData(VertexBuffer.MatricesIndicesKind, floatIndices, false);\n      }\n      if (binaryInfo.matricesIndicesExtraAttrDesc && binaryInfo.matricesIndicesExtraAttrDesc.count > 0) {\n        var matricesIndicesData = new Int32Array(parsedGeometry, binaryInfo.matricesIndicesExtraAttrDesc.offset, binaryInfo.matricesIndicesExtraAttrDesc.count);\n        var floatIndices = [];\n        for (var i = 0; i < matricesIndicesData.length; i++) {\n          var index = matricesIndicesData[i];\n          floatIndices.push(index & 255);\n          floatIndices.push((index & 65280) >> 8);\n          floatIndices.push((index & 16711680) >> 16);\n          floatIndices.push(index >> 24 & 255);\n        }\n        mesh.setVerticesData(VertexBuffer.MatricesIndicesExtraKind, floatIndices, false);\n      }\n      if (binaryInfo.matricesWeightsAttrDesc && binaryInfo.matricesWeightsAttrDesc.count > 0) {\n        var matricesWeightsData = new Float32Array(parsedGeometry, binaryInfo.matricesWeightsAttrDesc.offset, binaryInfo.matricesWeightsAttrDesc.count);\n        mesh.setVerticesData(VertexBuffer.MatricesWeightsKind, matricesWeightsData, false);\n      }\n      if (binaryInfo.indicesAttrDesc && binaryInfo.indicesAttrDesc.count > 0) {\n        var indicesData = new Int32Array(parsedGeometry, binaryInfo.indicesAttrDesc.offset, binaryInfo.indicesAttrDesc.count);\n        mesh.setIndices(indicesData, null);\n      }\n      if (binaryInfo.subMeshesAttrDesc && binaryInfo.subMeshesAttrDesc.count > 0) {\n        var subMeshesData = new Int32Array(parsedGeometry, binaryInfo.subMeshesAttrDesc.offset, binaryInfo.subMeshesAttrDesc.count * 5);\n        mesh.subMeshes = [];\n        for (var i = 0; i < binaryInfo.subMeshesAttrDesc.count; i++) {\n          var materialIndex = subMeshesData[i * 5 + 0];\n          var verticesStart = subMeshesData[i * 5 + 1];\n          var verticesCount = subMeshesData[i * 5 + 2];\n          var indexStart = subMeshesData[i * 5 + 3];\n          var indexCount = subMeshesData[i * 5 + 4];\n          SubMesh.AddToMesh(materialIndex, verticesStart, verticesCount, indexStart, indexCount, mesh);\n        }\n      }\n    } else if (parsedGeometry.positions && parsedGeometry.normals && parsedGeometry.indices) {\n      mesh.setVerticesData(VertexBuffer.PositionKind, parsedGeometry.positions, parsedGeometry.positions._updatable);\n      mesh.setVerticesData(VertexBuffer.NormalKind, parsedGeometry.normals, parsedGeometry.normals._updatable);\n      if (parsedGeometry.tangents) {\n        mesh.setVerticesData(VertexBuffer.TangentKind, parsedGeometry.tangents, parsedGeometry.tangents._updatable);\n      }\n      if (parsedGeometry.uvs) {\n        mesh.setVerticesData(VertexBuffer.UVKind, parsedGeometry.uvs, parsedGeometry.uvs._updatable);\n      }\n      if (parsedGeometry.uvs2) {\n        mesh.setVerticesData(VertexBuffer.UV2Kind, parsedGeometry.uvs2, parsedGeometry.uvs2._updatable);\n      }\n      if (parsedGeometry.uvs3) {\n        mesh.setVerticesData(VertexBuffer.UV3Kind, parsedGeometry.uvs3, parsedGeometry.uvs3._updatable);\n      }\n      if (parsedGeometry.uvs4) {\n        mesh.setVerticesData(VertexBuffer.UV4Kind, parsedGeometry.uvs4, parsedGeometry.uvs4._updatable);\n      }\n      if (parsedGeometry.uvs5) {\n        mesh.setVerticesData(VertexBuffer.UV5Kind, parsedGeometry.uvs5, parsedGeometry.uvs5._updatable);\n      }\n      if (parsedGeometry.uvs6) {\n        mesh.setVerticesData(VertexBuffer.UV6Kind, parsedGeometry.uvs6, parsedGeometry.uvs6._updatable);\n      }\n      if (parsedGeometry.colors) {\n        mesh.setVerticesData(VertexBuffer.ColorKind, Color4$1.CheckColors4(parsedGeometry.colors, parsedGeometry.positions.length / 3), parsedGeometry.colors._updatable);\n      }\n      if (parsedGeometry.matricesIndices) {\n        if (!parsedGeometry.matricesIndices._isExpanded) {\n          var floatIndices = [];\n          for (var i = 0; i < parsedGeometry.matricesIndices.length; i++) {\n            var matricesIndex = parsedGeometry.matricesIndices[i];\n            floatIndices.push(matricesIndex & 255);\n            floatIndices.push((matricesIndex & 65280) >> 8);\n            floatIndices.push((matricesIndex & 16711680) >> 16);\n            floatIndices.push(matricesIndex >> 24 & 255);\n          }\n          mesh.setVerticesData(VertexBuffer.MatricesIndicesKind, floatIndices, parsedGeometry.matricesIndices._updatable);\n        } else {\n          delete parsedGeometry.matricesIndices._isExpanded;\n          mesh.setVerticesData(VertexBuffer.MatricesIndicesKind, parsedGeometry.matricesIndices, parsedGeometry.matricesIndices._updatable);\n        }\n      }\n      if (parsedGeometry.matricesIndicesExtra) {\n        if (!parsedGeometry.matricesIndicesExtra._isExpanded) {\n          var floatIndices = [];\n          for (var i = 0; i < parsedGeometry.matricesIndicesExtra.length; i++) {\n            var matricesIndex = parsedGeometry.matricesIndicesExtra[i];\n            floatIndices.push(matricesIndex & 255);\n            floatIndices.push((matricesIndex & 65280) >> 8);\n            floatIndices.push((matricesIndex & 16711680) >> 16);\n            floatIndices.push(matricesIndex >> 24 & 255);\n          }\n          mesh.setVerticesData(VertexBuffer.MatricesIndicesExtraKind, floatIndices, parsedGeometry.matricesIndicesExtra._updatable);\n        } else {\n          delete parsedGeometry.matricesIndices._isExpanded;\n          mesh.setVerticesData(VertexBuffer.MatricesIndicesExtraKind, parsedGeometry.matricesIndicesExtra, parsedGeometry.matricesIndicesExtra._updatable);\n        }\n      }\n      if (parsedGeometry.matricesWeights) {\n        Geometry2._CleanMatricesWeights(parsedGeometry, mesh);\n        mesh.setVerticesData(VertexBuffer.MatricesWeightsKind, parsedGeometry.matricesWeights, parsedGeometry.matricesWeights._updatable);\n      }\n      if (parsedGeometry.matricesWeightsExtra) {\n        mesh.setVerticesData(VertexBuffer.MatricesWeightsExtraKind, parsedGeometry.matricesWeightsExtra, parsedGeometry.matricesWeights._updatable);\n      }\n      mesh.setIndices(parsedGeometry.indices, null);\n    }\n    if (parsedGeometry.subMeshes) {\n      mesh.subMeshes = [];\n      for (var subIndex = 0; subIndex < parsedGeometry.subMeshes.length; subIndex++) {\n        var parsedSubMesh = parsedGeometry.subMeshes[subIndex];\n        SubMesh.AddToMesh(parsedSubMesh.materialIndex, parsedSubMesh.verticesStart, parsedSubMesh.verticesCount, parsedSubMesh.indexStart, parsedSubMesh.indexCount, mesh);\n      }\n    }\n    if (mesh._shouldGenerateFlatShading) {\n      mesh.convertToFlatShadedMesh();\n      mesh._shouldGenerateFlatShading = false;\n    }\n    mesh.computeWorldMatrix(true);\n    scene.onMeshImportedObservable.notifyObservers(mesh);\n  };\n  Geometry2._CleanMatricesWeights = function(parsedGeometry, mesh) {\n    var epsilon = 1e-3;\n    if (!SceneLoaderFlags.CleanBoneMatrixWeights) {\n      return;\n    }\n    var noInfluenceBoneIndex = 0;\n    if (parsedGeometry.skeletonId > -1) {\n      var skeleton = mesh.getScene().getLastSkeletonById(parsedGeometry.skeletonId);\n      if (!skeleton) {\n        return;\n      }\n      noInfluenceBoneIndex = skeleton.bones.length;\n    } else {\n      return;\n    }\n    var matricesIndices = mesh.getVerticesData(VertexBuffer.MatricesIndicesKind);\n    var matricesIndicesExtra = mesh.getVerticesData(VertexBuffer.MatricesIndicesExtraKind);\n    var matricesWeights = parsedGeometry.matricesWeights;\n    var matricesWeightsExtra = parsedGeometry.matricesWeightsExtra;\n    var influencers = parsedGeometry.numBoneInfluencer;\n    var size = matricesWeights.length;\n    for (var i = 0; i < size; i += 4) {\n      var weight = 0;\n      var firstZeroWeight = -1;\n      for (var j = 0; j < 4; j++) {\n        var w = matricesWeights[i + j];\n        weight += w;\n        if (w < epsilon && firstZeroWeight < 0) {\n          firstZeroWeight = j;\n        }\n      }\n      if (matricesWeightsExtra) {\n        for (var j = 0; j < 4; j++) {\n          var w = matricesWeightsExtra[i + j];\n          weight += w;\n          if (w < epsilon && firstZeroWeight < 0) {\n            firstZeroWeight = j + 4;\n          }\n        }\n      }\n      if (firstZeroWeight < 0 || firstZeroWeight > influencers - 1) {\n        firstZeroWeight = influencers - 1;\n      }\n      if (weight > epsilon) {\n        var mweight = 1 / weight;\n        for (var j = 0; j < 4; j++) {\n          matricesWeights[i + j] *= mweight;\n        }\n        if (matricesWeightsExtra) {\n          for (var j = 0; j < 4; j++) {\n            matricesWeightsExtra[i + j] *= mweight;\n          }\n        }\n      } else {\n        if (firstZeroWeight >= 4) {\n          matricesWeightsExtra[i + firstZeroWeight - 4] = 1 - weight;\n          matricesIndicesExtra[i + firstZeroWeight - 4] = noInfluenceBoneIndex;\n        } else {\n          matricesWeights[i + firstZeroWeight] = 1 - weight;\n          matricesIndices[i + firstZeroWeight] = noInfluenceBoneIndex;\n        }\n      }\n    }\n    mesh.setVerticesData(VertexBuffer.MatricesIndicesKind, matricesIndices);\n    if (parsedGeometry.matricesWeightsExtra) {\n      mesh.setVerticesData(VertexBuffer.MatricesIndicesExtraKind, matricesIndicesExtra);\n    }\n  };\n  Geometry2.Parse = function(parsedVertexData, scene, rootUrl) {\n    var geometry = new Geometry2(parsedVertexData.id, scene, void 0, parsedVertexData.updatable);\n    geometry._loadedUniqueId = parsedVertexData.uniqueId;\n    if (Tags) {\n      Tags.AddTagsTo(geometry, parsedVertexData.tags);\n    }\n    if (parsedVertexData.delayLoadingFile) {\n      geometry.delayLoadState = 4;\n      geometry.delayLoadingFile = rootUrl + parsedVertexData.delayLoadingFile;\n      geometry._boundingInfo = new BoundingInfo(Vector3.FromArray(parsedVertexData.boundingBoxMinimum), Vector3.FromArray(parsedVertexData.boundingBoxMaximum));\n      geometry._delayInfo = [];\n      if (parsedVertexData.hasUVs) {\n        geometry._delayInfo.push(VertexBuffer.UVKind);\n      }\n      if (parsedVertexData.hasUVs2) {\n        geometry._delayInfo.push(VertexBuffer.UV2Kind);\n      }\n      if (parsedVertexData.hasUVs3) {\n        geometry._delayInfo.push(VertexBuffer.UV3Kind);\n      }\n      if (parsedVertexData.hasUVs4) {\n        geometry._delayInfo.push(VertexBuffer.UV4Kind);\n      }\n      if (parsedVertexData.hasUVs5) {\n        geometry._delayInfo.push(VertexBuffer.UV5Kind);\n      }\n      if (parsedVertexData.hasUVs6) {\n        geometry._delayInfo.push(VertexBuffer.UV6Kind);\n      }\n      if (parsedVertexData.hasColors) {\n        geometry._delayInfo.push(VertexBuffer.ColorKind);\n      }\n      if (parsedVertexData.hasMatricesIndices) {\n        geometry._delayInfo.push(VertexBuffer.MatricesIndicesKind);\n      }\n      if (parsedVertexData.hasMatricesWeights) {\n        geometry._delayInfo.push(VertexBuffer.MatricesWeightsKind);\n      }\n      geometry._delayLoadingFunction = VertexData.ImportVertexData;\n    } else {\n      VertexData.ImportVertexData(parsedVertexData, geometry);\n    }\n    scene.pushGeometry(geometry, true);\n    return geometry;\n  };\n  return Geometry2;\n}();\nvar Space;\n(function(Space2) {\n  Space2[Space2[\"LOCAL\"] = 0] = \"LOCAL\";\n  Space2[Space2[\"WORLD\"] = 1] = \"WORLD\";\n  Space2[Space2[\"BONE\"] = 2] = \"BONE\";\n})(Space || (Space = {}));\nvar Axis = function() {\n  function Axis2() {\n  }\n  Axis2.X = new Vector3(1, 0, 0);\n  Axis2.Y = new Vector3(0, 1, 0);\n  Axis2.Z = new Vector3(0, 0, 1);\n  return Axis2;\n}();\nvar Coordinate;\n(function(Coordinate2) {\n  Coordinate2[Coordinate2[\"X\"] = 0] = \"X\";\n  Coordinate2[Coordinate2[\"Y\"] = 1] = \"Y\";\n  Coordinate2[Coordinate2[\"Z\"] = 2] = \"Z\";\n})(Coordinate || (Coordinate = {}));\nvar TransformNode = function(_super) {\n  __extends(TransformNode2, _super);\n  function TransformNode2(name2, scene, isPure) {\n    if (scene === void 0) {\n      scene = null;\n    }\n    if (isPure === void 0) {\n      isPure = true;\n    }\n    var _this = _super.call(this, name2, scene) || this;\n    _this._forward = new Vector3(0, 0, 1);\n    _this._up = new Vector3(0, 1, 0);\n    _this._right = new Vector3(1, 0, 0);\n    _this._position = Vector3.Zero();\n    _this._rotation = Vector3.Zero();\n    _this._rotationQuaternion = null;\n    _this._scaling = Vector3.One();\n    _this._transformToBoneReferal = null;\n    _this._isAbsoluteSynced = false;\n    _this._billboardMode = TransformNode2.BILLBOARDMODE_NONE;\n    _this._preserveParentRotationForBillboard = false;\n    _this.scalingDeterminant = 1;\n    _this._infiniteDistance = false;\n    _this.ignoreNonUniformScaling = false;\n    _this.reIntegrateRotationIntoRotationQuaternion = false;\n    _this._poseMatrix = null;\n    _this._localMatrix = Matrix.Zero();\n    _this._usePivotMatrix = false;\n    _this._absolutePosition = Vector3.Zero();\n    _this._absoluteScaling = Vector3.Zero();\n    _this._absoluteRotationQuaternion = Quaternion.Identity();\n    _this._pivotMatrix = Matrix.Identity();\n    _this._postMultiplyPivotMatrix = false;\n    _this._isWorldMatrixFrozen = false;\n    _this._indexInSceneTransformNodesArray = -1;\n    _this.onAfterWorldMatrixUpdateObservable = new Observable();\n    _this._nonUniformScaling = false;\n    if (isPure) {\n      _this.getScene().addTransformNode(_this);\n    }\n    return _this;\n  }\n  Object.defineProperty(TransformNode2.prototype, \"billboardMode\", {\n    get: function() {\n      return this._billboardMode;\n    },\n    set: function(value) {\n      if (this._billboardMode === value) {\n        return;\n      }\n      this._billboardMode = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TransformNode2.prototype, \"preserveParentRotationForBillboard\", {\n    get: function() {\n      return this._preserveParentRotationForBillboard;\n    },\n    set: function(value) {\n      if (value === this._preserveParentRotationForBillboard) {\n        return;\n      }\n      this._preserveParentRotationForBillboard = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TransformNode2.prototype, \"infiniteDistance\", {\n    get: function() {\n      return this._infiniteDistance;\n    },\n    set: function(value) {\n      if (this._infiniteDistance === value) {\n        return;\n      }\n      this._infiniteDistance = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  TransformNode2.prototype.getClassName = function() {\n    return \"TransformNode\";\n  };\n  Object.defineProperty(TransformNode2.prototype, \"position\", {\n    get: function() {\n      return this._position;\n    },\n    set: function(newPosition) {\n      this._position = newPosition;\n      this._isDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  TransformNode2.prototype.isUsingPivotMatrix = function() {\n    return this._usePivotMatrix;\n  };\n  Object.defineProperty(TransformNode2.prototype, \"rotation\", {\n    get: function() {\n      return this._rotation;\n    },\n    set: function(newRotation) {\n      this._rotation = newRotation;\n      this._rotationQuaternion = null;\n      this._isDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TransformNode2.prototype, \"scaling\", {\n    get: function() {\n      return this._scaling;\n    },\n    set: function(newScaling) {\n      this._scaling = newScaling;\n      this._isDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TransformNode2.prototype, \"rotationQuaternion\", {\n    get: function() {\n      return this._rotationQuaternion;\n    },\n    set: function(quaternion) {\n      this._rotationQuaternion = quaternion;\n      if (quaternion) {\n        this._rotation.setAll(0);\n      }\n      this._isDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TransformNode2.prototype, \"forward\", {\n    get: function() {\n      Vector3.TransformNormalFromFloatsToRef(0, 0, this.getScene().useRightHandedSystem ? -1 : 1, this.getWorldMatrix(), this._forward);\n      return this._forward.normalize();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TransformNode2.prototype, \"up\", {\n    get: function() {\n      Vector3.TransformNormalFromFloatsToRef(0, 1, 0, this.getWorldMatrix(), this._up);\n      return this._up.normalize();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TransformNode2.prototype, \"right\", {\n    get: function() {\n      Vector3.TransformNormalFromFloatsToRef(this.getScene().useRightHandedSystem ? -1 : 1, 0, 0, this.getWorldMatrix(), this._right);\n      return this._right.normalize();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  TransformNode2.prototype.updatePoseMatrix = function(matrix) {\n    if (!this._poseMatrix) {\n      this._poseMatrix = matrix.clone();\n      return this;\n    }\n    this._poseMatrix.copyFrom(matrix);\n    return this;\n  };\n  TransformNode2.prototype.getPoseMatrix = function() {\n    if (!this._poseMatrix) {\n      this._poseMatrix = Matrix.Identity();\n    }\n    return this._poseMatrix;\n  };\n  TransformNode2.prototype._isSynchronized = function() {\n    var cache = this._cache;\n    if (this._billboardMode !== cache.billboardMode || this._billboardMode !== TransformNode2.BILLBOARDMODE_NONE) {\n      return false;\n    }\n    if (cache.pivotMatrixUpdated) {\n      return false;\n    }\n    if (this._infiniteDistance) {\n      return false;\n    }\n    if (this._position._isDirty) {\n      return false;\n    }\n    if (this._scaling._isDirty) {\n      return false;\n    }\n    if (this._rotationQuaternion && this._rotationQuaternion._isDirty || this._rotation._isDirty) {\n      return false;\n    }\n    return true;\n  };\n  TransformNode2.prototype._initCache = function() {\n    _super.prototype._initCache.call(this);\n    var cache = this._cache;\n    cache.localMatrixUpdated = false;\n    cache.billboardMode = -1;\n    cache.infiniteDistance = false;\n  };\n  Object.defineProperty(TransformNode2.prototype, \"absolutePosition\", {\n    get: function() {\n      return this.getAbsolutePosition();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TransformNode2.prototype, \"absoluteScaling\", {\n    get: function() {\n      this._syncAbsoluteScalingAndRotation();\n      return this._absoluteScaling;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TransformNode2.prototype, \"absoluteRotationQuaternion\", {\n    get: function() {\n      this._syncAbsoluteScalingAndRotation();\n      return this._absoluteRotationQuaternion;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  TransformNode2.prototype.setPreTransformMatrix = function(matrix) {\n    return this.setPivotMatrix(matrix, false);\n  };\n  TransformNode2.prototype.setPivotMatrix = function(matrix, postMultiplyPivotMatrix) {\n    if (postMultiplyPivotMatrix === void 0) {\n      postMultiplyPivotMatrix = true;\n    }\n    this._pivotMatrix.copyFrom(matrix);\n    this._usePivotMatrix = !this._pivotMatrix.isIdentity();\n    this._cache.pivotMatrixUpdated = true;\n    this._postMultiplyPivotMatrix = postMultiplyPivotMatrix;\n    if (this._postMultiplyPivotMatrix) {\n      if (!this._pivotMatrixInverse) {\n        this._pivotMatrixInverse = Matrix.Invert(this._pivotMatrix);\n      } else {\n        this._pivotMatrix.invertToRef(this._pivotMatrixInverse);\n      }\n    }\n    return this;\n  };\n  TransformNode2.prototype.getPivotMatrix = function() {\n    return this._pivotMatrix;\n  };\n  TransformNode2.prototype.instantiateHierarchy = function(newParent, options, onNewNodeCreated) {\n    if (newParent === void 0) {\n      newParent = null;\n    }\n    var clone = this.clone(\"Clone of \" + (this.name || this.id), newParent || this.parent, true);\n    if (clone) {\n      if (onNewNodeCreated) {\n        onNewNodeCreated(this, clone);\n      }\n    }\n    for (var _i = 0, _a = this.getChildTransformNodes(true); _i < _a.length; _i++) {\n      var child = _a[_i];\n      child.instantiateHierarchy(clone, options, onNewNodeCreated);\n    }\n    return clone;\n  };\n  TransformNode2.prototype.freezeWorldMatrix = function(newWorldMatrix, decompose) {\n    if (newWorldMatrix === void 0) {\n      newWorldMatrix = null;\n    }\n    if (decompose === void 0) {\n      decompose = false;\n    }\n    if (newWorldMatrix) {\n      if (decompose) {\n        this._rotation.setAll(0);\n        this._rotationQuaternion = this._rotationQuaternion || Quaternion.Identity();\n        newWorldMatrix.decompose(this._scaling, this._rotationQuaternion, this._position);\n        this.computeWorldMatrix(true);\n      } else {\n        this._worldMatrix = newWorldMatrix;\n        this._absolutePosition.copyFromFloats(this._worldMatrix.m[12], this._worldMatrix.m[13], this._worldMatrix.m[14]);\n        this._afterComputeWorldMatrix();\n      }\n    } else {\n      this._isWorldMatrixFrozen = false;\n      this.computeWorldMatrix(true);\n    }\n    this._isDirty = false;\n    this._isWorldMatrixFrozen = true;\n    return this;\n  };\n  TransformNode2.prototype.unfreezeWorldMatrix = function() {\n    this._isWorldMatrixFrozen = false;\n    this.computeWorldMatrix(true);\n    return this;\n  };\n  Object.defineProperty(TransformNode2.prototype, \"isWorldMatrixFrozen\", {\n    get: function() {\n      return this._isWorldMatrixFrozen;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  TransformNode2.prototype.getAbsolutePosition = function() {\n    this.computeWorldMatrix();\n    return this._absolutePosition;\n  };\n  TransformNode2.prototype.setAbsolutePosition = function(absolutePosition) {\n    if (!absolutePosition) {\n      return this;\n    }\n    var absolutePositionX;\n    var absolutePositionY;\n    var absolutePositionZ;\n    if (absolutePosition.x === void 0) {\n      if (arguments.length < 3) {\n        return this;\n      }\n      absolutePositionX = arguments[0];\n      absolutePositionY = arguments[1];\n      absolutePositionZ = arguments[2];\n    } else {\n      absolutePositionX = absolutePosition.x;\n      absolutePositionY = absolutePosition.y;\n      absolutePositionZ = absolutePosition.z;\n    }\n    if (this.parent) {\n      var invertParentWorldMatrix = TmpVectors.Matrix[0];\n      this.parent.getWorldMatrix().invertToRef(invertParentWorldMatrix);\n      Vector3.TransformCoordinatesFromFloatsToRef(absolutePositionX, absolutePositionY, absolutePositionZ, invertParentWorldMatrix, this.position);\n    } else {\n      this.position.x = absolutePositionX;\n      this.position.y = absolutePositionY;\n      this.position.z = absolutePositionZ;\n    }\n    this._absolutePosition.copyFrom(absolutePosition);\n    return this;\n  };\n  TransformNode2.prototype.setPositionWithLocalVector = function(vector3) {\n    this.computeWorldMatrix();\n    this.position = Vector3.TransformNormal(vector3, this._localMatrix);\n    return this;\n  };\n  TransformNode2.prototype.getPositionExpressedInLocalSpace = function() {\n    this.computeWorldMatrix();\n    var invLocalWorldMatrix = TmpVectors.Matrix[0];\n    this._localMatrix.invertToRef(invLocalWorldMatrix);\n    return Vector3.TransformNormal(this.position, invLocalWorldMatrix);\n  };\n  TransformNode2.prototype.locallyTranslate = function(vector3) {\n    this.computeWorldMatrix(true);\n    this.position = Vector3.TransformCoordinates(vector3, this._localMatrix);\n    return this;\n  };\n  TransformNode2.prototype.lookAt = function(targetPoint, yawCor, pitchCor, rollCor, space) {\n    if (yawCor === void 0) {\n      yawCor = 0;\n    }\n    if (pitchCor === void 0) {\n      pitchCor = 0;\n    }\n    if (rollCor === void 0) {\n      rollCor = 0;\n    }\n    if (space === void 0) {\n      space = Space.LOCAL;\n    }\n    var dv = TransformNode2._LookAtVectorCache;\n    var pos = space === Space.LOCAL ? this.position : this.getAbsolutePosition();\n    targetPoint.subtractToRef(pos, dv);\n    this.setDirection(dv, yawCor, pitchCor, rollCor);\n    if (space === Space.WORLD && this.parent) {\n      if (this.rotationQuaternion) {\n        var rotationMatrix = TmpVectors.Matrix[0];\n        this.rotationQuaternion.toRotationMatrix(rotationMatrix);\n        var parentRotationMatrix = TmpVectors.Matrix[1];\n        this.parent.getWorldMatrix().getRotationMatrixToRef(parentRotationMatrix);\n        parentRotationMatrix.invert();\n        rotationMatrix.multiplyToRef(parentRotationMatrix, rotationMatrix);\n        this.rotationQuaternion.fromRotationMatrix(rotationMatrix);\n      } else {\n        var quaternionRotation = TmpVectors.Quaternion[0];\n        Quaternion.FromEulerVectorToRef(this.rotation, quaternionRotation);\n        var rotationMatrix = TmpVectors.Matrix[0];\n        quaternionRotation.toRotationMatrix(rotationMatrix);\n        var parentRotationMatrix = TmpVectors.Matrix[1];\n        this.parent.getWorldMatrix().getRotationMatrixToRef(parentRotationMatrix);\n        parentRotationMatrix.invert();\n        rotationMatrix.multiplyToRef(parentRotationMatrix, rotationMatrix);\n        quaternionRotation.fromRotationMatrix(rotationMatrix);\n        quaternionRotation.toEulerAnglesToRef(this.rotation);\n      }\n    }\n    return this;\n  };\n  TransformNode2.prototype.getDirection = function(localAxis) {\n    var result = Vector3.Zero();\n    this.getDirectionToRef(localAxis, result);\n    return result;\n  };\n  TransformNode2.prototype.getDirectionToRef = function(localAxis, result) {\n    Vector3.TransformNormalToRef(localAxis, this.getWorldMatrix(), result);\n    return this;\n  };\n  TransformNode2.prototype.setDirection = function(localAxis, yawCor, pitchCor, rollCor) {\n    if (yawCor === void 0) {\n      yawCor = 0;\n    }\n    if (pitchCor === void 0) {\n      pitchCor = 0;\n    }\n    if (rollCor === void 0) {\n      rollCor = 0;\n    }\n    var yaw = -Math.atan2(localAxis.z, localAxis.x) + Math.PI / 2;\n    var len = Math.sqrt(localAxis.x * localAxis.x + localAxis.z * localAxis.z);\n    var pitch = -Math.atan2(localAxis.y, len);\n    if (this.rotationQuaternion) {\n      Quaternion.RotationYawPitchRollToRef(yaw + yawCor, pitch + pitchCor, rollCor, this.rotationQuaternion);\n    } else {\n      this.rotation.x = pitch + pitchCor;\n      this.rotation.y = yaw + yawCor;\n      this.rotation.z = rollCor;\n    }\n    return this;\n  };\n  TransformNode2.prototype.setPivotPoint = function(point, space) {\n    if (space === void 0) {\n      space = Space.LOCAL;\n    }\n    if (this.getScene().getRenderId() == 0) {\n      this.computeWorldMatrix(true);\n    }\n    var wm = this.getWorldMatrix();\n    if (space == Space.WORLD) {\n      var tmat = TmpVectors.Matrix[0];\n      wm.invertToRef(tmat);\n      point = Vector3.TransformCoordinates(point, tmat);\n    }\n    return this.setPivotMatrix(Matrix.Translation(-point.x, -point.y, -point.z), true);\n  };\n  TransformNode2.prototype.getPivotPoint = function() {\n    var point = Vector3.Zero();\n    this.getPivotPointToRef(point);\n    return point;\n  };\n  TransformNode2.prototype.getPivotPointToRef = function(result) {\n    result.x = -this._pivotMatrix.m[12];\n    result.y = -this._pivotMatrix.m[13];\n    result.z = -this._pivotMatrix.m[14];\n    return this;\n  };\n  TransformNode2.prototype.getAbsolutePivotPoint = function() {\n    var point = Vector3.Zero();\n    this.getAbsolutePivotPointToRef(point);\n    return point;\n  };\n  TransformNode2.prototype.getAbsolutePivotPointToRef = function(result) {\n    this.getPivotPointToRef(result);\n    Vector3.TransformCoordinatesToRef(result, this.getWorldMatrix(), result);\n    return this;\n  };\n  TransformNode2.prototype.markAsDirty = function(property) {\n    if (this._children) {\n      for (var _i = 0, _a = this._children; _i < _a.length; _i++) {\n        var child = _a[_i];\n        child.markAsDirty(property);\n      }\n    }\n    return _super.prototype.markAsDirty.call(this, property);\n  };\n  TransformNode2.prototype.setParent = function(node, preserveScalingSign) {\n    if (preserveScalingSign === void 0) {\n      preserveScalingSign = false;\n    }\n    if (!node && !this.parent) {\n      return this;\n    }\n    var quatRotation = TmpVectors.Quaternion[0];\n    var position = TmpVectors.Vector3[0];\n    var scale = TmpVectors.Vector3[1];\n    var invParentMatrix = TmpVectors.Matrix[1];\n    Matrix.IdentityToRef(invParentMatrix);\n    var composedMatrix = TmpVectors.Matrix[0];\n    this.computeWorldMatrix(true);\n    var currentRotation = this.rotationQuaternion;\n    if (!currentRotation) {\n      currentRotation = TransformNode2._TmpRotation;\n      Quaternion.RotationYawPitchRollToRef(this._rotation.y, this._rotation.x, this._rotation.z, currentRotation);\n    }\n    Matrix.ComposeToRef(this.scaling, currentRotation, this.position, composedMatrix);\n    if (this.parent) {\n      composedMatrix.multiplyToRef(this.parent.computeWorldMatrix(true), composedMatrix);\n    }\n    if (node) {\n      node.computeWorldMatrix(true).invertToRef(invParentMatrix);\n      composedMatrix.multiplyToRef(invParentMatrix, composedMatrix);\n    }\n    composedMatrix.decompose(scale, quatRotation, position, preserveScalingSign ? this : void 0);\n    if (this.rotationQuaternion) {\n      this.rotationQuaternion.copyFrom(quatRotation);\n    } else {\n      quatRotation.toEulerAnglesToRef(this.rotation);\n    }\n    this.scaling.copyFrom(scale);\n    this.position.copyFrom(position);\n    this.parent = node;\n    return this;\n  };\n  Object.defineProperty(TransformNode2.prototype, \"nonUniformScaling\", {\n    get: function() {\n      return this._nonUniformScaling;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  TransformNode2.prototype._updateNonUniformScalingState = function(value) {\n    if (this._nonUniformScaling === value) {\n      return false;\n    }\n    this._nonUniformScaling = value;\n    return true;\n  };\n  TransformNode2.prototype.attachToBone = function(bone, affectedTransformNode) {\n    this._currentParentWhenAttachingToBone = this.parent;\n    this._transformToBoneReferal = affectedTransformNode;\n    this.parent = bone;\n    bone.getSkeleton().prepare();\n    if (bone.getWorldMatrix().determinant() < 0) {\n      this.scalingDeterminant *= -1;\n    }\n    return this;\n  };\n  TransformNode2.prototype.detachFromBone = function(resetToPreviousParent) {\n    if (resetToPreviousParent === void 0) {\n      resetToPreviousParent = false;\n    }\n    if (!this.parent) {\n      if (resetToPreviousParent) {\n        this.parent = this._currentParentWhenAttachingToBone;\n      }\n      return this;\n    }\n    if (this.parent.getWorldMatrix().determinant() < 0) {\n      this.scalingDeterminant *= -1;\n    }\n    this._transformToBoneReferal = null;\n    if (resetToPreviousParent) {\n      this.parent = this._currentParentWhenAttachingToBone;\n    } else {\n      this.parent = null;\n    }\n    return this;\n  };\n  TransformNode2.prototype.rotate = function(axis, amount, space) {\n    axis.normalize();\n    if (!this.rotationQuaternion) {\n      this.rotationQuaternion = this.rotation.toQuaternion();\n      this.rotation.setAll(0);\n    }\n    var rotationQuaternion;\n    if (!space || space === Space.LOCAL) {\n      rotationQuaternion = Quaternion.RotationAxisToRef(axis, amount, TransformNode2._RotationAxisCache);\n      this.rotationQuaternion.multiplyToRef(rotationQuaternion, this.rotationQuaternion);\n    } else {\n      if (this.parent) {\n        var invertParentWorldMatrix = TmpVectors.Matrix[0];\n        this.parent.getWorldMatrix().invertToRef(invertParentWorldMatrix);\n        axis = Vector3.TransformNormal(axis, invertParentWorldMatrix);\n      }\n      rotationQuaternion = Quaternion.RotationAxisToRef(axis, amount, TransformNode2._RotationAxisCache);\n      rotationQuaternion.multiplyToRef(this.rotationQuaternion, this.rotationQuaternion);\n    }\n    return this;\n  };\n  TransformNode2.prototype.rotateAround = function(point, axis, amount) {\n    axis.normalize();\n    if (!this.rotationQuaternion) {\n      this.rotationQuaternion = Quaternion.RotationYawPitchRoll(this.rotation.y, this.rotation.x, this.rotation.z);\n      this.rotation.setAll(0);\n    }\n    var tmpVector = TmpVectors.Vector3[0];\n    var finalScale = TmpVectors.Vector3[1];\n    var finalTranslation = TmpVectors.Vector3[2];\n    var finalRotation = TmpVectors.Quaternion[0];\n    var translationMatrix = TmpVectors.Matrix[0];\n    var translationMatrixInv = TmpVectors.Matrix[1];\n    var rotationMatrix = TmpVectors.Matrix[2];\n    var finalMatrix = TmpVectors.Matrix[3];\n    point.subtractToRef(this.position, tmpVector);\n    Matrix.TranslationToRef(tmpVector.x, tmpVector.y, tmpVector.z, translationMatrix);\n    Matrix.TranslationToRef(-tmpVector.x, -tmpVector.y, -tmpVector.z, translationMatrixInv);\n    Matrix.RotationAxisToRef(axis, amount, rotationMatrix);\n    translationMatrixInv.multiplyToRef(rotationMatrix, finalMatrix);\n    finalMatrix.multiplyToRef(translationMatrix, finalMatrix);\n    finalMatrix.decompose(finalScale, finalRotation, finalTranslation);\n    this.position.addInPlace(finalTranslation);\n    finalRotation.multiplyToRef(this.rotationQuaternion, this.rotationQuaternion);\n    return this;\n  };\n  TransformNode2.prototype.translate = function(axis, distance, space) {\n    var displacementVector = axis.scale(distance);\n    if (!space || space === Space.LOCAL) {\n      var tempV3 = this.getPositionExpressedInLocalSpace().add(displacementVector);\n      this.setPositionWithLocalVector(tempV3);\n    } else {\n      this.setAbsolutePosition(this.getAbsolutePosition().add(displacementVector));\n    }\n    return this;\n  };\n  TransformNode2.prototype.addRotation = function(x, y, z) {\n    var rotationQuaternion;\n    if (this.rotationQuaternion) {\n      rotationQuaternion = this.rotationQuaternion;\n    } else {\n      rotationQuaternion = TmpVectors.Quaternion[1];\n      Quaternion.RotationYawPitchRollToRef(this.rotation.y, this.rotation.x, this.rotation.z, rotationQuaternion);\n    }\n    var accumulation = TmpVectors.Quaternion[0];\n    Quaternion.RotationYawPitchRollToRef(y, x, z, accumulation);\n    rotationQuaternion.multiplyInPlace(accumulation);\n    if (!this.rotationQuaternion) {\n      rotationQuaternion.toEulerAnglesToRef(this.rotation);\n    }\n    return this;\n  };\n  TransformNode2.prototype._getEffectiveParent = function() {\n    return this.parent;\n  };\n  TransformNode2.prototype.computeWorldMatrix = function(force) {\n    if (this._isWorldMatrixFrozen && !this._isDirty) {\n      return this._worldMatrix;\n    }\n    var currentRenderId = this.getScene().getRenderId();\n    if (!this._isDirty && !force && (this._currentRenderId === currentRenderId || this.isSynchronized())) {\n      this._currentRenderId = currentRenderId;\n      return this._worldMatrix;\n    }\n    var camera = this.getScene().activeCamera;\n    var useBillboardPosition = (this._billboardMode & TransformNode2.BILLBOARDMODE_USE_POSITION) !== 0;\n    var useBillboardPath = this._billboardMode !== TransformNode2.BILLBOARDMODE_NONE && !this.preserveParentRotationForBillboard;\n    this._updateCache();\n    var cache = this._cache;\n    cache.pivotMatrixUpdated = false;\n    cache.billboardMode = this.billboardMode;\n    cache.infiniteDistance = this.infiniteDistance;\n    cache.parent = this._parentNode;\n    this._currentRenderId = currentRenderId;\n    this._childUpdateId += 1;\n    this._isDirty = false;\n    this._position._isDirty = false;\n    this._rotation._isDirty = false;\n    this._scaling._isDirty = false;\n    var parent = this._getEffectiveParent();\n    var scaling = TransformNode2._TmpScaling;\n    var translation = this._position;\n    if (this._infiniteDistance) {\n      if (!this.parent && camera) {\n        var cameraWorldMatrix = camera.getWorldMatrix();\n        var cameraGlobalPosition = new Vector3(cameraWorldMatrix.m[12], cameraWorldMatrix.m[13], cameraWorldMatrix.m[14]);\n        translation = TransformNode2._TmpTranslation;\n        translation.copyFromFloats(this._position.x + cameraGlobalPosition.x, this._position.y + cameraGlobalPosition.y, this._position.z + cameraGlobalPosition.z);\n      }\n    }\n    scaling.copyFromFloats(this._scaling.x * this.scalingDeterminant, this._scaling.y * this.scalingDeterminant, this._scaling.z * this.scalingDeterminant);\n    var rotation;\n    if (this._rotationQuaternion) {\n      this._rotationQuaternion._isDirty = false;\n      rotation = this._rotationQuaternion;\n      if (this.reIntegrateRotationIntoRotationQuaternion) {\n        var len = this.rotation.lengthSquared();\n        if (len) {\n          this._rotationQuaternion.multiplyInPlace(Quaternion.RotationYawPitchRoll(this._rotation.y, this._rotation.x, this._rotation.z));\n          this._rotation.copyFromFloats(0, 0, 0);\n        }\n      }\n    } else {\n      rotation = TransformNode2._TmpRotation;\n      Quaternion.RotationYawPitchRollToRef(this._rotation.y, this._rotation.x, this._rotation.z, rotation);\n    }\n    if (this._usePivotMatrix) {\n      var scaleMatrix = TmpVectors.Matrix[1];\n      Matrix.ScalingToRef(scaling.x, scaling.y, scaling.z, scaleMatrix);\n      var rotationMatrix = TmpVectors.Matrix[0];\n      rotation.toRotationMatrix(rotationMatrix);\n      this._pivotMatrix.multiplyToRef(scaleMatrix, TmpVectors.Matrix[4]);\n      TmpVectors.Matrix[4].multiplyToRef(rotationMatrix, this._localMatrix);\n      if (this._postMultiplyPivotMatrix) {\n        this._localMatrix.multiplyToRef(this._pivotMatrixInverse, this._localMatrix);\n      }\n      this._localMatrix.addTranslationFromFloats(translation.x, translation.y, translation.z);\n    } else {\n      Matrix.ComposeToRef(scaling, rotation, translation, this._localMatrix);\n    }\n    if (parent && parent.getWorldMatrix) {\n      if (force) {\n        parent.computeWorldMatrix(force);\n      }\n      if (useBillboardPath) {\n        if (this._transformToBoneReferal) {\n          parent.getWorldMatrix().multiplyToRef(this._transformToBoneReferal.getWorldMatrix(), TmpVectors.Matrix[7]);\n        } else {\n          TmpVectors.Matrix[7].copyFrom(parent.getWorldMatrix());\n        }\n        var translation_1 = TmpVectors.Vector3[5];\n        var scale = TmpVectors.Vector3[6];\n        TmpVectors.Matrix[7].decompose(scale, void 0, translation_1);\n        Matrix.ScalingToRef(scale.x, scale.y, scale.z, TmpVectors.Matrix[7]);\n        TmpVectors.Matrix[7].setTranslation(translation_1);\n        this._localMatrix.multiplyToRef(TmpVectors.Matrix[7], this._worldMatrix);\n      } else {\n        if (this._transformToBoneReferal) {\n          this._localMatrix.multiplyToRef(parent.getWorldMatrix(), TmpVectors.Matrix[6]);\n          TmpVectors.Matrix[6].multiplyToRef(this._transformToBoneReferal.getWorldMatrix(), this._worldMatrix);\n        } else {\n          this._localMatrix.multiplyToRef(parent.getWorldMatrix(), this._worldMatrix);\n        }\n      }\n      this._markSyncedWithParent();\n    } else {\n      this._worldMatrix.copyFrom(this._localMatrix);\n    }\n    if (useBillboardPath && camera && this.billboardMode && !useBillboardPosition) {\n      var storedTranslation = TmpVectors.Vector3[0];\n      this._worldMatrix.getTranslationToRef(storedTranslation);\n      TmpVectors.Matrix[1].copyFrom(camera.getViewMatrix());\n      TmpVectors.Matrix[1].setTranslationFromFloats(0, 0, 0);\n      TmpVectors.Matrix[1].invertToRef(TmpVectors.Matrix[0]);\n      if ((this.billboardMode & TransformNode2.BILLBOARDMODE_ALL) !== TransformNode2.BILLBOARDMODE_ALL) {\n        TmpVectors.Matrix[0].decompose(void 0, TmpVectors.Quaternion[0], void 0);\n        var eulerAngles = TmpVectors.Vector3[1];\n        TmpVectors.Quaternion[0].toEulerAnglesToRef(eulerAngles);\n        if ((this.billboardMode & TransformNode2.BILLBOARDMODE_X) !== TransformNode2.BILLBOARDMODE_X) {\n          eulerAngles.x = 0;\n        }\n        if ((this.billboardMode & TransformNode2.BILLBOARDMODE_Y) !== TransformNode2.BILLBOARDMODE_Y) {\n          eulerAngles.y = 0;\n        }\n        if ((this.billboardMode & TransformNode2.BILLBOARDMODE_Z) !== TransformNode2.BILLBOARDMODE_Z) {\n          eulerAngles.z = 0;\n        }\n        Matrix.RotationYawPitchRollToRef(eulerAngles.y, eulerAngles.x, eulerAngles.z, TmpVectors.Matrix[0]);\n      }\n      this._worldMatrix.setTranslationFromFloats(0, 0, 0);\n      this._worldMatrix.multiplyToRef(TmpVectors.Matrix[0], this._worldMatrix);\n      this._worldMatrix.setTranslation(TmpVectors.Vector3[0]);\n    } else if (useBillboardPath && camera && this.billboardMode && useBillboardPosition) {\n      var storedTranslation = TmpVectors.Vector3[0];\n      this._worldMatrix.getTranslationToRef(storedTranslation);\n      var cameraPosition = camera.globalPosition;\n      this._worldMatrix.invertToRef(TmpVectors.Matrix[1]);\n      var camInObjSpace = TmpVectors.Vector3[1];\n      Vector3.TransformCoordinatesToRef(cameraPosition, TmpVectors.Matrix[1], camInObjSpace);\n      camInObjSpace.normalize();\n      var yaw = -Math.atan2(camInObjSpace.z, camInObjSpace.x) + Math.PI / 2;\n      var len = Math.sqrt(camInObjSpace.x * camInObjSpace.x + camInObjSpace.z * camInObjSpace.z);\n      var pitch = -Math.atan2(camInObjSpace.y, len);\n      Quaternion.RotationYawPitchRollToRef(yaw, pitch, 0, TmpVectors.Quaternion[0]);\n      if ((this.billboardMode & TransformNode2.BILLBOARDMODE_ALL) !== TransformNode2.BILLBOARDMODE_ALL) {\n        var eulerAngles = TmpVectors.Vector3[1];\n        TmpVectors.Quaternion[0].toEulerAnglesToRef(eulerAngles);\n        if ((this.billboardMode & TransformNode2.BILLBOARDMODE_X) !== TransformNode2.BILLBOARDMODE_X) {\n          eulerAngles.x = 0;\n        }\n        if ((this.billboardMode & TransformNode2.BILLBOARDMODE_Y) !== TransformNode2.BILLBOARDMODE_Y) {\n          eulerAngles.y = 0;\n        }\n        if ((this.billboardMode & TransformNode2.BILLBOARDMODE_Z) !== TransformNode2.BILLBOARDMODE_Z) {\n          eulerAngles.z = 0;\n        }\n        Matrix.RotationYawPitchRollToRef(eulerAngles.y, eulerAngles.x, eulerAngles.z, TmpVectors.Matrix[0]);\n      } else {\n        Matrix.FromQuaternionToRef(TmpVectors.Quaternion[0], TmpVectors.Matrix[0]);\n      }\n      this._worldMatrix.setTranslationFromFloats(0, 0, 0);\n      this._worldMatrix.multiplyToRef(TmpVectors.Matrix[0], this._worldMatrix);\n      this._worldMatrix.setTranslation(TmpVectors.Vector3[0]);\n    }\n    if (!this.ignoreNonUniformScaling) {\n      if (this._scaling.isNonUniformWithinEpsilon(1e-6)) {\n        this._updateNonUniformScalingState(true);\n      } else if (parent && parent._nonUniformScaling) {\n        this._updateNonUniformScalingState(parent._nonUniformScaling);\n      } else {\n        this._updateNonUniformScalingState(false);\n      }\n    } else {\n      this._updateNonUniformScalingState(false);\n    }\n    this._afterComputeWorldMatrix();\n    this._absolutePosition.copyFromFloats(this._worldMatrix.m[12], this._worldMatrix.m[13], this._worldMatrix.m[14]);\n    this._isAbsoluteSynced = false;\n    this.onAfterWorldMatrixUpdateObservable.notifyObservers(this);\n    if (!this._poseMatrix) {\n      this._poseMatrix = Matrix.Invert(this._worldMatrix);\n    }\n    this._worldMatrixDeterminantIsDirty = true;\n    return this._worldMatrix;\n  };\n  TransformNode2.prototype.resetLocalMatrix = function(independentOfChildren) {\n    if (independentOfChildren === void 0) {\n      independentOfChildren = true;\n    }\n    this.computeWorldMatrix();\n    if (independentOfChildren) {\n      var children = this.getChildren();\n      for (var i = 0; i < children.length; ++i) {\n        var child = children[i];\n        if (child) {\n          child.computeWorldMatrix();\n          var bakedMatrix = TmpVectors.Matrix[0];\n          child._localMatrix.multiplyToRef(this._localMatrix, bakedMatrix);\n          var tmpRotationQuaternion = TmpVectors.Quaternion[0];\n          bakedMatrix.decompose(child.scaling, tmpRotationQuaternion, child.position);\n          if (child.rotationQuaternion) {\n            child.rotationQuaternion.copyFrom(tmpRotationQuaternion);\n          } else {\n            tmpRotationQuaternion.toEulerAnglesToRef(child.rotation);\n          }\n        }\n      }\n    }\n    this.scaling.copyFromFloats(1, 1, 1);\n    this.position.copyFromFloats(0, 0, 0);\n    this.rotation.copyFromFloats(0, 0, 0);\n    if (this.rotationQuaternion) {\n      this.rotationQuaternion = Quaternion.Identity();\n    }\n    this._worldMatrix = Matrix.Identity();\n  };\n  TransformNode2.prototype._afterComputeWorldMatrix = function() {\n  };\n  TransformNode2.prototype.registerAfterWorldMatrixUpdate = function(func) {\n    this.onAfterWorldMatrixUpdateObservable.add(func);\n    return this;\n  };\n  TransformNode2.prototype.unregisterAfterWorldMatrixUpdate = function(func) {\n    this.onAfterWorldMatrixUpdateObservable.removeCallback(func);\n    return this;\n  };\n  TransformNode2.prototype.getPositionInCameraSpace = function(camera) {\n    if (camera === void 0) {\n      camera = null;\n    }\n    if (!camera) {\n      camera = this.getScene().activeCamera;\n    }\n    return Vector3.TransformCoordinates(this.getAbsolutePosition(), camera.getViewMatrix());\n  };\n  TransformNode2.prototype.getDistanceToCamera = function(camera) {\n    if (camera === void 0) {\n      camera = null;\n    }\n    if (!camera) {\n      camera = this.getScene().activeCamera;\n    }\n    return this.getAbsolutePosition().subtract(camera.globalPosition).length();\n  };\n  TransformNode2.prototype.clone = function(name2, newParent, doNotCloneChildren) {\n    var _this = this;\n    var result = SerializationHelper.Clone(function() {\n      return new TransformNode2(name2, _this.getScene());\n    }, this);\n    result.name = name2;\n    result.id = name2;\n    if (newParent) {\n      result.parent = newParent;\n    }\n    if (!doNotCloneChildren) {\n      var directDescendants = this.getDescendants(true);\n      for (var index = 0; index < directDescendants.length; index++) {\n        var child = directDescendants[index];\n        if (child.clone) {\n          child.clone(name2 + \".\" + child.name, result);\n        }\n      }\n    }\n    return result;\n  };\n  TransformNode2.prototype.serialize = function(currentSerializationObject) {\n    var serializationObject = SerializationHelper.Serialize(this, currentSerializationObject);\n    serializationObject.type = this.getClassName();\n    serializationObject.uniqueId = this.uniqueId;\n    if (this.parent) {\n      serializationObject.parentId = this.parent.uniqueId;\n    }\n    serializationObject.localMatrix = this.getPivotMatrix().asArray();\n    serializationObject.isEnabled = this.isEnabled();\n    if (this.parent) {\n      serializationObject.parentId = this.parent.uniqueId;\n    }\n    return serializationObject;\n  };\n  TransformNode2.Parse = function(parsedTransformNode, scene, rootUrl) {\n    var transformNode = SerializationHelper.Parse(function() {\n      return new TransformNode2(parsedTransformNode.name, scene);\n    }, parsedTransformNode, scene, rootUrl);\n    if (parsedTransformNode.localMatrix) {\n      transformNode.setPreTransformMatrix(Matrix.FromArray(parsedTransformNode.localMatrix));\n    } else if (parsedTransformNode.pivotMatrix) {\n      transformNode.setPivotMatrix(Matrix.FromArray(parsedTransformNode.pivotMatrix));\n    }\n    transformNode.setEnabled(parsedTransformNode.isEnabled);\n    if (parsedTransformNode.parentId !== void 0) {\n      transformNode._waitingParentId = parsedTransformNode.parentId;\n    }\n    return transformNode;\n  };\n  TransformNode2.prototype.getChildTransformNodes = function(directDescendantsOnly, predicate) {\n    var results = [];\n    this._getDescendants(results, directDescendantsOnly, function(node) {\n      return (!predicate || predicate(node)) && node instanceof TransformNode2;\n    });\n    return results;\n  };\n  TransformNode2.prototype.dispose = function(doNotRecurse, disposeMaterialAndTextures) {\n    if (disposeMaterialAndTextures === void 0) {\n      disposeMaterialAndTextures = false;\n    }\n    this.getScene().stopAnimation(this);\n    this.getScene().removeTransformNode(this);\n    if (this._parentContainer) {\n      var index = this._parentContainer.transformNodes.indexOf(this);\n      if (index > -1) {\n        this._parentContainer.transformNodes.splice(index, 1);\n      }\n      this._parentContainer = null;\n    }\n    this.onAfterWorldMatrixUpdateObservable.clear();\n    if (doNotRecurse) {\n      var transformNodes = this.getChildTransformNodes(true);\n      for (var _i = 0, transformNodes_1 = transformNodes; _i < transformNodes_1.length; _i++) {\n        var transformNode = transformNodes_1[_i];\n        transformNode.parent = null;\n        transformNode.computeWorldMatrix(true);\n      }\n    }\n    _super.prototype.dispose.call(this, doNotRecurse, disposeMaterialAndTextures);\n  };\n  TransformNode2.prototype.normalizeToUnitCube = function(includeDescendants, ignoreRotation, predicate) {\n    if (includeDescendants === void 0) {\n      includeDescendants = true;\n    }\n    if (ignoreRotation === void 0) {\n      ignoreRotation = false;\n    }\n    var storedRotation = null;\n    var storedRotationQuaternion = null;\n    if (ignoreRotation) {\n      if (this.rotationQuaternion) {\n        storedRotationQuaternion = this.rotationQuaternion.clone();\n        this.rotationQuaternion.copyFromFloats(0, 0, 0, 1);\n      } else if (this.rotation) {\n        storedRotation = this.rotation.clone();\n        this.rotation.copyFromFloats(0, 0, 0);\n      }\n    }\n    var boundingVectors = this.getHierarchyBoundingVectors(includeDescendants, predicate);\n    var sizeVec = boundingVectors.max.subtract(boundingVectors.min);\n    var maxDimension = Math.max(sizeVec.x, sizeVec.y, sizeVec.z);\n    if (maxDimension === 0) {\n      return this;\n    }\n    var scale = 1 / maxDimension;\n    this.scaling.scaleInPlace(scale);\n    if (ignoreRotation) {\n      if (this.rotationQuaternion && storedRotationQuaternion) {\n        this.rotationQuaternion.copyFrom(storedRotationQuaternion);\n      } else if (this.rotation && storedRotation) {\n        this.rotation.copyFrom(storedRotation);\n      }\n    }\n    return this;\n  };\n  TransformNode2.prototype._syncAbsoluteScalingAndRotation = function() {\n    if (!this._isAbsoluteSynced) {\n      this._worldMatrix.decompose(this._absoluteScaling, this._absoluteRotationQuaternion);\n      this._isAbsoluteSynced = true;\n    }\n  };\n  TransformNode2.BILLBOARDMODE_NONE = 0;\n  TransformNode2.BILLBOARDMODE_X = 1;\n  TransformNode2.BILLBOARDMODE_Y = 2;\n  TransformNode2.BILLBOARDMODE_Z = 4;\n  TransformNode2.BILLBOARDMODE_ALL = 7;\n  TransformNode2.BILLBOARDMODE_USE_POSITION = 128;\n  TransformNode2._TmpRotation = Quaternion.Zero();\n  TransformNode2._TmpScaling = Vector3.Zero();\n  TransformNode2._TmpTranslation = Vector3.Zero();\n  TransformNode2._LookAtVectorCache = new Vector3(0, 0, 0);\n  TransformNode2._RotationAxisCache = new Quaternion();\n  __decorate([\n    serializeAsVector3(\"position\")\n  ], TransformNode2.prototype, \"_position\", void 0);\n  __decorate([\n    serializeAsVector3(\"rotation\")\n  ], TransformNode2.prototype, \"_rotation\", void 0);\n  __decorate([\n    serializeAsQuaternion(\"rotationQuaternion\")\n  ], TransformNode2.prototype, \"_rotationQuaternion\", void 0);\n  __decorate([\n    serializeAsVector3(\"scaling\")\n  ], TransformNode2.prototype, \"_scaling\", void 0);\n  __decorate([\n    serialize(\"billboardMode\")\n  ], TransformNode2.prototype, \"_billboardMode\", void 0);\n  __decorate([\n    serialize()\n  ], TransformNode2.prototype, \"scalingDeterminant\", void 0);\n  __decorate([\n    serialize(\"infiniteDistance\")\n  ], TransformNode2.prototype, \"_infiniteDistance\", void 0);\n  __decorate([\n    serialize()\n  ], TransformNode2.prototype, \"ignoreNonUniformScaling\", void 0);\n  __decorate([\n    serialize()\n  ], TransformNode2.prototype, \"reIntegrateRotationIntoRotationQuaternion\", void 0);\n  return TransformNode2;\n}(Node);\nvar _MeshCollisionData = function() {\n  function _MeshCollisionData2() {\n    this._checkCollisions = false;\n    this._collisionMask = -1;\n    this._collisionGroup = -1;\n    this._surroundingMeshes = null;\n    this._collider = null;\n    this._oldPositionForCollisions = new Vector3(0, 0, 0);\n    this._diffPositionForCollisions = new Vector3(0, 0, 0);\n    this._collisionResponse = true;\n  }\n  return _MeshCollisionData2;\n}();\nvar _FacetDataStorage = function() {\n  function _FacetDataStorage2() {\n    this.facetNb = 0;\n    this.partitioningSubdivisions = 10;\n    this.partitioningBBoxRatio = 1.01;\n    this.facetDataEnabled = false;\n    this.facetParameters = {};\n    this.bbSize = Vector3.Zero();\n    this.subDiv = {\n      max: 1,\n      X: 1,\n      Y: 1,\n      Z: 1\n    };\n    this.facetDepthSort = false;\n    this.facetDepthSortEnabled = false;\n  }\n  return _FacetDataStorage2;\n}();\nvar _InternalAbstractMeshDataInfo = function() {\n  function _InternalAbstractMeshDataInfo2() {\n    this._hasVertexAlpha = false;\n    this._useVertexColors = true;\n    this._numBoneInfluencers = 4;\n    this._applyFog = true;\n    this._receiveShadows = false;\n    this._facetData = new _FacetDataStorage();\n    this._visibility = 1;\n    this._skeleton = null;\n    this._layerMask = 268435455;\n    this._computeBonesUsingShaders = true;\n    this._isActive = false;\n    this._onlyForInstances = false;\n    this._isActiveIntermediate = false;\n    this._onlyForInstancesIntermediate = false;\n    this._actAsRegularMesh = false;\n    this._currentLOD = null;\n    this._currentLODIsUpToDate = false;\n    this._collisionRetryCount = 3;\n    this._morphTargetManager = null;\n    this._renderingGroupId = 0;\n    this._bakedVertexAnimationManager = null;\n    this._material = null;\n    this._positions = null;\n    this._meshCollisionData = new _MeshCollisionData();\n    this._enableDistantPicking = false;\n  }\n  return _InternalAbstractMeshDataInfo2;\n}();\nvar AbstractMesh = function(_super) {\n  __extends(AbstractMesh2, _super);\n  function AbstractMesh2(name2, scene) {\n    if (scene === void 0) {\n      scene = null;\n    }\n    var _this = _super.call(this, name2, scene, false) || this;\n    _this._internalAbstractMeshDataInfo = new _InternalAbstractMeshDataInfo();\n    _this._waitingMaterialId = null;\n    _this.cullingStrategy = AbstractMesh2.CULLINGSTRATEGY_BOUNDINGSPHERE_ONLY;\n    _this.onCollideObservable = new Observable();\n    _this.onCollisionPositionChangeObservable = new Observable();\n    _this.onMaterialChangedObservable = new Observable();\n    _this.definedFacingForward = true;\n    _this._occlusionQuery = null;\n    _this._renderingGroup = null;\n    _this.alphaIndex = Number.MAX_VALUE;\n    _this.isVisible = true;\n    _this.isPickable = true;\n    _this.isNearPickable = false;\n    _this.isNearGrabbable = false;\n    _this.showSubMeshesBoundingBox = false;\n    _this.isBlocker = false;\n    _this.enablePointerMoveEvents = false;\n    _this.outlineColor = Color3.Red();\n    _this.outlineWidth = 0.02;\n    _this.overlayColor = Color3.Red();\n    _this.overlayAlpha = 0.5;\n    _this.useOctreeForRenderingSelection = true;\n    _this.useOctreeForPicking = true;\n    _this.useOctreeForCollisions = true;\n    _this.alwaysSelectAsActiveMesh = false;\n    _this.doNotSyncBoundingInfo = false;\n    _this.actionManager = null;\n    _this.ellipsoid = new Vector3(0.5, 1, 0.5);\n    _this.ellipsoidOffset = new Vector3(0, 0, 0);\n    _this.edgesWidth = 1;\n    _this.edgesColor = new Color4$1(1, 0, 0, 1);\n    _this._edgesRenderer = null;\n    _this._masterMesh = null;\n    _this._boundingInfo = null;\n    _this._boundingInfoIsDirty = true;\n    _this._renderId = 0;\n    _this._intersectionsInProgress = new Array();\n    _this._unIndexed = false;\n    _this._lightSources = new Array();\n    _this._waitingData = {\n      lods: null,\n      actions: null,\n      freezeWorldMatrix: null\n    };\n    _this._bonesTransformMatrices = null;\n    _this._transformMatrixTexture = null;\n    _this.onRebuildObservable = new Observable();\n    _this._onCollisionPositionChange = function(collisionId, newPosition, collidedMesh) {\n      if (collidedMesh === void 0) {\n        collidedMesh = null;\n      }\n      newPosition.subtractToRef(_this._internalAbstractMeshDataInfo._meshCollisionData._oldPositionForCollisions, _this._internalAbstractMeshDataInfo._meshCollisionData._diffPositionForCollisions);\n      if (_this._internalAbstractMeshDataInfo._meshCollisionData._diffPositionForCollisions.length() > Engine.CollisionsEpsilon) {\n        _this.position.addInPlace(_this._internalAbstractMeshDataInfo._meshCollisionData._diffPositionForCollisions);\n      }\n      if (collidedMesh) {\n        _this.onCollideObservable.notifyObservers(collidedMesh);\n      }\n      _this.onCollisionPositionChangeObservable.notifyObservers(_this.position);\n    };\n    _this.getScene().addMesh(_this);\n    _this._resyncLightSources();\n    _this._uniformBuffer = new UniformBuffer(_this.getScene().getEngine(), void 0, void 0, name2, !_this.getScene().getEngine().isWebGPU);\n    _this._buildUniformLayout();\n    return _this;\n  }\n  Object.defineProperty(AbstractMesh2, \"BILLBOARDMODE_NONE\", {\n    get: function() {\n      return TransformNode.BILLBOARDMODE_NONE;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2, \"BILLBOARDMODE_X\", {\n    get: function() {\n      return TransformNode.BILLBOARDMODE_X;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2, \"BILLBOARDMODE_Y\", {\n    get: function() {\n      return TransformNode.BILLBOARDMODE_Y;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2, \"BILLBOARDMODE_Z\", {\n    get: function() {\n      return TransformNode.BILLBOARDMODE_Z;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2, \"BILLBOARDMODE_ALL\", {\n    get: function() {\n      return TransformNode.BILLBOARDMODE_ALL;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2, \"BILLBOARDMODE_USE_POSITION\", {\n    get: function() {\n      return TransformNode.BILLBOARDMODE_USE_POSITION;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"facetNb\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._facetData.facetNb;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"partitioningSubdivisions\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._facetData.partitioningSubdivisions;\n    },\n    set: function(nb) {\n      this._internalAbstractMeshDataInfo._facetData.partitioningSubdivisions = nb;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"partitioningBBoxRatio\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._facetData.partitioningBBoxRatio;\n    },\n    set: function(ratio) {\n      this._internalAbstractMeshDataInfo._facetData.partitioningBBoxRatio = ratio;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"mustDepthSortFacets\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._facetData.facetDepthSort;\n    },\n    set: function(sort) {\n      this._internalAbstractMeshDataInfo._facetData.facetDepthSort = sort;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"facetDepthSortFrom\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._facetData.facetDepthSortFrom;\n    },\n    set: function(location2) {\n      this._internalAbstractMeshDataInfo._facetData.facetDepthSortFrom = location2;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"collisionRetryCount\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._collisionRetryCount;\n    },\n    set: function(retryCount) {\n      this._internalAbstractMeshDataInfo._collisionRetryCount = retryCount;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"isFacetDataEnabled\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._facetData.facetDataEnabled;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"morphTargetManager\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._morphTargetManager;\n    },\n    set: function(value) {\n      if (this._internalAbstractMeshDataInfo._morphTargetManager === value) {\n        return;\n      }\n      this._internalAbstractMeshDataInfo._morphTargetManager = value;\n      this._syncGeometryWithMorphTargetManager();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"bakedVertexAnimationManager\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._bakedVertexAnimationManager;\n    },\n    set: function(value) {\n      if (this._internalAbstractMeshDataInfo._bakedVertexAnimationManager === value) {\n        return;\n      }\n      this._internalAbstractMeshDataInfo._bakedVertexAnimationManager = value;\n      this._markSubMeshesAsAttributesDirty();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  AbstractMesh2.prototype._syncGeometryWithMorphTargetManager = function() {\n  };\n  AbstractMesh2.prototype._updateNonUniformScalingState = function(value) {\n    if (!_super.prototype._updateNonUniformScalingState.call(this, value)) {\n      return false;\n    }\n    this._markSubMeshesAsMiscDirty();\n    return true;\n  };\n  Object.defineProperty(AbstractMesh2.prototype, \"onCollide\", {\n    set: function(callback) {\n      if (this._internalAbstractMeshDataInfo._meshCollisionData._onCollideObserver) {\n        this.onCollideObservable.remove(this._internalAbstractMeshDataInfo._meshCollisionData._onCollideObserver);\n      }\n      this._internalAbstractMeshDataInfo._meshCollisionData._onCollideObserver = this.onCollideObservable.add(callback);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"onCollisionPositionChange\", {\n    set: function(callback) {\n      if (this._internalAbstractMeshDataInfo._meshCollisionData._onCollisionPositionChangeObserver) {\n        this.onCollisionPositionChangeObservable.remove(this._internalAbstractMeshDataInfo._meshCollisionData._onCollisionPositionChangeObserver);\n      }\n      this._internalAbstractMeshDataInfo._meshCollisionData._onCollisionPositionChangeObserver = this.onCollisionPositionChangeObservable.add(callback);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"visibility\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._visibility;\n    },\n    set: function(value) {\n      if (this._internalAbstractMeshDataInfo._visibility === value) {\n        return;\n      }\n      var oldValue = this._internalAbstractMeshDataInfo._visibility;\n      this._internalAbstractMeshDataInfo._visibility = value;\n      if (oldValue === 1 && value !== 1 || oldValue !== 1 && value === 1) {\n        this._markSubMeshesAsMiscDirty();\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"renderingGroupId\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._renderingGroupId;\n    },\n    set: function(value) {\n      this._internalAbstractMeshDataInfo._renderingGroupId = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"material\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._material;\n    },\n    set: function(value) {\n      if (this._internalAbstractMeshDataInfo._material === value) {\n        return;\n      }\n      if (this._internalAbstractMeshDataInfo._material && this._internalAbstractMeshDataInfo._material.meshMap) {\n        this._internalAbstractMeshDataInfo._material.meshMap[this.uniqueId] = void 0;\n      }\n      this._internalAbstractMeshDataInfo._material = value;\n      if (value && value.meshMap) {\n        value.meshMap[this.uniqueId] = this;\n      }\n      if (this.onMaterialChangedObservable.hasObservers()) {\n        this.onMaterialChangedObservable.notifyObservers(this);\n      }\n      if (!this.subMeshes) {\n        return;\n      }\n      this.resetDrawCache();\n      this._unBindEffect();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  AbstractMesh2.prototype.getMaterialForRenderPass = function(renderPassId) {\n    var _a;\n    return (_a = this._internalAbstractMeshDataInfo._materialForRenderPass) === null || _a === void 0 ? void 0 : _a[renderPassId];\n  };\n  AbstractMesh2.prototype.setMaterialForRenderPass = function(renderPassId, material) {\n    this.resetDrawCache(renderPassId);\n    if (!this._internalAbstractMeshDataInfo._materialForRenderPass) {\n      this._internalAbstractMeshDataInfo._materialForRenderPass = [];\n    }\n    this._internalAbstractMeshDataInfo._materialForRenderPass[renderPassId] = material;\n  };\n  Object.defineProperty(AbstractMesh2.prototype, \"receiveShadows\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._receiveShadows;\n    },\n    set: function(value) {\n      if (this._internalAbstractMeshDataInfo._receiveShadows === value) {\n        return;\n      }\n      this._internalAbstractMeshDataInfo._receiveShadows = value;\n      this._markSubMeshesAsLightDirty();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"hasVertexAlpha\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._hasVertexAlpha;\n    },\n    set: function(value) {\n      if (this._internalAbstractMeshDataInfo._hasVertexAlpha === value) {\n        return;\n      }\n      this._internalAbstractMeshDataInfo._hasVertexAlpha = value;\n      this._markSubMeshesAsAttributesDirty();\n      this._markSubMeshesAsMiscDirty();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"useVertexColors\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._useVertexColors;\n    },\n    set: function(value) {\n      if (this._internalAbstractMeshDataInfo._useVertexColors === value) {\n        return;\n      }\n      this._internalAbstractMeshDataInfo._useVertexColors = value;\n      this._markSubMeshesAsAttributesDirty();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"computeBonesUsingShaders\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._computeBonesUsingShaders;\n    },\n    set: function(value) {\n      if (this._internalAbstractMeshDataInfo._computeBonesUsingShaders === value) {\n        return;\n      }\n      this._internalAbstractMeshDataInfo._computeBonesUsingShaders = value;\n      this._markSubMeshesAsAttributesDirty();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"numBoneInfluencers\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._numBoneInfluencers;\n    },\n    set: function(value) {\n      if (this._internalAbstractMeshDataInfo._numBoneInfluencers === value) {\n        return;\n      }\n      this._internalAbstractMeshDataInfo._numBoneInfluencers = value;\n      this._markSubMeshesAsAttributesDirty();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"applyFog\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._applyFog;\n    },\n    set: function(value) {\n      if (this._internalAbstractMeshDataInfo._applyFog === value) {\n        return;\n      }\n      this._internalAbstractMeshDataInfo._applyFog = value;\n      this._markSubMeshesAsMiscDirty();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"enableDistantPicking\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._enableDistantPicking;\n    },\n    set: function(value) {\n      this._internalAbstractMeshDataInfo._enableDistantPicking = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"layerMask\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._layerMask;\n    },\n    set: function(value) {\n      if (value === this._internalAbstractMeshDataInfo._layerMask) {\n        return;\n      }\n      this._internalAbstractMeshDataInfo._layerMask = value;\n      this._resyncLightSources();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"collisionMask\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._meshCollisionData._collisionMask;\n    },\n    set: function(mask) {\n      this._internalAbstractMeshDataInfo._meshCollisionData._collisionMask = !isNaN(mask) ? mask : -1;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"collisionResponse\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._meshCollisionData._collisionResponse;\n    },\n    set: function(response) {\n      this._internalAbstractMeshDataInfo._meshCollisionData._collisionResponse = response;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"collisionGroup\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._meshCollisionData._collisionGroup;\n    },\n    set: function(mask) {\n      this._internalAbstractMeshDataInfo._meshCollisionData._collisionGroup = !isNaN(mask) ? mask : -1;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"surroundingMeshes\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._meshCollisionData._surroundingMeshes;\n    },\n    set: function(meshes) {\n      this._internalAbstractMeshDataInfo._meshCollisionData._surroundingMeshes = meshes;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"lightSources\", {\n    get: function() {\n      return this._lightSources;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"_positions\", {\n    get: function() {\n      return null;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"skeleton\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._skeleton;\n    },\n    set: function(value) {\n      var skeleton = this._internalAbstractMeshDataInfo._skeleton;\n      if (skeleton && skeleton.needInitialSkinMatrix) {\n        skeleton._unregisterMeshWithPoseMatrix(this);\n      }\n      if (value && value.needInitialSkinMatrix) {\n        value._registerMeshWithPoseMatrix(this);\n      }\n      this._internalAbstractMeshDataInfo._skeleton = value;\n      if (!this._internalAbstractMeshDataInfo._skeleton) {\n        this._bonesTransformMatrices = null;\n      }\n      this._markSubMeshesAsAttributesDirty();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  AbstractMesh2.prototype._buildUniformLayout = function() {\n    this._uniformBuffer.addUniform(\"world\", 16);\n    this._uniformBuffer.addUniform(\"visibility\", 1);\n    this._uniformBuffer.create();\n  };\n  AbstractMesh2.prototype.transferToEffect = function(world) {\n    var ubo = this._uniformBuffer;\n    ubo.updateMatrix(\"world\", world);\n    ubo.updateFloat(\"visibility\", this._internalAbstractMeshDataInfo._visibility);\n    ubo.update();\n  };\n  AbstractMesh2.prototype.getMeshUniformBuffer = function() {\n    return this._uniformBuffer;\n  };\n  AbstractMesh2.prototype.getClassName = function() {\n    return \"AbstractMesh\";\n  };\n  AbstractMesh2.prototype.toString = function(fullDetails) {\n    var ret = \"Name: \" + this.name + \", isInstance: \" + (this.getClassName() !== \"InstancedMesh\" ? \"YES\" : \"NO\");\n    ret += \", # of submeshes: \" + (this.subMeshes ? this.subMeshes.length : 0);\n    var skeleton = this._internalAbstractMeshDataInfo._skeleton;\n    if (skeleton) {\n      ret += \", skeleton: \" + skeleton.name;\n    }\n    if (fullDetails) {\n      ret += \", billboard mode: \" + [\"NONE\", \"X\", \"Y\", null, \"Z\", null, null, \"ALL\"][this.billboardMode];\n      ret += \", freeze wrld mat: \" + (this._isWorldMatrixFrozen || this._waitingData.freezeWorldMatrix ? \"YES\" : \"NO\");\n    }\n    return ret;\n  };\n  AbstractMesh2.prototype._getEffectiveParent = function() {\n    if (this._masterMesh && this.billboardMode !== TransformNode.BILLBOARDMODE_NONE) {\n      return this._masterMesh;\n    }\n    return _super.prototype._getEffectiveParent.call(this);\n  };\n  AbstractMesh2.prototype._getActionManagerForTrigger = function(trigger, initialCall) {\n    if (initialCall === void 0) {\n      initialCall = true;\n    }\n    if (this.actionManager && (initialCall || this.actionManager.isRecursive)) {\n      if (trigger) {\n        if (this.actionManager.hasSpecificTrigger(trigger)) {\n          return this.actionManager;\n        }\n      } else {\n        return this.actionManager;\n      }\n    }\n    if (!this.parent) {\n      return null;\n    }\n    return this.parent._getActionManagerForTrigger(trigger, false);\n  };\n  AbstractMesh2.prototype._rebuild = function(dispose) {\n    this.onRebuildObservable.notifyObservers(this);\n    if (this._occlusionQuery !== null) {\n      this._occlusionQuery = null;\n    }\n    if (!this.subMeshes) {\n      return;\n    }\n    for (var _i = 0, _a = this.subMeshes; _i < _a.length; _i++) {\n      var subMesh = _a[_i];\n      subMesh._rebuild();\n    }\n  };\n  AbstractMesh2.prototype._resyncLightSources = function() {\n    this._lightSources.length = 0;\n    for (var _i = 0, _a = this.getScene().lights; _i < _a.length; _i++) {\n      var light = _a[_i];\n      if (!light.isEnabled()) {\n        continue;\n      }\n      if (light.canAffectMesh(this)) {\n        this._lightSources.push(light);\n      }\n    }\n    this._markSubMeshesAsLightDirty();\n  };\n  AbstractMesh2.prototype._resyncLightSource = function(light) {\n    var isIn = light.isEnabled() && light.canAffectMesh(this);\n    var index = this._lightSources.indexOf(light);\n    var removed = false;\n    if (index === -1) {\n      if (!isIn) {\n        return;\n      }\n      this._lightSources.push(light);\n    } else {\n      if (isIn) {\n        return;\n      }\n      removed = true;\n      this._lightSources.splice(index, 1);\n    }\n    this._markSubMeshesAsLightDirty(removed);\n  };\n  AbstractMesh2.prototype._unBindEffect = function() {\n    for (var _i = 0, _a = this.subMeshes; _i < _a.length; _i++) {\n      var subMesh = _a[_i];\n      subMesh.setEffect(null);\n    }\n  };\n  AbstractMesh2.prototype._removeLightSource = function(light, dispose) {\n    var index = this._lightSources.indexOf(light);\n    if (index === -1) {\n      return;\n    }\n    this._lightSources.splice(index, 1);\n    this._markSubMeshesAsLightDirty(dispose);\n  };\n  AbstractMesh2.prototype._markSubMeshesAsDirty = function(func) {\n    if (!this.subMeshes) {\n      return;\n    }\n    for (var _i = 0, _a = this.subMeshes; _i < _a.length; _i++) {\n      var subMesh = _a[_i];\n      for (var i = 0; i < subMesh._drawWrappers.length; ++i) {\n        var drawWrapper = subMesh._drawWrappers[i];\n        if (!drawWrapper || !drawWrapper.defines || !drawWrapper.defines.markAllAsDirty) {\n          continue;\n        }\n        func(drawWrapper.defines);\n      }\n    }\n  };\n  AbstractMesh2.prototype._markSubMeshesAsLightDirty = function(dispose) {\n    if (dispose === void 0) {\n      dispose = false;\n    }\n    this._markSubMeshesAsDirty(function(defines) {\n      return defines.markAsLightDirty(dispose);\n    });\n  };\n  AbstractMesh2.prototype._markSubMeshesAsAttributesDirty = function() {\n    this._markSubMeshesAsDirty(function(defines) {\n      return defines.markAsAttributesDirty();\n    });\n  };\n  AbstractMesh2.prototype._markSubMeshesAsMiscDirty = function() {\n    this._markSubMeshesAsDirty(function(defines) {\n      return defines.markAsMiscDirty();\n    });\n  };\n  AbstractMesh2.prototype.markAsDirty = function(property) {\n    this._currentRenderId = Number.MAX_VALUE;\n    this._isDirty = true;\n    return this;\n  };\n  AbstractMesh2.prototype.resetDrawCache = function(passId) {\n    if (!this.subMeshes) {\n      return;\n    }\n    for (var _i = 0, _a = this.subMeshes; _i < _a.length; _i++) {\n      var subMesh = _a[_i];\n      subMesh.resetDrawCache(passId);\n    }\n  };\n  Object.defineProperty(AbstractMesh2.prototype, \"isBlocked\", {\n    get: function() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  AbstractMesh2.prototype.getLOD = function(camera) {\n    return this;\n  };\n  AbstractMesh2.prototype.getTotalVertices = function() {\n    return 0;\n  };\n  AbstractMesh2.prototype.getTotalIndices = function() {\n    return 0;\n  };\n  AbstractMesh2.prototype.getIndices = function() {\n    return null;\n  };\n  AbstractMesh2.prototype.getVerticesData = function(kind) {\n    return null;\n  };\n  AbstractMesh2.prototype.setVerticesData = function(kind, data, updatable, stride) {\n    return this;\n  };\n  AbstractMesh2.prototype.updateVerticesData = function(kind, data, updateExtends, makeItUnique) {\n    return this;\n  };\n  AbstractMesh2.prototype.setIndices = function(indices, totalVertices) {\n    return this;\n  };\n  AbstractMesh2.prototype.isVerticesDataPresent = function(kind) {\n    return false;\n  };\n  AbstractMesh2.prototype.getBoundingInfo = function() {\n    if (this._masterMesh) {\n      return this._masterMesh.getBoundingInfo();\n    }\n    if (this._boundingInfoIsDirty) {\n      this._boundingInfoIsDirty = false;\n      this._updateBoundingInfo();\n    }\n    return this._boundingInfo;\n  };\n  AbstractMesh2.prototype.setBoundingInfo = function(boundingInfo) {\n    this._boundingInfo = boundingInfo;\n    return this;\n  };\n  Object.defineProperty(AbstractMesh2.prototype, \"hasBoundingInfo\", {\n    get: function() {\n      return this._boundingInfo !== null;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  AbstractMesh2.prototype.buildBoundingInfo = function(minimum, maximum, worldMatrix) {\n    this._boundingInfo = new BoundingInfo(minimum, maximum, worldMatrix);\n    return this._boundingInfo;\n  };\n  AbstractMesh2.prototype.normalizeToUnitCube = function(includeDescendants, ignoreRotation, predicate) {\n    if (includeDescendants === void 0) {\n      includeDescendants = true;\n    }\n    if (ignoreRotation === void 0) {\n      ignoreRotation = false;\n    }\n    return _super.prototype.normalizeToUnitCube.call(this, includeDescendants, ignoreRotation, predicate);\n  };\n  Object.defineProperty(AbstractMesh2.prototype, \"useBones\", {\n    get: function() {\n      return this.skeleton && this.getScene().skeletonsEnabled && this.isVerticesDataPresent(VertexBuffer.MatricesIndicesKind) && this.isVerticesDataPresent(VertexBuffer.MatricesWeightsKind);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  AbstractMesh2.prototype._preActivate = function() {\n  };\n  AbstractMesh2.prototype._preActivateForIntermediateRendering = function(renderId) {\n  };\n  AbstractMesh2.prototype._activate = function(renderId, intermediateRendering) {\n    this._renderId = renderId;\n    return true;\n  };\n  AbstractMesh2.prototype._postActivate = function() {\n  };\n  AbstractMesh2.prototype._freeze = function() {\n  };\n  AbstractMesh2.prototype._unFreeze = function() {\n  };\n  AbstractMesh2.prototype.getWorldMatrix = function() {\n    if (this._masterMesh && this.billboardMode === TransformNode.BILLBOARDMODE_NONE) {\n      return this._masterMesh.getWorldMatrix();\n    }\n    return _super.prototype.getWorldMatrix.call(this);\n  };\n  AbstractMesh2.prototype._getWorldMatrixDeterminant = function() {\n    if (this._masterMesh) {\n      return this._masterMesh._getWorldMatrixDeterminant();\n    }\n    return _super.prototype._getWorldMatrixDeterminant.call(this);\n  };\n  Object.defineProperty(AbstractMesh2.prototype, \"isAnInstance\", {\n    get: function() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"hasInstances\", {\n    get: function() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"hasThinInstances\", {\n    get: function() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  AbstractMesh2.prototype.movePOV = function(amountRight, amountUp, amountForward) {\n    this.position.addInPlace(this.calcMovePOV(amountRight, amountUp, amountForward));\n    return this;\n  };\n  AbstractMesh2.prototype.calcMovePOV = function(amountRight, amountUp, amountForward) {\n    var rotMatrix = new Matrix();\n    var rotQuaternion = this.rotationQuaternion ? this.rotationQuaternion : Quaternion.RotationYawPitchRoll(this.rotation.y, this.rotation.x, this.rotation.z);\n    rotQuaternion.toRotationMatrix(rotMatrix);\n    var translationDelta = Vector3.Zero();\n    var defForwardMult = this.definedFacingForward ? -1 : 1;\n    Vector3.TransformCoordinatesFromFloatsToRef(amountRight * defForwardMult, amountUp, amountForward * defForwardMult, rotMatrix, translationDelta);\n    return translationDelta;\n  };\n  AbstractMesh2.prototype.rotatePOV = function(flipBack, twirlClockwise, tiltRight) {\n    this.rotation.addInPlace(this.calcRotatePOV(flipBack, twirlClockwise, tiltRight));\n    return this;\n  };\n  AbstractMesh2.prototype.calcRotatePOV = function(flipBack, twirlClockwise, tiltRight) {\n    var defForwardMult = this.definedFacingForward ? 1 : -1;\n    return new Vector3(flipBack * defForwardMult, twirlClockwise, tiltRight * defForwardMult);\n  };\n  AbstractMesh2.prototype.refreshBoundingInfo = function(applySkeleton, applyMorph) {\n    if (applySkeleton === void 0) {\n      applySkeleton = false;\n    }\n    if (applyMorph === void 0) {\n      applyMorph = false;\n    }\n    if (this._boundingInfo && this._boundingInfo.isLocked) {\n      return this;\n    }\n    this._refreshBoundingInfo(this._getPositionData(applySkeleton, applyMorph), null);\n    return this;\n  };\n  AbstractMesh2.prototype._refreshBoundingInfo = function(data, bias) {\n    if (data) {\n      var extend = extractMinAndMax(data, 0, this.getTotalVertices(), bias);\n      if (this._boundingInfo) {\n        this._boundingInfo.reConstruct(extend.minimum, extend.maximum);\n      } else {\n        this._boundingInfo = new BoundingInfo(extend.minimum, extend.maximum);\n      }\n    }\n    if (this.subMeshes) {\n      for (var index = 0; index < this.subMeshes.length; index++) {\n        this.subMeshes[index].refreshBoundingInfo(data);\n      }\n    }\n    this._updateBoundingInfo();\n  };\n  AbstractMesh2.prototype._getData = function(applySkeleton, applyMorph, data, kind) {\n    if (applySkeleton === void 0) {\n      applySkeleton = false;\n    }\n    if (applyMorph === void 0) {\n      applyMorph = false;\n    }\n    if (kind === void 0) {\n      kind = VertexBuffer.PositionKind;\n    }\n    data = data !== null && data !== void 0 ? data : this.getVerticesData(kind).slice();\n    if (data && applyMorph && this.morphTargetManager) {\n      var faceIndexCount = 0;\n      var positionIndex = 0;\n      for (var vertexCount = 0; vertexCount < data.length; vertexCount++) {\n        for (var targetCount = 0; targetCount < this.morphTargetManager.numTargets; targetCount++) {\n          var targetMorph = this.morphTargetManager.getTarget(targetCount);\n          var influence = targetMorph.influence;\n          if (influence > 0) {\n            var morphTargetPositions = targetMorph.getPositions();\n            if (morphTargetPositions) {\n              data[vertexCount] += (morphTargetPositions[vertexCount] - data[vertexCount]) * influence;\n            }\n          }\n        }\n        faceIndexCount++;\n        if (kind === VertexBuffer.PositionKind) {\n          if (this._positions && faceIndexCount === 3) {\n            faceIndexCount = 0;\n            var index = positionIndex * 3;\n            this._positions[positionIndex++].copyFromFloats(data[index], data[index + 1], data[index + 2]);\n          }\n        }\n      }\n    }\n    if (data && applySkeleton && this.skeleton) {\n      var matricesIndicesData = this.getVerticesData(VertexBuffer.MatricesIndicesKind);\n      var matricesWeightsData = this.getVerticesData(VertexBuffer.MatricesWeightsKind);\n      if (matricesWeightsData && matricesIndicesData) {\n        var needExtras = this.numBoneInfluencers > 4;\n        var matricesIndicesExtraData = needExtras ? this.getVerticesData(VertexBuffer.MatricesIndicesExtraKind) : null;\n        var matricesWeightsExtraData = needExtras ? this.getVerticesData(VertexBuffer.MatricesWeightsExtraKind) : null;\n        var skeletonMatrices = this.skeleton.getTransformMatrices(this);\n        var tempVector = TmpVectors.Vector3[0];\n        var finalMatrix = TmpVectors.Matrix[0];\n        var tempMatrix = TmpVectors.Matrix[1];\n        var matWeightIdx = 0;\n        for (var index = 0; index < data.length; index += 3, matWeightIdx += 4) {\n          finalMatrix.reset();\n          var inf = void 0;\n          var weight = void 0;\n          for (inf = 0; inf < 4; inf++) {\n            weight = matricesWeightsData[matWeightIdx + inf];\n            if (weight > 0) {\n              Matrix.FromFloat32ArrayToRefScaled(skeletonMatrices, Math.floor(matricesIndicesData[matWeightIdx + inf] * 16), weight, tempMatrix);\n              finalMatrix.addToSelf(tempMatrix);\n            }\n          }\n          if (needExtras) {\n            for (inf = 0; inf < 4; inf++) {\n              weight = matricesWeightsExtraData[matWeightIdx + inf];\n              if (weight > 0) {\n                Matrix.FromFloat32ArrayToRefScaled(skeletonMatrices, Math.floor(matricesIndicesExtraData[matWeightIdx + inf] * 16), weight, tempMatrix);\n                finalMatrix.addToSelf(tempMatrix);\n              }\n            }\n          }\n          if (kind === VertexBuffer.NormalKind) {\n            Vector3.TransformNormalFromFloatsToRef(data[index], data[index + 1], data[index + 2], finalMatrix, tempVector);\n          } else {\n            Vector3.TransformCoordinatesFromFloatsToRef(data[index], data[index + 1], data[index + 2], finalMatrix, tempVector);\n          }\n          tempVector.toArray(data, index);\n          if (kind === VertexBuffer.PositionKind && this._positions) {\n            this._positions[index / 3].copyFrom(tempVector);\n          }\n        }\n      }\n    }\n    return data;\n  };\n  AbstractMesh2.prototype.getNormalsData = function(applySkeleton, applyMorph) {\n    if (applySkeleton === void 0) {\n      applySkeleton = false;\n    }\n    if (applyMorph === void 0) {\n      applyMorph = false;\n    }\n    return this._getData(applySkeleton, applyMorph, null, VertexBuffer.NormalKind);\n  };\n  AbstractMesh2.prototype.getPositionData = function(applySkeleton, applyMorph, data) {\n    if (applySkeleton === void 0) {\n      applySkeleton = false;\n    }\n    if (applyMorph === void 0) {\n      applyMorph = false;\n    }\n    return this._getData(applySkeleton, applyMorph, data, VertexBuffer.PositionKind);\n  };\n  AbstractMesh2.prototype._getPositionData = function(applySkeleton, applyMorph) {\n    var _a;\n    var data = this.getVerticesData(VertexBuffer.PositionKind);\n    if (this._internalAbstractMeshDataInfo._positions) {\n      this._internalAbstractMeshDataInfo._positions = null;\n    }\n    if (data && (applySkeleton && this.skeleton || applyMorph && this.morphTargetManager)) {\n      data = data.slice();\n      this._generatePointsArray();\n      if (this._positions) {\n        var pos = this._positions;\n        this._internalAbstractMeshDataInfo._positions = new Array(pos.length);\n        for (var i = 0; i < pos.length; i++) {\n          this._internalAbstractMeshDataInfo._positions[i] = ((_a = pos[i]) === null || _a === void 0 ? void 0 : _a.clone()) || new Vector3();\n        }\n      }\n      return this.getPositionData(applySkeleton, applyMorph, data);\n    }\n    return data;\n  };\n  AbstractMesh2.prototype._updateBoundingInfo = function() {\n    if (this._boundingInfo) {\n      this._boundingInfo.update(this.worldMatrixFromCache);\n    } else {\n      this._boundingInfo = new BoundingInfo(Vector3.Zero(), Vector3.Zero(), this.worldMatrixFromCache);\n    }\n    this._updateSubMeshesBoundingInfo(this.worldMatrixFromCache);\n    return this;\n  };\n  AbstractMesh2.prototype._updateSubMeshesBoundingInfo = function(matrix) {\n    if (!this.subMeshes) {\n      return this;\n    }\n    var count = this.subMeshes.length;\n    for (var subIndex = 0; subIndex < count; subIndex++) {\n      var subMesh = this.subMeshes[subIndex];\n      if (count > 1 || !subMesh.IsGlobal) {\n        subMesh.updateBoundingInfo(matrix);\n      }\n    }\n    return this;\n  };\n  AbstractMesh2.prototype._afterComputeWorldMatrix = function() {\n    if (this.doNotSyncBoundingInfo) {\n      return;\n    }\n    this._boundingInfoIsDirty = true;\n  };\n  AbstractMesh2.prototype.isInFrustum = function(frustumPlanes) {\n    return this.getBoundingInfo().isInFrustum(frustumPlanes, this.cullingStrategy);\n  };\n  AbstractMesh2.prototype.isCompletelyInFrustum = function(frustumPlanes) {\n    return this.getBoundingInfo().isCompletelyInFrustum(frustumPlanes);\n  };\n  AbstractMesh2.prototype.intersectsMesh = function(mesh, precise, includeDescendants) {\n    if (precise === void 0) {\n      precise = false;\n    }\n    var boundingInfo = this.getBoundingInfo();\n    var otherBoundingInfo = mesh.getBoundingInfo();\n    if (boundingInfo.intersects(otherBoundingInfo, precise)) {\n      return true;\n    }\n    if (includeDescendants) {\n      for (var _i = 0, _a = this.getChildMeshes(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        if (child.intersectsMesh(mesh, precise, true)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n  AbstractMesh2.prototype.intersectsPoint = function(point) {\n    return this.getBoundingInfo().intersectsPoint(point);\n  };\n  Object.defineProperty(AbstractMesh2.prototype, \"checkCollisions\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._meshCollisionData._checkCollisions;\n    },\n    set: function(collisionEnabled) {\n      this._internalAbstractMeshDataInfo._meshCollisionData._checkCollisions = collisionEnabled;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AbstractMesh2.prototype, \"collider\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._meshCollisionData._collider;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  AbstractMesh2.prototype.moveWithCollisions = function(displacement) {\n    var globalPosition = this.getAbsolutePosition();\n    globalPosition.addToRef(this.ellipsoidOffset, this._internalAbstractMeshDataInfo._meshCollisionData._oldPositionForCollisions);\n    var coordinator = this.getScene().collisionCoordinator;\n    if (!this._internalAbstractMeshDataInfo._meshCollisionData._collider) {\n      this._internalAbstractMeshDataInfo._meshCollisionData._collider = coordinator.createCollider();\n    }\n    this._internalAbstractMeshDataInfo._meshCollisionData._collider._radius = this.ellipsoid;\n    coordinator.getNewPosition(this._internalAbstractMeshDataInfo._meshCollisionData._oldPositionForCollisions, displacement, this._internalAbstractMeshDataInfo._meshCollisionData._collider, this.collisionRetryCount, this, this._onCollisionPositionChange, this.uniqueId);\n    return this;\n  };\n  AbstractMesh2.prototype._collideForSubMesh = function(subMesh, transformMatrix, collider) {\n    var _a;\n    this._generatePointsArray();\n    if (!this._positions) {\n      return this;\n    }\n    if (!subMesh._lastColliderWorldVertices || !subMesh._lastColliderTransformMatrix.equals(transformMatrix)) {\n      subMesh._lastColliderTransformMatrix = transformMatrix.clone();\n      subMesh._lastColliderWorldVertices = [];\n      subMesh._trianglePlanes = [];\n      var start = subMesh.verticesStart;\n      var end = subMesh.verticesStart + subMesh.verticesCount;\n      for (var i = start; i < end; i++) {\n        subMesh._lastColliderWorldVertices.push(Vector3.TransformCoordinates(this._positions[i], transformMatrix));\n      }\n    }\n    collider._collide(subMesh._trianglePlanes, subMesh._lastColliderWorldVertices, this.getIndices(), subMesh.indexStart, subMesh.indexStart + subMesh.indexCount, subMesh.verticesStart, !!subMesh.getMaterial(), this, this._shouldConvertRHS(), ((_a = subMesh.getMaterial()) === null || _a === void 0 ? void 0 : _a.fillMode) === 7);\n    return this;\n  };\n  AbstractMesh2.prototype._processCollisionsForSubMeshes = function(collider, transformMatrix) {\n    var subMeshes = this._scene.getCollidingSubMeshCandidates(this, collider);\n    var len = subMeshes.length;\n    for (var index = 0; index < len; index++) {\n      var subMesh = subMeshes.data[index];\n      if (len > 1 && !subMesh._checkCollision(collider)) {\n        continue;\n      }\n      this._collideForSubMesh(subMesh, transformMatrix, collider);\n    }\n    return this;\n  };\n  AbstractMesh2.prototype._shouldConvertRHS = function() {\n    return false;\n  };\n  AbstractMesh2.prototype._checkCollision = function(collider) {\n    if (!this.getBoundingInfo()._checkCollision(collider)) {\n      return this;\n    }\n    var collisionsScalingMatrix = TmpVectors.Matrix[0];\n    var collisionsTransformMatrix = TmpVectors.Matrix[1];\n    Matrix.ScalingToRef(1 / collider._radius.x, 1 / collider._radius.y, 1 / collider._radius.z, collisionsScalingMatrix);\n    this.worldMatrixFromCache.multiplyToRef(collisionsScalingMatrix, collisionsTransformMatrix);\n    this._processCollisionsForSubMeshes(collider, collisionsTransformMatrix);\n    return this;\n  };\n  AbstractMesh2.prototype._generatePointsArray = function() {\n    return false;\n  };\n  AbstractMesh2.prototype.intersects = function(ray, fastCheck, trianglePredicate, onlyBoundingInfo, worldToUse, skipBoundingInfo) {\n    if (onlyBoundingInfo === void 0) {\n      onlyBoundingInfo = false;\n    }\n    if (skipBoundingInfo === void 0) {\n      skipBoundingInfo = false;\n    }\n    var pickingInfo = new PickingInfo();\n    var intersectionThreshold = this.getClassName() === \"InstancedLinesMesh\" || this.getClassName() === \"LinesMesh\" ? this.intersectionThreshold : 0;\n    var boundingInfo = this.getBoundingInfo();\n    if (!this.subMeshes) {\n      return pickingInfo;\n    }\n    if (!skipBoundingInfo && (!ray.intersectsSphere(boundingInfo.boundingSphere, intersectionThreshold) || !ray.intersectsBox(boundingInfo.boundingBox, intersectionThreshold))) {\n      return pickingInfo;\n    }\n    if (onlyBoundingInfo) {\n      pickingInfo.hit = skipBoundingInfo ? false : true;\n      pickingInfo.pickedMesh = skipBoundingInfo ? null : this;\n      pickingInfo.distance = skipBoundingInfo ? 0 : Vector3.Distance(ray.origin, boundingInfo.boundingSphere.center);\n      pickingInfo.subMeshId = 0;\n      return pickingInfo;\n    }\n    if (!this._generatePointsArray()) {\n      return pickingInfo;\n    }\n    var intersectInfo = null;\n    var subMeshes = this._scene.getIntersectingSubMeshCandidates(this, ray);\n    var len = subMeshes.length;\n    var anySubmeshSupportIntersect = false;\n    for (var index = 0; index < len; index++) {\n      var subMesh = subMeshes.data[index];\n      var material = subMesh.getMaterial();\n      if (!material) {\n        continue;\n      }\n      if (material.fillMode == 7 || material.fillMode == 0 || material.fillMode == 1 || material.fillMode == 2 || material.fillMode == 4) {\n        anySubmeshSupportIntersect = true;\n        break;\n      }\n    }\n    if (!anySubmeshSupportIntersect) {\n      pickingInfo.hit = true;\n      pickingInfo.pickedMesh = this;\n      pickingInfo.distance = Vector3.Distance(ray.origin, boundingInfo.boundingSphere.center);\n      pickingInfo.subMeshId = -1;\n      return pickingInfo;\n    }\n    for (var index = 0; index < len; index++) {\n      var subMesh = subMeshes.data[index];\n      if (len > 1 && !subMesh.canIntersects(ray)) {\n        continue;\n      }\n      var currentIntersectInfo = subMesh.intersects(ray, this._positions, this.getIndices(), fastCheck, trianglePredicate);\n      if (currentIntersectInfo) {\n        if (fastCheck || !intersectInfo || currentIntersectInfo.distance < intersectInfo.distance) {\n          intersectInfo = currentIntersectInfo;\n          intersectInfo.subMeshId = index;\n          if (fastCheck) {\n            break;\n          }\n        }\n      }\n    }\n    if (intersectInfo) {\n      var world = worldToUse !== null && worldToUse !== void 0 ? worldToUse : this.getWorldMatrix();\n      var worldOrigin = TmpVectors.Vector3[0];\n      var direction = TmpVectors.Vector3[1];\n      Vector3.TransformCoordinatesToRef(ray.origin, world, worldOrigin);\n      ray.direction.scaleToRef(intersectInfo.distance, direction);\n      var worldDirection = Vector3.TransformNormal(direction, world);\n      var pickedPoint = worldDirection.addInPlace(worldOrigin);\n      pickingInfo.hit = true;\n      pickingInfo.distance = Vector3.Distance(worldOrigin, pickedPoint);\n      pickingInfo.pickedPoint = pickedPoint;\n      pickingInfo.pickedMesh = this;\n      pickingInfo.bu = intersectInfo.bu || 0;\n      pickingInfo.bv = intersectInfo.bv || 0;\n      pickingInfo.subMeshFaceId = intersectInfo.faceId;\n      pickingInfo.faceId = intersectInfo.faceId + subMeshes.data[intersectInfo.subMeshId].indexStart / (this.getClassName().indexOf(\"LinesMesh\") !== -1 ? 2 : 3);\n      pickingInfo.subMeshId = intersectInfo.subMeshId;\n      return pickingInfo;\n    }\n    return pickingInfo;\n  };\n  AbstractMesh2.prototype.clone = function(name2, newParent, doNotCloneChildren) {\n    return null;\n  };\n  AbstractMesh2.prototype.releaseSubMeshes = function() {\n    if (this.subMeshes) {\n      while (this.subMeshes.length) {\n        this.subMeshes[0].dispose();\n      }\n    } else {\n      this.subMeshes = new Array();\n    }\n    return this;\n  };\n  AbstractMesh2.prototype.dispose = function(doNotRecurse, disposeMaterialAndTextures) {\n    var _this = this;\n    if (disposeMaterialAndTextures === void 0) {\n      disposeMaterialAndTextures = false;\n    }\n    var index;\n    if (this._scene.useMaterialMeshMap) {\n      if (this._internalAbstractMeshDataInfo._material && this._internalAbstractMeshDataInfo._material.meshMap) {\n        this._internalAbstractMeshDataInfo._material.meshMap[this.uniqueId] = void 0;\n      }\n    }\n    this.getScene().freeActiveMeshes();\n    this.getScene().freeRenderingGroups();\n    if (this.actionManager !== void 0 && this.actionManager !== null) {\n      this.actionManager.dispose();\n      this.actionManager = null;\n    }\n    this._internalAbstractMeshDataInfo._skeleton = null;\n    if (this._transformMatrixTexture) {\n      this._transformMatrixTexture.dispose();\n      this._transformMatrixTexture = null;\n    }\n    for (index = 0; index < this._intersectionsInProgress.length; index++) {\n      var other = this._intersectionsInProgress[index];\n      var pos = other._intersectionsInProgress.indexOf(this);\n      other._intersectionsInProgress.splice(pos, 1);\n    }\n    this._intersectionsInProgress = [];\n    var lights = this.getScene().lights;\n    lights.forEach(function(light) {\n      var meshIndex = light.includedOnlyMeshes.indexOf(_this);\n      if (meshIndex !== -1) {\n        light.includedOnlyMeshes.splice(meshIndex, 1);\n      }\n      meshIndex = light.excludedMeshes.indexOf(_this);\n      if (meshIndex !== -1) {\n        light.excludedMeshes.splice(meshIndex, 1);\n      }\n      var generator = light.getShadowGenerator();\n      if (generator) {\n        var shadowMap = generator.getShadowMap();\n        if (shadowMap && shadowMap.renderList) {\n          meshIndex = shadowMap.renderList.indexOf(_this);\n          if (meshIndex !== -1) {\n            shadowMap.renderList.splice(meshIndex, 1);\n          }\n        }\n      }\n    });\n    if (this.getClassName() !== \"InstancedMesh\" || this.getClassName() !== \"InstancedLinesMesh\") {\n      this.releaseSubMeshes();\n    }\n    var engine = this.getScene().getEngine();\n    if (this._occlusionQuery !== null) {\n      this.isOcclusionQueryInProgress = false;\n      engine.deleteQuery(this._occlusionQuery);\n      this._occlusionQuery = null;\n    }\n    engine.wipeCaches();\n    this.getScene().removeMesh(this);\n    if (this._parentContainer) {\n      var index_1 = this._parentContainer.meshes.indexOf(this);\n      if (index_1 > -1) {\n        this._parentContainer.meshes.splice(index_1, 1);\n      }\n      this._parentContainer = null;\n    }\n    if (disposeMaterialAndTextures) {\n      if (this.material) {\n        if (this.material.getClassName() === \"MultiMaterial\") {\n          this.material.dispose(false, true, true);\n        } else {\n          this.material.dispose(false, true);\n        }\n      }\n    }\n    if (!doNotRecurse) {\n      for (index = 0; index < this.getScene().particleSystems.length; index++) {\n        if (this.getScene().particleSystems[index].emitter === this) {\n          this.getScene().particleSystems[index].dispose();\n          index--;\n        }\n      }\n    }\n    if (this._internalAbstractMeshDataInfo._facetData.facetDataEnabled) {\n      this.disableFacetData();\n    }\n    this._uniformBuffer.dispose();\n    this.onAfterWorldMatrixUpdateObservable.clear();\n    this.onCollideObservable.clear();\n    this.onCollisionPositionChangeObservable.clear();\n    this.onRebuildObservable.clear();\n    _super.prototype.dispose.call(this, doNotRecurse, disposeMaterialAndTextures);\n  };\n  AbstractMesh2.prototype.addChild = function(mesh, preserveScalingSign) {\n    if (preserveScalingSign === void 0) {\n      preserveScalingSign = false;\n    }\n    mesh.setParent(this, preserveScalingSign);\n    return this;\n  };\n  AbstractMesh2.prototype.removeChild = function(mesh, preserveScalingSign) {\n    if (preserveScalingSign === void 0) {\n      preserveScalingSign = false;\n    }\n    mesh.setParent(null, preserveScalingSign);\n    return this;\n  };\n  AbstractMesh2.prototype._initFacetData = function() {\n    var data = this._internalAbstractMeshDataInfo._facetData;\n    if (!data.facetNormals) {\n      data.facetNormals = new Array();\n    }\n    if (!data.facetPositions) {\n      data.facetPositions = new Array();\n    }\n    if (!data.facetPartitioning) {\n      data.facetPartitioning = new Array();\n    }\n    data.facetNb = this.getIndices().length / 3 | 0;\n    data.partitioningSubdivisions = data.partitioningSubdivisions ? data.partitioningSubdivisions : 10;\n    data.partitioningBBoxRatio = data.partitioningBBoxRatio ? data.partitioningBBoxRatio : 1.01;\n    for (var f = 0; f < data.facetNb; f++) {\n      data.facetNormals[f] = Vector3.Zero();\n      data.facetPositions[f] = Vector3.Zero();\n    }\n    data.facetDataEnabled = true;\n    return this;\n  };\n  AbstractMesh2.prototype.updateFacetData = function() {\n    var data = this._internalAbstractMeshDataInfo._facetData;\n    if (!data.facetDataEnabled) {\n      this._initFacetData();\n    }\n    var positions = this.getVerticesData(VertexBuffer.PositionKind);\n    var indices = this.getIndices();\n    var normals = this.getVerticesData(VertexBuffer.NormalKind);\n    var bInfo = this.getBoundingInfo();\n    if (data.facetDepthSort && !data.facetDepthSortEnabled) {\n      data.facetDepthSortEnabled = true;\n      if (indices instanceof Uint16Array) {\n        data.depthSortedIndices = new Uint16Array(indices);\n      } else if (indices instanceof Uint32Array) {\n        data.depthSortedIndices = new Uint32Array(indices);\n      } else {\n        var needs32bits = false;\n        for (var i = 0; i < indices.length; i++) {\n          if (indices[i] > 65535) {\n            needs32bits = true;\n            break;\n          }\n        }\n        if (needs32bits) {\n          data.depthSortedIndices = new Uint32Array(indices);\n        } else {\n          data.depthSortedIndices = new Uint16Array(indices);\n        }\n      }\n      data.facetDepthSortFunction = function(f1, f2) {\n        return f2.sqDistance - f1.sqDistance;\n      };\n      if (!data.facetDepthSortFrom) {\n        var camera = this.getScene().activeCamera;\n        data.facetDepthSortFrom = camera ? camera.position : Vector3.Zero();\n      }\n      data.depthSortedFacets = [];\n      for (var f = 0; f < data.facetNb; f++) {\n        var depthSortedFacet = { ind: f * 3, sqDistance: 0 };\n        data.depthSortedFacets.push(depthSortedFacet);\n      }\n      data.invertedMatrix = Matrix.Identity();\n      data.facetDepthSortOrigin = Vector3.Zero();\n    }\n    data.bbSize.x = bInfo.maximum.x - bInfo.minimum.x > Epsilon ? bInfo.maximum.x - bInfo.minimum.x : Epsilon;\n    data.bbSize.y = bInfo.maximum.y - bInfo.minimum.y > Epsilon ? bInfo.maximum.y - bInfo.minimum.y : Epsilon;\n    data.bbSize.z = bInfo.maximum.z - bInfo.minimum.z > Epsilon ? bInfo.maximum.z - bInfo.minimum.z : Epsilon;\n    var bbSizeMax = data.bbSize.x > data.bbSize.y ? data.bbSize.x : data.bbSize.y;\n    bbSizeMax = bbSizeMax > data.bbSize.z ? bbSizeMax : data.bbSize.z;\n    data.subDiv.max = data.partitioningSubdivisions;\n    data.subDiv.X = Math.floor(data.subDiv.max * data.bbSize.x / bbSizeMax);\n    data.subDiv.Y = Math.floor(data.subDiv.max * data.bbSize.y / bbSizeMax);\n    data.subDiv.Z = Math.floor(data.subDiv.max * data.bbSize.z / bbSizeMax);\n    data.subDiv.X = data.subDiv.X < 1 ? 1 : data.subDiv.X;\n    data.subDiv.Y = data.subDiv.Y < 1 ? 1 : data.subDiv.Y;\n    data.subDiv.Z = data.subDiv.Z < 1 ? 1 : data.subDiv.Z;\n    data.facetParameters.facetNormals = this.getFacetLocalNormals();\n    data.facetParameters.facetPositions = this.getFacetLocalPositions();\n    data.facetParameters.facetPartitioning = this.getFacetLocalPartitioning();\n    data.facetParameters.bInfo = bInfo;\n    data.facetParameters.bbSize = data.bbSize;\n    data.facetParameters.subDiv = data.subDiv;\n    data.facetParameters.ratio = this.partitioningBBoxRatio;\n    data.facetParameters.depthSort = data.facetDepthSort;\n    if (data.facetDepthSort && data.facetDepthSortEnabled) {\n      this.computeWorldMatrix(true);\n      this._worldMatrix.invertToRef(data.invertedMatrix);\n      Vector3.TransformCoordinatesToRef(data.facetDepthSortFrom, data.invertedMatrix, data.facetDepthSortOrigin);\n      data.facetParameters.distanceTo = data.facetDepthSortOrigin;\n    }\n    data.facetParameters.depthSortedFacets = data.depthSortedFacets;\n    if (normals) {\n      VertexData.ComputeNormals(positions, indices, normals, data.facetParameters);\n    }\n    if (data.facetDepthSort && data.facetDepthSortEnabled) {\n      data.depthSortedFacets.sort(data.facetDepthSortFunction);\n      var l = data.depthSortedIndices.length / 3 | 0;\n      for (var f = 0; f < l; f++) {\n        var sind = data.depthSortedFacets[f].ind;\n        data.depthSortedIndices[f * 3] = indices[sind];\n        data.depthSortedIndices[f * 3 + 1] = indices[sind + 1];\n        data.depthSortedIndices[f * 3 + 2] = indices[sind + 2];\n      }\n      this.updateIndices(data.depthSortedIndices, void 0, true);\n    }\n    return this;\n  };\n  AbstractMesh2.prototype.getFacetLocalNormals = function() {\n    var facetData = this._internalAbstractMeshDataInfo._facetData;\n    if (!facetData.facetNormals) {\n      this.updateFacetData();\n    }\n    return facetData.facetNormals;\n  };\n  AbstractMesh2.prototype.getFacetLocalPositions = function() {\n    var facetData = this._internalAbstractMeshDataInfo._facetData;\n    if (!facetData.facetPositions) {\n      this.updateFacetData();\n    }\n    return facetData.facetPositions;\n  };\n  AbstractMesh2.prototype.getFacetLocalPartitioning = function() {\n    var facetData = this._internalAbstractMeshDataInfo._facetData;\n    if (!facetData.facetPartitioning) {\n      this.updateFacetData();\n    }\n    return facetData.facetPartitioning;\n  };\n  AbstractMesh2.prototype.getFacetPosition = function(i) {\n    var pos = Vector3.Zero();\n    this.getFacetPositionToRef(i, pos);\n    return pos;\n  };\n  AbstractMesh2.prototype.getFacetPositionToRef = function(i, ref) {\n    var localPos = this.getFacetLocalPositions()[i];\n    var world = this.getWorldMatrix();\n    Vector3.TransformCoordinatesToRef(localPos, world, ref);\n    return this;\n  };\n  AbstractMesh2.prototype.getFacetNormal = function(i) {\n    var norm = Vector3.Zero();\n    this.getFacetNormalToRef(i, norm);\n    return norm;\n  };\n  AbstractMesh2.prototype.getFacetNormalToRef = function(i, ref) {\n    var localNorm = this.getFacetLocalNormals()[i];\n    Vector3.TransformNormalToRef(localNorm, this.getWorldMatrix(), ref);\n    return this;\n  };\n  AbstractMesh2.prototype.getFacetsAtLocalCoordinates = function(x, y, z) {\n    var bInfo = this.getBoundingInfo();\n    var data = this._internalAbstractMeshDataInfo._facetData;\n    var ox = Math.floor((x - bInfo.minimum.x * data.partitioningBBoxRatio) * data.subDiv.X * data.partitioningBBoxRatio / data.bbSize.x);\n    var oy = Math.floor((y - bInfo.minimum.y * data.partitioningBBoxRatio) * data.subDiv.Y * data.partitioningBBoxRatio / data.bbSize.y);\n    var oz = Math.floor((z - bInfo.minimum.z * data.partitioningBBoxRatio) * data.subDiv.Z * data.partitioningBBoxRatio / data.bbSize.z);\n    if (ox < 0 || ox > data.subDiv.max || oy < 0 || oy > data.subDiv.max || oz < 0 || oz > data.subDiv.max) {\n      return null;\n    }\n    return data.facetPartitioning[ox + data.subDiv.max * oy + data.subDiv.max * data.subDiv.max * oz];\n  };\n  AbstractMesh2.prototype.getClosestFacetAtCoordinates = function(x, y, z, projected, checkFace, facing) {\n    if (checkFace === void 0) {\n      checkFace = false;\n    }\n    if (facing === void 0) {\n      facing = true;\n    }\n    var world = this.getWorldMatrix();\n    var invMat = TmpVectors.Matrix[5];\n    world.invertToRef(invMat);\n    var invVect = TmpVectors.Vector3[8];\n    Vector3.TransformCoordinatesFromFloatsToRef(x, y, z, invMat, invVect);\n    var closest = this.getClosestFacetAtLocalCoordinates(invVect.x, invVect.y, invVect.z, projected, checkFace, facing);\n    if (projected) {\n      Vector3.TransformCoordinatesFromFloatsToRef(projected.x, projected.y, projected.z, world, projected);\n    }\n    return closest;\n  };\n  AbstractMesh2.prototype.getClosestFacetAtLocalCoordinates = function(x, y, z, projected, checkFace, facing) {\n    if (checkFace === void 0) {\n      checkFace = false;\n    }\n    if (facing === void 0) {\n      facing = true;\n    }\n    var closest = null;\n    var tmpx = 0;\n    var tmpy = 0;\n    var tmpz = 0;\n    var d = 0;\n    var t0 = 0;\n    var projx = 0;\n    var projy = 0;\n    var projz = 0;\n    var facetPositions = this.getFacetLocalPositions();\n    var facetNormals = this.getFacetLocalNormals();\n    var facetsInBlock = this.getFacetsAtLocalCoordinates(x, y, z);\n    if (!facetsInBlock) {\n      return null;\n    }\n    var shortest = Number.MAX_VALUE;\n    var tmpDistance = shortest;\n    var fib;\n    var norm;\n    var p0;\n    for (var idx = 0; idx < facetsInBlock.length; idx++) {\n      fib = facetsInBlock[idx];\n      norm = facetNormals[fib];\n      p0 = facetPositions[fib];\n      d = (x - p0.x) * norm.x + (y - p0.y) * norm.y + (z - p0.z) * norm.z;\n      if (!checkFace || checkFace && facing && d >= 0 || checkFace && !facing && d <= 0) {\n        d = norm.x * p0.x + norm.y * p0.y + norm.z * p0.z;\n        t0 = -(norm.x * x + norm.y * y + norm.z * z - d) / (norm.x * norm.x + norm.y * norm.y + norm.z * norm.z);\n        projx = x + norm.x * t0;\n        projy = y + norm.y * t0;\n        projz = z + norm.z * t0;\n        tmpx = projx - x;\n        tmpy = projy - y;\n        tmpz = projz - z;\n        tmpDistance = tmpx * tmpx + tmpy * tmpy + tmpz * tmpz;\n        if (tmpDistance < shortest) {\n          shortest = tmpDistance;\n          closest = fib;\n          if (projected) {\n            projected.x = projx;\n            projected.y = projy;\n            projected.z = projz;\n          }\n        }\n      }\n    }\n    return closest;\n  };\n  AbstractMesh2.prototype.getFacetDataParameters = function() {\n    return this._internalAbstractMeshDataInfo._facetData.facetParameters;\n  };\n  AbstractMesh2.prototype.disableFacetData = function() {\n    var facetData = this._internalAbstractMeshDataInfo._facetData;\n    if (facetData.facetDataEnabled) {\n      facetData.facetDataEnabled = false;\n      facetData.facetPositions = new Array();\n      facetData.facetNormals = new Array();\n      facetData.facetPartitioning = new Array();\n      facetData.facetParameters = null;\n      facetData.depthSortedIndices = new Uint32Array(0);\n    }\n    return this;\n  };\n  AbstractMesh2.prototype.updateIndices = function(indices, offset, gpuMemoryOnly) {\n    return this;\n  };\n  AbstractMesh2.prototype.createNormals = function(updatable) {\n    var positions = this.getVerticesData(VertexBuffer.PositionKind);\n    var indices = this.getIndices();\n    var normals;\n    if (this.isVerticesDataPresent(VertexBuffer.NormalKind)) {\n      normals = this.getVerticesData(VertexBuffer.NormalKind);\n    } else {\n      normals = [];\n    }\n    VertexData.ComputeNormals(positions, indices, normals, { useRightHandedSystem: this.getScene().useRightHandedSystem });\n    this.setVerticesData(VertexBuffer.NormalKind, normals, updatable);\n    return this;\n  };\n  AbstractMesh2.prototype.alignWithNormal = function(normal, upDirection) {\n    if (!upDirection) {\n      upDirection = Axis.Y;\n    }\n    var axisX = TmpVectors.Vector3[0];\n    var axisZ = TmpVectors.Vector3[1];\n    Vector3.CrossToRef(upDirection, normal, axisZ);\n    Vector3.CrossToRef(normal, axisZ, axisX);\n    if (this.rotationQuaternion) {\n      Quaternion.RotationQuaternionFromAxisToRef(axisX, normal, axisZ, this.rotationQuaternion);\n    } else {\n      Vector3.RotationFromAxisToRef(axisX, normal, axisZ, this.rotation);\n    }\n    return this;\n  };\n  AbstractMesh2.prototype._checkOcclusionQuery = function() {\n    return false;\n  };\n  AbstractMesh2.prototype.disableEdgesRendering = function() {\n    throw _WarnImport(\"EdgesRenderer\");\n  };\n  AbstractMesh2.prototype.enableEdgesRendering = function(epsilon, checkVerticesInsteadOfIndices, options) {\n    throw _WarnImport(\"EdgesRenderer\");\n  };\n  AbstractMesh2.prototype.getConnectedParticleSystems = function() {\n    var _this = this;\n    return this._scene.particleSystems.filter(function(particleSystem) {\n      return particleSystem.emitter === _this;\n    });\n  };\n  AbstractMesh2.OCCLUSION_TYPE_NONE = 0;\n  AbstractMesh2.OCCLUSION_TYPE_OPTIMISTIC = 1;\n  AbstractMesh2.OCCLUSION_TYPE_STRICT = 2;\n  AbstractMesh2.OCCLUSION_ALGORITHM_TYPE_ACCURATE = 0;\n  AbstractMesh2.OCCLUSION_ALGORITHM_TYPE_CONSERVATIVE = 1;\n  AbstractMesh2.CULLINGSTRATEGY_STANDARD = 0;\n  AbstractMesh2.CULLINGSTRATEGY_BOUNDINGSPHERE_ONLY = 1;\n  AbstractMesh2.CULLINGSTRATEGY_OPTIMISTIC_INCLUSION = 2;\n  AbstractMesh2.CULLINGSTRATEGY_OPTIMISTIC_INCLUSION_THEN_BSPHERE_ONLY = 3;\n  return AbstractMesh2;\n}(TransformNode);\nRegisterClass(\"BABYLON.AbstractMesh\", AbstractMesh);\nvar Viewport = function() {\n  function Viewport2(x, y, width, height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n  Viewport2.prototype.toGlobal = function(renderWidth, renderHeight) {\n    return new Viewport2(this.x * renderWidth, this.y * renderHeight, this.width * renderWidth, this.height * renderHeight);\n  };\n  Viewport2.prototype.toGlobalToRef = function(renderWidth, renderHeight, ref) {\n    ref.x = this.x * renderWidth;\n    ref.y = this.y * renderHeight;\n    ref.width = this.width * renderWidth;\n    ref.height = this.height * renderHeight;\n    return this;\n  };\n  Viewport2.prototype.clone = function() {\n    return new Viewport2(this.x, this.y, this.width, this.height);\n  };\n  return Viewport2;\n}();\nvar Camera = function(_super) {\n  __extends(Camera2, _super);\n  function Camera2(name2, position, scene, setActiveOnSceneIfNoneActive) {\n    if (setActiveOnSceneIfNoneActive === void 0) {\n      setActiveOnSceneIfNoneActive = true;\n    }\n    var _this = _super.call(this, name2, scene) || this;\n    _this._position = Vector3.Zero();\n    _this._upVector = Vector3.Up();\n    _this.orthoLeft = null;\n    _this.orthoRight = null;\n    _this.orthoBottom = null;\n    _this.orthoTop = null;\n    _this.fov = 0.8;\n    _this.projectionPlaneTilt = 0;\n    _this.minZ = 1;\n    _this.maxZ = 1e4;\n    _this.inertia = 0.9;\n    _this.mode = Camera2.PERSPECTIVE_CAMERA;\n    _this.isIntermediate = false;\n    _this.viewport = new Viewport(0, 0, 1, 1);\n    _this.layerMask = 268435455;\n    _this.fovMode = Camera2.FOVMODE_VERTICAL_FIXED;\n    _this.cameraRigMode = Camera2.RIG_MODE_NONE;\n    _this.customRenderTargets = new Array();\n    _this.outputRenderTarget = null;\n    _this.onViewMatrixChangedObservable = new Observable();\n    _this.onProjectionMatrixChangedObservable = new Observable();\n    _this.onAfterCheckInputsObservable = new Observable();\n    _this.onRestoreStateObservable = new Observable();\n    _this.isRigCamera = false;\n    _this._rigCameras = new Array();\n    _this._webvrViewMatrix = Matrix.Identity();\n    _this._skipRendering = false;\n    _this._projectionMatrix = new Matrix();\n    _this._postProcesses = new Array();\n    _this._activeMeshes = new SmartArray(256);\n    _this._globalPosition = Vector3.Zero();\n    _this._computedViewMatrix = Matrix.Identity();\n    _this._doNotComputeProjectionMatrix = false;\n    _this._transformMatrix = Matrix.Zero();\n    _this._refreshFrustumPlanes = true;\n    _this._absoluteRotation = Quaternion.Identity();\n    _this._isCamera = true;\n    _this._isLeftCamera = false;\n    _this._isRightCamera = false;\n    _this.getScene().addCamera(_this);\n    if (setActiveOnSceneIfNoneActive && !_this.getScene().activeCamera) {\n      _this.getScene().activeCamera = _this;\n    }\n    _this.position = position;\n    _this.renderPassId = _this.getScene().getEngine().createRenderPassId(\"Camera \".concat(name2));\n    return _this;\n  }\n  Object.defineProperty(Camera2.prototype, \"position\", {\n    get: function() {\n      return this._position;\n    },\n    set: function(newPosition) {\n      this._position = newPosition;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Camera2.prototype, \"upVector\", {\n    get: function() {\n      return this._upVector;\n    },\n    set: function(vec) {\n      this._upVector = vec;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Camera2.prototype, \"screenArea\", {\n    get: function() {\n      var _a, _b, _c, _d;\n      var x = 0;\n      var y = 0;\n      if (this.mode === Camera2.PERSPECTIVE_CAMERA) {\n        if (this.fovMode === Camera2.FOVMODE_VERTICAL_FIXED) {\n          y = this.minZ * 2 * Math.tan(this.fov / 2);\n          x = this.getEngine().getAspectRatio(this) * y;\n        } else {\n          x = this.minZ * 2 * Math.tan(this.fov / 2);\n          y = x / this.getEngine().getAspectRatio(this);\n        }\n      } else {\n        var halfWidth = this.getEngine().getRenderWidth() / 2;\n        var halfHeight = this.getEngine().getRenderHeight() / 2;\n        x = ((_a = this.orthoRight) !== null && _a !== void 0 ? _a : halfWidth) - ((_b = this.orthoLeft) !== null && _b !== void 0 ? _b : -halfWidth);\n        y = ((_c = this.orthoTop) !== null && _c !== void 0 ? _c : halfHeight) - ((_d = this.orthoBottom) !== null && _d !== void 0 ? _d : -halfHeight);\n      }\n      return x * y;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Camera2.prototype.storeState = function() {\n    this._stateStored = true;\n    this._storedFov = this.fov;\n    return this;\n  };\n  Camera2.prototype._restoreStateValues = function() {\n    if (!this._stateStored) {\n      return false;\n    }\n    this.fov = this._storedFov;\n    return true;\n  };\n  Camera2.prototype.restoreState = function() {\n    if (this._restoreStateValues()) {\n      this.onRestoreStateObservable.notifyObservers(this);\n      return true;\n    }\n    return false;\n  };\n  Camera2.prototype.getClassName = function() {\n    return \"Camera\";\n  };\n  Camera2.prototype.toString = function(fullDetails) {\n    var ret = \"Name: \" + this.name;\n    ret += \", type: \" + this.getClassName();\n    if (this.animations) {\n      for (var i = 0; i < this.animations.length; i++) {\n        ret += \", animation[0]: \" + this.animations[i].toString(fullDetails);\n      }\n    }\n    return ret;\n  };\n  Camera2.prototype.applyVerticalCorrection = function() {\n    var rot = this.absoluteRotation.toEulerAngles();\n    this.projectionPlaneTilt = this._scene.useRightHandedSystem ? -rot.x : rot.x;\n  };\n  Object.defineProperty(Camera2.prototype, \"globalPosition\", {\n    get: function() {\n      return this._globalPosition;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Camera2.prototype.getActiveMeshes = function() {\n    return this._activeMeshes;\n  };\n  Camera2.prototype.isActiveMesh = function(mesh) {\n    return this._activeMeshes.indexOf(mesh) !== -1;\n  };\n  Camera2.prototype.isReady = function(completeCheck) {\n    if (completeCheck === void 0) {\n      completeCheck = false;\n    }\n    if (completeCheck) {\n      for (var _i = 0, _a = this._postProcesses; _i < _a.length; _i++) {\n        var pp = _a[_i];\n        if (pp && !pp.isReady()) {\n          return false;\n        }\n      }\n    }\n    return _super.prototype.isReady.call(this, completeCheck);\n  };\n  Camera2.prototype._initCache = function() {\n    _super.prototype._initCache.call(this);\n    this._cache.position = new Vector3(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n    this._cache.upVector = new Vector3(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n    this._cache.mode = void 0;\n    this._cache.minZ = void 0;\n    this._cache.maxZ = void 0;\n    this._cache.fov = void 0;\n    this._cache.fovMode = void 0;\n    this._cache.aspectRatio = void 0;\n    this._cache.orthoLeft = void 0;\n    this._cache.orthoRight = void 0;\n    this._cache.orthoBottom = void 0;\n    this._cache.orthoTop = void 0;\n    this._cache.renderWidth = void 0;\n    this._cache.renderHeight = void 0;\n  };\n  Camera2.prototype._updateCache = function(ignoreParentClass) {\n    if (!ignoreParentClass) {\n      _super.prototype._updateCache.call(this);\n    }\n    this._cache.position.copyFrom(this.position);\n    this._cache.upVector.copyFrom(this.upVector);\n  };\n  Camera2.prototype._isSynchronized = function() {\n    return this._isSynchronizedViewMatrix() && this._isSynchronizedProjectionMatrix();\n  };\n  Camera2.prototype._isSynchronizedViewMatrix = function() {\n    if (!_super.prototype._isSynchronized.call(this)) {\n      return false;\n    }\n    return this._cache.position.equals(this.position) && this._cache.upVector.equals(this.upVector) && this.isSynchronizedWithParent();\n  };\n  Camera2.prototype._isSynchronizedProjectionMatrix = function() {\n    var check = this._cache.mode === this.mode && this._cache.minZ === this.minZ && this._cache.maxZ === this.maxZ;\n    if (!check) {\n      return false;\n    }\n    var engine = this.getEngine();\n    if (this.mode === Camera2.PERSPECTIVE_CAMERA) {\n      check = this._cache.fov === this.fov && this._cache.fovMode === this.fovMode && this._cache.aspectRatio === engine.getAspectRatio(this) && this._cache.projectionPlaneTilt === this.projectionPlaneTilt;\n    } else {\n      check = this._cache.orthoLeft === this.orthoLeft && this._cache.orthoRight === this.orthoRight && this._cache.orthoBottom === this.orthoBottom && this._cache.orthoTop === this.orthoTop && this._cache.renderWidth === engine.getRenderWidth() && this._cache.renderHeight === engine.getRenderHeight();\n    }\n    return check;\n  };\n  Camera2.prototype.attachControl = function(_ignored, _noPreventDefault) {\n  };\n  Camera2.prototype.detachControl = function(_ignored) {\n  };\n  Camera2.prototype.update = function() {\n    this._checkInputs();\n    if (this.cameraRigMode !== Camera2.RIG_MODE_NONE) {\n      this._updateRigCameras();\n    }\n  };\n  Camera2.prototype._checkInputs = function() {\n    this.onAfterCheckInputsObservable.notifyObservers(this);\n  };\n  Object.defineProperty(Camera2.prototype, \"rigCameras\", {\n    get: function() {\n      return this._rigCameras;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Camera2.prototype, \"rigPostProcess\", {\n    get: function() {\n      return this._rigPostProcess;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Camera2.prototype._getFirstPostProcess = function() {\n    for (var ppIndex = 0; ppIndex < this._postProcesses.length; ppIndex++) {\n      if (this._postProcesses[ppIndex] !== null) {\n        return this._postProcesses[ppIndex];\n      }\n    }\n    return null;\n  };\n  Camera2.prototype._cascadePostProcessesToRigCams = function() {\n    var firstPostProcess = this._getFirstPostProcess();\n    if (firstPostProcess) {\n      firstPostProcess.markTextureDirty();\n    }\n    for (var i = 0, len = this._rigCameras.length; i < len; i++) {\n      var cam = this._rigCameras[i];\n      var rigPostProcess = cam._rigPostProcess;\n      if (rigPostProcess) {\n        var isPass = rigPostProcess.getEffectName() === \"pass\";\n        if (isPass) {\n          cam.isIntermediate = this._postProcesses.length === 0;\n        }\n        cam._postProcesses = this._postProcesses.slice(0).concat(rigPostProcess);\n        rigPostProcess.markTextureDirty();\n      } else {\n        cam._postProcesses = this._postProcesses.slice(0);\n      }\n    }\n  };\n  Camera2.prototype.attachPostProcess = function(postProcess, insertAt) {\n    if (insertAt === void 0) {\n      insertAt = null;\n    }\n    if (!postProcess.isReusable() && this._postProcesses.indexOf(postProcess) > -1) {\n      Logger.Error(\"You're trying to reuse a post process not defined as reusable.\");\n      return 0;\n    }\n    if (insertAt == null || insertAt < 0) {\n      this._postProcesses.push(postProcess);\n    } else if (this._postProcesses[insertAt] === null) {\n      this._postProcesses[insertAt] = postProcess;\n    } else {\n      this._postProcesses.splice(insertAt, 0, postProcess);\n    }\n    this._cascadePostProcessesToRigCams();\n    if (this._scene.prePassRenderer) {\n      this._scene.prePassRenderer.markAsDirty();\n    }\n    return this._postProcesses.indexOf(postProcess);\n  };\n  Camera2.prototype.detachPostProcess = function(postProcess) {\n    var idx = this._postProcesses.indexOf(postProcess);\n    if (idx !== -1) {\n      this._postProcesses[idx] = null;\n    }\n    if (this._scene.prePassRenderer) {\n      this._scene.prePassRenderer.markAsDirty();\n    }\n    this._cascadePostProcessesToRigCams();\n  };\n  Camera2.prototype.getWorldMatrix = function() {\n    if (this._isSynchronizedViewMatrix()) {\n      return this._worldMatrix;\n    }\n    this.getViewMatrix();\n    return this._worldMatrix;\n  };\n  Camera2.prototype._getViewMatrix = function() {\n    return Matrix.Identity();\n  };\n  Camera2.prototype.getViewMatrix = function(force) {\n    if (!force && this._isSynchronizedViewMatrix()) {\n      return this._computedViewMatrix;\n    }\n    this.updateCache();\n    this._computedViewMatrix = this._getViewMatrix();\n    this._currentRenderId = this.getScene().getRenderId();\n    this._childUpdateId++;\n    this._refreshFrustumPlanes = true;\n    if (this._cameraRigParams && this._cameraRigParams.vrPreViewMatrix) {\n      this._computedViewMatrix.multiplyToRef(this._cameraRigParams.vrPreViewMatrix, this._computedViewMatrix);\n    }\n    if (this.parent && this.parent.onViewMatrixChangedObservable) {\n      this.parent.onViewMatrixChangedObservable.notifyObservers(this.parent);\n    }\n    this.onViewMatrixChangedObservable.notifyObservers(this);\n    this._computedViewMatrix.invertToRef(this._worldMatrix);\n    return this._computedViewMatrix;\n  };\n  Camera2.prototype.freezeProjectionMatrix = function(projection) {\n    this._doNotComputeProjectionMatrix = true;\n    if (projection !== void 0) {\n      this._projectionMatrix = projection;\n    }\n  };\n  Camera2.prototype.unfreezeProjectionMatrix = function() {\n    this._doNotComputeProjectionMatrix = false;\n  };\n  Camera2.prototype.getProjectionMatrix = function(force) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    if (this._doNotComputeProjectionMatrix || !force && this._isSynchronizedProjectionMatrix()) {\n      return this._projectionMatrix;\n    }\n    this._cache.mode = this.mode;\n    this._cache.minZ = this.minZ;\n    this._cache.maxZ = this.maxZ;\n    this._refreshFrustumPlanes = true;\n    var engine = this.getEngine();\n    var scene = this.getScene();\n    if (this.mode === Camera2.PERSPECTIVE_CAMERA) {\n      this._cache.fov = this.fov;\n      this._cache.fovMode = this.fovMode;\n      this._cache.aspectRatio = engine.getAspectRatio(this);\n      this._cache.projectionPlaneTilt = this.projectionPlaneTilt;\n      if (this.minZ <= 0) {\n        this.minZ = 0.1;\n      }\n      var reverseDepth = engine.useReverseDepthBuffer;\n      var getProjectionMatrix = void 0;\n      if (scene.useRightHandedSystem) {\n        getProjectionMatrix = Matrix.PerspectiveFovRHToRef;\n      } else {\n        getProjectionMatrix = Matrix.PerspectiveFovLHToRef;\n      }\n      getProjectionMatrix(this.fov, engine.getAspectRatio(this), reverseDepth ? this.maxZ : this.minZ, reverseDepth ? this.minZ : this.maxZ, this._projectionMatrix, this.fovMode === Camera2.FOVMODE_VERTICAL_FIXED, engine.isNDCHalfZRange, this.projectionPlaneTilt, engine.useReverseDepthBuffer);\n    } else {\n      var halfWidth = engine.getRenderWidth() / 2;\n      var halfHeight = engine.getRenderHeight() / 2;\n      if (scene.useRightHandedSystem) {\n        Matrix.OrthoOffCenterRHToRef((_a = this.orthoLeft) !== null && _a !== void 0 ? _a : -halfWidth, (_b = this.orthoRight) !== null && _b !== void 0 ? _b : halfWidth, (_c = this.orthoBottom) !== null && _c !== void 0 ? _c : -halfHeight, (_d = this.orthoTop) !== null && _d !== void 0 ? _d : halfHeight, this.minZ, this.maxZ, this._projectionMatrix, engine.isNDCHalfZRange);\n      } else {\n        Matrix.OrthoOffCenterLHToRef((_e = this.orthoLeft) !== null && _e !== void 0 ? _e : -halfWidth, (_f = this.orthoRight) !== null && _f !== void 0 ? _f : halfWidth, (_g = this.orthoBottom) !== null && _g !== void 0 ? _g : -halfHeight, (_h = this.orthoTop) !== null && _h !== void 0 ? _h : halfHeight, this.minZ, this.maxZ, this._projectionMatrix, engine.isNDCHalfZRange);\n      }\n      this._cache.orthoLeft = this.orthoLeft;\n      this._cache.orthoRight = this.orthoRight;\n      this._cache.orthoBottom = this.orthoBottom;\n      this._cache.orthoTop = this.orthoTop;\n      this._cache.renderWidth = engine.getRenderWidth();\n      this._cache.renderHeight = engine.getRenderHeight();\n    }\n    this.onProjectionMatrixChangedObservable.notifyObservers(this);\n    return this._projectionMatrix;\n  };\n  Camera2.prototype.getTransformationMatrix = function() {\n    this._computedViewMatrix.multiplyToRef(this._projectionMatrix, this._transformMatrix);\n    return this._transformMatrix;\n  };\n  Camera2.prototype._updateFrustumPlanes = function() {\n    if (!this._refreshFrustumPlanes) {\n      return;\n    }\n    this.getTransformationMatrix();\n    if (!this._frustumPlanes) {\n      this._frustumPlanes = Frustum.GetPlanes(this._transformMatrix);\n    } else {\n      Frustum.GetPlanesToRef(this._transformMatrix, this._frustumPlanes);\n    }\n    this._refreshFrustumPlanes = false;\n  };\n  Camera2.prototype.isInFrustum = function(target, checkRigCameras) {\n    if (checkRigCameras === void 0) {\n      checkRigCameras = false;\n    }\n    this._updateFrustumPlanes();\n    if (checkRigCameras && this.rigCameras.length > 0) {\n      var result_1 = false;\n      this.rigCameras.forEach(function(cam) {\n        cam._updateFrustumPlanes();\n        result_1 = result_1 || target.isInFrustum(cam._frustumPlanes);\n      });\n      return result_1;\n    } else {\n      return target.isInFrustum(this._frustumPlanes);\n    }\n  };\n  Camera2.prototype.isCompletelyInFrustum = function(target) {\n    this._updateFrustumPlanes();\n    return target.isCompletelyInFrustum(this._frustumPlanes);\n  };\n  Camera2.prototype.getForwardRay = function(length, transform, origin) {\n    throw _WarnImport(\"Ray\");\n  };\n  Camera2.prototype.getForwardRayToRef = function(refRay, length, transform, origin) {\n    throw _WarnImport(\"Ray\");\n  };\n  Camera2.prototype.dispose = function(doNotRecurse, disposeMaterialAndTextures) {\n    if (disposeMaterialAndTextures === void 0) {\n      disposeMaterialAndTextures = false;\n    }\n    this.onViewMatrixChangedObservable.clear();\n    this.onProjectionMatrixChangedObservable.clear();\n    this.onAfterCheckInputsObservable.clear();\n    this.onRestoreStateObservable.clear();\n    if (this.inputs) {\n      this.inputs.clear();\n    }\n    this.getScene().stopAnimation(this);\n    this.getScene().removeCamera(this);\n    while (this._rigCameras.length > 0) {\n      var camera = this._rigCameras.pop();\n      if (camera) {\n        camera.dispose();\n      }\n    }\n    if (this._parentContainer) {\n      var index = this._parentContainer.cameras.indexOf(this);\n      if (index > -1) {\n        this._parentContainer.cameras.splice(index, 1);\n      }\n      this._parentContainer = null;\n    }\n    if (this._rigPostProcess) {\n      this._rigPostProcess.dispose(this);\n      this._rigPostProcess = null;\n      this._postProcesses = [];\n    } else if (this.cameraRigMode !== Camera2.RIG_MODE_NONE) {\n      this._rigPostProcess = null;\n      this._postProcesses = [];\n    } else {\n      var i_1 = this._postProcesses.length;\n      while (--i_1 >= 0) {\n        var postProcess = this._postProcesses[i_1];\n        if (postProcess) {\n          postProcess.dispose(this);\n        }\n      }\n    }\n    var i = this.customRenderTargets.length;\n    while (--i >= 0) {\n      this.customRenderTargets[i].dispose();\n    }\n    this.customRenderTargets = [];\n    this._activeMeshes.dispose();\n    this.getScene().getEngine().releaseRenderPassId(this.renderPassId);\n    _super.prototype.dispose.call(this, doNotRecurse, disposeMaterialAndTextures);\n  };\n  Object.defineProperty(Camera2.prototype, \"isLeftCamera\", {\n    get: function() {\n      return this._isLeftCamera;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Camera2.prototype, \"isRightCamera\", {\n    get: function() {\n      return this._isRightCamera;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Camera2.prototype, \"leftCamera\", {\n    get: function() {\n      if (this._rigCameras.length < 1) {\n        return null;\n      }\n      return this._rigCameras[0];\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Camera2.prototype, \"rightCamera\", {\n    get: function() {\n      if (this._rigCameras.length < 2) {\n        return null;\n      }\n      return this._rigCameras[1];\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Camera2.prototype.getLeftTarget = function() {\n    if (this._rigCameras.length < 1) {\n      return null;\n    }\n    return this._rigCameras[0].getTarget();\n  };\n  Camera2.prototype.getRightTarget = function() {\n    if (this._rigCameras.length < 2) {\n      return null;\n    }\n    return this._rigCameras[1].getTarget();\n  };\n  Camera2.prototype.setCameraRigMode = function(mode, rigParams) {\n    if (this.cameraRigMode === mode) {\n      return;\n    }\n    while (this._rigCameras.length > 0) {\n      var camera = this._rigCameras.pop();\n      if (camera) {\n        camera.dispose();\n      }\n    }\n    this.cameraRigMode = mode;\n    this._cameraRigParams = {};\n    this._cameraRigParams.interaxialDistance = rigParams.interaxialDistance || 0.0637;\n    this._cameraRigParams.stereoHalfAngle = Tools.ToRadians(this._cameraRigParams.interaxialDistance / 0.0637);\n    if (this.cameraRigMode !== Camera2.RIG_MODE_NONE) {\n      var leftCamera = this.createRigCamera(this.name + \"_L\", 0);\n      if (leftCamera) {\n        leftCamera._isLeftCamera = true;\n      }\n      var rightCamera = this.createRigCamera(this.name + \"_R\", 1);\n      if (rightCamera) {\n        rightCamera._isRightCamera = true;\n      }\n      if (leftCamera && rightCamera) {\n        this._rigCameras.push(leftCamera);\n        this._rigCameras.push(rightCamera);\n      }\n    }\n    this._setRigMode(rigParams);\n    this._cascadePostProcessesToRigCams();\n    this.update();\n  };\n  Camera2.prototype._setRigMode = function(rigParams) {\n  };\n  Camera2.prototype._getVRProjectionMatrix = function() {\n    Matrix.PerspectiveFovLHToRef(this._cameraRigParams.vrMetrics.aspectRatioFov, this._cameraRigParams.vrMetrics.aspectRatio, this.minZ, this.maxZ, this._cameraRigParams.vrWorkMatrix, true, this.getEngine().isNDCHalfZRange);\n    this._cameraRigParams.vrWorkMatrix.multiplyToRef(this._cameraRigParams.vrHMatrix, this._projectionMatrix);\n    return this._projectionMatrix;\n  };\n  Camera2.prototype._updateCameraRotationMatrix = function() {\n  };\n  Camera2.prototype._updateWebVRCameraRotationMatrix = function() {\n  };\n  Camera2.prototype._getWebVRProjectionMatrix = function() {\n    return Matrix.Identity();\n  };\n  Camera2.prototype._getWebVRViewMatrix = function() {\n    return Matrix.Identity();\n  };\n  Camera2.prototype.setCameraRigParameter = function(name2, value) {\n    if (!this._cameraRigParams) {\n      this._cameraRigParams = {};\n    }\n    this._cameraRigParams[name2] = value;\n    if (name2 === \"interaxialDistance\") {\n      this._cameraRigParams.stereoHalfAngle = Tools.ToRadians(value / 0.0637);\n    }\n  };\n  Camera2.prototype.createRigCamera = function(name2, cameraIndex) {\n    return null;\n  };\n  Camera2.prototype._updateRigCameras = function() {\n    for (var i = 0; i < this._rigCameras.length; i++) {\n      this._rigCameras[i].minZ = this.minZ;\n      this._rigCameras[i].maxZ = this.maxZ;\n      this._rigCameras[i].fov = this.fov;\n      this._rigCameras[i].upVector.copyFrom(this.upVector);\n    }\n    if (this.cameraRigMode === Camera2.RIG_MODE_STEREOSCOPIC_ANAGLYPH) {\n      this._rigCameras[0].viewport = this._rigCameras[1].viewport = this.viewport;\n    }\n  };\n  Camera2.prototype._setupInputs = function() {\n  };\n  Camera2.prototype.serialize = function() {\n    var serializationObject = SerializationHelper.Serialize(this);\n    serializationObject.uniqueId = this.uniqueId;\n    serializationObject.type = this.getClassName();\n    if (this.parent) {\n      serializationObject.parentId = this.parent.uniqueId;\n    }\n    if (this.inputs) {\n      this.inputs.serialize(serializationObject);\n    }\n    SerializationHelper.AppendSerializedAnimations(this, serializationObject);\n    serializationObject.ranges = this.serializeAnimationRanges();\n    serializationObject.isEnabled = this.isEnabled();\n    return serializationObject;\n  };\n  Camera2.prototype.clone = function(name2, newParent) {\n    if (newParent === void 0) {\n      newParent = null;\n    }\n    var camera = SerializationHelper.Clone(Camera2.GetConstructorFromName(this.getClassName(), name2, this.getScene(), this.interaxialDistance, this.isStereoscopicSideBySide), this);\n    camera.name = name2;\n    camera.parent = newParent;\n    this.onClonedObservable.notifyObservers(camera);\n    return camera;\n  };\n  Camera2.prototype.getDirection = function(localAxis) {\n    var result = Vector3.Zero();\n    this.getDirectionToRef(localAxis, result);\n    return result;\n  };\n  Object.defineProperty(Camera2.prototype, \"absoluteRotation\", {\n    get: function() {\n      this.getWorldMatrix().decompose(void 0, this._absoluteRotation);\n      return this._absoluteRotation;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Camera2.prototype.getDirectionToRef = function(localAxis, result) {\n    Vector3.TransformNormalToRef(localAxis, this.getWorldMatrix(), result);\n  };\n  Camera2.GetConstructorFromName = function(type, name2, scene, interaxial_distance, isStereoscopicSideBySide) {\n    if (interaxial_distance === void 0) {\n      interaxial_distance = 0;\n    }\n    if (isStereoscopicSideBySide === void 0) {\n      isStereoscopicSideBySide = true;\n    }\n    var constructorFunc = Node.Construct(type, name2, scene, {\n      interaxial_distance,\n      isStereoscopicSideBySide\n    });\n    if (constructorFunc) {\n      return constructorFunc;\n    }\n    return function() {\n      return Camera2._CreateDefaultParsedCamera(name2, scene);\n    };\n  };\n  Camera2.prototype.computeWorldMatrix = function() {\n    return this.getWorldMatrix();\n  };\n  Camera2.Parse = function(parsedCamera, scene) {\n    var type = parsedCamera.type;\n    var construct = Camera2.GetConstructorFromName(type, parsedCamera.name, scene, parsedCamera.interaxial_distance, parsedCamera.isStereoscopicSideBySide);\n    var camera = SerializationHelper.Parse(construct, parsedCamera, scene);\n    if (parsedCamera.parentId !== void 0) {\n      camera._waitingParentId = parsedCamera.parentId;\n    }\n    if (camera.inputs) {\n      camera.inputs.parse(parsedCamera);\n      camera._setupInputs();\n    }\n    if (parsedCamera.upVector) {\n      camera.upVector = Vector3.FromArray(parsedCamera.upVector);\n    }\n    if (camera.setPosition) {\n      camera.position.copyFromFloats(0, 0, 0);\n      camera.setPosition(Vector3.FromArray(parsedCamera.position));\n    }\n    if (parsedCamera.target) {\n      if (camera.setTarget) {\n        camera.setTarget(Vector3.FromArray(parsedCamera.target));\n      }\n    }\n    if (parsedCamera.cameraRigMode) {\n      var rigParams = parsedCamera.interaxial_distance ? { interaxialDistance: parsedCamera.interaxial_distance } : {};\n      camera.setCameraRigMode(parsedCamera.cameraRigMode, rigParams);\n    }\n    if (parsedCamera.animations) {\n      for (var animationIndex = 0; animationIndex < parsedCamera.animations.length; animationIndex++) {\n        var parsedAnimation = parsedCamera.animations[animationIndex];\n        var internalClass = GetClass(\"BABYLON.Animation\");\n        if (internalClass) {\n          camera.animations.push(internalClass.Parse(parsedAnimation));\n        }\n      }\n      Node.ParseAnimationRanges(camera, parsedCamera, scene);\n    }\n    if (parsedCamera.autoAnimate) {\n      scene.beginAnimation(camera, parsedCamera.autoAnimateFrom, parsedCamera.autoAnimateTo, parsedCamera.autoAnimateLoop, parsedCamera.autoAnimateSpeed || 1);\n    }\n    if (parsedCamera.isEnabled !== void 0) {\n      camera.setEnabled(parsedCamera.isEnabled);\n    }\n    return camera;\n  };\n  Camera2._CreateDefaultParsedCamera = function(name2, scene) {\n    throw _WarnImport(\"UniversalCamera\");\n  };\n  Camera2.PERSPECTIVE_CAMERA = 0;\n  Camera2.ORTHOGRAPHIC_CAMERA = 1;\n  Camera2.FOVMODE_VERTICAL_FIXED = 0;\n  Camera2.FOVMODE_HORIZONTAL_FIXED = 1;\n  Camera2.RIG_MODE_NONE = 0;\n  Camera2.RIG_MODE_STEREOSCOPIC_ANAGLYPH = 10;\n  Camera2.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL = 11;\n  Camera2.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED = 12;\n  Camera2.RIG_MODE_STEREOSCOPIC_OVERUNDER = 13;\n  Camera2.RIG_MODE_STEREOSCOPIC_INTERLACED = 14;\n  Camera2.RIG_MODE_VR = 20;\n  Camera2.RIG_MODE_WEBVR = 21;\n  Camera2.RIG_MODE_CUSTOM = 22;\n  Camera2.ForceAttachControlToAlwaysPreventDefault = false;\n  __decorate([\n    serializeAsVector3(\"position\")\n  ], Camera2.prototype, \"_position\", void 0);\n  __decorate([\n    serializeAsVector3(\"upVector\")\n  ], Camera2.prototype, \"_upVector\", void 0);\n  __decorate([\n    serialize()\n  ], Camera2.prototype, \"orthoLeft\", void 0);\n  __decorate([\n    serialize()\n  ], Camera2.prototype, \"orthoRight\", void 0);\n  __decorate([\n    serialize()\n  ], Camera2.prototype, \"orthoBottom\", void 0);\n  __decorate([\n    serialize()\n  ], Camera2.prototype, \"orthoTop\", void 0);\n  __decorate([\n    serialize()\n  ], Camera2.prototype, \"fov\", void 0);\n  __decorate([\n    serialize()\n  ], Camera2.prototype, \"projectionPlaneTilt\", void 0);\n  __decorate([\n    serialize()\n  ], Camera2.prototype, \"minZ\", void 0);\n  __decorate([\n    serialize()\n  ], Camera2.prototype, \"maxZ\", void 0);\n  __decorate([\n    serialize()\n  ], Camera2.prototype, \"inertia\", void 0);\n  __decorate([\n    serialize()\n  ], Camera2.prototype, \"mode\", void 0);\n  __decorate([\n    serialize()\n  ], Camera2.prototype, \"layerMask\", void 0);\n  __decorate([\n    serialize()\n  ], Camera2.prototype, \"fovMode\", void 0);\n  __decorate([\n    serialize()\n  ], Camera2.prototype, \"cameraRigMode\", void 0);\n  __decorate([\n    serialize()\n  ], Camera2.prototype, \"interaxialDistance\", void 0);\n  __decorate([\n    serialize()\n  ], Camera2.prototype, \"isStereoscopicSideBySide\", void 0);\n  return Camera2;\n}(Node);\nvar Light = function(_super) {\n  __extends(Light2, _super);\n  function Light2(name2, scene) {\n    var _this = _super.call(this, name2, scene) || this;\n    _this.diffuse = new Color3(1, 1, 1);\n    _this.specular = new Color3(1, 1, 1);\n    _this.falloffType = Light2.FALLOFF_DEFAULT;\n    _this.intensity = 1;\n    _this._range = Number.MAX_VALUE;\n    _this._inverseSquaredRange = 0;\n    _this._photometricScale = 1;\n    _this._intensityMode = Light2.INTENSITYMODE_AUTOMATIC;\n    _this._radius = 1e-5;\n    _this.renderPriority = 0;\n    _this._shadowEnabled = true;\n    _this._excludeWithLayerMask = 0;\n    _this._includeOnlyWithLayerMask = 0;\n    _this._lightmapMode = 0;\n    _this._excludedMeshesIds = new Array();\n    _this._includedOnlyMeshesIds = new Array();\n    _this._isLight = true;\n    _this.getScene().addLight(_this);\n    _this._uniformBuffer = new UniformBuffer(_this.getScene().getEngine(), void 0, void 0, name2);\n    _this._buildUniformLayout();\n    _this.includedOnlyMeshes = new Array();\n    _this.excludedMeshes = new Array();\n    _this._resyncMeshes();\n    return _this;\n  }\n  Object.defineProperty(Light2.prototype, \"range\", {\n    get: function() {\n      return this._range;\n    },\n    set: function(value) {\n      this._range = value;\n      this._inverseSquaredRange = 1 / (this.range * this.range);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Light2.prototype, \"intensityMode\", {\n    get: function() {\n      return this._intensityMode;\n    },\n    set: function(value) {\n      this._intensityMode = value;\n      this._computePhotometricScale();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Light2.prototype, \"radius\", {\n    get: function() {\n      return this._radius;\n    },\n    set: function(value) {\n      this._radius = value;\n      this._computePhotometricScale();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Light2.prototype, \"shadowEnabled\", {\n    get: function() {\n      return this._shadowEnabled;\n    },\n    set: function(value) {\n      if (this._shadowEnabled === value) {\n        return;\n      }\n      this._shadowEnabled = value;\n      this._markMeshesAsLightDirty();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Light2.prototype, \"includedOnlyMeshes\", {\n    get: function() {\n      return this._includedOnlyMeshes;\n    },\n    set: function(value) {\n      this._includedOnlyMeshes = value;\n      this._hookArrayForIncludedOnly(value);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Light2.prototype, \"excludedMeshes\", {\n    get: function() {\n      return this._excludedMeshes;\n    },\n    set: function(value) {\n      this._excludedMeshes = value;\n      this._hookArrayForExcluded(value);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Light2.prototype, \"excludeWithLayerMask\", {\n    get: function() {\n      return this._excludeWithLayerMask;\n    },\n    set: function(value) {\n      this._excludeWithLayerMask = value;\n      this._resyncMeshes();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Light2.prototype, \"includeOnlyWithLayerMask\", {\n    get: function() {\n      return this._includeOnlyWithLayerMask;\n    },\n    set: function(value) {\n      this._includeOnlyWithLayerMask = value;\n      this._resyncMeshes();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Light2.prototype, \"lightmapMode\", {\n    get: function() {\n      return this._lightmapMode;\n    },\n    set: function(value) {\n      if (this._lightmapMode === value) {\n        return;\n      }\n      this._lightmapMode = value;\n      this._markMeshesAsLightDirty();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Light2.prototype.transferTexturesToEffect = function(effect, lightIndex) {\n    return this;\n  };\n  Light2.prototype._bindLight = function(lightIndex, scene, effect, useSpecular, receiveShadows) {\n    if (receiveShadows === void 0) {\n      receiveShadows = true;\n    }\n    var iAsString = lightIndex.toString();\n    var needUpdate = false;\n    this._uniformBuffer.bindToEffect(effect, \"Light\" + iAsString);\n    if (this._renderId !== scene.getRenderId() || this._lastUseSpecular !== useSpecular || !this._uniformBuffer.useUbo) {\n      this._renderId = scene.getRenderId();\n      this._lastUseSpecular = useSpecular;\n      var scaledIntensity = this.getScaledIntensity();\n      this.transferToEffect(effect, iAsString);\n      this.diffuse.scaleToRef(scaledIntensity, TmpColors.Color3[0]);\n      this._uniformBuffer.updateColor4(\"vLightDiffuse\", TmpColors.Color3[0], this.range, iAsString);\n      if (useSpecular) {\n        this.specular.scaleToRef(scaledIntensity, TmpColors.Color3[1]);\n        this._uniformBuffer.updateColor4(\"vLightSpecular\", TmpColors.Color3[1], this.radius, iAsString);\n      }\n      needUpdate = true;\n    }\n    this.transferTexturesToEffect(effect, iAsString);\n    if (scene.shadowsEnabled && this.shadowEnabled && receiveShadows) {\n      var shadowGenerator = this.getShadowGenerator();\n      if (shadowGenerator) {\n        shadowGenerator.bindShadowLight(iAsString, effect);\n        needUpdate = true;\n      }\n    }\n    if (needUpdate) {\n      this._uniformBuffer.update();\n    } else {\n      this._uniformBuffer.bindUniformBuffer();\n    }\n  };\n  Light2.prototype.getClassName = function() {\n    return \"Light\";\n  };\n  Light2.prototype.toString = function(fullDetails) {\n    var ret = \"Name: \" + this.name;\n    ret += \", type: \" + [\"Point\", \"Directional\", \"Spot\", \"Hemispheric\"][this.getTypeID()];\n    if (this.animations) {\n      for (var i = 0; i < this.animations.length; i++) {\n        ret += \", animation[0]: \" + this.animations[i].toString(fullDetails);\n      }\n    }\n    return ret;\n  };\n  Light2.prototype._syncParentEnabledState = function() {\n    _super.prototype._syncParentEnabledState.call(this);\n    if (!this.isDisposed()) {\n      this._resyncMeshes();\n    }\n  };\n  Light2.prototype.setEnabled = function(value) {\n    _super.prototype.setEnabled.call(this, value);\n    this._resyncMeshes();\n  };\n  Light2.prototype.getShadowGenerator = function() {\n    return this._shadowGenerator;\n  };\n  Light2.prototype.getAbsolutePosition = function() {\n    return Vector3.Zero();\n  };\n  Light2.prototype.canAffectMesh = function(mesh) {\n    if (!mesh) {\n      return true;\n    }\n    if (this.includedOnlyMeshes && this.includedOnlyMeshes.length > 0 && this.includedOnlyMeshes.indexOf(mesh) === -1) {\n      return false;\n    }\n    if (this.excludedMeshes && this.excludedMeshes.length > 0 && this.excludedMeshes.indexOf(mesh) !== -1) {\n      return false;\n    }\n    if (this.includeOnlyWithLayerMask !== 0 && (this.includeOnlyWithLayerMask & mesh.layerMask) === 0) {\n      return false;\n    }\n    if (this.excludeWithLayerMask !== 0 && this.excludeWithLayerMask & mesh.layerMask) {\n      return false;\n    }\n    return true;\n  };\n  Light2.prototype.dispose = function(doNotRecurse, disposeMaterialAndTextures) {\n    if (disposeMaterialAndTextures === void 0) {\n      disposeMaterialAndTextures = false;\n    }\n    if (this._shadowGenerator) {\n      this._shadowGenerator.dispose();\n      this._shadowGenerator = null;\n    }\n    this.getScene().stopAnimation(this);\n    if (this._parentContainer) {\n      var index = this._parentContainer.lights.indexOf(this);\n      if (index > -1) {\n        this._parentContainer.lights.splice(index, 1);\n      }\n      this._parentContainer = null;\n    }\n    for (var _i = 0, _a = this.getScene().meshes; _i < _a.length; _i++) {\n      var mesh = _a[_i];\n      mesh._removeLightSource(this, true);\n    }\n    this._uniformBuffer.dispose();\n    this.getScene().removeLight(this);\n    _super.prototype.dispose.call(this, doNotRecurse, disposeMaterialAndTextures);\n  };\n  Light2.prototype.getTypeID = function() {\n    return 0;\n  };\n  Light2.prototype.getScaledIntensity = function() {\n    return this._photometricScale * this.intensity;\n  };\n  Light2.prototype.clone = function(name2, newParent) {\n    if (newParent === void 0) {\n      newParent = null;\n    }\n    var constructor = Light2.GetConstructorFromName(this.getTypeID(), name2, this.getScene());\n    if (!constructor) {\n      return null;\n    }\n    var clonedLight = SerializationHelper.Clone(constructor, this);\n    if (name2) {\n      clonedLight.name = name2;\n    }\n    if (newParent) {\n      clonedLight.parent = newParent;\n    }\n    clonedLight.setEnabled(this.isEnabled());\n    this.onClonedObservable.notifyObservers(clonedLight);\n    return clonedLight;\n  };\n  Light2.prototype.serialize = function() {\n    var serializationObject = SerializationHelper.Serialize(this);\n    serializationObject.uniqueId = this.uniqueId;\n    serializationObject.type = this.getTypeID();\n    if (this.parent) {\n      serializationObject.parentId = this.parent.uniqueId;\n    }\n    if (this.excludedMeshes.length > 0) {\n      serializationObject.excludedMeshesIds = [];\n      this.excludedMeshes.forEach(function(mesh) {\n        serializationObject.excludedMeshesIds.push(mesh.id);\n      });\n    }\n    if (this.includedOnlyMeshes.length > 0) {\n      serializationObject.includedOnlyMeshesIds = [];\n      this.includedOnlyMeshes.forEach(function(mesh) {\n        serializationObject.includedOnlyMeshesIds.push(mesh.id);\n      });\n    }\n    SerializationHelper.AppendSerializedAnimations(this, serializationObject);\n    serializationObject.ranges = this.serializeAnimationRanges();\n    serializationObject.isEnabled = this.isEnabled();\n    return serializationObject;\n  };\n  Light2.GetConstructorFromName = function(type, name2, scene) {\n    var constructorFunc = Node.Construct(\"Light_Type_\" + type, name2, scene);\n    if (constructorFunc) {\n      return constructorFunc;\n    }\n    return null;\n  };\n  Light2.Parse = function(parsedLight, scene) {\n    var constructor = Light2.GetConstructorFromName(parsedLight.type, parsedLight.name, scene);\n    if (!constructor) {\n      return null;\n    }\n    var light = SerializationHelper.Parse(constructor, parsedLight, scene);\n    if (parsedLight.excludedMeshesIds) {\n      light._excludedMeshesIds = parsedLight.excludedMeshesIds;\n    }\n    if (parsedLight.includedOnlyMeshesIds) {\n      light._includedOnlyMeshesIds = parsedLight.includedOnlyMeshesIds;\n    }\n    if (parsedLight.parentId !== void 0) {\n      light._waitingParentId = parsedLight.parentId;\n    }\n    if (parsedLight.falloffType !== void 0) {\n      light.falloffType = parsedLight.falloffType;\n    }\n    if (parsedLight.lightmapMode !== void 0) {\n      light.lightmapMode = parsedLight.lightmapMode;\n    }\n    if (parsedLight.animations) {\n      for (var animationIndex = 0; animationIndex < parsedLight.animations.length; animationIndex++) {\n        var parsedAnimation = parsedLight.animations[animationIndex];\n        var internalClass = GetClass(\"BABYLON.Animation\");\n        if (internalClass) {\n          light.animations.push(internalClass.Parse(parsedAnimation));\n        }\n      }\n      Node.ParseAnimationRanges(light, parsedLight, scene);\n    }\n    if (parsedLight.autoAnimate) {\n      scene.beginAnimation(light, parsedLight.autoAnimateFrom, parsedLight.autoAnimateTo, parsedLight.autoAnimateLoop, parsedLight.autoAnimateSpeed || 1);\n    }\n    if (parsedLight.isEnabled !== void 0) {\n      light.setEnabled(parsedLight.isEnabled);\n    }\n    return light;\n  };\n  Light2.prototype._hookArrayForExcluded = function(array) {\n    var _this = this;\n    var oldPush = array.push;\n    array.push = function() {\n      var items = [];\n      for (var _i2 = 0; _i2 < arguments.length; _i2++) {\n        items[_i2] = arguments[_i2];\n      }\n      var result = oldPush.apply(array, items);\n      for (var _a = 0, items_1 = items; _a < items_1.length; _a++) {\n        var item2 = items_1[_a];\n        item2._resyncLightSource(_this);\n      }\n      return result;\n    };\n    var oldSplice = array.splice;\n    array.splice = function(index, deleteCount) {\n      var deleted = oldSplice.apply(array, [index, deleteCount]);\n      for (var _i2 = 0, deleted_1 = deleted; _i2 < deleted_1.length; _i2++) {\n        var item2 = deleted_1[_i2];\n        item2._resyncLightSource(_this);\n      }\n      return deleted;\n    };\n    for (var _i = 0, array_1 = array; _i < array_1.length; _i++) {\n      var item = array_1[_i];\n      item._resyncLightSource(this);\n    }\n  };\n  Light2.prototype._hookArrayForIncludedOnly = function(array) {\n    var _this = this;\n    var oldPush = array.push;\n    array.push = function() {\n      var items = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        items[_i] = arguments[_i];\n      }\n      var result = oldPush.apply(array, items);\n      _this._resyncMeshes();\n      return result;\n    };\n    var oldSplice = array.splice;\n    array.splice = function(index, deleteCount) {\n      var deleted = oldSplice.apply(array, [index, deleteCount]);\n      _this._resyncMeshes();\n      return deleted;\n    };\n    this._resyncMeshes();\n  };\n  Light2.prototype._resyncMeshes = function() {\n    for (var _i = 0, _a = this.getScene().meshes; _i < _a.length; _i++) {\n      var mesh = _a[_i];\n      mesh._resyncLightSource(this);\n    }\n  };\n  Light2.prototype._markMeshesAsLightDirty = function() {\n    for (var _i = 0, _a = this.getScene().meshes; _i < _a.length; _i++) {\n      var mesh = _a[_i];\n      if (mesh.lightSources.indexOf(this) !== -1) {\n        mesh._markSubMeshesAsLightDirty();\n      }\n    }\n  };\n  Light2.prototype._computePhotometricScale = function() {\n    this._photometricScale = this._getPhotometricScale();\n    this.getScene().resetCachedMaterial();\n  };\n  Light2.prototype._getPhotometricScale = function() {\n    var photometricScale = 0;\n    var lightTypeID = this.getTypeID();\n    var photometricMode = this.intensityMode;\n    if (photometricMode === Light2.INTENSITYMODE_AUTOMATIC) {\n      if (lightTypeID === Light2.LIGHTTYPEID_DIRECTIONALLIGHT) {\n        photometricMode = Light2.INTENSITYMODE_ILLUMINANCE;\n      } else {\n        photometricMode = Light2.INTENSITYMODE_LUMINOUSINTENSITY;\n      }\n    }\n    switch (lightTypeID) {\n      case Light2.LIGHTTYPEID_POINTLIGHT:\n      case Light2.LIGHTTYPEID_SPOTLIGHT:\n        switch (photometricMode) {\n          case Light2.INTENSITYMODE_LUMINOUSPOWER:\n            photometricScale = 1 / (4 * Math.PI);\n            break;\n          case Light2.INTENSITYMODE_LUMINOUSINTENSITY:\n            photometricScale = 1;\n            break;\n          case Light2.INTENSITYMODE_LUMINANCE:\n            photometricScale = this.radius * this.radius;\n            break;\n        }\n        break;\n      case Light2.LIGHTTYPEID_DIRECTIONALLIGHT:\n        switch (photometricMode) {\n          case Light2.INTENSITYMODE_ILLUMINANCE:\n            photometricScale = 1;\n            break;\n          case Light2.INTENSITYMODE_LUMINANCE: {\n            var apexAngleRadians = this.radius;\n            apexAngleRadians = Math.max(apexAngleRadians, 1e-3);\n            var solidAngle = 2 * Math.PI * (1 - Math.cos(apexAngleRadians));\n            photometricScale = solidAngle;\n            break;\n          }\n        }\n        break;\n      case Light2.LIGHTTYPEID_HEMISPHERICLIGHT:\n        photometricScale = 1;\n        break;\n    }\n    return photometricScale;\n  };\n  Light2.prototype._reorderLightsInScene = function() {\n    var scene = this.getScene();\n    if (this._renderPriority != 0) {\n      scene.requireLightSorting = true;\n    }\n    this.getScene().sortLightsByPriority();\n  };\n  Light2.FALLOFF_DEFAULT = LightConstants.FALLOFF_DEFAULT;\n  Light2.FALLOFF_PHYSICAL = LightConstants.FALLOFF_PHYSICAL;\n  Light2.FALLOFF_GLTF = LightConstants.FALLOFF_GLTF;\n  Light2.FALLOFF_STANDARD = LightConstants.FALLOFF_STANDARD;\n  Light2.LIGHTMAP_DEFAULT = LightConstants.LIGHTMAP_DEFAULT;\n  Light2.LIGHTMAP_SPECULAR = LightConstants.LIGHTMAP_SPECULAR;\n  Light2.LIGHTMAP_SHADOWSONLY = LightConstants.LIGHTMAP_SHADOWSONLY;\n  Light2.INTENSITYMODE_AUTOMATIC = LightConstants.INTENSITYMODE_AUTOMATIC;\n  Light2.INTENSITYMODE_LUMINOUSPOWER = LightConstants.INTENSITYMODE_LUMINOUSPOWER;\n  Light2.INTENSITYMODE_LUMINOUSINTENSITY = LightConstants.INTENSITYMODE_LUMINOUSINTENSITY;\n  Light2.INTENSITYMODE_ILLUMINANCE = LightConstants.INTENSITYMODE_ILLUMINANCE;\n  Light2.INTENSITYMODE_LUMINANCE = LightConstants.INTENSITYMODE_LUMINANCE;\n  Light2.LIGHTTYPEID_POINTLIGHT = LightConstants.LIGHTTYPEID_POINTLIGHT;\n  Light2.LIGHTTYPEID_DIRECTIONALLIGHT = LightConstants.LIGHTTYPEID_DIRECTIONALLIGHT;\n  Light2.LIGHTTYPEID_SPOTLIGHT = LightConstants.LIGHTTYPEID_SPOTLIGHT;\n  Light2.LIGHTTYPEID_HEMISPHERICLIGHT = LightConstants.LIGHTTYPEID_HEMISPHERICLIGHT;\n  __decorate([\n    serializeAsColor3()\n  ], Light2.prototype, \"diffuse\", void 0);\n  __decorate([\n    serializeAsColor3()\n  ], Light2.prototype, \"specular\", void 0);\n  __decorate([\n    serialize()\n  ], Light2.prototype, \"falloffType\", void 0);\n  __decorate([\n    serialize()\n  ], Light2.prototype, \"intensity\", void 0);\n  __decorate([\n    serialize()\n  ], Light2.prototype, \"range\", null);\n  __decorate([\n    serialize()\n  ], Light2.prototype, \"intensityMode\", null);\n  __decorate([\n    serialize()\n  ], Light2.prototype, \"radius\", null);\n  __decorate([\n    serialize()\n  ], Light2.prototype, \"_renderPriority\", void 0);\n  __decorate([\n    expandToProperty(\"_reorderLightsInScene\")\n  ], Light2.prototype, \"renderPriority\", void 0);\n  __decorate([\n    serialize(\"shadowEnabled\")\n  ], Light2.prototype, \"_shadowEnabled\", void 0);\n  __decorate([\n    serialize(\"excludeWithLayerMask\")\n  ], Light2.prototype, \"_excludeWithLayerMask\", void 0);\n  __decorate([\n    serialize(\"includeOnlyWithLayerMask\")\n  ], Light2.prototype, \"_includeOnlyWithLayerMask\", void 0);\n  __decorate([\n    serialize(\"lightmapMode\")\n  ], Light2.prototype, \"_lightmapMode\", void 0);\n  return Light2;\n}(Node);\nvar ThinMaterialHelper = function() {\n  function ThinMaterialHelper2() {\n  }\n  ThinMaterialHelper2.BindClipPlane = function(effect, holder) {\n    if (holder.clipPlane) {\n      var clipPlane = holder.clipPlane;\n      effect.setFloat4(\"vClipPlane\", clipPlane.normal.x, clipPlane.normal.y, clipPlane.normal.z, clipPlane.d);\n    }\n    if (holder.clipPlane2) {\n      var clipPlane = holder.clipPlane2;\n      effect.setFloat4(\"vClipPlane2\", clipPlane.normal.x, clipPlane.normal.y, clipPlane.normal.z, clipPlane.d);\n    }\n    if (holder.clipPlane3) {\n      var clipPlane = holder.clipPlane3;\n      effect.setFloat4(\"vClipPlane3\", clipPlane.normal.x, clipPlane.normal.y, clipPlane.normal.z, clipPlane.d);\n    }\n    if (holder.clipPlane4) {\n      var clipPlane = holder.clipPlane4;\n      effect.setFloat4(\"vClipPlane4\", clipPlane.normal.x, clipPlane.normal.y, clipPlane.normal.z, clipPlane.d);\n    }\n    if (holder.clipPlane5) {\n      var clipPlane = holder.clipPlane5;\n      effect.setFloat4(\"vClipPlane5\", clipPlane.normal.x, clipPlane.normal.y, clipPlane.normal.z, clipPlane.d);\n    }\n    if (holder.clipPlane6) {\n      var clipPlane = holder.clipPlane6;\n      effect.setFloat4(\"vClipPlane6\", clipPlane.normal.x, clipPlane.normal.y, clipPlane.normal.z, clipPlane.d);\n    }\n  };\n  return ThinMaterialHelper2;\n}();\nvar MaterialHelper = function() {\n  function MaterialHelper2() {\n  }\n  MaterialHelper2.BindSceneUniformBuffer = function(effect, sceneUbo) {\n    sceneUbo.bindToEffect(effect, \"Scene\");\n  };\n  MaterialHelper2.PrepareDefinesForMergedUV = function(texture, defines, key) {\n    defines._needUVs = true;\n    defines[key] = true;\n    if (texture.getTextureMatrix().isIdentityAs3x2()) {\n      defines[key + \"DIRECTUV\"] = texture.coordinatesIndex + 1;\n      defines[\"MAINUV\" + (texture.coordinatesIndex + 1)] = true;\n    } else {\n      defines[key + \"DIRECTUV\"] = 0;\n    }\n  };\n  MaterialHelper2.BindTextureMatrix = function(texture, uniformBuffer, key) {\n    var matrix = texture.getTextureMatrix();\n    uniformBuffer.updateMatrix(key + \"Matrix\", matrix);\n  };\n  MaterialHelper2.GetFogState = function(mesh, scene) {\n    return scene.fogEnabled && mesh.applyFog && scene.fogMode !== Scene.FOGMODE_NONE;\n  };\n  MaterialHelper2.PrepareDefinesForMisc = function(mesh, scene, useLogarithmicDepth, pointsCloud, fogEnabled, alphaTest, defines) {\n    if (defines._areMiscDirty) {\n      defines[\"LOGARITHMICDEPTH\"] = useLogarithmicDepth;\n      defines[\"POINTSIZE\"] = pointsCloud;\n      defines[\"FOG\"] = fogEnabled && this.GetFogState(mesh, scene);\n      defines[\"NONUNIFORMSCALING\"] = mesh.nonUniformScaling;\n      defines[\"ALPHATEST\"] = alphaTest;\n    }\n  };\n  MaterialHelper2.PrepareDefinesForFrameBoundValues = function(scene, engine, defines, useInstances, useClipPlane, useThinInstances) {\n    if (useClipPlane === void 0) {\n      useClipPlane = null;\n    }\n    if (useThinInstances === void 0) {\n      useThinInstances = false;\n    }\n    var changed = false;\n    var useClipPlane1 = false;\n    var useClipPlane2 = false;\n    var useClipPlane3 = false;\n    var useClipPlane4 = false;\n    var useClipPlane5 = false;\n    var useClipPlane6 = false;\n    useClipPlane1 = useClipPlane == null ? scene.clipPlane !== void 0 && scene.clipPlane !== null : useClipPlane;\n    useClipPlane2 = useClipPlane == null ? scene.clipPlane2 !== void 0 && scene.clipPlane2 !== null : useClipPlane;\n    useClipPlane3 = useClipPlane == null ? scene.clipPlane3 !== void 0 && scene.clipPlane3 !== null : useClipPlane;\n    useClipPlane4 = useClipPlane == null ? scene.clipPlane4 !== void 0 && scene.clipPlane4 !== null : useClipPlane;\n    useClipPlane5 = useClipPlane == null ? scene.clipPlane5 !== void 0 && scene.clipPlane5 !== null : useClipPlane;\n    useClipPlane6 = useClipPlane == null ? scene.clipPlane6 !== void 0 && scene.clipPlane6 !== null : useClipPlane;\n    if (defines[\"CLIPPLANE\"] !== useClipPlane1) {\n      defines[\"CLIPPLANE\"] = useClipPlane1;\n      changed = true;\n    }\n    if (defines[\"CLIPPLANE2\"] !== useClipPlane2) {\n      defines[\"CLIPPLANE2\"] = useClipPlane2;\n      changed = true;\n    }\n    if (defines[\"CLIPPLANE3\"] !== useClipPlane3) {\n      defines[\"CLIPPLANE3\"] = useClipPlane3;\n      changed = true;\n    }\n    if (defines[\"CLIPPLANE4\"] !== useClipPlane4) {\n      defines[\"CLIPPLANE4\"] = useClipPlane4;\n      changed = true;\n    }\n    if (defines[\"CLIPPLANE5\"] !== useClipPlane5) {\n      defines[\"CLIPPLANE5\"] = useClipPlane5;\n      changed = true;\n    }\n    if (defines[\"CLIPPLANE6\"] !== useClipPlane6) {\n      defines[\"CLIPPLANE6\"] = useClipPlane6;\n      changed = true;\n    }\n    if (defines[\"DEPTHPREPASS\"] !== !engine.getColorWrite()) {\n      defines[\"DEPTHPREPASS\"] = !defines[\"DEPTHPREPASS\"];\n      changed = true;\n    }\n    if (defines[\"INSTANCES\"] !== useInstances) {\n      defines[\"INSTANCES\"] = useInstances;\n      changed = true;\n    }\n    if (defines[\"INSTANCESCOLOR\"] && !defines[\"INSTANCES\"]) {\n      defines[\"INSTANCESCOLOR\"] = false;\n      changed = true;\n    }\n    if (defines[\"THIN_INSTANCES\"] !== useThinInstances) {\n      defines[\"THIN_INSTANCES\"] = useThinInstances;\n      changed = true;\n    }\n    if (changed) {\n      defines.markAsUnprocessed();\n    }\n  };\n  MaterialHelper2.PrepareDefinesForBones = function(mesh, defines) {\n    if (mesh.useBones && mesh.computeBonesUsingShaders && mesh.skeleton) {\n      defines[\"NUM_BONE_INFLUENCERS\"] = mesh.numBoneInfluencers;\n      var materialSupportsBoneTexture = defines[\"BONETEXTURE\"] !== void 0;\n      if (mesh.skeleton.isUsingTextureForMatrices && materialSupportsBoneTexture) {\n        defines[\"BONETEXTURE\"] = true;\n      } else {\n        defines[\"BonesPerMesh\"] = mesh.skeleton.bones.length + 1;\n        defines[\"BONETEXTURE\"] = materialSupportsBoneTexture ? false : void 0;\n        var prePassRenderer = mesh.getScene().prePassRenderer;\n        if (prePassRenderer && prePassRenderer.enabled) {\n          var nonExcluded = prePassRenderer.excludedSkinnedMesh.indexOf(mesh) === -1;\n          defines[\"BONES_VELOCITY_ENABLED\"] = nonExcluded;\n        }\n      }\n    } else {\n      defines[\"NUM_BONE_INFLUENCERS\"] = 0;\n      defines[\"BonesPerMesh\"] = 0;\n    }\n  };\n  MaterialHelper2.PrepareDefinesForMorphTargets = function(mesh, defines) {\n    var manager = mesh.morphTargetManager;\n    if (manager) {\n      defines[\"MORPHTARGETS_UV\"] = manager.supportsUVs && defines[\"UV1\"];\n      defines[\"MORPHTARGETS_TANGENT\"] = manager.supportsTangents && defines[\"TANGENT\"];\n      defines[\"MORPHTARGETS_NORMAL\"] = manager.supportsNormals && defines[\"NORMAL\"];\n      defines[\"MORPHTARGETS\"] = manager.numInfluencers > 0;\n      defines[\"NUM_MORPH_INFLUENCERS\"] = manager.numInfluencers;\n      defines[\"MORPHTARGETS_TEXTURE\"] = manager.isUsingTextureForTargets;\n    } else {\n      defines[\"MORPHTARGETS_UV\"] = false;\n      defines[\"MORPHTARGETS_TANGENT\"] = false;\n      defines[\"MORPHTARGETS_NORMAL\"] = false;\n      defines[\"MORPHTARGETS\"] = false;\n      defines[\"NUM_MORPH_INFLUENCERS\"] = 0;\n    }\n  };\n  MaterialHelper2.PrepareDefinesForBakedVertexAnimation = function(mesh, defines) {\n    var manager = mesh.bakedVertexAnimationManager;\n    defines[\"BAKED_VERTEX_ANIMATION_TEXTURE\"] = manager && manager.isEnabled ? true : false;\n  };\n  MaterialHelper2.PrepareDefinesForAttributes = function(mesh, defines, useVertexColor, useBones, useMorphTargets, useVertexAlpha, useBakedVertexAnimation) {\n    if (useMorphTargets === void 0) {\n      useMorphTargets = false;\n    }\n    if (useVertexAlpha === void 0) {\n      useVertexAlpha = true;\n    }\n    if (useBakedVertexAnimation === void 0) {\n      useBakedVertexAnimation = true;\n    }\n    if (!defines._areAttributesDirty && defines._needNormals === defines._normals && defines._needUVs === defines._uvs) {\n      return false;\n    }\n    defines._normals = defines._needNormals;\n    defines._uvs = defines._needUVs;\n    defines[\"NORMAL\"] = defines._needNormals && mesh.isVerticesDataPresent(VertexBuffer.NormalKind);\n    if (defines._needNormals && mesh.isVerticesDataPresent(VertexBuffer.TangentKind)) {\n      defines[\"TANGENT\"] = true;\n    }\n    for (var i = 1; i <= 6; ++i) {\n      defines[\"UV\" + i] = defines._needUVs ? mesh.isVerticesDataPresent(\"uv\".concat(i === 1 ? \"\" : i)) : false;\n    }\n    if (useVertexColor) {\n      var hasVertexColors = mesh.useVertexColors && mesh.isVerticesDataPresent(VertexBuffer.ColorKind);\n      defines[\"VERTEXCOLOR\"] = hasVertexColors;\n      defines[\"VERTEXALPHA\"] = mesh.hasVertexAlpha && hasVertexColors && useVertexAlpha;\n    }\n    if (mesh.isVerticesDataPresent(VertexBuffer.ColorInstanceKind) && (mesh.hasInstances || mesh.hasThinInstances)) {\n      defines[\"INSTANCESCOLOR\"] = true;\n    }\n    if (useBones) {\n      this.PrepareDefinesForBones(mesh, defines);\n    }\n    if (useMorphTargets) {\n      this.PrepareDefinesForMorphTargets(mesh, defines);\n    }\n    if (useBakedVertexAnimation) {\n      this.PrepareDefinesForBakedVertexAnimation(mesh, defines);\n    }\n    return true;\n  };\n  MaterialHelper2.PrepareDefinesForMultiview = function(scene, defines) {\n    if (scene.activeCamera) {\n      var previousMultiview = defines.MULTIVIEW;\n      defines.MULTIVIEW = scene.activeCamera.outputRenderTarget !== null && scene.activeCamera.outputRenderTarget.getViewCount() > 1;\n      if (defines.MULTIVIEW != previousMultiview) {\n        defines.markAsUnprocessed();\n      }\n    }\n  };\n  MaterialHelper2.PrepareDefinesForOIT = function(scene, defines, needAlphaBlending) {\n    var previousDefine = defines.ORDER_INDEPENDENT_TRANSPARENCY;\n    var previousDefine16Bits = defines.ORDER_INDEPENDENT_TRANSPARENCY_16BITS;\n    defines.ORDER_INDEPENDENT_TRANSPARENCY = scene.useOrderIndependentTransparency && needAlphaBlending;\n    defines.ORDER_INDEPENDENT_TRANSPARENCY_16BITS = !scene.getEngine().getCaps().textureFloatLinearFiltering;\n    if (previousDefine !== defines.ORDER_INDEPENDENT_TRANSPARENCY || previousDefine16Bits !== defines.ORDER_INDEPENDENT_TRANSPARENCY_16BITS) {\n      defines.markAsUnprocessed();\n    }\n  };\n  MaterialHelper2.PrepareDefinesForPrePass = function(scene, defines, canRenderToMRT) {\n    var previousPrePass = defines.PREPASS;\n    if (!defines._arePrePassDirty) {\n      return;\n    }\n    var texturesList = [\n      {\n        type: 1,\n        define: \"PREPASS_POSITION\",\n        index: \"PREPASS_POSITION_INDEX\"\n      },\n      {\n        type: 2,\n        define: \"PREPASS_VELOCITY\",\n        index: \"PREPASS_VELOCITY_INDEX\"\n      },\n      {\n        type: 3,\n        define: \"PREPASS_REFLECTIVITY\",\n        index: \"PREPASS_REFLECTIVITY_INDEX\"\n      },\n      {\n        type: 0,\n        define: \"PREPASS_IRRADIANCE\",\n        index: \"PREPASS_IRRADIANCE_INDEX\"\n      },\n      {\n        type: 7,\n        define: \"PREPASS_ALBEDO_SQRT\",\n        index: \"PREPASS_ALBEDO_SQRT_INDEX\"\n      },\n      {\n        type: 5,\n        define: \"PREPASS_DEPTH\",\n        index: \"PREPASS_DEPTH_INDEX\"\n      },\n      {\n        type: 6,\n        define: \"PREPASS_NORMAL\",\n        index: \"PREPASS_NORMAL_INDEX\"\n      }\n    ];\n    if (scene.prePassRenderer && scene.prePassRenderer.enabled && canRenderToMRT) {\n      defines.PREPASS = true;\n      defines.SCENE_MRT_COUNT = scene.prePassRenderer.mrtCount;\n      for (var i = 0; i < texturesList.length; i++) {\n        var index = scene.prePassRenderer.getIndex(texturesList[i].type);\n        if (index !== -1) {\n          defines[texturesList[i].define] = true;\n          defines[texturesList[i].index] = index;\n        } else {\n          defines[texturesList[i].define] = false;\n        }\n      }\n    } else {\n      defines.PREPASS = false;\n      for (var i = 0; i < texturesList.length; i++) {\n        defines[texturesList[i].define] = false;\n      }\n    }\n    if (defines.PREPASS != previousPrePass) {\n      defines.markAsUnprocessed();\n      defines.markAsImageProcessingDirty();\n    }\n  };\n  MaterialHelper2.PrepareDefinesForLight = function(scene, mesh, light, lightIndex, defines, specularSupported, state) {\n    state.needNormals = true;\n    if (defines[\"LIGHT\" + lightIndex] === void 0) {\n      state.needRebuild = true;\n    }\n    defines[\"LIGHT\" + lightIndex] = true;\n    defines[\"SPOTLIGHT\" + lightIndex] = false;\n    defines[\"HEMILIGHT\" + lightIndex] = false;\n    defines[\"POINTLIGHT\" + lightIndex] = false;\n    defines[\"DIRLIGHT\" + lightIndex] = false;\n    light.prepareLightSpecificDefines(defines, lightIndex);\n    defines[\"LIGHT_FALLOFF_PHYSICAL\" + lightIndex] = false;\n    defines[\"LIGHT_FALLOFF_GLTF\" + lightIndex] = false;\n    defines[\"LIGHT_FALLOFF_STANDARD\" + lightIndex] = false;\n    switch (light.falloffType) {\n      case Light.FALLOFF_GLTF:\n        defines[\"LIGHT_FALLOFF_GLTF\" + lightIndex] = true;\n        break;\n      case Light.FALLOFF_PHYSICAL:\n        defines[\"LIGHT_FALLOFF_PHYSICAL\" + lightIndex] = true;\n        break;\n      case Light.FALLOFF_STANDARD:\n        defines[\"LIGHT_FALLOFF_STANDARD\" + lightIndex] = true;\n        break;\n    }\n    if (specularSupported && !light.specular.equalsFloats(0, 0, 0)) {\n      state.specularEnabled = true;\n    }\n    defines[\"SHADOW\" + lightIndex] = false;\n    defines[\"SHADOWCSM\" + lightIndex] = false;\n    defines[\"SHADOWCSMDEBUG\" + lightIndex] = false;\n    defines[\"SHADOWCSMNUM_CASCADES\" + lightIndex] = false;\n    defines[\"SHADOWCSMUSESHADOWMAXZ\" + lightIndex] = false;\n    defines[\"SHADOWCSMNOBLEND\" + lightIndex] = false;\n    defines[\"SHADOWCSM_RIGHTHANDED\" + lightIndex] = false;\n    defines[\"SHADOWPCF\" + lightIndex] = false;\n    defines[\"SHADOWPCSS\" + lightIndex] = false;\n    defines[\"SHADOWPOISSON\" + lightIndex] = false;\n    defines[\"SHADOWESM\" + lightIndex] = false;\n    defines[\"SHADOWCLOSEESM\" + lightIndex] = false;\n    defines[\"SHADOWCUBE\" + lightIndex] = false;\n    defines[\"SHADOWLOWQUALITY\" + lightIndex] = false;\n    defines[\"SHADOWMEDIUMQUALITY\" + lightIndex] = false;\n    if (mesh && mesh.receiveShadows && scene.shadowsEnabled && light.shadowEnabled) {\n      var shadowGenerator = light.getShadowGenerator();\n      if (shadowGenerator) {\n        var shadowMap = shadowGenerator.getShadowMap();\n        if (shadowMap) {\n          if (shadowMap.renderList && shadowMap.renderList.length > 0) {\n            state.shadowEnabled = true;\n            shadowGenerator.prepareDefines(defines, lightIndex);\n          }\n        }\n      }\n    }\n    if (light.lightmapMode != Light.LIGHTMAP_DEFAULT) {\n      state.lightmapMode = true;\n      defines[\"LIGHTMAPEXCLUDED\" + lightIndex] = true;\n      defines[\"LIGHTMAPNOSPECULAR\" + lightIndex] = light.lightmapMode == Light.LIGHTMAP_SHADOWSONLY;\n    } else {\n      defines[\"LIGHTMAPEXCLUDED\" + lightIndex] = false;\n      defines[\"LIGHTMAPNOSPECULAR\" + lightIndex] = false;\n    }\n  };\n  MaterialHelper2.PrepareDefinesForLights = function(scene, mesh, defines, specularSupported, maxSimultaneousLights, disableLighting) {\n    if (maxSimultaneousLights === void 0) {\n      maxSimultaneousLights = 4;\n    }\n    if (disableLighting === void 0) {\n      disableLighting = false;\n    }\n    if (!defines._areLightsDirty) {\n      return defines._needNormals;\n    }\n    var lightIndex = 0;\n    var state = {\n      needNormals: false,\n      needRebuild: false,\n      lightmapMode: false,\n      shadowEnabled: false,\n      specularEnabled: false\n    };\n    if (scene.lightsEnabled && !disableLighting) {\n      for (var _i = 0, _a = mesh.lightSources; _i < _a.length; _i++) {\n        var light = _a[_i];\n        this.PrepareDefinesForLight(scene, mesh, light, lightIndex, defines, specularSupported, state);\n        lightIndex++;\n        if (lightIndex === maxSimultaneousLights) {\n          break;\n        }\n      }\n    }\n    defines[\"SPECULARTERM\"] = state.specularEnabled;\n    defines[\"SHADOWS\"] = state.shadowEnabled;\n    for (var index = lightIndex; index < maxSimultaneousLights; index++) {\n      if (defines[\"LIGHT\" + index] !== void 0) {\n        defines[\"LIGHT\" + index] = false;\n        defines[\"HEMILIGHT\" + index] = false;\n        defines[\"POINTLIGHT\" + index] = false;\n        defines[\"DIRLIGHT\" + index] = false;\n        defines[\"SPOTLIGHT\" + index] = false;\n        defines[\"SHADOW\" + index] = false;\n        defines[\"SHADOWCSM\" + index] = false;\n        defines[\"SHADOWCSMDEBUG\" + index] = false;\n        defines[\"SHADOWCSMNUM_CASCADES\" + index] = false;\n        defines[\"SHADOWCSMUSESHADOWMAXZ\" + index] = false;\n        defines[\"SHADOWCSMNOBLEND\" + index] = false;\n        defines[\"SHADOWCSM_RIGHTHANDED\" + index] = false;\n        defines[\"SHADOWPCF\" + index] = false;\n        defines[\"SHADOWPCSS\" + index] = false;\n        defines[\"SHADOWPOISSON\" + index] = false;\n        defines[\"SHADOWESM\" + index] = false;\n        defines[\"SHADOWCLOSEESM\" + index] = false;\n        defines[\"SHADOWCUBE\" + index] = false;\n        defines[\"SHADOWLOWQUALITY\" + index] = false;\n        defines[\"SHADOWMEDIUMQUALITY\" + index] = false;\n      }\n    }\n    var caps = scene.getEngine().getCaps();\n    if (defines[\"SHADOWFLOAT\"] === void 0) {\n      state.needRebuild = true;\n    }\n    defines[\"SHADOWFLOAT\"] = state.shadowEnabled && (caps.textureFloatRender && caps.textureFloatLinearFiltering || caps.textureHalfFloatRender && caps.textureHalfFloatLinearFiltering);\n    defines[\"LIGHTMAPEXCLUDED\"] = state.lightmapMode;\n    if (state.needRebuild) {\n      defines.rebuild();\n    }\n    return state.needNormals;\n  };\n  MaterialHelper2.PrepareUniformsAndSamplersForLight = function(lightIndex, uniformsList, samplersList, projectedLightTexture, uniformBuffersList, updateOnlyBuffersList) {\n    if (uniformBuffersList === void 0) {\n      uniformBuffersList = null;\n    }\n    if (updateOnlyBuffersList === void 0) {\n      updateOnlyBuffersList = false;\n    }\n    if (uniformBuffersList) {\n      uniformBuffersList.push(\"Light\" + lightIndex);\n    }\n    if (updateOnlyBuffersList) {\n      return;\n    }\n    uniformsList.push(\"vLightData\" + lightIndex, \"vLightDiffuse\" + lightIndex, \"vLightSpecular\" + lightIndex, \"vLightDirection\" + lightIndex, \"vLightFalloff\" + lightIndex, \"vLightGround\" + lightIndex, \"lightMatrix\" + lightIndex, \"shadowsInfo\" + lightIndex, \"depthValues\" + lightIndex);\n    samplersList.push(\"shadowSampler\" + lightIndex);\n    samplersList.push(\"depthSampler\" + lightIndex);\n    uniformsList.push(\"viewFrustumZ\" + lightIndex, \"cascadeBlendFactor\" + lightIndex, \"lightSizeUVCorrection\" + lightIndex, \"depthCorrection\" + lightIndex, \"penumbraDarkness\" + lightIndex, \"frustumLengths\" + lightIndex);\n    if (projectedLightTexture) {\n      samplersList.push(\"projectionLightSampler\" + lightIndex);\n      uniformsList.push(\"textureProjectionMatrix\" + lightIndex);\n    }\n  };\n  MaterialHelper2.PrepareUniformsAndSamplersList = function(uniformsListOrOptions, samplersList, defines, maxSimultaneousLights) {\n    if (maxSimultaneousLights === void 0) {\n      maxSimultaneousLights = 4;\n    }\n    var uniformsList;\n    var uniformBuffersList = null;\n    if (uniformsListOrOptions.uniformsNames) {\n      var options = uniformsListOrOptions;\n      uniformsList = options.uniformsNames;\n      uniformBuffersList = options.uniformBuffersNames;\n      samplersList = options.samplers;\n      defines = options.defines;\n      maxSimultaneousLights = options.maxSimultaneousLights || 0;\n    } else {\n      uniformsList = uniformsListOrOptions;\n      if (!samplersList) {\n        samplersList = [];\n      }\n    }\n    for (var lightIndex = 0; lightIndex < maxSimultaneousLights; lightIndex++) {\n      if (!defines[\"LIGHT\" + lightIndex]) {\n        break;\n      }\n      this.PrepareUniformsAndSamplersForLight(lightIndex, uniformsList, samplersList, defines[\"PROJECTEDLIGHTTEXTURE\" + lightIndex], uniformBuffersList);\n    }\n    if (defines[\"NUM_MORPH_INFLUENCERS\"]) {\n      uniformsList.push(\"morphTargetInfluences\");\n    }\n    if (defines[\"BAKED_VERTEX_ANIMATION_TEXTURE\"]) {\n      uniformsList.push(\"bakedVertexAnimationSettings\");\n      uniformsList.push(\"bakedVertexAnimationTextureSizeInverted\");\n      uniformsList.push(\"bakedVertexAnimationTime\");\n      samplersList.push(\"bakedVertexAnimationTexture\");\n    }\n  };\n  MaterialHelper2.HandleFallbacksForShadows = function(defines, fallbacks, maxSimultaneousLights, rank) {\n    if (maxSimultaneousLights === void 0) {\n      maxSimultaneousLights = 4;\n    }\n    if (rank === void 0) {\n      rank = 0;\n    }\n    var lightFallbackRank = 0;\n    for (var lightIndex = 0; lightIndex < maxSimultaneousLights; lightIndex++) {\n      if (!defines[\"LIGHT\" + lightIndex]) {\n        break;\n      }\n      if (lightIndex > 0) {\n        lightFallbackRank = rank + lightIndex;\n        fallbacks.addFallback(lightFallbackRank, \"LIGHT\" + lightIndex);\n      }\n      if (!defines[\"SHADOWS\"]) {\n        if (defines[\"SHADOW\" + lightIndex]) {\n          fallbacks.addFallback(rank, \"SHADOW\" + lightIndex);\n        }\n        if (defines[\"SHADOWPCF\" + lightIndex]) {\n          fallbacks.addFallback(rank, \"SHADOWPCF\" + lightIndex);\n        }\n        if (defines[\"SHADOWPCSS\" + lightIndex]) {\n          fallbacks.addFallback(rank, \"SHADOWPCSS\" + lightIndex);\n        }\n        if (defines[\"SHADOWPOISSON\" + lightIndex]) {\n          fallbacks.addFallback(rank, \"SHADOWPOISSON\" + lightIndex);\n        }\n        if (defines[\"SHADOWESM\" + lightIndex]) {\n          fallbacks.addFallback(rank, \"SHADOWESM\" + lightIndex);\n        }\n        if (defines[\"SHADOWCLOSEESM\" + lightIndex]) {\n          fallbacks.addFallback(rank, \"SHADOWCLOSEESM\" + lightIndex);\n        }\n      }\n    }\n    return lightFallbackRank++;\n  };\n  MaterialHelper2.PrepareAttributesForMorphTargetsInfluencers = function(attribs, mesh, influencers) {\n    this._TmpMorphInfluencers.NUM_MORPH_INFLUENCERS = influencers;\n    this.PrepareAttributesForMorphTargets(attribs, mesh, this._TmpMorphInfluencers);\n  };\n  MaterialHelper2.PrepareAttributesForMorphTargets = function(attribs, mesh, defines) {\n    var influencers = defines[\"NUM_MORPH_INFLUENCERS\"];\n    if (influencers > 0 && EngineStore.LastCreatedEngine) {\n      var maxAttributesCount = EngineStore.LastCreatedEngine.getCaps().maxVertexAttribs;\n      var manager = mesh.morphTargetManager;\n      if (manager === null || manager === void 0 ? void 0 : manager.isUsingTextureForTargets) {\n        return;\n      }\n      var normal = manager && manager.supportsNormals && defines[\"NORMAL\"];\n      var tangent = manager && manager.supportsTangents && defines[\"TANGENT\"];\n      var uv = manager && manager.supportsUVs && defines[\"UV1\"];\n      for (var index = 0; index < influencers; index++) {\n        attribs.push(VertexBuffer.PositionKind + index);\n        if (normal) {\n          attribs.push(VertexBuffer.NormalKind + index);\n        }\n        if (tangent) {\n          attribs.push(VertexBuffer.TangentKind + index);\n        }\n        if (uv) {\n          attribs.push(VertexBuffer.UVKind + \"_\" + index);\n        }\n        if (attribs.length > maxAttributesCount) {\n          Logger.Error(\"Cannot add more vertex attributes for mesh \" + mesh.name);\n        }\n      }\n    }\n  };\n  MaterialHelper2.PrepareAttributesForBakedVertexAnimation = function(attribs, mesh, defines) {\n    var enabled = defines[\"BAKED_VERTEX_ANIMATION_TEXTURE\"] && defines[\"INSTANCES\"];\n    if (enabled) {\n      attribs.push(\"bakedVertexAnimationSettingsInstanced\");\n    }\n  };\n  MaterialHelper2.PrepareAttributesForBones = function(attribs, mesh, defines, fallbacks) {\n    if (defines[\"NUM_BONE_INFLUENCERS\"] > 0) {\n      fallbacks.addCPUSkinningFallback(0, mesh);\n      attribs.push(VertexBuffer.MatricesIndicesKind);\n      attribs.push(VertexBuffer.MatricesWeightsKind);\n      if (defines[\"NUM_BONE_INFLUENCERS\"] > 4) {\n        attribs.push(VertexBuffer.MatricesIndicesExtraKind);\n        attribs.push(VertexBuffer.MatricesWeightsExtraKind);\n      }\n    }\n  };\n  MaterialHelper2.PrepareAttributesForInstances = function(attribs, defines) {\n    if (defines[\"INSTANCES\"] || defines[\"THIN_INSTANCES\"]) {\n      this.PushAttributesForInstances(attribs, !!defines[\"PREPASS_VELOCITY\"]);\n    }\n    if (defines.INSTANCESCOLOR) {\n      attribs.push(VertexBuffer.ColorInstanceKind);\n    }\n  };\n  MaterialHelper2.PushAttributesForInstances = function(attribs, needsPreviousMatrices) {\n    if (needsPreviousMatrices === void 0) {\n      needsPreviousMatrices = false;\n    }\n    attribs.push(\"world0\");\n    attribs.push(\"world1\");\n    attribs.push(\"world2\");\n    attribs.push(\"world3\");\n    if (needsPreviousMatrices) {\n      attribs.push(\"previousWorld0\");\n      attribs.push(\"previousWorld1\");\n      attribs.push(\"previousWorld2\");\n      attribs.push(\"previousWorld3\");\n    }\n  };\n  MaterialHelper2.BindLightProperties = function(light, effect, lightIndex) {\n    light.transferToEffect(effect, lightIndex + \"\");\n  };\n  MaterialHelper2.BindLight = function(light, lightIndex, scene, effect, useSpecular, receiveShadows) {\n    if (receiveShadows === void 0) {\n      receiveShadows = true;\n    }\n    light._bindLight(lightIndex, scene, effect, useSpecular, receiveShadows);\n  };\n  MaterialHelper2.BindLights = function(scene, mesh, effect, defines, maxSimultaneousLights) {\n    if (maxSimultaneousLights === void 0) {\n      maxSimultaneousLights = 4;\n    }\n    var len = Math.min(mesh.lightSources.length, maxSimultaneousLights);\n    for (var i = 0; i < len; i++) {\n      var light = mesh.lightSources[i];\n      this.BindLight(light, i, scene, effect, typeof defines === \"boolean\" ? defines : defines[\"SPECULARTERM\"], mesh.receiveShadows);\n    }\n  };\n  MaterialHelper2.BindFogParameters = function(scene, mesh, effect, linearSpace) {\n    if (linearSpace === void 0) {\n      linearSpace = false;\n    }\n    if (scene.fogEnabled && mesh.applyFog && scene.fogMode !== Scene.FOGMODE_NONE) {\n      effect.setFloat4(\"vFogInfos\", scene.fogMode, scene.fogStart, scene.fogEnd, scene.fogDensity);\n      if (linearSpace) {\n        scene.fogColor.toLinearSpaceToRef(this._TempFogColor);\n        effect.setColor3(\"vFogColor\", this._TempFogColor);\n      } else {\n        effect.setColor3(\"vFogColor\", scene.fogColor);\n      }\n    }\n  };\n  MaterialHelper2.BindBonesParameters = function(mesh, effect, prePassConfiguration) {\n    if (!effect || !mesh) {\n      return;\n    }\n    if (mesh.computeBonesUsingShaders && effect._bonesComputationForcedToCPU) {\n      mesh.computeBonesUsingShaders = false;\n    }\n    if (mesh.useBones && mesh.computeBonesUsingShaders && mesh.skeleton) {\n      var skeleton = mesh.skeleton;\n      if (skeleton.isUsingTextureForMatrices && effect.getUniformIndex(\"boneTextureWidth\") > -1) {\n        var boneTexture = skeleton.getTransformMatrixTexture(mesh);\n        effect.setTexture(\"boneSampler\", boneTexture);\n        effect.setFloat(\"boneTextureWidth\", 4 * (skeleton.bones.length + 1));\n      } else {\n        var matrices = skeleton.getTransformMatrices(mesh);\n        if (matrices) {\n          effect.setMatrices(\"mBones\", matrices);\n          if (prePassConfiguration && mesh.getScene().prePassRenderer && mesh.getScene().prePassRenderer.getIndex(2)) {\n            if (!prePassConfiguration.previousBones[mesh.uniqueId]) {\n              prePassConfiguration.previousBones[mesh.uniqueId] = matrices.slice();\n            }\n            effect.setMatrices(\"mPreviousBones\", prePassConfiguration.previousBones[mesh.uniqueId]);\n            MaterialHelper2._CopyBonesTransformationMatrices(matrices, prePassConfiguration.previousBones[mesh.uniqueId]);\n          }\n        }\n      }\n    }\n  };\n  MaterialHelper2._CopyBonesTransformationMatrices = function(source, target) {\n    target.set(source);\n    return target;\n  };\n  MaterialHelper2.BindMorphTargetParameters = function(abstractMesh, effect) {\n    var manager = abstractMesh.morphTargetManager;\n    if (!abstractMesh || !manager) {\n      return;\n    }\n    effect.setFloatArray(\"morphTargetInfluences\", manager.influences);\n  };\n  MaterialHelper2.BindLogDepth = function(defines, effect, scene) {\n    if (!defines || defines[\"LOGARITHMICDEPTH\"]) {\n      var camera = scene.activeCamera;\n      if (camera.mode === Camera.ORTHOGRAPHIC_CAMERA) {\n        Logger.Error(\"Logarithmic depth is not compatible with orthographic cameras!\", 20);\n      }\n      effect.setFloat(\"logarithmicDepthConstant\", 2 / (Math.log(camera.maxZ + 1) / Math.LN2));\n    }\n  };\n  MaterialHelper2.BindClipPlane = function(effect, scene) {\n    ThinMaterialHelper.BindClipPlane(effect, scene);\n  };\n  MaterialHelper2._TmpMorphInfluencers = { NUM_MORPH_INFLUENCERS: 0 };\n  MaterialHelper2._TempFogColor = Color3.Black();\n  return MaterialHelper2;\n}();\nvar MaterialStencilState = function() {\n  function MaterialStencilState2() {\n    this.reset();\n  }\n  MaterialStencilState2.prototype.reset = function() {\n    this.enabled = false;\n    this.mask = 255;\n    this.func = 519;\n    this.funcRef = 1;\n    this.funcMask = 255;\n    this.opStencilFail = 7680;\n    this.opDepthFail = 7680;\n    this.opStencilDepthPass = 7681;\n  };\n  Object.defineProperty(MaterialStencilState2.prototype, \"func\", {\n    get: function() {\n      return this._func;\n    },\n    set: function(value) {\n      this._func = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialStencilState2.prototype, \"funcRef\", {\n    get: function() {\n      return this._funcRef;\n    },\n    set: function(value) {\n      this._funcRef = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialStencilState2.prototype, \"funcMask\", {\n    get: function() {\n      return this._funcMask;\n    },\n    set: function(value) {\n      this._funcMask = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialStencilState2.prototype, \"opStencilFail\", {\n    get: function() {\n      return this._opStencilFail;\n    },\n    set: function(value) {\n      this._opStencilFail = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialStencilState2.prototype, \"opDepthFail\", {\n    get: function() {\n      return this._opDepthFail;\n    },\n    set: function(value) {\n      this._opDepthFail = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialStencilState2.prototype, \"opStencilDepthPass\", {\n    get: function() {\n      return this._opStencilDepthPass;\n    },\n    set: function(value) {\n      this._opStencilDepthPass = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialStencilState2.prototype, \"mask\", {\n    get: function() {\n      return this._mask;\n    },\n    set: function(value) {\n      this._mask = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialStencilState2.prototype, \"enabled\", {\n    get: function() {\n      return this._enabled;\n    },\n    set: function(value) {\n      this._enabled = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  MaterialStencilState2.prototype.getClassName = function() {\n    return \"MaterialStencilState\";\n  };\n  MaterialStencilState2.prototype.copyTo = function(stencilState) {\n    SerializationHelper.Clone(function() {\n      return stencilState;\n    }, this);\n  };\n  MaterialStencilState2.prototype.serialize = function() {\n    return SerializationHelper.Serialize(this);\n  };\n  MaterialStencilState2.prototype.parse = function(source, scene, rootUrl) {\n    var _this = this;\n    SerializationHelper.Parse(function() {\n      return _this;\n    }, source, scene, rootUrl);\n  };\n  __decorate([\n    serialize()\n  ], MaterialStencilState2.prototype, \"func\", null);\n  __decorate([\n    serialize()\n  ], MaterialStencilState2.prototype, \"funcRef\", null);\n  __decorate([\n    serialize()\n  ], MaterialStencilState2.prototype, \"funcMask\", null);\n  __decorate([\n    serialize()\n  ], MaterialStencilState2.prototype, \"opStencilFail\", null);\n  __decorate([\n    serialize()\n  ], MaterialStencilState2.prototype, \"opDepthFail\", null);\n  __decorate([\n    serialize()\n  ], MaterialStencilState2.prototype, \"opStencilDepthPass\", null);\n  __decorate([\n    serialize()\n  ], MaterialStencilState2.prototype, \"mask\", null);\n  __decorate([\n    serialize()\n  ], MaterialStencilState2.prototype, \"enabled\", null);\n  return MaterialStencilState2;\n}();\nvar MaterialPluginEvent;\n(function(MaterialPluginEvent2) {\n  MaterialPluginEvent2[MaterialPluginEvent2[\"Created\"] = 1] = \"Created\";\n  MaterialPluginEvent2[MaterialPluginEvent2[\"Disposed\"] = 2] = \"Disposed\";\n  MaterialPluginEvent2[MaterialPluginEvent2[\"GetDefineNames\"] = 4] = \"GetDefineNames\";\n  MaterialPluginEvent2[MaterialPluginEvent2[\"PrepareUniformBuffer\"] = 8] = \"PrepareUniformBuffer\";\n  MaterialPluginEvent2[MaterialPluginEvent2[\"IsReadyForSubMesh\"] = 16] = \"IsReadyForSubMesh\";\n  MaterialPluginEvent2[MaterialPluginEvent2[\"PrepareDefines\"] = 32] = \"PrepareDefines\";\n  MaterialPluginEvent2[MaterialPluginEvent2[\"BindForSubMesh\"] = 64] = \"BindForSubMesh\";\n  MaterialPluginEvent2[MaterialPluginEvent2[\"PrepareEffect\"] = 128] = \"PrepareEffect\";\n  MaterialPluginEvent2[MaterialPluginEvent2[\"GetAnimatables\"] = 256] = \"GetAnimatables\";\n  MaterialPluginEvent2[MaterialPluginEvent2[\"GetActiveTextures\"] = 512] = \"GetActiveTextures\";\n  MaterialPluginEvent2[MaterialPluginEvent2[\"HasTexture\"] = 1024] = \"HasTexture\";\n  MaterialPluginEvent2[MaterialPluginEvent2[\"FillRenderTargetTextures\"] = 2048] = \"FillRenderTargetTextures\";\n  MaterialPluginEvent2[MaterialPluginEvent2[\"HasRenderTargetTextures\"] = 4096] = \"HasRenderTargetTextures\";\n  MaterialPluginEvent2[MaterialPluginEvent2[\"HardBindForSubMesh\"] = 8192] = \"HardBindForSubMesh\";\n})(MaterialPluginEvent || (MaterialPluginEvent = {}));\nvar Material = function() {\n  function Material2(name2, scene, doNotAdd) {\n    this.shadowDepthWrapper = null;\n    this.allowShaderHotSwapping = true;\n    this.metadata = null;\n    this.reservedDataStore = null;\n    this.checkReadyOnEveryCall = false;\n    this.checkReadyOnlyOnce = false;\n    this.state = \"\";\n    this._alpha = 1;\n    this._backFaceCulling = true;\n    this._cullBackFaces = true;\n    this.onCompiled = null;\n    this.onError = null;\n    this.getRenderTargetTextures = null;\n    this.doNotSerialize = false;\n    this._storeEffectOnSubMeshes = false;\n    this.animations = null;\n    this.onDisposeObservable = new Observable();\n    this._onDisposeObserver = null;\n    this._onUnBindObservable = null;\n    this._onBindObserver = null;\n    this._alphaMode = 2;\n    this._needDepthPrePass = false;\n    this.disableDepthWrite = false;\n    this.disableColorWrite = false;\n    this.forceDepthWrite = false;\n    this.depthFunction = 0;\n    this.separateCullingPass = false;\n    this._fogEnabled = true;\n    this.pointSize = 1;\n    this.zOffset = 0;\n    this.zOffsetUnits = 0;\n    this.stencil = new MaterialStencilState();\n    this._useUBO = false;\n    this._fillMode = Material2.TriangleFillMode;\n    this._cachedDepthWriteState = false;\n    this._cachedColorWriteState = false;\n    this._cachedDepthFunctionState = 0;\n    this._indexInSceneMaterialArray = -1;\n    this.meshMap = null;\n    this._parentContainer = null;\n    this._uniformBufferLayoutBuilt = false;\n    this._eventInfo = {};\n    this._callbackPluginEventGeneric = function() {\n      return void 0;\n    };\n    this._callbackPluginEventIsReadyForSubMesh = function() {\n      return void 0;\n    };\n    this._callbackPluginEventPrepareDefines = function() {\n      return void 0;\n    };\n    this._callbackPluginEventHardBindForSubMesh = function() {\n      return void 0;\n    };\n    this._callbackPluginEventBindForSubMesh = function() {\n      return void 0;\n    };\n    this._callbackPluginEventHasRenderTargetTextures = function() {\n      return void 0;\n    };\n    this._callbackPluginEventFillRenderTargetTextures = function() {\n      return void 0;\n    };\n    this._forceAlphaTest = false;\n    this._transparencyMode = null;\n    this.name = name2;\n    var setScene = scene || EngineStore.LastCreatedScene;\n    if (!setScene) {\n      return;\n    }\n    this._scene = setScene;\n    this._dirtyCallbacks = {};\n    this._dirtyCallbacks[1] = this._markAllSubMeshesAsTexturesDirty.bind(this);\n    this._dirtyCallbacks[2] = this._markAllSubMeshesAsLightsDirty.bind(this);\n    this._dirtyCallbacks[4] = this._markAllSubMeshesAsFresnelDirty.bind(this);\n    this._dirtyCallbacks[8] = this._markAllSubMeshesAsAttributesDirty.bind(this);\n    this._dirtyCallbacks[16] = this._markAllSubMeshesAsMiscDirty.bind(this);\n    this._dirtyCallbacks[32] = this._markAllSubMeshesAsPrePassDirty.bind(this);\n    this._dirtyCallbacks[63] = this._markAllSubMeshesAsAllDirty.bind(this);\n    this.id = name2 || Tools.RandomId();\n    this.uniqueId = this._scene.getUniqueId();\n    this._materialContext = this._scene.getEngine().createMaterialContext();\n    this._drawWrapper = new DrawWrapper(this._scene.getEngine(), false);\n    this._drawWrapper.materialContext = this._materialContext;\n    if (this._scene.useRightHandedSystem) {\n      this.sideOrientation = Material2.ClockWiseSideOrientation;\n    } else {\n      this.sideOrientation = Material2.CounterClockWiseSideOrientation;\n    }\n    this._uniformBuffer = new UniformBuffer(this._scene.getEngine(), void 0, void 0, name2);\n    this._useUBO = this.getScene().getEngine().supportsUniformBuffers;\n    if (!doNotAdd) {\n      this._scene.addMaterial(this);\n    }\n    if (this._scene.useMaterialMeshMap) {\n      this.meshMap = {};\n    }\n    Material2.OnEventObservable.notifyObservers(this, MaterialPluginEvent.Created);\n  }\n  Object.defineProperty(Material2.prototype, \"canRenderToMRT\", {\n    get: function() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Material2.prototype, \"alpha\", {\n    get: function() {\n      return this._alpha;\n    },\n    set: function(value) {\n      if (this._alpha === value) {\n        return;\n      }\n      var oldValue = this._alpha;\n      this._alpha = value;\n      if (oldValue === 1 || value === 1) {\n        this.markAsDirty(Material2.MiscDirtyFlag);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Material2.prototype, \"backFaceCulling\", {\n    get: function() {\n      return this._backFaceCulling;\n    },\n    set: function(value) {\n      if (this._backFaceCulling === value) {\n        return;\n      }\n      this._backFaceCulling = value;\n      this.markAsDirty(Material2.TextureDirtyFlag);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Material2.prototype, \"cullBackFaces\", {\n    get: function() {\n      return this._cullBackFaces;\n    },\n    set: function(value) {\n      if (this._cullBackFaces === value) {\n        return;\n      }\n      this._cullBackFaces = value;\n      this.markAsDirty(Material2.TextureDirtyFlag);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Material2.prototype, \"hasRenderTargetTextures\", {\n    get: function() {\n      this._eventInfo.hasRenderTargetTextures = false;\n      this._callbackPluginEventHasRenderTargetTextures(this._eventInfo);\n      return this._eventInfo.hasRenderTargetTextures;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Material2.prototype, \"onDispose\", {\n    set: function(callback) {\n      if (this._onDisposeObserver) {\n        this.onDisposeObservable.remove(this._onDisposeObserver);\n      }\n      this._onDisposeObserver = this.onDisposeObservable.add(callback);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Material2.prototype, \"onBindObservable\", {\n    get: function() {\n      if (!this._onBindObservable) {\n        this._onBindObservable = new Observable();\n      }\n      return this._onBindObservable;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Material2.prototype, \"onBind\", {\n    set: function(callback) {\n      if (this._onBindObserver) {\n        this.onBindObservable.remove(this._onBindObserver);\n      }\n      this._onBindObserver = this.onBindObservable.add(callback);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Material2.prototype, \"onUnBindObservable\", {\n    get: function() {\n      if (!this._onUnBindObservable) {\n        this._onUnBindObservable = new Observable();\n      }\n      return this._onUnBindObservable;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Material2.prototype, \"onEffectCreatedObservable\", {\n    get: function() {\n      if (!this._onEffectCreatedObservable) {\n        this._onEffectCreatedObservable = new Observable();\n      }\n      return this._onEffectCreatedObservable;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Material2.prototype, \"alphaMode\", {\n    get: function() {\n      return this._alphaMode;\n    },\n    set: function(value) {\n      if (this._alphaMode === value) {\n        return;\n      }\n      this._alphaMode = value;\n      this.markAsDirty(Material2.TextureDirtyFlag);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Material2.prototype, \"needDepthPrePass\", {\n    get: function() {\n      return this._needDepthPrePass;\n    },\n    set: function(value) {\n      if (this._needDepthPrePass === value) {\n        return;\n      }\n      this._needDepthPrePass = value;\n      if (this._needDepthPrePass) {\n        this.checkReadyOnEveryCall = true;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Material2.prototype, \"isPrePassCapable\", {\n    get: function() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Material2.prototype, \"fogEnabled\", {\n    get: function() {\n      return this._fogEnabled;\n    },\n    set: function(value) {\n      if (this._fogEnabled === value) {\n        return;\n      }\n      this._fogEnabled = value;\n      this.markAsDirty(Material2.MiscDirtyFlag);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Material2.prototype, \"wireframe\", {\n    get: function() {\n      switch (this._fillMode) {\n        case Material2.WireFrameFillMode:\n        case Material2.LineListDrawMode:\n        case Material2.LineLoopDrawMode:\n        case Material2.LineStripDrawMode:\n          return true;\n      }\n      return this._scene.forceWireframe;\n    },\n    set: function(value) {\n      this.fillMode = value ? Material2.WireFrameFillMode : Material2.TriangleFillMode;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Material2.prototype, \"pointsCloud\", {\n    get: function() {\n      switch (this._fillMode) {\n        case Material2.PointFillMode:\n        case Material2.PointListDrawMode:\n          return true;\n      }\n      return this._scene.forcePointsCloud;\n    },\n    set: function(value) {\n      this.fillMode = value ? Material2.PointFillMode : Material2.TriangleFillMode;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Material2.prototype, \"fillMode\", {\n    get: function() {\n      return this._fillMode;\n    },\n    set: function(value) {\n      if (this._fillMode === value) {\n        return;\n      }\n      this._fillMode = value;\n      this.markAsDirty(Material2.MiscDirtyFlag);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Material2.prototype._getDrawWrapper = function() {\n    return this._drawWrapper;\n  };\n  Material2.prototype._setDrawWrapper = function(drawWrapper) {\n    this._drawWrapper = drawWrapper;\n  };\n  Material2.prototype.toString = function(fullDetails) {\n    var ret = \"Name: \" + this.name;\n    return ret;\n  };\n  Material2.prototype.getClassName = function() {\n    return \"Material\";\n  };\n  Object.defineProperty(Material2.prototype, \"isFrozen\", {\n    get: function() {\n      return this.checkReadyOnlyOnce;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Material2.prototype.freeze = function() {\n    this.markDirty();\n    this.checkReadyOnlyOnce = true;\n  };\n  Material2.prototype.unfreeze = function() {\n    this.markDirty();\n    this.checkReadyOnlyOnce = false;\n  };\n  Material2.prototype.isReady = function(mesh, useInstances) {\n    return true;\n  };\n  Material2.prototype.isReadyForSubMesh = function(mesh, subMesh, useInstances) {\n    var defines = subMesh.materialDefines;\n    if (!defines) {\n      return false;\n    }\n    this._eventInfo.isReadyForSubMesh = true;\n    this._eventInfo.defines = defines;\n    this._callbackPluginEventIsReadyForSubMesh(this._eventInfo);\n    return this._eventInfo.isReadyForSubMesh;\n  };\n  Material2.prototype.getEffect = function() {\n    return this._drawWrapper.effect;\n  };\n  Material2.prototype.getScene = function() {\n    return this._scene;\n  };\n  Object.defineProperty(Material2.prototype, \"transparencyMode\", {\n    get: function() {\n      return this._transparencyMode;\n    },\n    set: function(value) {\n      if (this._transparencyMode === value) {\n        return;\n      }\n      this._transparencyMode = value;\n      this._forceAlphaTest = value === Material2.MATERIAL_ALPHATESTANDBLEND;\n      this._markAllSubMeshesAsTexturesAndMiscDirty();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Material2.prototype, \"_disableAlphaBlending\", {\n    get: function() {\n      return this._transparencyMode === Material2.MATERIAL_OPAQUE || this._transparencyMode === Material2.MATERIAL_ALPHATEST;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Material2.prototype.needAlphaBlending = function() {\n    if (this._disableAlphaBlending) {\n      return false;\n    }\n    return this.alpha < 1;\n  };\n  Material2.prototype.needAlphaBlendingForMesh = function(mesh) {\n    if (this._disableAlphaBlending && mesh.visibility >= 1) {\n      return false;\n    }\n    return this.needAlphaBlending() || mesh.visibility < 1 || mesh.hasVertexAlpha;\n  };\n  Material2.prototype.needAlphaTesting = function() {\n    if (this._forceAlphaTest) {\n      return true;\n    }\n    return false;\n  };\n  Material2.prototype._shouldTurnAlphaTestOn = function(mesh) {\n    return !this.needAlphaBlendingForMesh(mesh) && this.needAlphaTesting();\n  };\n  Material2.prototype.getAlphaTestTexture = function() {\n    return null;\n  };\n  Material2.prototype.markDirty = function() {\n    var meshes = this.getScene().meshes;\n    for (var _i = 0, meshes_1 = meshes; _i < meshes_1.length; _i++) {\n      var mesh = meshes_1[_i];\n      if (!mesh.subMeshes) {\n        continue;\n      }\n      for (var _a = 0, _b = mesh.subMeshes; _a < _b.length; _a++) {\n        var subMesh = _b[_a];\n        if (subMesh.getMaterial() !== this) {\n          continue;\n        }\n        if (!subMesh.effect) {\n          continue;\n        }\n        subMesh.effect._wasPreviouslyReady = false;\n      }\n    }\n  };\n  Material2.prototype._preBind = function(effect, overrideOrientation) {\n    if (overrideOrientation === void 0) {\n      overrideOrientation = null;\n    }\n    var engine = this._scene.getEngine();\n    var orientation = overrideOrientation == null ? this.sideOrientation : overrideOrientation;\n    var reverse = orientation === Material2.ClockWiseSideOrientation;\n    engine.enableEffect(effect ? effect : this._getDrawWrapper());\n    engine.setState(this.backFaceCulling, this.zOffset, false, reverse, this.cullBackFaces, this.stencil, this.zOffsetUnits);\n    return reverse;\n  };\n  Material2.prototype.bind = function(world, mesh) {\n  };\n  Material2.prototype.buildUniformLayout = function() {\n    var ubo = this._uniformBuffer;\n    this._eventInfo.ubo = ubo;\n    this._callbackPluginEventGeneric(MaterialPluginEvent.PrepareUniformBuffer, this._eventInfo);\n    ubo.create();\n    this._uniformBufferLayoutBuilt = true;\n  };\n  Material2.prototype.bindForSubMesh = function(world, mesh, subMesh) {\n    var effect = subMesh.effect;\n    if (!effect) {\n      return;\n    }\n    this._eventInfo.subMesh = subMesh;\n    this._callbackPluginEventBindForSubMesh(this._eventInfo);\n  };\n  Material2.prototype.bindOnlyWorldMatrix = function(world) {\n  };\n  Material2.prototype.bindView = function(effect) {\n    if (!this._useUBO) {\n      effect.setMatrix(\"view\", this.getScene().getViewMatrix());\n    } else {\n      this._needToBindSceneUbo = true;\n    }\n  };\n  Material2.prototype.bindViewProjection = function(effect) {\n    if (!this._useUBO) {\n      effect.setMatrix(\"viewProjection\", this.getScene().getTransformMatrix());\n      effect.setMatrix(\"projection\", this.getScene().getProjectionMatrix());\n    } else {\n      this._needToBindSceneUbo = true;\n    }\n  };\n  Material2.prototype.bindEyePosition = function(effect, variableName) {\n    if (!this._useUBO) {\n      this._scene.bindEyePosition(effect, variableName);\n    } else {\n      this._needToBindSceneUbo = true;\n    }\n  };\n  Material2.prototype._afterBind = function(mesh, effect) {\n    if (effect === void 0) {\n      effect = null;\n    }\n    this._scene._cachedMaterial = this;\n    if (this._needToBindSceneUbo) {\n      if (effect) {\n        this._needToBindSceneUbo = false;\n        MaterialHelper.BindSceneUniformBuffer(effect, this.getScene().getSceneUniformBuffer());\n        this._scene.finalizeSceneUbo();\n      }\n    }\n    if (mesh) {\n      this._scene._cachedVisibility = mesh.visibility;\n    } else {\n      this._scene._cachedVisibility = 1;\n    }\n    if (this._onBindObservable && mesh) {\n      this._onBindObservable.notifyObservers(mesh);\n    }\n    if (this.disableDepthWrite) {\n      var engine = this._scene.getEngine();\n      this._cachedDepthWriteState = engine.getDepthWrite();\n      engine.setDepthWrite(false);\n    }\n    if (this.disableColorWrite) {\n      var engine = this._scene.getEngine();\n      this._cachedColorWriteState = engine.getColorWrite();\n      engine.setColorWrite(false);\n    }\n    if (this.depthFunction !== 0) {\n      var engine = this._scene.getEngine();\n      this._cachedDepthFunctionState = engine.getDepthFunction() || 0;\n      engine.setDepthFunction(this.depthFunction);\n    }\n  };\n  Material2.prototype.unbind = function() {\n    if (this._onUnBindObservable) {\n      this._onUnBindObservable.notifyObservers(this);\n    }\n    if (this.depthFunction !== 0) {\n      var engine = this._scene.getEngine();\n      engine.setDepthFunction(this._cachedDepthFunctionState);\n    }\n    if (this.disableDepthWrite) {\n      var engine = this._scene.getEngine();\n      engine.setDepthWrite(this._cachedDepthWriteState);\n    }\n    if (this.disableColorWrite) {\n      var engine = this._scene.getEngine();\n      engine.setColorWrite(this._cachedColorWriteState);\n    }\n  };\n  Material2.prototype.getAnimatables = function() {\n    this._eventInfo.animatables = [];\n    this._callbackPluginEventGeneric(MaterialPluginEvent.GetAnimatables, this._eventInfo);\n    return this._eventInfo.animatables;\n  };\n  Material2.prototype.getActiveTextures = function() {\n    this._eventInfo.activeTextures = [];\n    this._callbackPluginEventGeneric(MaterialPluginEvent.GetActiveTextures, this._eventInfo);\n    return this._eventInfo.activeTextures;\n  };\n  Material2.prototype.hasTexture = function(texture) {\n    this._eventInfo.hasTexture = false;\n    this._eventInfo.texture = texture;\n    this._callbackPluginEventGeneric(MaterialPluginEvent.HasTexture, this._eventInfo);\n    return this._eventInfo.hasTexture;\n  };\n  Material2.prototype.clone = function(name2) {\n    return null;\n  };\n  Material2.prototype.getBindedMeshes = function() {\n    var _this = this;\n    if (this.meshMap) {\n      var result = new Array();\n      for (var meshId in this.meshMap) {\n        var mesh = this.meshMap[meshId];\n        if (mesh) {\n          result.push(mesh);\n        }\n      }\n      return result;\n    } else {\n      var meshes = this._scene.meshes;\n      return meshes.filter(function(mesh2) {\n        return mesh2.material === _this;\n      });\n    }\n  };\n  Material2.prototype.forceCompilation = function(mesh, onCompiled, options, onError) {\n    var _this = this;\n    var localOptions = __assign({ clipPlane: false, useInstances: false }, options);\n    var scene = this.getScene();\n    var currentHotSwapingState = this.allowShaderHotSwapping;\n    this.allowShaderHotSwapping = false;\n    var checkReady = function() {\n      if (!_this._scene || !_this._scene.getEngine()) {\n        return;\n      }\n      var clipPlaneState = scene.clipPlane;\n      if (localOptions.clipPlane) {\n        scene.clipPlane = new Plane(0, 0, 0, 1);\n      }\n      if (_this._storeEffectOnSubMeshes) {\n        var allDone = true, lastError = null;\n        if (mesh.subMeshes) {\n          var tempSubMesh = new SubMesh(0, 0, 0, 0, 0, mesh, void 0, false, false);\n          if (tempSubMesh.materialDefines) {\n            tempSubMesh.materialDefines._renderId = -1;\n          }\n          if (!_this.isReadyForSubMesh(mesh, tempSubMesh, localOptions.useInstances)) {\n            if (tempSubMesh.effect && tempSubMesh.effect.getCompilationError() && tempSubMesh.effect.allFallbacksProcessed()) {\n              lastError = tempSubMesh.effect.getCompilationError();\n            } else {\n              allDone = false;\n              setTimeout(checkReady, 16);\n            }\n          }\n        }\n        if (allDone) {\n          _this.allowShaderHotSwapping = currentHotSwapingState;\n          if (lastError) {\n            if (onError) {\n              onError(lastError);\n            }\n          }\n          if (onCompiled) {\n            onCompiled(_this);\n          }\n        }\n      } else {\n        if (_this.isReady()) {\n          _this.allowShaderHotSwapping = currentHotSwapingState;\n          if (onCompiled) {\n            onCompiled(_this);\n          }\n        } else {\n          setTimeout(checkReady, 16);\n        }\n      }\n      if (localOptions.clipPlane) {\n        scene.clipPlane = clipPlaneState;\n      }\n    };\n    checkReady();\n  };\n  Material2.prototype.forceCompilationAsync = function(mesh, options) {\n    var _this = this;\n    return new Promise(function(resolve, reject) {\n      _this.forceCompilation(mesh, function() {\n        resolve();\n      }, options, function(reason) {\n        reject(reason);\n      });\n    });\n  };\n  Material2.prototype.markAsDirty = function(flag) {\n    if (this.getScene().blockMaterialDirtyMechanism) {\n      return;\n    }\n    Material2._DirtyCallbackArray.length = 0;\n    if (flag & Material2.TextureDirtyFlag) {\n      Material2._DirtyCallbackArray.push(Material2._TextureDirtyCallBack);\n    }\n    if (flag & Material2.LightDirtyFlag) {\n      Material2._DirtyCallbackArray.push(Material2._LightsDirtyCallBack);\n    }\n    if (flag & Material2.FresnelDirtyFlag) {\n      Material2._DirtyCallbackArray.push(Material2._FresnelDirtyCallBack);\n    }\n    if (flag & Material2.AttributesDirtyFlag) {\n      Material2._DirtyCallbackArray.push(Material2._AttributeDirtyCallBack);\n    }\n    if (flag & Material2.MiscDirtyFlag) {\n      Material2._DirtyCallbackArray.push(Material2._MiscDirtyCallBack);\n    }\n    if (flag & Material2.PrePassDirtyFlag) {\n      Material2._DirtyCallbackArray.push(Material2._PrePassDirtyCallBack);\n    }\n    if (Material2._DirtyCallbackArray.length) {\n      this._markAllSubMeshesAsDirty(Material2._RunDirtyCallBacks);\n    }\n    this.getScene().resetCachedMaterial();\n  };\n  Material2.prototype.resetDrawCache = function() {\n    var meshes = this.getScene().meshes;\n    for (var _i = 0, meshes_2 = meshes; _i < meshes_2.length; _i++) {\n      var mesh = meshes_2[_i];\n      if (!mesh.subMeshes) {\n        continue;\n      }\n      for (var _a = 0, _b = mesh.subMeshes; _a < _b.length; _a++) {\n        var subMesh = _b[_a];\n        if (subMesh.getMaterial() !== this) {\n          continue;\n        }\n        subMesh.resetDrawCache();\n      }\n    }\n  };\n  Material2.prototype._markAllSubMeshesAsDirty = function(func) {\n    if (this.getScene().blockMaterialDirtyMechanism) {\n      return;\n    }\n    var meshes = this.getScene().meshes;\n    for (var _i = 0, meshes_3 = meshes; _i < meshes_3.length; _i++) {\n      var mesh = meshes_3[_i];\n      if (!mesh.subMeshes) {\n        continue;\n      }\n      for (var _a = 0, _b = mesh.subMeshes; _a < _b.length; _a++) {\n        var subMesh = _b[_a];\n        if (mesh._renderId === 0 || subMesh.getMaterial() !== this) {\n          continue;\n        }\n        for (var _c = 0, _d = subMesh._drawWrappers; _c < _d.length; _c++) {\n          var drawWrapper = _d[_c];\n          if (!drawWrapper || !drawWrapper.defines || !drawWrapper.defines.markAllAsDirty) {\n            continue;\n          }\n          if (this._materialContext === drawWrapper.materialContext) {\n            func(drawWrapper.defines);\n          }\n        }\n      }\n    }\n  };\n  Material2.prototype._markScenePrePassDirty = function() {\n    if (this.getScene().blockMaterialDirtyMechanism) {\n      return;\n    }\n    var prePassRenderer = this.getScene().enablePrePassRenderer();\n    if (prePassRenderer) {\n      prePassRenderer.markAsDirty();\n    }\n  };\n  Material2.prototype._markAllSubMeshesAsAllDirty = function() {\n    this._markAllSubMeshesAsDirty(Material2._AllDirtyCallBack);\n  };\n  Material2.prototype._markAllSubMeshesAsImageProcessingDirty = function() {\n    this._markAllSubMeshesAsDirty(Material2._ImageProcessingDirtyCallBack);\n  };\n  Material2.prototype._markAllSubMeshesAsTexturesDirty = function() {\n    this._markAllSubMeshesAsDirty(Material2._TextureDirtyCallBack);\n  };\n  Material2.prototype._markAllSubMeshesAsFresnelDirty = function() {\n    this._markAllSubMeshesAsDirty(Material2._FresnelDirtyCallBack);\n  };\n  Material2.prototype._markAllSubMeshesAsFresnelAndMiscDirty = function() {\n    this._markAllSubMeshesAsDirty(Material2._FresnelAndMiscDirtyCallBack);\n  };\n  Material2.prototype._markAllSubMeshesAsLightsDirty = function() {\n    this._markAllSubMeshesAsDirty(Material2._LightsDirtyCallBack);\n  };\n  Material2.prototype._markAllSubMeshesAsAttributesDirty = function() {\n    this._markAllSubMeshesAsDirty(Material2._AttributeDirtyCallBack);\n  };\n  Material2.prototype._markAllSubMeshesAsMiscDirty = function() {\n    this._markAllSubMeshesAsDirty(Material2._MiscDirtyCallBack);\n  };\n  Material2.prototype._markAllSubMeshesAsPrePassDirty = function() {\n    this._markAllSubMeshesAsDirty(Material2._MiscDirtyCallBack);\n  };\n  Material2.prototype._markAllSubMeshesAsTexturesAndMiscDirty = function() {\n    this._markAllSubMeshesAsDirty(Material2._TextureAndMiscDirtyCallBack);\n  };\n  Material2.prototype.setPrePassRenderer = function(prePassRenderer) {\n    return false;\n  };\n  Material2.prototype.dispose = function(forceDisposeEffect, forceDisposeTextures, notBoundToMesh) {\n    var scene = this.getScene();\n    scene.stopAnimation(this);\n    scene.freeProcessedMaterials();\n    scene.removeMaterial(this);\n    this._eventInfo.forceDisposeTextures = forceDisposeTextures;\n    this._callbackPluginEventGeneric(MaterialPluginEvent.Disposed, this._eventInfo);\n    if (this._parentContainer) {\n      var index = this._parentContainer.materials.indexOf(this);\n      if (index > -1) {\n        this._parentContainer.materials.splice(index, 1);\n      }\n      this._parentContainer = null;\n    }\n    if (notBoundToMesh !== true) {\n      if (this.meshMap) {\n        for (var meshId in this.meshMap) {\n          var mesh = this.meshMap[meshId];\n          if (mesh) {\n            mesh.material = null;\n            this.releaseVertexArrayObject(mesh, forceDisposeEffect);\n          }\n        }\n      } else {\n        var meshes = scene.meshes;\n        for (var _i = 0, meshes_4 = meshes; _i < meshes_4.length; _i++) {\n          var mesh = meshes_4[_i];\n          if (mesh.material === this && !mesh.sourceMesh) {\n            mesh.material = null;\n            this.releaseVertexArrayObject(mesh, forceDisposeEffect);\n          }\n        }\n      }\n    }\n    this._uniformBuffer.dispose();\n    if (forceDisposeEffect && this._drawWrapper.effect) {\n      if (!this._storeEffectOnSubMeshes) {\n        this._drawWrapper.effect.dispose();\n      }\n      this._drawWrapper.effect = null;\n    }\n    this.metadata = null;\n    this.onDisposeObservable.notifyObservers(this);\n    this.onDisposeObservable.clear();\n    if (this._onBindObservable) {\n      this._onBindObservable.clear();\n    }\n    if (this._onUnBindObservable) {\n      this._onUnBindObservable.clear();\n    }\n    if (this._onEffectCreatedObservable) {\n      this._onEffectCreatedObservable.clear();\n    }\n  };\n  Material2.prototype.releaseVertexArrayObject = function(mesh, forceDisposeEffect) {\n    if (mesh.geometry) {\n      var geometry = mesh.geometry;\n      if (this._storeEffectOnSubMeshes) {\n        for (var _i = 0, _a = mesh.subMeshes; _i < _a.length; _i++) {\n          var subMesh = _a[_i];\n          geometry._releaseVertexArrayObject(subMesh.effect);\n          if (forceDisposeEffect && subMesh.effect) {\n            subMesh.effect.dispose();\n          }\n        }\n      } else {\n        geometry._releaseVertexArrayObject(this._drawWrapper.effect);\n      }\n    }\n  };\n  Material2.prototype.serialize = function() {\n    var serializationObject = SerializationHelper.Serialize(this);\n    serializationObject.stencil = this.stencil.serialize();\n    serializationObject.uniqueId = this.uniqueId;\n    return serializationObject;\n  };\n  Material2.Parse = function(parsedMaterial, scene, rootUrl) {\n    if (!parsedMaterial.customType) {\n      parsedMaterial.customType = \"BABYLON.StandardMaterial\";\n    } else if (parsedMaterial.customType === \"BABYLON.PBRMaterial\" && parsedMaterial.overloadedAlbedo) {\n      parsedMaterial.customType = \"BABYLON.LegacyPBRMaterial\";\n      if (!BABYLON.LegacyPBRMaterial) {\n        Logger.Error(\"Your scene is trying to load a legacy version of the PBRMaterial, please, include it from the materials library.\");\n        return null;\n      }\n    }\n    var materialType = Tools.Instantiate(parsedMaterial.customType);\n    var material = materialType.Parse(parsedMaterial, scene, rootUrl);\n    material._loadedUniqueId = parsedMaterial.uniqueId;\n    return material;\n  };\n  Material2.TriangleFillMode = 0;\n  Material2.WireFrameFillMode = 1;\n  Material2.PointFillMode = 2;\n  Material2.PointListDrawMode = 3;\n  Material2.LineListDrawMode = 4;\n  Material2.LineLoopDrawMode = 5;\n  Material2.LineStripDrawMode = 6;\n  Material2.TriangleStripDrawMode = 7;\n  Material2.TriangleFanDrawMode = 8;\n  Material2.ClockWiseSideOrientation = 0;\n  Material2.CounterClockWiseSideOrientation = 1;\n  Material2.TextureDirtyFlag = 1;\n  Material2.LightDirtyFlag = 2;\n  Material2.FresnelDirtyFlag = 4;\n  Material2.AttributesDirtyFlag = 8;\n  Material2.MiscDirtyFlag = 16;\n  Material2.PrePassDirtyFlag = 32;\n  Material2.AllDirtyFlag = 63;\n  Material2.MATERIAL_OPAQUE = 0;\n  Material2.MATERIAL_ALPHATEST = 1;\n  Material2.MATERIAL_ALPHABLEND = 2;\n  Material2.MATERIAL_ALPHATESTANDBLEND = 3;\n  Material2.MATERIAL_NORMALBLENDMETHOD_WHITEOUT = 0;\n  Material2.MATERIAL_NORMALBLENDMETHOD_RNM = 1;\n  Material2.OnEventObservable = new Observable();\n  Material2._AllDirtyCallBack = function(defines) {\n    return defines.markAllAsDirty();\n  };\n  Material2._ImageProcessingDirtyCallBack = function(defines) {\n    return defines.markAsImageProcessingDirty();\n  };\n  Material2._TextureDirtyCallBack = function(defines) {\n    return defines.markAsTexturesDirty();\n  };\n  Material2._FresnelDirtyCallBack = function(defines) {\n    return defines.markAsFresnelDirty();\n  };\n  Material2._MiscDirtyCallBack = function(defines) {\n    return defines.markAsMiscDirty();\n  };\n  Material2._PrePassDirtyCallBack = function(defines) {\n    return defines.markAsPrePassDirty();\n  };\n  Material2._LightsDirtyCallBack = function(defines) {\n    return defines.markAsLightDirty();\n  };\n  Material2._AttributeDirtyCallBack = function(defines) {\n    return defines.markAsAttributesDirty();\n  };\n  Material2._FresnelAndMiscDirtyCallBack = function(defines) {\n    Material2._FresnelDirtyCallBack(defines);\n    Material2._MiscDirtyCallBack(defines);\n  };\n  Material2._TextureAndMiscDirtyCallBack = function(defines) {\n    Material2._TextureDirtyCallBack(defines);\n    Material2._MiscDirtyCallBack(defines);\n  };\n  Material2._DirtyCallbackArray = [];\n  Material2._RunDirtyCallBacks = function(defines) {\n    for (var _i = 0, _a = Material2._DirtyCallbackArray; _i < _a.length; _i++) {\n      var cb = _a[_i];\n      cb(defines);\n    }\n  };\n  __decorate([\n    serialize()\n  ], Material2.prototype, \"id\", void 0);\n  __decorate([\n    serialize()\n  ], Material2.prototype, \"uniqueId\", void 0);\n  __decorate([\n    serialize()\n  ], Material2.prototype, \"name\", void 0);\n  __decorate([\n    serialize()\n  ], Material2.prototype, \"metadata\", void 0);\n  __decorate([\n    serialize()\n  ], Material2.prototype, \"checkReadyOnEveryCall\", void 0);\n  __decorate([\n    serialize()\n  ], Material2.prototype, \"checkReadyOnlyOnce\", void 0);\n  __decorate([\n    serialize()\n  ], Material2.prototype, \"state\", void 0);\n  __decorate([\n    serialize(\"alpha\")\n  ], Material2.prototype, \"_alpha\", void 0);\n  __decorate([\n    serialize(\"backFaceCulling\")\n  ], Material2.prototype, \"_backFaceCulling\", void 0);\n  __decorate([\n    serialize(\"cullBackFaces\")\n  ], Material2.prototype, \"_cullBackFaces\", void 0);\n  __decorate([\n    serialize()\n  ], Material2.prototype, \"sideOrientation\", void 0);\n  __decorate([\n    serialize(\"alphaMode\")\n  ], Material2.prototype, \"_alphaMode\", void 0);\n  __decorate([\n    serialize()\n  ], Material2.prototype, \"_needDepthPrePass\", void 0);\n  __decorate([\n    serialize()\n  ], Material2.prototype, \"disableDepthWrite\", void 0);\n  __decorate([\n    serialize()\n  ], Material2.prototype, \"disableColorWrite\", void 0);\n  __decorate([\n    serialize()\n  ], Material2.prototype, \"forceDepthWrite\", void 0);\n  __decorate([\n    serialize()\n  ], Material2.prototype, \"depthFunction\", void 0);\n  __decorate([\n    serialize()\n  ], Material2.prototype, \"separateCullingPass\", void 0);\n  __decorate([\n    serialize(\"fogEnabled\")\n  ], Material2.prototype, \"_fogEnabled\", void 0);\n  __decorate([\n    serialize()\n  ], Material2.prototype, \"pointSize\", void 0);\n  __decorate([\n    serialize()\n  ], Material2.prototype, \"zOffset\", void 0);\n  __decorate([\n    serialize()\n  ], Material2.prototype, \"zOffsetUnits\", void 0);\n  __decorate([\n    serialize()\n  ], Material2.prototype, \"pointsCloud\", null);\n  __decorate([\n    serialize()\n  ], Material2.prototype, \"fillMode\", null);\n  __decorate([\n    serialize()\n  ], Material2.prototype, \"transparencyMode\", null);\n  return Material2;\n}();\nvar MultiMaterial = function(_super) {\n  __extends(MultiMaterial2, _super);\n  function MultiMaterial2(name2, scene) {\n    var _this = _super.call(this, name2, scene, true) || this;\n    _this._waitingSubMaterialsUniqueIds = [];\n    _this.getScene().multiMaterials.push(_this);\n    _this.subMaterials = new Array();\n    _this._storeEffectOnSubMeshes = true;\n    return _this;\n  }\n  Object.defineProperty(MultiMaterial2.prototype, \"subMaterials\", {\n    get: function() {\n      return this._subMaterials;\n    },\n    set: function(value) {\n      this._subMaterials = value;\n      this._hookArray(value);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  MultiMaterial2.prototype.getChildren = function() {\n    return this.subMaterials;\n  };\n  MultiMaterial2.prototype._hookArray = function(array) {\n    var _this = this;\n    var oldPush = array.push;\n    array.push = function() {\n      var items = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        items[_i] = arguments[_i];\n      }\n      var result = oldPush.apply(array, items);\n      _this._markAllSubMeshesAsTexturesDirty();\n      return result;\n    };\n    var oldSplice = array.splice;\n    array.splice = function(index, deleteCount) {\n      var deleted = oldSplice.apply(array, [index, deleteCount]);\n      _this._markAllSubMeshesAsTexturesDirty();\n      return deleted;\n    };\n  };\n  MultiMaterial2.prototype.getSubMaterial = function(index) {\n    if (index < 0 || index >= this.subMaterials.length) {\n      return this.getScene().defaultMaterial;\n    }\n    return this.subMaterials[index];\n  };\n  MultiMaterial2.prototype.getActiveTextures = function() {\n    var _a;\n    return (_a = _super.prototype.getActiveTextures.call(this)).concat.apply(_a, this.subMaterials.map(function(subMaterial) {\n      if (subMaterial) {\n        return subMaterial.getActiveTextures();\n      } else {\n        return [];\n      }\n    }));\n  };\n  MultiMaterial2.prototype.hasTexture = function(texture) {\n    var _a;\n    if (_super.prototype.hasTexture.call(this, texture)) {\n      return true;\n    }\n    for (var i = 0; i < this.subMaterials.length; i++) {\n      if ((_a = this.subMaterials[i]) === null || _a === void 0 ? void 0 : _a.hasTexture(texture)) {\n        return true;\n      }\n    }\n    return false;\n  };\n  MultiMaterial2.prototype.getClassName = function() {\n    return \"MultiMaterial\";\n  };\n  MultiMaterial2.prototype.isReadyForSubMesh = function(mesh, subMesh, useInstances) {\n    for (var index = 0; index < this.subMaterials.length; index++) {\n      var subMaterial = this.subMaterials[index];\n      if (subMaterial) {\n        if (subMaterial._storeEffectOnSubMeshes) {\n          if (!subMaterial.isReadyForSubMesh(mesh, subMesh, useInstances)) {\n            return false;\n          }\n          continue;\n        }\n        if (!subMaterial.isReady(mesh)) {\n          return false;\n        }\n      }\n    }\n    return true;\n  };\n  MultiMaterial2.prototype.clone = function(name2, cloneChildren) {\n    var newMultiMaterial = new MultiMaterial2(name2, this.getScene());\n    for (var index = 0; index < this.subMaterials.length; index++) {\n      var subMaterial = null;\n      var current = this.subMaterials[index];\n      if (cloneChildren && current) {\n        subMaterial = current.clone(name2 + \"-\" + current.name);\n      } else {\n        subMaterial = this.subMaterials[index];\n      }\n      newMultiMaterial.subMaterials.push(subMaterial);\n    }\n    return newMultiMaterial;\n  };\n  MultiMaterial2.prototype.serialize = function() {\n    var serializationObject = {};\n    serializationObject.name = this.name;\n    serializationObject.id = this.id;\n    serializationObject.uniqueId = this.uniqueId;\n    if (Tags) {\n      serializationObject.tags = Tags.GetTags(this);\n    }\n    serializationObject.materialsUniqueIds = [];\n    serializationObject.materials = [];\n    for (var matIndex = 0; matIndex < this.subMaterials.length; matIndex++) {\n      var subMat = this.subMaterials[matIndex];\n      if (subMat) {\n        serializationObject.materialsUniqueIds.push(subMat.uniqueId);\n        serializationObject.materials.push(subMat.id);\n      } else {\n        serializationObject.materialsUniqueIds.push(null);\n        serializationObject.materials.push(null);\n      }\n    }\n    return serializationObject;\n  };\n  MultiMaterial2.prototype.dispose = function(forceDisposeEffect, forceDisposeTextures, forceDisposeChildren) {\n    var scene = this.getScene();\n    if (!scene) {\n      return;\n    }\n    if (forceDisposeChildren) {\n      for (var index_1 = 0; index_1 < this.subMaterials.length; index_1++) {\n        var subMaterial = this.subMaterials[index_1];\n        if (subMaterial) {\n          subMaterial.dispose(forceDisposeEffect, forceDisposeTextures);\n        }\n      }\n    }\n    var index = scene.multiMaterials.indexOf(this);\n    if (index >= 0) {\n      scene.multiMaterials.splice(index, 1);\n    }\n    _super.prototype.dispose.call(this, forceDisposeEffect, forceDisposeTextures);\n  };\n  MultiMaterial2.ParseMultiMaterial = function(parsedMultiMaterial, scene) {\n    var multiMaterial = new MultiMaterial2(parsedMultiMaterial.name, scene);\n    multiMaterial.id = parsedMultiMaterial.id;\n    multiMaterial._loadedUniqueId = parsedMultiMaterial.uniqueId;\n    if (Tags) {\n      Tags.AddTagsTo(multiMaterial, parsedMultiMaterial.tags);\n    }\n    if (parsedMultiMaterial.materialsUniqueIds) {\n      multiMaterial._waitingSubMaterialsUniqueIds = parsedMultiMaterial.materialsUniqueIds;\n    } else {\n      parsedMultiMaterial.materials.forEach(function(subMatId) {\n        return multiMaterial.subMaterials.push(scene.getLastMaterialById(subMatId));\n      });\n    }\n    return multiMaterial;\n  };\n  return MultiMaterial2;\n}(Material);\nRegisterClass(\"BABYLON.MultiMaterial\", MultiMaterial);\nvar MeshLODLevel = function() {\n  function MeshLODLevel2(distanceOrScreenCoverage, mesh) {\n    this.distanceOrScreenCoverage = distanceOrScreenCoverage;\n    this.mesh = mesh;\n  }\n  return MeshLODLevel2;\n}();\nvar _InstanceDataStorage = function() {\n  function _InstanceDataStorage2() {\n    this.visibleInstances = {};\n    this.batchCache = new _InstancesBatch();\n    this.batchCacheReplacementModeInFrozenMode = new _InstancesBatch();\n    this.instancesBufferSize = 32 * 16 * 4;\n  }\n  return _InstanceDataStorage2;\n}();\nvar _InstancesBatch = function() {\n  function _InstancesBatch2() {\n    this.mustReturn = false;\n    this.visibleInstances = new Array();\n    this.renderSelf = new Array();\n    this.hardwareInstancedRendering = new Array();\n  }\n  return _InstancesBatch2;\n}();\nvar _ThinInstanceDataStorage = function() {\n  function _ThinInstanceDataStorage2() {\n    this.instancesCount = 0;\n    this.matrixBuffer = null;\n    this.previousMatrixBuffer = null;\n    this.matrixBufferSize = 32 * 16;\n    this.matrixData = null;\n    this.boundingVectors = [];\n    this.worldMatrices = null;\n  }\n  return _ThinInstanceDataStorage2;\n}();\nvar _InternalMeshDataInfo = function() {\n  function _InternalMeshDataInfo2() {\n    this._areNormalsFrozen = false;\n    this._source = null;\n    this.meshMap = null;\n    this._preActivateId = -1;\n    this._LODLevels = new Array();\n    this._useLODScreenCoverage = false;\n    this._effectiveMaterial = null;\n    this._forcedInstanceCount = 0;\n  }\n  return _InternalMeshDataInfo2;\n}();\nvar Mesh = function(_super) {\n  __extends(Mesh2, _super);\n  function Mesh2(name2, scene, parent, source, doNotCloneChildren, clonePhysicsImpostor) {\n    if (scene === void 0) {\n      scene = null;\n    }\n    if (parent === void 0) {\n      parent = null;\n    }\n    if (source === void 0) {\n      source = null;\n    }\n    if (clonePhysicsImpostor === void 0) {\n      clonePhysicsImpostor = true;\n    }\n    var _this = _super.call(this, name2, scene) || this;\n    _this._internalMeshDataInfo = new _InternalMeshDataInfo();\n    _this.delayLoadState = 0;\n    _this.instances = new Array();\n    _this._creationDataStorage = null;\n    _this._geometry = null;\n    _this._instanceDataStorage = new _InstanceDataStorage();\n    _this._thinInstanceDataStorage = new _ThinInstanceDataStorage();\n    _this._shouldGenerateFlatShading = false;\n    _this._originalBuilderSideOrientation = Mesh2.DEFAULTSIDE;\n    _this.overrideMaterialSideOrientation = null;\n    _this.ignoreCameraMaxZ = false;\n    scene = _this.getScene();\n    _this._onBeforeDraw = function(isInstance, world, effectiveMaterial) {\n      if (isInstance && effectiveMaterial) {\n        if (_this._uniformBuffer) {\n          _this.transferToEffect(world);\n        } else {\n          effectiveMaterial.bindOnlyWorldMatrix(world);\n        }\n      }\n    };\n    if (source) {\n      if (source._geometry) {\n        source._geometry.applyToMesh(_this);\n      }\n      DeepCopier.DeepCopy(source, _this, [\n        \"name\",\n        \"material\",\n        \"skeleton\",\n        \"instances\",\n        \"parent\",\n        \"uniqueId\",\n        \"source\",\n        \"metadata\",\n        \"morphTargetManager\",\n        \"hasInstances\",\n        \"worldMatrixInstancedBuffer\",\n        \"previousWorldMatrixInstancedBuffer\",\n        \"hasLODLevels\",\n        \"geometry\",\n        \"isBlocked\",\n        \"areNormalsFrozen\",\n        \"facetNb\",\n        \"isFacetDataEnabled\",\n        \"lightSources\",\n        \"useBones\",\n        \"isAnInstance\",\n        \"collider\",\n        \"edgesRenderer\",\n        \"forward\",\n        \"up\",\n        \"right\",\n        \"absolutePosition\",\n        \"absoluteScaling\",\n        \"absoluteRotationQuaternion\",\n        \"isWorldMatrixFrozen\",\n        \"nonUniformScaling\",\n        \"behaviors\",\n        \"worldMatrixFromCache\",\n        \"hasThinInstances\",\n        \"cloneMeshMap\",\n        \"hasBoundingInfo\"\n      ], [\"_poseMatrix\"]);\n      _this._internalMeshDataInfo._source = source;\n      if (scene.useClonedMeshMap) {\n        if (!source._internalMeshDataInfo.meshMap) {\n          source._internalMeshDataInfo.meshMap = {};\n        }\n        source._internalMeshDataInfo.meshMap[_this.uniqueId] = _this;\n      }\n      _this._originalBuilderSideOrientation = source._originalBuilderSideOrientation;\n      _this._creationDataStorage = source._creationDataStorage;\n      if (source._ranges) {\n        var ranges = source._ranges;\n        for (var name_1 in ranges) {\n          if (!Object.prototype.hasOwnProperty.call(ranges, name_1)) {\n            continue;\n          }\n          if (!ranges[name_1]) {\n            continue;\n          }\n          _this.createAnimationRange(name_1, ranges[name_1].from, ranges[name_1].to);\n        }\n      }\n      if (source.metadata && source.metadata.clone) {\n        _this.metadata = source.metadata.clone();\n      } else {\n        _this.metadata = source.metadata;\n      }\n      if (Tags && Tags.HasTags(source)) {\n        Tags.AddTagsTo(_this, Tags.GetTags(source, true));\n      }\n      _this.setEnabled(source.isEnabled());\n      _this.parent = source.parent;\n      _this.setPivotMatrix(source.getPivotMatrix());\n      _this.id = name2 + \".\" + source.id;\n      _this.material = source.material;\n      if (!doNotCloneChildren) {\n        var directDescendants = source.getDescendants(true);\n        for (var index = 0; index < directDescendants.length; index++) {\n          var child = directDescendants[index];\n          if (child.clone) {\n            child.clone(name2 + \".\" + child.name, _this);\n          }\n        }\n      }\n      if (source.morphTargetManager) {\n        _this.morphTargetManager = source.morphTargetManager;\n      }\n      if (scene.getPhysicsEngine) {\n        var physicsEngine = scene.getPhysicsEngine();\n        if (clonePhysicsImpostor && physicsEngine) {\n          var impostor = physicsEngine.getImpostorForPhysicsObject(source);\n          if (impostor) {\n            _this.physicsImpostor = impostor.clone(_this);\n          }\n        }\n      }\n      for (var index = 0; index < scene.particleSystems.length; index++) {\n        var system = scene.particleSystems[index];\n        if (system.emitter === source) {\n          system.clone(system.name, _this);\n        }\n      }\n      _this.skeleton = source.skeleton;\n      _this.refreshBoundingInfo(true, true);\n      _this.computeWorldMatrix(true);\n    }\n    if (parent !== null) {\n      _this.parent = parent;\n    }\n    _this._instanceDataStorage.hardwareInstancedRendering = _this.getEngine().getCaps().instancedArrays;\n    _this._internalMeshDataInfo._onMeshReadyObserverAdded = function(observer) {\n      observer.unregisterOnNextCall = true;\n      if (_this.isReady(true)) {\n        _this.onMeshReadyObservable.notifyObservers(_this);\n      } else {\n        if (!_this._internalMeshDataInfo._checkReadinessObserver) {\n          _this._internalMeshDataInfo._checkReadinessObserver = _this._scene.onBeforeRenderObservable.add(function() {\n            if (_this.isReady(true)) {\n              _this._scene.onBeforeRenderObservable.remove(_this._internalMeshDataInfo._checkReadinessObserver);\n              _this._internalMeshDataInfo._checkReadinessObserver = null;\n              _this.onMeshReadyObservable.notifyObservers(_this);\n            }\n          });\n        }\n      }\n    };\n    _this.onMeshReadyObservable = new Observable(_this._internalMeshDataInfo._onMeshReadyObserverAdded);\n    if (source) {\n      source.onClonedObservable.notifyObservers(_this);\n    }\n    return _this;\n  }\n  Mesh2._GetDefaultSideOrientation = function(orientation) {\n    return orientation || Mesh2.FRONTSIDE;\n  };\n  Object.defineProperty(Mesh2.prototype, \"useLODScreenCoverage\", {\n    get: function() {\n      return this._internalMeshDataInfo._useLODScreenCoverage;\n    },\n    set: function(value) {\n      this._internalMeshDataInfo._useLODScreenCoverage = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Mesh2.prototype, \"computeBonesUsingShaders\", {\n    get: function() {\n      return this._internalAbstractMeshDataInfo._computeBonesUsingShaders;\n    },\n    set: function(value) {\n      if (this._internalAbstractMeshDataInfo._computeBonesUsingShaders === value) {\n        return;\n      }\n      if (value && this._internalMeshDataInfo._sourcePositions) {\n        this.setVerticesData(VertexBuffer.PositionKind, this._internalMeshDataInfo._sourcePositions, true);\n        if (this._internalMeshDataInfo._sourceNormals) {\n          this.setVerticesData(VertexBuffer.NormalKind, this._internalMeshDataInfo._sourceNormals, true);\n        }\n        this._internalMeshDataInfo._sourcePositions = null;\n        this._internalMeshDataInfo._sourceNormals = null;\n      }\n      this._internalAbstractMeshDataInfo._computeBonesUsingShaders = value;\n      this._markSubMeshesAsAttributesDirty();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Mesh2.prototype, \"onBeforeRenderObservable\", {\n    get: function() {\n      if (!this._internalMeshDataInfo._onBeforeRenderObservable) {\n        this._internalMeshDataInfo._onBeforeRenderObservable = new Observable();\n      }\n      return this._internalMeshDataInfo._onBeforeRenderObservable;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Mesh2.prototype, \"onBeforeBindObservable\", {\n    get: function() {\n      if (!this._internalMeshDataInfo._onBeforeBindObservable) {\n        this._internalMeshDataInfo._onBeforeBindObservable = new Observable();\n      }\n      return this._internalMeshDataInfo._onBeforeBindObservable;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Mesh2.prototype, \"onAfterRenderObservable\", {\n    get: function() {\n      if (!this._internalMeshDataInfo._onAfterRenderObservable) {\n        this._internalMeshDataInfo._onAfterRenderObservable = new Observable();\n      }\n      return this._internalMeshDataInfo._onAfterRenderObservable;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Mesh2.prototype, \"onBetweenPassObservable\", {\n    get: function() {\n      if (!this._internalMeshDataInfo._onBetweenPassObservable) {\n        this._internalMeshDataInfo._onBetweenPassObservable = new Observable();\n      }\n      return this._internalMeshDataInfo._onBetweenPassObservable;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Mesh2.prototype, \"onBeforeDrawObservable\", {\n    get: function() {\n      if (!this._internalMeshDataInfo._onBeforeDrawObservable) {\n        this._internalMeshDataInfo._onBeforeDrawObservable = new Observable();\n      }\n      return this._internalMeshDataInfo._onBeforeDrawObservable;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Mesh2.prototype, \"onBeforeDraw\", {\n    set: function(callback) {\n      if (this._onBeforeDrawObserver) {\n        this.onBeforeDrawObservable.remove(this._onBeforeDrawObserver);\n      }\n      this._onBeforeDrawObserver = this.onBeforeDrawObservable.add(callback);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Mesh2.prototype, \"hasInstances\", {\n    get: function() {\n      return this.instances.length > 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Mesh2.prototype, \"hasThinInstances\", {\n    get: function() {\n      var _a;\n      return ((_a = this._thinInstanceDataStorage.instancesCount) !== null && _a !== void 0 ? _a : 0) > 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Mesh2.prototype, \"forcedInstanceCount\", {\n    get: function() {\n      return this._internalMeshDataInfo._forcedInstanceCount;\n    },\n    set: function(count) {\n      this._internalMeshDataInfo._forcedInstanceCount = count;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Mesh2.prototype, \"source\", {\n    get: function() {\n      return this._internalMeshDataInfo._source;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Mesh2.prototype, \"cloneMeshMap\", {\n    get: function() {\n      return this._internalMeshDataInfo.meshMap;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Mesh2.prototype, \"isUnIndexed\", {\n    get: function() {\n      return this._unIndexed;\n    },\n    set: function(value) {\n      if (this._unIndexed !== value) {\n        this._unIndexed = value;\n        this._markSubMeshesAsAttributesDirty();\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Mesh2.prototype, \"worldMatrixInstancedBuffer\", {\n    get: function() {\n      return this._instanceDataStorage.instancesData;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Mesh2.prototype, \"previousWorldMatrixInstancedBuffer\", {\n    get: function() {\n      return this._instanceDataStorage.instancesPreviousData;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Mesh2.prototype, \"manualUpdateOfWorldMatrixInstancedBuffer\", {\n    get: function() {\n      return this._instanceDataStorage.manualUpdate;\n    },\n    set: function(value) {\n      this._instanceDataStorage.manualUpdate = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Mesh2.prototype, \"manualUpdateOfPreviousWorldMatrixInstancedBuffer\", {\n    get: function() {\n      return this._instanceDataStorage.previousManualUpdate;\n    },\n    set: function(value) {\n      this._instanceDataStorage.previousManualUpdate = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Mesh2.prototype.instantiateHierarchy = function(newParent, options, onNewNodeCreated) {\n    if (newParent === void 0) {\n      newParent = null;\n    }\n    var instance = this.getTotalVertices() > 0 && (!options || !options.doNotInstantiate) ? this.createInstance(\"instance of \" + (this.name || this.id)) : this.clone(\"Clone of \" + (this.name || this.id), newParent || this.parent, true);\n    instance.parent = newParent || this.parent;\n    instance.position = this.position.clone();\n    instance.scaling = this.scaling.clone();\n    if (this.rotationQuaternion) {\n      instance.rotationQuaternion = this.rotationQuaternion.clone();\n    } else {\n      instance.rotation = this.rotation.clone();\n    }\n    if (onNewNodeCreated) {\n      onNewNodeCreated(this, instance);\n    }\n    for (var _i = 0, _a = this.getChildTransformNodes(true); _i < _a.length; _i++) {\n      var child = _a[_i];\n      child.instantiateHierarchy(instance, options, onNewNodeCreated);\n    }\n    return instance;\n  };\n  Mesh2.prototype.getClassName = function() {\n    return \"Mesh\";\n  };\n  Object.defineProperty(Mesh2.prototype, \"_isMesh\", {\n    get: function() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Mesh2.prototype.toString = function(fullDetails) {\n    var ret = _super.prototype.toString.call(this, fullDetails);\n    ret += \", n vertices: \" + this.getTotalVertices();\n    ret += \", parent: \" + (this._waitingParentId ? this._waitingParentId : this.parent ? this.parent.name : \"NONE\");\n    if (this.animations) {\n      for (var i = 0; i < this.animations.length; i++) {\n        ret += \", animation[0]: \" + this.animations[i].toString(fullDetails);\n      }\n    }\n    if (fullDetails) {\n      if (this._geometry) {\n        var ib = this.getIndices();\n        var vb = this.getVerticesData(VertexBuffer.PositionKind);\n        if (vb && ib) {\n          ret += \", flat shading: \" + (vb.length / 3 === ib.length ? \"YES\" : \"NO\");\n        }\n      } else {\n        ret += \", flat shading: UNKNOWN\";\n      }\n    }\n    return ret;\n  };\n  Mesh2.prototype._unBindEffect = function() {\n    _super.prototype._unBindEffect.call(this);\n    for (var _i = 0, _a = this.instances; _i < _a.length; _i++) {\n      var instance = _a[_i];\n      instance._unBindEffect();\n    }\n  };\n  Object.defineProperty(Mesh2.prototype, \"hasLODLevels\", {\n    get: function() {\n      return this._internalMeshDataInfo._LODLevels.length > 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Mesh2.prototype.getLODLevels = function() {\n    return this._internalMeshDataInfo._LODLevels;\n  };\n  Mesh2.prototype._sortLODLevels = function() {\n    var sortingOrderFactor = this._internalMeshDataInfo._useLODScreenCoverage ? -1 : 1;\n    this._internalMeshDataInfo._LODLevels.sort(function(a, b) {\n      if (a.distanceOrScreenCoverage < b.distanceOrScreenCoverage) {\n        return sortingOrderFactor;\n      }\n      if (a.distanceOrScreenCoverage > b.distanceOrScreenCoverage) {\n        return -sortingOrderFactor;\n      }\n      return 0;\n    });\n  };\n  Mesh2.prototype.addLODLevel = function(distanceOrScreenCoverage, mesh) {\n    if (mesh && mesh._masterMesh) {\n      Logger.Warn(\"You cannot use a mesh as LOD level twice\");\n      return this;\n    }\n    var level = new MeshLODLevel(distanceOrScreenCoverage, mesh);\n    this._internalMeshDataInfo._LODLevels.push(level);\n    if (mesh) {\n      mesh._masterMesh = this;\n    }\n    this._sortLODLevels();\n    return this;\n  };\n  Mesh2.prototype.getLODLevelAtDistance = function(distance) {\n    var internalDataInfo = this._internalMeshDataInfo;\n    for (var index = 0; index < internalDataInfo._LODLevels.length; index++) {\n      var level = internalDataInfo._LODLevels[index];\n      if (level.distanceOrScreenCoverage === distance) {\n        return level.mesh;\n      }\n    }\n    return null;\n  };\n  Mesh2.prototype.removeLODLevel = function(mesh) {\n    var internalDataInfo = this._internalMeshDataInfo;\n    for (var index = 0; index < internalDataInfo._LODLevels.length; index++) {\n      if (internalDataInfo._LODLevels[index].mesh === mesh) {\n        internalDataInfo._LODLevels.splice(index, 1);\n        if (mesh) {\n          mesh._masterMesh = null;\n        }\n      }\n    }\n    this._sortLODLevels();\n    return this;\n  };\n  Mesh2.prototype.getLOD = function(camera, boundingSphere) {\n    var internalDataInfo = this._internalMeshDataInfo;\n    if (!internalDataInfo._LODLevels || internalDataInfo._LODLevels.length === 0) {\n      return this;\n    }\n    var bSphere;\n    if (boundingSphere) {\n      bSphere = boundingSphere;\n    } else {\n      var boundingInfo = this.getBoundingInfo();\n      bSphere = boundingInfo.boundingSphere;\n    }\n    var distanceToCamera = bSphere.centerWorld.subtract(camera.globalPosition).length();\n    var useScreenCoverage = internalDataInfo._useLODScreenCoverage;\n    var compareValue = distanceToCamera;\n    var compareSign = 1;\n    if (useScreenCoverage) {\n      var screenArea = camera.screenArea;\n      var meshArea = bSphere.radiusWorld * camera.minZ / distanceToCamera;\n      meshArea = meshArea * meshArea * Math.PI;\n      compareValue = meshArea / screenArea;\n      compareSign = -1;\n    }\n    if (compareSign * internalDataInfo._LODLevels[internalDataInfo._LODLevels.length - 1].distanceOrScreenCoverage > compareSign * compareValue) {\n      if (this.onLODLevelSelection) {\n        this.onLODLevelSelection(compareValue, this, this);\n      }\n      return this;\n    }\n    for (var index = 0; index < internalDataInfo._LODLevels.length; index++) {\n      var level = internalDataInfo._LODLevels[index];\n      if (compareSign * level.distanceOrScreenCoverage < compareSign * compareValue) {\n        if (level.mesh) {\n          if (level.mesh.delayLoadState === 4) {\n            level.mesh._checkDelayState();\n            return this;\n          }\n          if (level.mesh.delayLoadState === 2) {\n            return this;\n          }\n          level.mesh._preActivate();\n          level.mesh._updateSubMeshesBoundingInfo(this.worldMatrixFromCache);\n        }\n        if (this.onLODLevelSelection) {\n          this.onLODLevelSelection(compareValue, this, level.mesh);\n        }\n        return level.mesh;\n      }\n    }\n    if (this.onLODLevelSelection) {\n      this.onLODLevelSelection(compareValue, this, this);\n    }\n    return this;\n  };\n  Object.defineProperty(Mesh2.prototype, \"geometry\", {\n    get: function() {\n      return this._geometry;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Mesh2.prototype.getTotalVertices = function() {\n    if (this._geometry === null || this._geometry === void 0) {\n      return 0;\n    }\n    return this._geometry.getTotalVertices();\n  };\n  Mesh2.prototype.getVerticesData = function(kind, copyWhenShared, forceCopy) {\n    var _a, _b;\n    if (!this._geometry) {\n      return null;\n    }\n    var data = (_b = (_a = this._userInstancedBuffersStorage) === null || _a === void 0 ? void 0 : _a.vertexBuffers[kind]) === null || _b === void 0 ? void 0 : _b.getFloatData(this._geometry.getTotalVertices(), forceCopy || copyWhenShared && this._geometry.meshes.length !== 1);\n    if (!data) {\n      data = this._geometry.getVerticesData(kind, copyWhenShared, forceCopy);\n    }\n    return data;\n  };\n  Mesh2.prototype.getVertexBuffer = function(kind) {\n    var _a, _b;\n    if (!this._geometry) {\n      return null;\n    }\n    return (_b = (_a = this._userInstancedBuffersStorage) === null || _a === void 0 ? void 0 : _a.vertexBuffers[kind]) !== null && _b !== void 0 ? _b : this._geometry.getVertexBuffer(kind);\n  };\n  Mesh2.prototype.isVerticesDataPresent = function(kind) {\n    var _a;\n    if (!this._geometry) {\n      if (this._delayInfo) {\n        return this._delayInfo.indexOf(kind) !== -1;\n      }\n      return false;\n    }\n    return ((_a = this._userInstancedBuffersStorage) === null || _a === void 0 ? void 0 : _a.vertexBuffers[kind]) !== void 0 || this._geometry.isVerticesDataPresent(kind);\n  };\n  Mesh2.prototype.isVertexBufferUpdatable = function(kind) {\n    var _a, _b;\n    if (!this._geometry) {\n      if (this._delayInfo) {\n        return this._delayInfo.indexOf(kind) !== -1;\n      }\n      return false;\n    }\n    return ((_b = (_a = this._userInstancedBuffersStorage) === null || _a === void 0 ? void 0 : _a.vertexBuffers[kind]) === null || _b === void 0 ? void 0 : _b.isUpdatable()) || this._geometry.isVertexBufferUpdatable(kind);\n  };\n  Mesh2.prototype.getVerticesDataKinds = function() {\n    if (!this._geometry) {\n      var result_1 = new Array();\n      if (this._delayInfo) {\n        this._delayInfo.forEach(function(kind2) {\n          result_1.push(kind2);\n        });\n      }\n      return result_1;\n    }\n    var kinds = this._geometry.getVerticesDataKinds();\n    if (this._userInstancedBuffersStorage) {\n      for (var kind in this._userInstancedBuffersStorage.vertexBuffers) {\n        kinds.push(kind);\n      }\n    }\n    return kinds;\n  };\n  Mesh2.prototype.getTotalIndices = function() {\n    if (!this._geometry) {\n      return 0;\n    }\n    return this._geometry.getTotalIndices();\n  };\n  Mesh2.prototype.getIndices = function(copyWhenShared, forceCopy) {\n    if (!this._geometry) {\n      return [];\n    }\n    return this._geometry.getIndices(copyWhenShared, forceCopy);\n  };\n  Object.defineProperty(Mesh2.prototype, \"isBlocked\", {\n    get: function() {\n      return this._masterMesh !== null && this._masterMesh !== void 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Mesh2.prototype.isReady = function(completeCheck, forceInstanceSupport) {\n    var _a, _b, _c, _d, _e, _f;\n    if (completeCheck === void 0) {\n      completeCheck = false;\n    }\n    if (forceInstanceSupport === void 0) {\n      forceInstanceSupport = false;\n    }\n    if (this.delayLoadState === 2) {\n      return false;\n    }\n    if (!_super.prototype.isReady.call(this, completeCheck)) {\n      return false;\n    }\n    if (!this.subMeshes || this.subMeshes.length === 0) {\n      return true;\n    }\n    if (!completeCheck) {\n      return true;\n    }\n    var engine = this.getEngine();\n    var scene = this.getScene();\n    var hardwareInstancedRendering = forceInstanceSupport || engine.getCaps().instancedArrays && (this.instances.length > 0 || this.hasThinInstances);\n    this.computeWorldMatrix();\n    var mat = this.material || scene.defaultMaterial;\n    if (mat) {\n      if (mat._storeEffectOnSubMeshes) {\n        for (var _i = 0, _g = this.subMeshes; _i < _g.length; _i++) {\n          var subMesh = _g[_i];\n          var effectiveMaterial = subMesh.getMaterial();\n          if (effectiveMaterial) {\n            if (effectiveMaterial._storeEffectOnSubMeshes) {\n              if (!effectiveMaterial.isReadyForSubMesh(this, subMesh, hardwareInstancedRendering)) {\n                return false;\n              }\n            } else {\n              if (!effectiveMaterial.isReady(this, hardwareInstancedRendering)) {\n                return false;\n              }\n            }\n          }\n        }\n      } else {\n        if (!mat.isReady(this, hardwareInstancedRendering)) {\n          return false;\n        }\n      }\n    }\n    var currentRenderPassId = engine.currentRenderPassId;\n    for (var _h = 0, _j = this.lightSources; _h < _j.length; _h++) {\n      var light = _j[_h];\n      var generator = light.getShadowGenerator();\n      if (generator && (!((_a = generator.getShadowMap()) === null || _a === void 0 ? void 0 : _a.renderList) || ((_b = generator.getShadowMap()) === null || _b === void 0 ? void 0 : _b.renderList) && ((_d = (_c = generator.getShadowMap()) === null || _c === void 0 ? void 0 : _c.renderList) === null || _d === void 0 ? void 0 : _d.indexOf(this)) !== -1)) {\n        if (generator.getShadowMap()) {\n          engine.currentRenderPassId = generator.getShadowMap().renderPassId;\n        }\n        for (var _k = 0, _l = this.subMeshes; _k < _l.length; _k++) {\n          var subMesh = _l[_k];\n          if (!generator.isReady(subMesh, hardwareInstancedRendering, (_f = (_e = subMesh.getMaterial()) === null || _e === void 0 ? void 0 : _e.needAlphaBlendingForMesh(this)) !== null && _f !== void 0 ? _f : false)) {\n            engine.currentRenderPassId = currentRenderPassId;\n            return false;\n          }\n        }\n        engine.currentRenderPassId = currentRenderPassId;\n      }\n    }\n    for (var _m = 0, _o = this._internalMeshDataInfo._LODLevels; _m < _o.length; _m++) {\n      var lod = _o[_m];\n      if (lod.mesh && !lod.mesh.isReady(hardwareInstancedRendering)) {\n        return false;\n      }\n    }\n    return true;\n  };\n  Object.defineProperty(Mesh2.prototype, \"areNormalsFrozen\", {\n    get: function() {\n      return this._internalMeshDataInfo._areNormalsFrozen;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Mesh2.prototype.freezeNormals = function() {\n    this._internalMeshDataInfo._areNormalsFrozen = true;\n    return this;\n  };\n  Mesh2.prototype.unfreezeNormals = function() {\n    this._internalMeshDataInfo._areNormalsFrozen = false;\n    return this;\n  };\n  Object.defineProperty(Mesh2.prototype, \"overridenInstanceCount\", {\n    set: function(count) {\n      this._instanceDataStorage.overridenInstanceCount = count;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Mesh2.prototype._preActivate = function() {\n    var internalDataInfo = this._internalMeshDataInfo;\n    var sceneRenderId = this.getScene().getRenderId();\n    if (internalDataInfo._preActivateId === sceneRenderId) {\n      return this;\n    }\n    internalDataInfo._preActivateId = sceneRenderId;\n    this._instanceDataStorage.visibleInstances = null;\n    return this;\n  };\n  Mesh2.prototype._preActivateForIntermediateRendering = function(renderId) {\n    if (this._instanceDataStorage.visibleInstances) {\n      this._instanceDataStorage.visibleInstances.intermediateDefaultRenderId = renderId;\n    }\n    return this;\n  };\n  Mesh2.prototype._registerInstanceForRenderId = function(instance, renderId) {\n    if (!this._instanceDataStorage.visibleInstances) {\n      this._instanceDataStorage.visibleInstances = {\n        defaultRenderId: renderId,\n        selfDefaultRenderId: this._renderId\n      };\n    }\n    if (!this._instanceDataStorage.visibleInstances[renderId]) {\n      if (this._instanceDataStorage.previousRenderId !== void 0 && this._instanceDataStorage.isFrozen) {\n        this._instanceDataStorage.visibleInstances[this._instanceDataStorage.previousRenderId] = null;\n      }\n      this._instanceDataStorage.previousRenderId = renderId;\n      this._instanceDataStorage.visibleInstances[renderId] = new Array();\n    }\n    this._instanceDataStorage.visibleInstances[renderId].push(instance);\n    return this;\n  };\n  Mesh2.prototype._afterComputeWorldMatrix = function() {\n    _super.prototype._afterComputeWorldMatrix.call(this);\n    if (!this.hasThinInstances) {\n      return;\n    }\n    if (!this.doNotSyncBoundingInfo) {\n      this.thinInstanceRefreshBoundingInfo(false);\n    }\n  };\n  Mesh2.prototype._postActivate = function() {\n    if (this.edgesShareWithInstances && this.edgesRenderer && this.edgesRenderer.isEnabled && this._renderingGroup) {\n      this._renderingGroup._edgesRenderers.pushNoDuplicate(this.edgesRenderer);\n      this.edgesRenderer.customInstances.push(this.getWorldMatrix());\n    }\n  };\n  Mesh2.prototype.refreshBoundingInfo = function(applySkeleton, applyMorph) {\n    if (applySkeleton === void 0) {\n      applySkeleton = false;\n    }\n    if (applyMorph === void 0) {\n      applyMorph = false;\n    }\n    if (this.hasBoundingInfo && this.getBoundingInfo().isLocked) {\n      return this;\n    }\n    var bias = this.geometry ? this.geometry.boundingBias : null;\n    this._refreshBoundingInfo(this._getPositionData(applySkeleton, applyMorph), bias);\n    return this;\n  };\n  Mesh2.prototype._createGlobalSubMesh = function(force) {\n    var totalVertices = this.getTotalVertices();\n    if (!totalVertices || !this.getIndices()) {\n      return null;\n    }\n    if (this.subMeshes && this.subMeshes.length > 0) {\n      var ib = this.getIndices();\n      if (!ib) {\n        return null;\n      }\n      var totalIndices = ib.length;\n      var needToRecreate = false;\n      if (force) {\n        needToRecreate = true;\n      } else {\n        for (var _i = 0, _a = this.subMeshes; _i < _a.length; _i++) {\n          var submesh = _a[_i];\n          if (submesh.indexStart + submesh.indexCount > totalIndices) {\n            needToRecreate = true;\n            break;\n          }\n          if (submesh.verticesStart + submesh.verticesCount > totalVertices) {\n            needToRecreate = true;\n            break;\n          }\n        }\n      }\n      if (!needToRecreate) {\n        return this.subMeshes[0];\n      }\n    }\n    this.releaseSubMeshes();\n    return new SubMesh(0, 0, totalVertices, 0, this.getTotalIndices(), this);\n  };\n  Mesh2.prototype.subdivide = function(count) {\n    if (count < 1) {\n      return;\n    }\n    var totalIndices = this.getTotalIndices();\n    var subdivisionSize = totalIndices / count | 0;\n    var offset = 0;\n    while (subdivisionSize % 3 !== 0) {\n      subdivisionSize++;\n    }\n    this.releaseSubMeshes();\n    for (var index = 0; index < count; index++) {\n      if (offset >= totalIndices) {\n        break;\n      }\n      SubMesh.CreateFromIndices(0, offset, index === count - 1 ? totalIndices - offset : subdivisionSize, this);\n      offset += subdivisionSize;\n    }\n    this.synchronizeInstances();\n  };\n  Mesh2.prototype.setVerticesData = function(kind, data, updatable, stride) {\n    if (updatable === void 0) {\n      updatable = false;\n    }\n    if (!this._geometry) {\n      var vertexData = new VertexData();\n      vertexData.set(data, kind);\n      var scene = this.getScene();\n      new Geometry(Geometry.RandomId(), scene, vertexData, updatable, this);\n    } else {\n      this._geometry.setVerticesData(kind, data, updatable, stride);\n    }\n    return this;\n  };\n  Mesh2.prototype.removeVerticesData = function(kind) {\n    if (!this._geometry) {\n      return;\n    }\n    this._geometry.removeVerticesData(kind);\n  };\n  Mesh2.prototype.markVerticesDataAsUpdatable = function(kind, updatable) {\n    if (updatable === void 0) {\n      updatable = true;\n    }\n    var vb = this.getVertexBuffer(kind);\n    if (!vb || vb.isUpdatable() === updatable) {\n      return;\n    }\n    this.setVerticesData(kind, this.getVerticesData(kind), updatable);\n  };\n  Mesh2.prototype.setVerticesBuffer = function(buffer, disposeExistingBuffer) {\n    if (disposeExistingBuffer === void 0) {\n      disposeExistingBuffer = true;\n    }\n    if (!this._geometry) {\n      this._geometry = Geometry.CreateGeometryForMesh(this);\n    }\n    this._geometry.setVerticesBuffer(buffer, null, disposeExistingBuffer);\n    return this;\n  };\n  Mesh2.prototype.updateVerticesData = function(kind, data, updateExtends, makeItUnique) {\n    if (!this._geometry) {\n      return this;\n    }\n    if (!makeItUnique) {\n      this._geometry.updateVerticesData(kind, data, updateExtends);\n    } else {\n      this.makeGeometryUnique();\n      this.updateVerticesData(kind, data, updateExtends, false);\n    }\n    return this;\n  };\n  Mesh2.prototype.updateMeshPositions = function(positionFunction, computeNormals) {\n    if (computeNormals === void 0) {\n      computeNormals = true;\n    }\n    var positions = this.getVerticesData(VertexBuffer.PositionKind);\n    if (!positions) {\n      return this;\n    }\n    positionFunction(positions);\n    this.updateVerticesData(VertexBuffer.PositionKind, positions, false, false);\n    if (computeNormals) {\n      var indices = this.getIndices();\n      var normals = this.getVerticesData(VertexBuffer.NormalKind);\n      if (!normals) {\n        return this;\n      }\n      VertexData.ComputeNormals(positions, indices, normals);\n      this.updateVerticesData(VertexBuffer.NormalKind, normals, false, false);\n    }\n    return this;\n  };\n  Mesh2.prototype.makeGeometryUnique = function() {\n    if (!this._geometry) {\n      return this;\n    }\n    if (this._geometry.meshes.length === 1) {\n      return this;\n    }\n    var oldGeometry = this._geometry;\n    var geometry = this._geometry.copy(Geometry.RandomId());\n    oldGeometry.releaseForMesh(this, true);\n    geometry.applyToMesh(this);\n    return this;\n  };\n  Mesh2.prototype.setIndices = function(indices, totalVertices, updatable) {\n    if (totalVertices === void 0) {\n      totalVertices = null;\n    }\n    if (updatable === void 0) {\n      updatable = false;\n    }\n    if (!this._geometry) {\n      var vertexData = new VertexData();\n      vertexData.indices = indices;\n      var scene = this.getScene();\n      new Geometry(Geometry.RandomId(), scene, vertexData, updatable, this);\n    } else {\n      this._geometry.setIndices(indices, totalVertices, updatable);\n    }\n    return this;\n  };\n  Mesh2.prototype.updateIndices = function(indices, offset, gpuMemoryOnly) {\n    if (gpuMemoryOnly === void 0) {\n      gpuMemoryOnly = false;\n    }\n    if (!this._geometry) {\n      return this;\n    }\n    this._geometry.updateIndices(indices, offset, gpuMemoryOnly);\n    return this;\n  };\n  Mesh2.prototype.toLeftHanded = function() {\n    if (!this._geometry) {\n      return this;\n    }\n    this._geometry.toLeftHanded();\n    return this;\n  };\n  Mesh2.prototype._bind = function(subMesh, effect, fillMode) {\n    if (!this._geometry) {\n      return this;\n    }\n    var engine = this.getScene().getEngine();\n    if (this.morphTargetManager && this.morphTargetManager.isUsingTextureForTargets) {\n      this.morphTargetManager._bind(effect);\n    }\n    var indexToBind;\n    if (this._unIndexed) {\n      indexToBind = null;\n    } else {\n      switch (fillMode) {\n        case Material.PointFillMode:\n          indexToBind = null;\n          break;\n        case Material.WireFrameFillMode:\n          indexToBind = subMesh._getLinesIndexBuffer(this.getIndices(), engine);\n          break;\n        default:\n        case Material.TriangleFillMode:\n          indexToBind = this._geometry.getIndexBuffer();\n          break;\n      }\n    }\n    if (!this._userInstancedBuffersStorage || this.hasThinInstances) {\n      this._geometry._bind(effect, indexToBind);\n    } else {\n      this._geometry._bind(effect, indexToBind, this._userInstancedBuffersStorage.vertexBuffers, this._userInstancedBuffersStorage.vertexArrayObjects);\n    }\n    return this;\n  };\n  Mesh2.prototype._draw = function(subMesh, fillMode, instancesCount) {\n    if (!this._geometry || !this._geometry.getVertexBuffers() || !this._unIndexed && !this._geometry.getIndexBuffer()) {\n      return this;\n    }\n    if (this._internalMeshDataInfo._onBeforeDrawObservable) {\n      this._internalMeshDataInfo._onBeforeDrawObservable.notifyObservers(this);\n    }\n    var scene = this.getScene();\n    var engine = scene.getEngine();\n    if (this._unIndexed || fillMode == Material.PointFillMode) {\n      engine.drawArraysType(fillMode, subMesh.verticesStart, subMesh.verticesCount, this.forcedInstanceCount || instancesCount);\n    } else if (fillMode == Material.WireFrameFillMode) {\n      engine.drawElementsType(fillMode, 0, subMesh._linesIndexCount, this.forcedInstanceCount || instancesCount);\n    } else {\n      engine.drawElementsType(fillMode, subMesh.indexStart, subMesh.indexCount, this.forcedInstanceCount || instancesCount);\n    }\n    return this;\n  };\n  Mesh2.prototype.registerBeforeRender = function(func) {\n    this.onBeforeRenderObservable.add(func);\n    return this;\n  };\n  Mesh2.prototype.unregisterBeforeRender = function(func) {\n    this.onBeforeRenderObservable.removeCallback(func);\n    return this;\n  };\n  Mesh2.prototype.registerAfterRender = function(func) {\n    this.onAfterRenderObservable.add(func);\n    return this;\n  };\n  Mesh2.prototype.unregisterAfterRender = function(func) {\n    this.onAfterRenderObservable.removeCallback(func);\n    return this;\n  };\n  Mesh2.prototype._getInstancesRenderList = function(subMeshId, isReplacementMode) {\n    if (isReplacementMode === void 0) {\n      isReplacementMode = false;\n    }\n    if (this._instanceDataStorage.isFrozen) {\n      if (isReplacementMode) {\n        this._instanceDataStorage.batchCacheReplacementModeInFrozenMode.hardwareInstancedRendering[subMeshId] = false;\n        this._instanceDataStorage.batchCacheReplacementModeInFrozenMode.renderSelf[subMeshId] = true;\n        return this._instanceDataStorage.batchCacheReplacementModeInFrozenMode;\n      }\n      if (this._instanceDataStorage.previousBatch) {\n        return this._instanceDataStorage.previousBatch;\n      }\n    }\n    var scene = this.getScene();\n    var isInIntermediateRendering = scene._isInIntermediateRendering();\n    var onlyForInstances = isInIntermediateRendering ? this._internalAbstractMeshDataInfo._onlyForInstancesIntermediate : this._internalAbstractMeshDataInfo._onlyForInstances;\n    var batchCache = this._instanceDataStorage.batchCache;\n    batchCache.mustReturn = false;\n    batchCache.renderSelf[subMeshId] = isReplacementMode || !onlyForInstances && this.isEnabled() && this.isVisible;\n    batchCache.visibleInstances[subMeshId] = null;\n    if (this._instanceDataStorage.visibleInstances && !isReplacementMode) {\n      var visibleInstances = this._instanceDataStorage.visibleInstances;\n      var currentRenderId = scene.getRenderId();\n      var defaultRenderId = isInIntermediateRendering ? visibleInstances.intermediateDefaultRenderId : visibleInstances.defaultRenderId;\n      batchCache.visibleInstances[subMeshId] = visibleInstances[currentRenderId];\n      if (!batchCache.visibleInstances[subMeshId] && defaultRenderId) {\n        batchCache.visibleInstances[subMeshId] = visibleInstances[defaultRenderId];\n      }\n    }\n    batchCache.hardwareInstancedRendering[subMeshId] = !isReplacementMode && this._instanceDataStorage.hardwareInstancedRendering && batchCache.visibleInstances[subMeshId] !== null && batchCache.visibleInstances[subMeshId] !== void 0;\n    this._instanceDataStorage.previousBatch = batchCache;\n    return batchCache;\n  };\n  Mesh2.prototype._renderWithInstances = function(subMesh, fillMode, batch, effect, engine) {\n    var _a;\n    var visibleInstances = batch.visibleInstances[subMesh._id];\n    if (!visibleInstances) {\n      return this;\n    }\n    var instanceStorage = this._instanceDataStorage;\n    var currentInstancesBufferSize = instanceStorage.instancesBufferSize;\n    var instancesBuffer = instanceStorage.instancesBuffer;\n    var instancesPreviousBuffer = instanceStorage.instancesPreviousBuffer;\n    var matricesCount = visibleInstances.length + 1;\n    var bufferSize = matricesCount * 16 * 4;\n    while (instanceStorage.instancesBufferSize < bufferSize) {\n      instanceStorage.instancesBufferSize *= 2;\n    }\n    if (!instanceStorage.instancesData || currentInstancesBufferSize != instanceStorage.instancesBufferSize) {\n      instanceStorage.instancesData = new Float32Array(instanceStorage.instancesBufferSize / 4);\n    }\n    if (this._scene.needsPreviousWorldMatrices && !instanceStorage.instancesPreviousData || currentInstancesBufferSize != instanceStorage.instancesBufferSize) {\n      instanceStorage.instancesPreviousData = new Float32Array(instanceStorage.instancesBufferSize / 4);\n    }\n    var offset = 0;\n    var instancesCount = 0;\n    var renderSelf = batch.renderSelf[subMesh._id];\n    var needUpdateBuffer = !instancesBuffer || currentInstancesBufferSize !== instanceStorage.instancesBufferSize || this._scene.needsPreviousWorldMatrices && !instanceStorage.instancesPreviousBuffer;\n    if (!this._instanceDataStorage.manualUpdate && (!instanceStorage.isFrozen || needUpdateBuffer)) {\n      var world = this.getWorldMatrix();\n      if (renderSelf) {\n        if (this._scene.needsPreviousWorldMatrices) {\n          if (!instanceStorage.masterMeshPreviousWorldMatrix) {\n            instanceStorage.masterMeshPreviousWorldMatrix = world.clone();\n            instanceStorage.masterMeshPreviousWorldMatrix.copyToArray(instanceStorage.instancesPreviousData, offset);\n          } else {\n            instanceStorage.masterMeshPreviousWorldMatrix.copyToArray(instanceStorage.instancesPreviousData, offset);\n            instanceStorage.masterMeshPreviousWorldMatrix.copyFrom(world);\n          }\n        }\n        world.copyToArray(instanceStorage.instancesData, offset);\n        offset += 16;\n        instancesCount++;\n      }\n      if (visibleInstances) {\n        if (Mesh2.INSTANCEDMESH_SORT_TRANSPARENT && this._scene.activeCamera && ((_a = subMesh.getMaterial()) === null || _a === void 0 ? void 0 : _a.needAlphaBlendingForMesh(subMesh.getRenderingMesh()))) {\n          var cameraPosition = this._scene.activeCamera.globalPosition;\n          for (var instanceIndex = 0; instanceIndex < visibleInstances.length; instanceIndex++) {\n            var instanceMesh = visibleInstances[instanceIndex];\n            instanceMesh._distanceToCamera = Vector3.Distance(instanceMesh.getBoundingInfo().boundingSphere.centerWorld, cameraPosition);\n          }\n          visibleInstances.sort(function(m1, m2) {\n            return m1._distanceToCamera > m2._distanceToCamera ? -1 : m1._distanceToCamera < m2._distanceToCamera ? 1 : 0;\n          });\n        }\n        for (var instanceIndex = 0; instanceIndex < visibleInstances.length; instanceIndex++) {\n          var instance = visibleInstances[instanceIndex];\n          var matrix = instance.getWorldMatrix();\n          matrix.copyToArray(instanceStorage.instancesData, offset);\n          if (this._scene.needsPreviousWorldMatrices) {\n            if (!instance._previousWorldMatrix) {\n              instance._previousWorldMatrix = matrix.clone();\n              instance._previousWorldMatrix.copyToArray(instanceStorage.instancesPreviousData, offset);\n            } else {\n              instance._previousWorldMatrix.copyToArray(instanceStorage.instancesPreviousData, offset);\n              instance._previousWorldMatrix.copyFrom(matrix);\n            }\n          }\n          offset += 16;\n          instancesCount++;\n        }\n      }\n    } else {\n      instancesCount = (renderSelf ? 1 : 0) + visibleInstances.length;\n    }\n    if (needUpdateBuffer) {\n      if (instancesBuffer) {\n        instancesBuffer.dispose();\n      }\n      if (instancesPreviousBuffer) {\n        instancesPreviousBuffer.dispose();\n      }\n      instancesBuffer = new Buffer2(engine, instanceStorage.instancesData, true, 16, false, true);\n      instanceStorage.instancesBuffer = instancesBuffer;\n      if (!this._userInstancedBuffersStorage) {\n        this._userInstancedBuffersStorage = {\n          data: {},\n          vertexBuffers: {},\n          strides: {},\n          sizes: {},\n          vertexArrayObjects: this.getEngine().getCaps().vertexArrayObject ? {} : void 0\n        };\n      }\n      this._userInstancedBuffersStorage.vertexBuffers[\"world0\"] = instancesBuffer.createVertexBuffer(\"world0\", 0, 4);\n      this._userInstancedBuffersStorage.vertexBuffers[\"world1\"] = instancesBuffer.createVertexBuffer(\"world1\", 4, 4);\n      this._userInstancedBuffersStorage.vertexBuffers[\"world2\"] = instancesBuffer.createVertexBuffer(\"world2\", 8, 4);\n      this._userInstancedBuffersStorage.vertexBuffers[\"world3\"] = instancesBuffer.createVertexBuffer(\"world3\", 12, 4);\n      if (this._scene.needsPreviousWorldMatrices) {\n        instancesPreviousBuffer = new Buffer2(engine, instanceStorage.instancesPreviousData, true, 16, false, true);\n        instanceStorage.instancesPreviousBuffer = instancesPreviousBuffer;\n        this._userInstancedBuffersStorage.vertexBuffers[\"previousWorld0\"] = instancesPreviousBuffer.createVertexBuffer(\"previousWorld0\", 0, 4);\n        this._userInstancedBuffersStorage.vertexBuffers[\"previousWorld1\"] = instancesPreviousBuffer.createVertexBuffer(\"previousWorld1\", 4, 4);\n        this._userInstancedBuffersStorage.vertexBuffers[\"previousWorld2\"] = instancesPreviousBuffer.createVertexBuffer(\"previousWorld2\", 8, 4);\n        this._userInstancedBuffersStorage.vertexBuffers[\"previousWorld3\"] = instancesPreviousBuffer.createVertexBuffer(\"previousWorld3\", 12, 4);\n      }\n      this._invalidateInstanceVertexArrayObject();\n    } else {\n      if (!this._instanceDataStorage.isFrozen) {\n        instancesBuffer.updateDirectly(instanceStorage.instancesData, 0, instancesCount);\n        if (this._scene.needsPreviousWorldMatrices && (!this._instanceDataStorage.manualUpdate || this._instanceDataStorage.previousManualUpdate)) {\n          instancesPreviousBuffer.updateDirectly(instanceStorage.instancesPreviousData, 0, instancesCount);\n        }\n      }\n    }\n    this._processInstancedBuffers(visibleInstances, renderSelf);\n    this.getScene()._activeIndices.addCount(subMesh.indexCount * instancesCount, false);\n    if (engine._currentDrawContext) {\n      engine._currentDrawContext.useInstancing = true;\n    }\n    this._bind(subMesh, effect, fillMode);\n    this._draw(subMesh, fillMode, instancesCount);\n    if (this._scene.needsPreviousWorldMatrices && !needUpdateBuffer && this._instanceDataStorage.manualUpdate && !this._instanceDataStorage.isFrozen && !this._instanceDataStorage.previousManualUpdate) {\n      instancesPreviousBuffer.updateDirectly(instanceStorage.instancesData, 0, instancesCount);\n    }\n    engine.unbindInstanceAttributes();\n    return this;\n  };\n  Mesh2.prototype._renderWithThinInstances = function(subMesh, fillMode, effect, engine) {\n    var _a, _b;\n    var instancesCount = (_b = (_a = this._thinInstanceDataStorage) === null || _a === void 0 ? void 0 : _a.instancesCount) !== null && _b !== void 0 ? _b : 0;\n    this.getScene()._activeIndices.addCount(subMesh.indexCount * instancesCount, false);\n    if (engine._currentDrawContext) {\n      engine._currentDrawContext.useInstancing = true;\n    }\n    this._bind(subMesh, effect, fillMode);\n    this._draw(subMesh, fillMode, instancesCount);\n    if (this._scene.needsPreviousWorldMatrices && !this._thinInstanceDataStorage.previousMatrixData && this._thinInstanceDataStorage.matrixData) {\n      if (!this._thinInstanceDataStorage.previousMatrixBuffer) {\n        this._thinInstanceDataStorage.previousMatrixBuffer = this._thinInstanceCreateMatrixBuffer(\"previousWorld\", this._thinInstanceDataStorage.matrixData, false);\n      } else {\n        this._thinInstanceDataStorage.previousMatrixBuffer.updateDirectly(this._thinInstanceDataStorage.matrixData, 0, instancesCount);\n      }\n    }\n    engine.unbindInstanceAttributes();\n  };\n  Mesh2.prototype._processInstancedBuffers = function(visibleInstances, renderSelf) {\n  };\n  Mesh2.prototype._processRendering = function(renderingMesh, subMesh, effect, fillMode, batch, hardwareInstancedRendering, onBeforeDraw, effectiveMaterial) {\n    var scene = this.getScene();\n    var engine = scene.getEngine();\n    if (hardwareInstancedRendering && subMesh.getRenderingMesh().hasThinInstances) {\n      this._renderWithThinInstances(subMesh, fillMode, effect, engine);\n      return this;\n    }\n    if (hardwareInstancedRendering) {\n      this._renderWithInstances(subMesh, fillMode, batch, effect, engine);\n    } else {\n      if (engine._currentDrawContext) {\n        engine._currentDrawContext.useInstancing = false;\n      }\n      var instanceCount = 0;\n      if (batch.renderSelf[subMesh._id]) {\n        if (onBeforeDraw) {\n          onBeforeDraw(false, renderingMesh.getWorldMatrix(), effectiveMaterial);\n        }\n        instanceCount++;\n        this._draw(subMesh, fillMode, this._instanceDataStorage.overridenInstanceCount);\n      }\n      var visibleInstancesForSubMesh = batch.visibleInstances[subMesh._id];\n      if (visibleInstancesForSubMesh) {\n        var visibleInstanceCount = visibleInstancesForSubMesh.length;\n        instanceCount += visibleInstanceCount;\n        for (var instanceIndex = 0; instanceIndex < visibleInstanceCount; instanceIndex++) {\n          var instance = visibleInstancesForSubMesh[instanceIndex];\n          var world = instance.getWorldMatrix();\n          if (onBeforeDraw) {\n            onBeforeDraw(true, world, effectiveMaterial);\n          }\n          this._draw(subMesh, fillMode);\n        }\n      }\n      scene._activeIndices.addCount(subMesh.indexCount * instanceCount, false);\n    }\n    return this;\n  };\n  Mesh2.prototype._rebuild = function(dispose) {\n    if (dispose === void 0) {\n      dispose = false;\n    }\n    if (this._instanceDataStorage.instancesBuffer) {\n      if (dispose) {\n        this._instanceDataStorage.instancesBuffer.dispose();\n      }\n      this._instanceDataStorage.instancesBuffer = null;\n    }\n    if (this._userInstancedBuffersStorage) {\n      for (var kind in this._userInstancedBuffersStorage.vertexBuffers) {\n        var buffer = this._userInstancedBuffersStorage.vertexBuffers[kind];\n        if (buffer) {\n          if (dispose) {\n            buffer.dispose();\n          }\n          this._userInstancedBuffersStorage.vertexBuffers[kind] = null;\n        }\n      }\n      if (this._userInstancedBuffersStorage.vertexArrayObjects) {\n        this._userInstancedBuffersStorage.vertexArrayObjects = {};\n      }\n    }\n    this._internalMeshDataInfo._effectiveMaterial = null;\n    _super.prototype._rebuild.call(this, dispose);\n  };\n  Mesh2.prototype._freeze = function() {\n    if (!this.subMeshes) {\n      return;\n    }\n    for (var index = 0; index < this.subMeshes.length; index++) {\n      this._getInstancesRenderList(index);\n    }\n    this._internalMeshDataInfo._effectiveMaterial = null;\n    this._instanceDataStorage.isFrozen = true;\n  };\n  Mesh2.prototype._unFreeze = function() {\n    this._instanceDataStorage.isFrozen = false;\n    this._instanceDataStorage.previousBatch = null;\n  };\n  Mesh2.prototype.render = function(subMesh, enableAlphaMode, effectiveMeshReplacement) {\n    var _a, _b, _c;\n    var scene = this.getScene();\n    if (this._internalAbstractMeshDataInfo._isActiveIntermediate) {\n      this._internalAbstractMeshDataInfo._isActiveIntermediate = false;\n    } else {\n      this._internalAbstractMeshDataInfo._isActive = false;\n    }\n    if (this._checkOcclusionQuery() && !this._occlusionDataStorage.forceRenderingWhenOccluded) {\n      return this;\n    }\n    var batch = this._getInstancesRenderList(subMesh._id, !!effectiveMeshReplacement);\n    if (batch.mustReturn) {\n      return this;\n    }\n    if (!this._geometry || !this._geometry.getVertexBuffers() || !this._unIndexed && !this._geometry.getIndexBuffer()) {\n      return this;\n    }\n    var engine = scene.getEngine();\n    var oldCameraMaxZ = 0;\n    var oldCamera = null;\n    if (this.ignoreCameraMaxZ && scene.activeCamera && !scene._isInIntermediateRendering()) {\n      oldCameraMaxZ = scene.activeCamera.maxZ;\n      oldCamera = scene.activeCamera;\n      scene.activeCamera.maxZ = 0;\n      scene.updateTransformMatrix(true);\n    }\n    if (this._internalMeshDataInfo._onBeforeRenderObservable) {\n      this._internalMeshDataInfo._onBeforeRenderObservable.notifyObservers(this);\n    }\n    var hardwareInstancedRendering = batch.hardwareInstancedRendering[subMesh._id] || subMesh.getRenderingMesh().hasThinInstances;\n    var instanceDataStorage = this._instanceDataStorage;\n    var material = subMesh.getMaterial();\n    if (!material) {\n      if (oldCamera) {\n        oldCamera.maxZ = oldCameraMaxZ;\n        scene.updateTransformMatrix(true);\n      }\n      return this;\n    }\n    if (!instanceDataStorage.isFrozen || !this._internalMeshDataInfo._effectiveMaterial || this._internalMeshDataInfo._effectiveMaterial !== material) {\n      if (material._storeEffectOnSubMeshes) {\n        if (!material.isReadyForSubMesh(this, subMesh, hardwareInstancedRendering)) {\n          if (oldCamera) {\n            oldCamera.maxZ = oldCameraMaxZ;\n            scene.updateTransformMatrix(true);\n          }\n          return this;\n        }\n      } else if (!material.isReady(this, hardwareInstancedRendering)) {\n        if (oldCamera) {\n          oldCamera.maxZ = oldCameraMaxZ;\n          scene.updateTransformMatrix(true);\n        }\n        return this;\n      }\n      this._internalMeshDataInfo._effectiveMaterial = material;\n    } else if (material._storeEffectOnSubMeshes && !((_a = subMesh.effect) === null || _a === void 0 ? void 0 : _a._wasPreviouslyReady) || !material._storeEffectOnSubMeshes && !((_b = material.getEffect()) === null || _b === void 0 ? void 0 : _b._wasPreviouslyReady)) {\n      if (oldCamera) {\n        oldCamera.maxZ = oldCameraMaxZ;\n        scene.updateTransformMatrix(true);\n      }\n      return this;\n    }\n    if (enableAlphaMode) {\n      engine.setAlphaMode(this._internalMeshDataInfo._effectiveMaterial.alphaMode);\n    }\n    var drawWrapper;\n    if (this._internalMeshDataInfo._effectiveMaterial._storeEffectOnSubMeshes) {\n      drawWrapper = subMesh._drawWrapper;\n    } else {\n      drawWrapper = this._internalMeshDataInfo._effectiveMaterial._getDrawWrapper();\n    }\n    var effect = (_c = drawWrapper === null || drawWrapper === void 0 ? void 0 : drawWrapper.effect) !== null && _c !== void 0 ? _c : null;\n    for (var _i = 0, _d = scene._beforeRenderingMeshStage; _i < _d.length; _i++) {\n      var step = _d[_i];\n      step.action(this, subMesh, batch, effect);\n    }\n    if (!drawWrapper || !effect) {\n      if (oldCamera) {\n        oldCamera.maxZ = oldCameraMaxZ;\n        scene.updateTransformMatrix(true);\n      }\n      return this;\n    }\n    var effectiveMesh = effectiveMeshReplacement || this;\n    var sideOrientation;\n    if (!instanceDataStorage.isFrozen && (this._internalMeshDataInfo._effectiveMaterial.backFaceCulling || this.overrideMaterialSideOrientation !== null)) {\n      var mainDeterminant = effectiveMesh._getWorldMatrixDeterminant();\n      sideOrientation = this.overrideMaterialSideOrientation;\n      if (sideOrientation == null) {\n        sideOrientation = this._internalMeshDataInfo._effectiveMaterial.sideOrientation;\n      }\n      if (mainDeterminant < 0) {\n        sideOrientation = sideOrientation === Material.ClockWiseSideOrientation ? Material.CounterClockWiseSideOrientation : Material.ClockWiseSideOrientation;\n      }\n      instanceDataStorage.sideOrientation = sideOrientation;\n    } else {\n      sideOrientation = instanceDataStorage.sideOrientation;\n    }\n    var reverse = this._internalMeshDataInfo._effectiveMaterial._preBind(drawWrapper, sideOrientation);\n    if (this._internalMeshDataInfo._effectiveMaterial.forceDepthWrite) {\n      engine.setDepthWrite(true);\n    }\n    var fillMode = scene.forcePointsCloud ? Material.PointFillMode : scene.forceWireframe ? Material.WireFrameFillMode : this._internalMeshDataInfo._effectiveMaterial.fillMode;\n    if (this._internalMeshDataInfo._onBeforeBindObservable) {\n      this._internalMeshDataInfo._onBeforeBindObservable.notifyObservers(this);\n    }\n    if (!hardwareInstancedRendering) {\n      this._bind(subMesh, effect, fillMode);\n    }\n    var effectiveMaterial = this._internalMeshDataInfo._effectiveMaterial;\n    var world = effectiveMesh.getWorldMatrix();\n    if (effectiveMaterial._storeEffectOnSubMeshes) {\n      effectiveMaterial.bindForSubMesh(world, this, subMesh);\n    } else {\n      effectiveMaterial.bind(world, this);\n    }\n    if (!effectiveMaterial.backFaceCulling && effectiveMaterial.separateCullingPass) {\n      engine.setState(true, effectiveMaterial.zOffset, false, !reverse, effectiveMaterial.cullBackFaces, effectiveMaterial.stencil, effectiveMaterial.zOffsetUnits);\n      this._processRendering(this, subMesh, effect, fillMode, batch, hardwareInstancedRendering, this._onBeforeDraw, this._internalMeshDataInfo._effectiveMaterial);\n      engine.setState(true, effectiveMaterial.zOffset, false, reverse, effectiveMaterial.cullBackFaces, effectiveMaterial.stencil, effectiveMaterial.zOffsetUnits);\n      if (this._internalMeshDataInfo._onBetweenPassObservable) {\n        this._internalMeshDataInfo._onBetweenPassObservable.notifyObservers(subMesh);\n      }\n    }\n    this._processRendering(this, subMesh, effect, fillMode, batch, hardwareInstancedRendering, this._onBeforeDraw, this._internalMeshDataInfo._effectiveMaterial);\n    this._internalMeshDataInfo._effectiveMaterial.unbind();\n    for (var _e = 0, _f = scene._afterRenderingMeshStage; _e < _f.length; _e++) {\n      var step = _f[_e];\n      step.action(this, subMesh, batch, effect);\n    }\n    if (this._internalMeshDataInfo._onAfterRenderObservable) {\n      this._internalMeshDataInfo._onAfterRenderObservable.notifyObservers(this);\n    }\n    if (oldCamera) {\n      oldCamera.maxZ = oldCameraMaxZ;\n      scene.updateTransformMatrix(true);\n    }\n    return this;\n  };\n  Mesh2.prototype.cleanMatrixWeights = function() {\n    if (this.isVerticesDataPresent(VertexBuffer.MatricesWeightsKind)) {\n      if (this.isVerticesDataPresent(VertexBuffer.MatricesWeightsExtraKind)) {\n        this._normalizeSkinWeightsAndExtra();\n      } else {\n        this._normalizeSkinFourWeights();\n      }\n    }\n  };\n  Mesh2.prototype._normalizeSkinFourWeights = function() {\n    var matricesWeights = this.getVerticesData(VertexBuffer.MatricesWeightsKind);\n    var numWeights = matricesWeights.length;\n    for (var a = 0; a < numWeights; a += 4) {\n      var t = matricesWeights[a] + matricesWeights[a + 1] + matricesWeights[a + 2] + matricesWeights[a + 3];\n      if (t === 0) {\n        matricesWeights[a] = 1;\n      } else {\n        var recip = 1 / t;\n        matricesWeights[a] *= recip;\n        matricesWeights[a + 1] *= recip;\n        matricesWeights[a + 2] *= recip;\n        matricesWeights[a + 3] *= recip;\n      }\n    }\n    this.setVerticesData(VertexBuffer.MatricesWeightsKind, matricesWeights);\n  };\n  Mesh2.prototype._normalizeSkinWeightsAndExtra = function() {\n    var matricesWeightsExtra = this.getVerticesData(VertexBuffer.MatricesWeightsExtraKind);\n    var matricesWeights = this.getVerticesData(VertexBuffer.MatricesWeightsKind);\n    var numWeights = matricesWeights.length;\n    for (var a = 0; a < numWeights; a += 4) {\n      var t = matricesWeights[a] + matricesWeights[a + 1] + matricesWeights[a + 2] + matricesWeights[a + 3];\n      t += matricesWeightsExtra[a] + matricesWeightsExtra[a + 1] + matricesWeightsExtra[a + 2] + matricesWeightsExtra[a + 3];\n      if (t === 0) {\n        matricesWeights[a] = 1;\n      } else {\n        var recip = 1 / t;\n        matricesWeights[a] *= recip;\n        matricesWeights[a + 1] *= recip;\n        matricesWeights[a + 2] *= recip;\n        matricesWeights[a + 3] *= recip;\n        matricesWeightsExtra[a] *= recip;\n        matricesWeightsExtra[a + 1] *= recip;\n        matricesWeightsExtra[a + 2] *= recip;\n        matricesWeightsExtra[a + 3] *= recip;\n      }\n    }\n    this.setVerticesData(VertexBuffer.MatricesWeightsKind, matricesWeights);\n    this.setVerticesData(VertexBuffer.MatricesWeightsKind, matricesWeightsExtra);\n  };\n  Mesh2.prototype.validateSkinning = function() {\n    var matricesWeightsExtra = this.getVerticesData(VertexBuffer.MatricesWeightsExtraKind);\n    var matricesWeights = this.getVerticesData(VertexBuffer.MatricesWeightsKind);\n    if (matricesWeights === null || this.skeleton == null) {\n      return { skinned: false, valid: true, report: \"not skinned\" };\n    }\n    var numWeights = matricesWeights.length;\n    var numberNotSorted = 0;\n    var missingWeights = 0;\n    var maxUsedWeights = 0;\n    var numberNotNormalized = 0;\n    var numInfluences = matricesWeightsExtra === null ? 4 : 8;\n    var usedWeightCounts = new Array();\n    for (var a = 0; a <= numInfluences; a++) {\n      usedWeightCounts[a] = 0;\n    }\n    var toleranceEpsilon = 1e-3;\n    for (var a = 0; a < numWeights; a += 4) {\n      var lastWeight = matricesWeights[a];\n      var t = lastWeight;\n      var usedWeights = t === 0 ? 0 : 1;\n      for (var b = 1; b < numInfluences; b++) {\n        var d = b < 4 ? matricesWeights[a + b] : matricesWeightsExtra[a + b - 4];\n        if (d > lastWeight) {\n          numberNotSorted++;\n        }\n        if (d !== 0) {\n          usedWeights++;\n        }\n        t += d;\n        lastWeight = d;\n      }\n      usedWeightCounts[usedWeights]++;\n      if (usedWeights > maxUsedWeights) {\n        maxUsedWeights = usedWeights;\n      }\n      if (t === 0) {\n        missingWeights++;\n      } else {\n        var recip = 1 / t;\n        var tolerance = 0;\n        for (var b = 0; b < numInfluences; b++) {\n          if (b < 4) {\n            tolerance += Math.abs(matricesWeights[a + b] - matricesWeights[a + b] * recip);\n          } else {\n            tolerance += Math.abs(matricesWeightsExtra[a + b - 4] - matricesWeightsExtra[a + b - 4] * recip);\n          }\n        }\n        if (tolerance > toleranceEpsilon) {\n          numberNotNormalized++;\n        }\n      }\n    }\n    var numBones = this.skeleton.bones.length;\n    var matricesIndices = this.getVerticesData(VertexBuffer.MatricesIndicesKind);\n    var matricesIndicesExtra = this.getVerticesData(VertexBuffer.MatricesIndicesExtraKind);\n    var numBadBoneIndices = 0;\n    for (var a = 0; a < numWeights; a += 4) {\n      for (var b = 0; b < numInfluences; b++) {\n        var index = b < 4 ? matricesIndices[a + b] : matricesIndicesExtra[a + b - 4];\n        if (index >= numBones || index < 0) {\n          numBadBoneIndices++;\n        }\n      }\n    }\n    var output = \"Number of Weights = \" + numWeights / 4 + \"\\nMaximum influences = \" + maxUsedWeights + \"\\nMissing Weights = \" + missingWeights + \"\\nNot Sorted = \" + numberNotSorted + \"\\nNot Normalized = \" + numberNotNormalized + \"\\nWeightCounts = [\" + usedWeightCounts + \"]\\nNumber of bones = \" + numBones + \"\\nBad Bone Indices = \" + numBadBoneIndices;\n    return { skinned: true, valid: missingWeights === 0 && numberNotNormalized === 0 && numBadBoneIndices === 0, report: output };\n  };\n  Mesh2.prototype._checkDelayState = function() {\n    var scene = this.getScene();\n    if (this._geometry) {\n      this._geometry.load(scene);\n    } else if (this.delayLoadState === 4) {\n      this.delayLoadState = 2;\n      this._queueLoad(scene);\n    }\n    return this;\n  };\n  Mesh2.prototype._queueLoad = function(scene) {\n    var _this = this;\n    scene._addPendingData(this);\n    var getBinaryData = this.delayLoadingFile.indexOf(\".babylonbinarymeshdata\") !== -1;\n    Tools.LoadFile(this.delayLoadingFile, function(data) {\n      if (data instanceof ArrayBuffer) {\n        _this._delayLoadingFunction(data, _this);\n      } else {\n        _this._delayLoadingFunction(JSON.parse(data), _this);\n      }\n      _this.instances.forEach(function(instance) {\n        instance.refreshBoundingInfo();\n        instance._syncSubMeshes();\n      });\n      _this.delayLoadState = 1;\n      scene._removePendingData(_this);\n    }, function() {\n    }, scene.offlineProvider, getBinaryData);\n    return this;\n  };\n  Mesh2.prototype.isInFrustum = function(frustumPlanes) {\n    if (this.delayLoadState === 2) {\n      return false;\n    }\n    if (!_super.prototype.isInFrustum.call(this, frustumPlanes)) {\n      return false;\n    }\n    this._checkDelayState();\n    return true;\n  };\n  Mesh2.prototype.setMaterialById = function(id) {\n    var materials = this.getScene().materials;\n    var index;\n    for (index = materials.length - 1; index > -1; index--) {\n      if (materials[index].id === id) {\n        this.material = materials[index];\n        return this;\n      }\n    }\n    var multiMaterials = this.getScene().multiMaterials;\n    for (index = multiMaterials.length - 1; index > -1; index--) {\n      if (multiMaterials[index].id === id) {\n        this.material = multiMaterials[index];\n        return this;\n      }\n    }\n    return this;\n  };\n  Mesh2.prototype.getAnimatables = function() {\n    var results = new Array();\n    if (this.material) {\n      results.push(this.material);\n    }\n    if (this.skeleton) {\n      results.push(this.skeleton);\n    }\n    return results;\n  };\n  Mesh2.prototype.bakeTransformIntoVertices = function(transform) {\n    if (!this.isVerticesDataPresent(VertexBuffer.PositionKind)) {\n      return this;\n    }\n    var submeshes = this.subMeshes.splice(0);\n    this._resetPointsArrayCache();\n    var data = this.getVerticesData(VertexBuffer.PositionKind);\n    var temp = new Array();\n    var index;\n    for (index = 0; index < data.length; index += 3) {\n      Vector3.TransformCoordinates(Vector3.FromArray(data, index), transform).toArray(temp, index);\n    }\n    this.setVerticesData(VertexBuffer.PositionKind, temp, this.getVertexBuffer(VertexBuffer.PositionKind).isUpdatable());\n    if (this.isVerticesDataPresent(VertexBuffer.NormalKind)) {\n      data = this.getVerticesData(VertexBuffer.NormalKind);\n      temp = [];\n      for (index = 0; index < data.length; index += 3) {\n        Vector3.TransformNormal(Vector3.FromArray(data, index), transform).normalize().toArray(temp, index);\n      }\n      this.setVerticesData(VertexBuffer.NormalKind, temp, this.getVertexBuffer(VertexBuffer.NormalKind).isUpdatable());\n    }\n    if (transform.determinant() < 0) {\n      this.flipFaces();\n    }\n    this.releaseSubMeshes();\n    this.subMeshes = submeshes;\n    return this;\n  };\n  Mesh2.prototype.bakeCurrentTransformIntoVertices = function(bakeIndependenlyOfChildren) {\n    if (bakeIndependenlyOfChildren === void 0) {\n      bakeIndependenlyOfChildren = true;\n    }\n    this.bakeTransformIntoVertices(this.computeWorldMatrix(true));\n    this.resetLocalMatrix(bakeIndependenlyOfChildren);\n    return this;\n  };\n  Object.defineProperty(Mesh2.prototype, \"_positions\", {\n    get: function() {\n      if (this._internalAbstractMeshDataInfo._positions) {\n        return this._internalAbstractMeshDataInfo._positions;\n      }\n      if (this._geometry) {\n        return this._geometry._positions;\n      }\n      return null;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Mesh2.prototype._resetPointsArrayCache = function() {\n    if (this._geometry) {\n      this._geometry._resetPointsArrayCache();\n    }\n    return this;\n  };\n  Mesh2.prototype._generatePointsArray = function() {\n    if (this._geometry) {\n      return this._geometry._generatePointsArray();\n    }\n    return false;\n  };\n  Mesh2.prototype.clone = function(name2, newParent, doNotCloneChildren, clonePhysicsImpostor) {\n    if (name2 === void 0) {\n      name2 = \"\";\n    }\n    if (newParent === void 0) {\n      newParent = null;\n    }\n    if (clonePhysicsImpostor === void 0) {\n      clonePhysicsImpostor = true;\n    }\n    return new Mesh2(name2, this.getScene(), newParent, this, doNotCloneChildren, clonePhysicsImpostor);\n  };\n  Mesh2.prototype.dispose = function(doNotRecurse, disposeMaterialAndTextures) {\n    if (disposeMaterialAndTextures === void 0) {\n      disposeMaterialAndTextures = false;\n    }\n    this.morphTargetManager = null;\n    if (this._geometry) {\n      this._geometry.releaseForMesh(this, true);\n    }\n    var internalDataInfo = this._internalMeshDataInfo;\n    if (internalDataInfo._onBeforeDrawObservable) {\n      internalDataInfo._onBeforeDrawObservable.clear();\n    }\n    if (internalDataInfo._onBeforeBindObservable) {\n      internalDataInfo._onBeforeBindObservable.clear();\n    }\n    if (internalDataInfo._onBeforeRenderObservable) {\n      internalDataInfo._onBeforeRenderObservable.clear();\n    }\n    if (internalDataInfo._onAfterRenderObservable) {\n      internalDataInfo._onAfterRenderObservable.clear();\n    }\n    if (internalDataInfo._onBetweenPassObservable) {\n      internalDataInfo._onBetweenPassObservable.clear();\n    }\n    if (this._scene.useClonedMeshMap) {\n      if (internalDataInfo.meshMap) {\n        for (var uniqueId in internalDataInfo.meshMap) {\n          var mesh = internalDataInfo.meshMap[uniqueId];\n          if (mesh) {\n            mesh._internalMeshDataInfo._source = null;\n            internalDataInfo.meshMap[uniqueId] = void 0;\n          }\n        }\n      }\n      if (internalDataInfo._source && internalDataInfo._source._internalMeshDataInfo.meshMap) {\n        internalDataInfo._source._internalMeshDataInfo.meshMap[this.uniqueId] = void 0;\n      }\n    } else {\n      var meshes = this.getScene().meshes;\n      for (var _i = 0, meshes_1 = meshes; _i < meshes_1.length; _i++) {\n        var abstractMesh = meshes_1[_i];\n        var mesh = abstractMesh;\n        if (mesh._internalMeshDataInfo && mesh._internalMeshDataInfo._source && mesh._internalMeshDataInfo._source === this) {\n          mesh._internalMeshDataInfo._source = null;\n        }\n      }\n    }\n    internalDataInfo._source = null;\n    this._disposeInstanceSpecificData();\n    this._disposeThinInstanceSpecificData();\n    if (this._internalMeshDataInfo._checkReadinessObserver) {\n      this._scene.onBeforeRenderObservable.remove(this._internalMeshDataInfo._checkReadinessObserver);\n    }\n    _super.prototype.dispose.call(this, doNotRecurse, disposeMaterialAndTextures);\n  };\n  Mesh2.prototype._disposeInstanceSpecificData = function() {\n  };\n  Mesh2.prototype._disposeThinInstanceSpecificData = function() {\n  };\n  Mesh2.prototype._invalidateInstanceVertexArrayObject = function() {\n  };\n  Mesh2.prototype.applyDisplacementMap = function(url, minHeight, maxHeight, onSuccess, uvOffset, uvScale, forceUpdate) {\n    var _this = this;\n    if (forceUpdate === void 0) {\n      forceUpdate = false;\n    }\n    var scene = this.getScene();\n    var onload = function(img) {\n      var heightMapWidth = img.width;\n      var heightMapHeight = img.height;\n      var canvas = _this.getEngine().createCanvas(heightMapWidth, heightMapHeight);\n      var context = canvas.getContext(\"2d\");\n      context.drawImage(img, 0, 0);\n      var buffer = context.getImageData(0, 0, heightMapWidth, heightMapHeight).data;\n      _this.applyDisplacementMapFromBuffer(buffer, heightMapWidth, heightMapHeight, minHeight, maxHeight, uvOffset, uvScale, forceUpdate);\n      if (onSuccess) {\n        onSuccess(_this);\n      }\n    };\n    Tools.LoadImage(url, onload, function() {\n    }, scene.offlineProvider);\n    return this;\n  };\n  Mesh2.prototype.applyDisplacementMapFromBuffer = function(buffer, heightMapWidth, heightMapHeight, minHeight, maxHeight, uvOffset, uvScale, forceUpdate) {\n    if (forceUpdate === void 0) {\n      forceUpdate = false;\n    }\n    if (!this.isVerticesDataPresent(VertexBuffer.PositionKind) || !this.isVerticesDataPresent(VertexBuffer.NormalKind) || !this.isVerticesDataPresent(VertexBuffer.UVKind)) {\n      Logger.Warn(\"Cannot call applyDisplacementMap: Given mesh is not complete. Position, Normal or UV are missing\");\n      return this;\n    }\n    var positions = this.getVerticesData(VertexBuffer.PositionKind, true, true);\n    var normals = this.getVerticesData(VertexBuffer.NormalKind);\n    var uvs = this.getVerticesData(VertexBuffer.UVKind);\n    var position = Vector3.Zero();\n    var normal = Vector3.Zero();\n    var uv = Vector2.Zero();\n    uvOffset = uvOffset || Vector2.Zero();\n    uvScale = uvScale || new Vector2(1, 1);\n    for (var index = 0; index < positions.length; index += 3) {\n      Vector3.FromArrayToRef(positions, index, position);\n      Vector3.FromArrayToRef(normals, index, normal);\n      Vector2.FromArrayToRef(uvs, index / 3 * 2, uv);\n      var u = Math.abs(uv.x * uvScale.x + uvOffset.x % 1) * (heightMapWidth - 1) % heightMapWidth | 0;\n      var v = Math.abs(uv.y * uvScale.y + uvOffset.y % 1) * (heightMapHeight - 1) % heightMapHeight | 0;\n      var pos = (u + v * heightMapWidth) * 4;\n      var r = buffer[pos] / 255;\n      var g = buffer[pos + 1] / 255;\n      var b = buffer[pos + 2] / 255;\n      var gradient = r * 0.3 + g * 0.59 + b * 0.11;\n      normal.normalize();\n      normal.scaleInPlace(minHeight + (maxHeight - minHeight) * gradient);\n      position = position.add(normal);\n      position.toArray(positions, index);\n    }\n    VertexData.ComputeNormals(positions, this.getIndices(), normals);\n    if (forceUpdate) {\n      this.setVerticesData(VertexBuffer.PositionKind, positions);\n      this.setVerticesData(VertexBuffer.NormalKind, normals);\n      this.setVerticesData(VertexBuffer.UVKind, uvs);\n    } else {\n      this.updateVerticesData(VertexBuffer.PositionKind, positions);\n      this.updateVerticesData(VertexBuffer.NormalKind, normals);\n    }\n    return this;\n  };\n  Mesh2.prototype.convertToFlatShadedMesh = function() {\n    var kinds = this.getVerticesDataKinds();\n    var vbs = {};\n    var data = {};\n    var newdata = {};\n    var updatableNormals = false;\n    var kindIndex;\n    var kind;\n    for (kindIndex = 0; kindIndex < kinds.length; kindIndex++) {\n      kind = kinds[kindIndex];\n      var vertexBuffer = this.getVertexBuffer(kind);\n      var vertexData = vertexBuffer.getData();\n      if (vertexData instanceof Array || vertexData instanceof Float32Array) {\n        if (vertexData.length === 0) {\n          continue;\n        }\n      }\n      if (kind === VertexBuffer.NormalKind) {\n        updatableNormals = vertexBuffer.isUpdatable();\n        kinds.splice(kindIndex, 1);\n        kindIndex--;\n        continue;\n      }\n      vbs[kind] = vertexBuffer;\n      data[kind] = this.getVerticesData(kind);\n      newdata[kind] = [];\n    }\n    var previousSubmeshes = this.subMeshes.slice(0);\n    var indices = this.getIndices();\n    var totalIndices = this.getTotalIndices();\n    var index;\n    for (index = 0; index < totalIndices; index++) {\n      var vertexIndex = indices[index];\n      for (kindIndex = 0; kindIndex < kinds.length; kindIndex++) {\n        kind = kinds[kindIndex];\n        if (!vbs[kind]) {\n          continue;\n        }\n        var stride = vbs[kind].getStrideSize();\n        for (var offset = 0; offset < stride; offset++) {\n          newdata[kind].push(data[kind][vertexIndex * stride + offset]);\n        }\n      }\n    }\n    var normals = [];\n    var positions = newdata[VertexBuffer.PositionKind];\n    var useRightHandedSystem = this.getScene().useRightHandedSystem;\n    var flipNormalGeneration;\n    if (useRightHandedSystem) {\n      flipNormalGeneration = this.overrideMaterialSideOrientation === 1;\n    } else {\n      flipNormalGeneration = this.overrideMaterialSideOrientation === 0;\n    }\n    for (index = 0; index < totalIndices; index += 3) {\n      indices[index] = index;\n      indices[index + 1] = index + 1;\n      indices[index + 2] = index + 2;\n      var p1 = Vector3.FromArray(positions, index * 3);\n      var p2 = Vector3.FromArray(positions, (index + 1) * 3);\n      var p3 = Vector3.FromArray(positions, (index + 2) * 3);\n      var p1p2 = p1.subtract(p2);\n      var p3p2 = p3.subtract(p2);\n      var normal = Vector3.Normalize(Vector3.Cross(p1p2, p3p2));\n      if (flipNormalGeneration) {\n        normal.scaleInPlace(-1);\n      }\n      for (var localIndex = 0; localIndex < 3; localIndex++) {\n        normals.push(normal.x);\n        normals.push(normal.y);\n        normals.push(normal.z);\n      }\n    }\n    this.setIndices(indices);\n    this.setVerticesData(VertexBuffer.NormalKind, normals, updatableNormals);\n    for (kindIndex = 0; kindIndex < kinds.length; kindIndex++) {\n      kind = kinds[kindIndex];\n      if (!newdata[kind]) {\n        continue;\n      }\n      this.setVerticesData(kind, newdata[kind], vbs[kind].isUpdatable());\n    }\n    this.releaseSubMeshes();\n    for (var submeshIndex = 0; submeshIndex < previousSubmeshes.length; submeshIndex++) {\n      var previousOne = previousSubmeshes[submeshIndex];\n      SubMesh.AddToMesh(previousOne.materialIndex, previousOne.indexStart, previousOne.indexCount, previousOne.indexStart, previousOne.indexCount, this);\n    }\n    this.synchronizeInstances();\n    return this;\n  };\n  Mesh2.prototype.convertToUnIndexedMesh = function() {\n    var kinds = this.getVerticesDataKinds();\n    var vbs = {};\n    var data = {};\n    var newdata = {};\n    var kindIndex;\n    var kind;\n    for (kindIndex = 0; kindIndex < kinds.length; kindIndex++) {\n      kind = kinds[kindIndex];\n      var vertexBuffer = this.getVertexBuffer(kind);\n      vbs[kind] = vertexBuffer;\n      data[kind] = vbs[kind].getData();\n      newdata[kind] = [];\n    }\n    var previousSubmeshes = this.subMeshes.slice(0);\n    var indices = this.getIndices();\n    var totalIndices = this.getTotalIndices();\n    var index;\n    for (index = 0; index < totalIndices; index++) {\n      var vertexIndex = indices[index];\n      for (kindIndex = 0; kindIndex < kinds.length; kindIndex++) {\n        kind = kinds[kindIndex];\n        var stride = vbs[kind].getStrideSize();\n        for (var offset = 0; offset < stride; offset++) {\n          newdata[kind].push(data[kind][vertexIndex * stride + offset]);\n        }\n      }\n    }\n    for (index = 0; index < totalIndices; index += 3) {\n      indices[index] = index;\n      indices[index + 1] = index + 1;\n      indices[index + 2] = index + 2;\n    }\n    this.setIndices(indices);\n    for (kindIndex = 0; kindIndex < kinds.length; kindIndex++) {\n      kind = kinds[kindIndex];\n      this.setVerticesData(kind, newdata[kind], vbs[kind].isUpdatable());\n    }\n    this.releaseSubMeshes();\n    for (var submeshIndex = 0; submeshIndex < previousSubmeshes.length; submeshIndex++) {\n      var previousOne = previousSubmeshes[submeshIndex];\n      SubMesh.AddToMesh(previousOne.materialIndex, previousOne.indexStart, previousOne.indexCount, previousOne.indexStart, previousOne.indexCount, this);\n    }\n    this._unIndexed = true;\n    this.synchronizeInstances();\n    return this;\n  };\n  Mesh2.prototype.flipFaces = function(flipNormals) {\n    if (flipNormals === void 0) {\n      flipNormals = false;\n    }\n    var vertex_data = VertexData.ExtractFromMesh(this);\n    var i;\n    if (flipNormals && this.isVerticesDataPresent(VertexBuffer.NormalKind) && vertex_data.normals) {\n      for (i = 0; i < vertex_data.normals.length; i++) {\n        vertex_data.normals[i] *= -1;\n      }\n    }\n    if (vertex_data.indices) {\n      var temp = void 0;\n      for (i = 0; i < vertex_data.indices.length; i += 3) {\n        temp = vertex_data.indices[i + 1];\n        vertex_data.indices[i + 1] = vertex_data.indices[i + 2];\n        vertex_data.indices[i + 2] = temp;\n      }\n    }\n    vertex_data.applyToMesh(this, this.isVertexBufferUpdatable(VertexBuffer.PositionKind));\n    return this;\n  };\n  Mesh2.prototype.increaseVertices = function(numberPerEdge) {\n    if (numberPerEdge === void 0) {\n      numberPerEdge = 1;\n    }\n    var vertex_data = VertexData.ExtractFromMesh(this);\n    var currentIndices = vertex_data.indices && !Array.isArray(vertex_data.indices) && Array.from ? Array.from(vertex_data.indices) : vertex_data.indices;\n    var positions = vertex_data.positions && !Array.isArray(vertex_data.positions) && Array.from ? Array.from(vertex_data.positions) : vertex_data.positions;\n    var uvs = vertex_data.uvs && !Array.isArray(vertex_data.uvs) && Array.from ? Array.from(vertex_data.uvs) : vertex_data.uvs;\n    var normals = vertex_data.normals && !Array.isArray(vertex_data.normals) && Array.from ? Array.from(vertex_data.normals) : vertex_data.normals;\n    if (!currentIndices || !positions) {\n      Logger.Warn(\"Couldn't increase number of vertices : VertexData must contain at least indices and positions\");\n    } else {\n      vertex_data.indices = currentIndices;\n      vertex_data.positions = positions;\n      if (uvs) {\n        vertex_data.uvs = uvs;\n      }\n      if (normals) {\n        vertex_data.normals = normals;\n      }\n      var segments = numberPerEdge + 1;\n      var tempIndices = new Array();\n      for (var i = 0; i < segments + 1; i++) {\n        tempIndices[i] = new Array();\n      }\n      var a = void 0;\n      var b = void 0;\n      var deltaPosition = new Vector3(0, 0, 0);\n      var deltaNormal = new Vector3(0, 0, 0);\n      var deltaUV = new Vector2(0, 0);\n      var indices = new Array();\n      var vertexIndex = new Array();\n      var side = new Array();\n      var len = void 0;\n      var positionPtr = positions.length;\n      var uvPtr = void 0;\n      if (uvs) {\n        uvPtr = uvs.length;\n      }\n      var normalsPtr = void 0;\n      if (normals) {\n        normalsPtr = normals.length;\n      }\n      for (var i = 0; i < currentIndices.length; i += 3) {\n        vertexIndex[0] = currentIndices[i];\n        vertexIndex[1] = currentIndices[i + 1];\n        vertexIndex[2] = currentIndices[i + 2];\n        for (var j = 0; j < 3; j++) {\n          a = vertexIndex[j];\n          b = vertexIndex[(j + 1) % 3];\n          if (side[a] === void 0 && side[b] === void 0) {\n            side[a] = new Array();\n            side[b] = new Array();\n          } else {\n            if (side[a] === void 0) {\n              side[a] = new Array();\n            }\n            if (side[b] === void 0) {\n              side[b] = new Array();\n            }\n          }\n          if (side[a][b] === void 0 && side[b][a] === void 0) {\n            side[a][b] = [];\n            deltaPosition.x = (positions[3 * b] - positions[3 * a]) / segments;\n            deltaPosition.y = (positions[3 * b + 1] - positions[3 * a + 1]) / segments;\n            deltaPosition.z = (positions[3 * b + 2] - positions[3 * a + 2]) / segments;\n            if (normals) {\n              deltaNormal.x = (normals[3 * b] - normals[3 * a]) / segments;\n              deltaNormal.y = (normals[3 * b + 1] - normals[3 * a + 1]) / segments;\n              deltaNormal.z = (normals[3 * b + 2] - normals[3 * a + 2]) / segments;\n            }\n            if (uvs) {\n              deltaUV.x = (uvs[2 * b] - uvs[2 * a]) / segments;\n              deltaUV.y = (uvs[2 * b + 1] - uvs[2 * a + 1]) / segments;\n            }\n            side[a][b].push(a);\n            for (var k = 1; k < segments; k++) {\n              side[a][b].push(positions.length / 3);\n              positions[positionPtr++] = positions[3 * a] + k * deltaPosition.x;\n              positions[positionPtr++] = positions[3 * a + 1] + k * deltaPosition.y;\n              positions[positionPtr++] = positions[3 * a + 2] + k * deltaPosition.z;\n              if (normals) {\n                normals[normalsPtr++] = normals[3 * a] + k * deltaNormal.x;\n                normals[normalsPtr++] = normals[3 * a + 1] + k * deltaNormal.y;\n                normals[normalsPtr++] = normals[3 * a + 2] + k * deltaNormal.z;\n              }\n              if (uvs) {\n                uvs[uvPtr++] = uvs[2 * a] + k * deltaUV.x;\n                uvs[uvPtr++] = uvs[2 * a + 1] + k * deltaUV.y;\n              }\n            }\n            side[a][b].push(b);\n            side[b][a] = new Array();\n            len = side[a][b].length;\n            for (var idx = 0; idx < len; idx++) {\n              side[b][a][idx] = side[a][b][len - 1 - idx];\n            }\n          }\n        }\n        tempIndices[0][0] = currentIndices[i];\n        tempIndices[1][0] = side[currentIndices[i]][currentIndices[i + 1]][1];\n        tempIndices[1][1] = side[currentIndices[i]][currentIndices[i + 2]][1];\n        for (var k = 2; k < segments; k++) {\n          tempIndices[k][0] = side[currentIndices[i]][currentIndices[i + 1]][k];\n          tempIndices[k][k] = side[currentIndices[i]][currentIndices[i + 2]][k];\n          deltaPosition.x = (positions[3 * tempIndices[k][k]] - positions[3 * tempIndices[k][0]]) / k;\n          deltaPosition.y = (positions[3 * tempIndices[k][k] + 1] - positions[3 * tempIndices[k][0] + 1]) / k;\n          deltaPosition.z = (positions[3 * tempIndices[k][k] + 2] - positions[3 * tempIndices[k][0] + 2]) / k;\n          if (normals) {\n            deltaNormal.x = (normals[3 * tempIndices[k][k]] - normals[3 * tempIndices[k][0]]) / k;\n            deltaNormal.y = (normals[3 * tempIndices[k][k] + 1] - normals[3 * tempIndices[k][0] + 1]) / k;\n            deltaNormal.z = (normals[3 * tempIndices[k][k] + 2] - normals[3 * tempIndices[k][0] + 2]) / k;\n          }\n          if (uvs) {\n            deltaUV.x = (uvs[2 * tempIndices[k][k]] - uvs[2 * tempIndices[k][0]]) / k;\n            deltaUV.y = (uvs[2 * tempIndices[k][k] + 1] - uvs[2 * tempIndices[k][0] + 1]) / k;\n          }\n          for (var j = 1; j < k; j++) {\n            tempIndices[k][j] = positions.length / 3;\n            positions[positionPtr++] = positions[3 * tempIndices[k][0]] + j * deltaPosition.x;\n            positions[positionPtr++] = positions[3 * tempIndices[k][0] + 1] + j * deltaPosition.y;\n            positions[positionPtr++] = positions[3 * tempIndices[k][0] + 2] + j * deltaPosition.z;\n            if (normals) {\n              normals[normalsPtr++] = normals[3 * tempIndices[k][0]] + j * deltaNormal.x;\n              normals[normalsPtr++] = normals[3 * tempIndices[k][0] + 1] + j * deltaNormal.y;\n              normals[normalsPtr++] = normals[3 * tempIndices[k][0] + 2] + j * deltaNormal.z;\n            }\n            if (uvs) {\n              uvs[uvPtr++] = uvs[2 * tempIndices[k][0]] + j * deltaUV.x;\n              uvs[uvPtr++] = uvs[2 * tempIndices[k][0] + 1] + j * deltaUV.y;\n            }\n          }\n        }\n        tempIndices[segments] = side[currentIndices[i + 1]][currentIndices[i + 2]];\n        indices.push(tempIndices[0][0], tempIndices[1][0], tempIndices[1][1]);\n        for (var k = 1; k < segments; k++) {\n          var j = void 0;\n          for (j = 0; j < k; j++) {\n            indices.push(tempIndices[k][j], tempIndices[k + 1][j], tempIndices[k + 1][j + 1]);\n            indices.push(tempIndices[k][j], tempIndices[k + 1][j + 1], tempIndices[k][j + 1]);\n          }\n          indices.push(tempIndices[k][j], tempIndices[k + 1][j], tempIndices[k + 1][j + 1]);\n        }\n      }\n      vertex_data.indices = indices;\n      vertex_data.applyToMesh(this, this.isVertexBufferUpdatable(VertexBuffer.PositionKind));\n    }\n  };\n  Mesh2.prototype.forceSharedVertices = function() {\n    var vertex_data = VertexData.ExtractFromMesh(this);\n    var currentUVs = vertex_data.uvs;\n    var currentIndices = vertex_data.indices;\n    var currentPositions = vertex_data.positions;\n    var currentColors = vertex_data.colors;\n    if (currentIndices === void 0 || currentPositions === void 0 || currentIndices === null || currentPositions === null) {\n      Logger.Warn(\"VertexData contains empty entries\");\n    } else {\n      var positions = new Array();\n      var indices = new Array();\n      var uvs = new Array();\n      var colors = new Array();\n      var pstring = new Array();\n      var indexPtr = 0;\n      var uniquePositions = {};\n      var ptr = void 0;\n      var facet = void 0;\n      for (var i = 0; i < currentIndices.length; i += 3) {\n        facet = [currentIndices[i], currentIndices[i + 1], currentIndices[i + 2]];\n        pstring = new Array();\n        for (var j = 0; j < 3; j++) {\n          pstring[j] = \"\";\n          for (var k = 0; k < 3; k++) {\n            if (Math.abs(currentPositions[3 * facet[j] + k]) < 1e-8) {\n              currentPositions[3 * facet[j] + k] = 0;\n            }\n            pstring[j] += currentPositions[3 * facet[j] + k] + \"|\";\n          }\n        }\n        if (!(pstring[0] == pstring[1] || pstring[0] == pstring[2] || pstring[1] == pstring[2])) {\n          for (var j = 0; j < 3; j++) {\n            ptr = uniquePositions[pstring[j]];\n            if (ptr === void 0) {\n              uniquePositions[pstring[j]] = indexPtr;\n              ptr = indexPtr++;\n              for (var k = 0; k < 3; k++) {\n                positions.push(currentPositions[3 * facet[j] + k]);\n              }\n              if (currentColors !== null && currentColors !== void 0) {\n                for (var k = 0; k < 4; k++) {\n                  colors.push(currentColors[4 * facet[j] + k]);\n                }\n              }\n              if (currentUVs !== null && currentUVs !== void 0) {\n                for (var k = 0; k < 2; k++) {\n                  uvs.push(currentUVs[2 * facet[j] + k]);\n                }\n              }\n            }\n            indices.push(ptr);\n          }\n        }\n      }\n      var normals = new Array();\n      VertexData.ComputeNormals(positions, indices, normals);\n      vertex_data.positions = positions;\n      vertex_data.indices = indices;\n      vertex_data.normals = normals;\n      if (currentUVs !== null && currentUVs !== void 0) {\n        vertex_data.uvs = uvs;\n      }\n      if (currentColors !== null && currentColors !== void 0) {\n        vertex_data.colors = colors;\n      }\n      vertex_data.applyToMesh(this, this.isVertexBufferUpdatable(VertexBuffer.PositionKind));\n    }\n  };\n  Mesh2._instancedMeshFactory = function(name2, mesh) {\n    throw _WarnImport(\"InstancedMesh\");\n  };\n  Mesh2._PhysicsImpostorParser = function(scene, physicObject, jsonObject) {\n    throw _WarnImport(\"PhysicsImpostor\");\n  };\n  Mesh2.prototype.createInstance = function(name2) {\n    return Mesh2._instancedMeshFactory(name2, this);\n  };\n  Mesh2.prototype.synchronizeInstances = function() {\n    for (var instanceIndex = 0; instanceIndex < this.instances.length; instanceIndex++) {\n      var instance = this.instances[instanceIndex];\n      instance._syncSubMeshes();\n    }\n    return this;\n  };\n  Mesh2.prototype.optimizeIndices = function(successCallback) {\n    var _this = this;\n    var indices = this.getIndices();\n    var positions = this.getVerticesData(VertexBuffer.PositionKind);\n    if (!positions || !indices) {\n      return this;\n    }\n    var vectorPositions = new Array();\n    for (var pos = 0; pos < positions.length; pos = pos + 3) {\n      vectorPositions.push(Vector3.FromArray(positions, pos));\n    }\n    var dupes = new Array();\n    AsyncLoop.SyncAsyncForLoop(vectorPositions.length, 40, function(iteration) {\n      var realPos = vectorPositions.length - 1 - iteration;\n      var testedPosition = vectorPositions[realPos];\n      for (var j = 0; j < realPos; ++j) {\n        var againstPosition = vectorPositions[j];\n        if (testedPosition.equals(againstPosition)) {\n          dupes[realPos] = j;\n          break;\n        }\n      }\n    }, function() {\n      for (var i = 0; i < indices.length; ++i) {\n        indices[i] = dupes[indices[i]] || indices[i];\n      }\n      var originalSubMeshes = _this.subMeshes.slice(0);\n      _this.setIndices(indices);\n      _this.subMeshes = originalSubMeshes;\n      if (successCallback) {\n        successCallback(_this);\n      }\n    });\n    return this;\n  };\n  Mesh2.prototype.serialize = function(serializationObject) {\n    serializationObject.name = this.name;\n    serializationObject.id = this.id;\n    serializationObject.uniqueId = this.uniqueId;\n    serializationObject.type = this.getClassName();\n    if (Tags && Tags.HasTags(this)) {\n      serializationObject.tags = Tags.GetTags(this);\n    }\n    serializationObject.position = this.position.asArray();\n    if (this.rotationQuaternion) {\n      serializationObject.rotationQuaternion = this.rotationQuaternion.asArray();\n    } else if (this.rotation) {\n      serializationObject.rotation = this.rotation.asArray();\n    }\n    serializationObject.scaling = this.scaling.asArray();\n    if (this._postMultiplyPivotMatrix) {\n      serializationObject.pivotMatrix = this.getPivotMatrix().asArray();\n    } else {\n      serializationObject.localMatrix = this.getPivotMatrix().asArray();\n    }\n    serializationObject.isEnabled = this.isEnabled(false);\n    serializationObject.isVisible = this.isVisible;\n    serializationObject.infiniteDistance = this.infiniteDistance;\n    serializationObject.pickable = this.isPickable;\n    serializationObject.receiveShadows = this.receiveShadows;\n    serializationObject.billboardMode = this.billboardMode;\n    serializationObject.visibility = this.visibility;\n    serializationObject.checkCollisions = this.checkCollisions;\n    serializationObject.isBlocker = this.isBlocker;\n    serializationObject.overrideMaterialSideOrientation = this.overrideMaterialSideOrientation;\n    if (this.parent) {\n      serializationObject.parentId = this.parent.uniqueId;\n    }\n    serializationObject.isUnIndexed = this.isUnIndexed;\n    var geometry = this._geometry;\n    if (geometry && this.subMeshes) {\n      serializationObject.geometryUniqueId = geometry.uniqueId;\n      serializationObject.geometryId = geometry.id;\n      serializationObject.subMeshes = [];\n      for (var subIndex = 0; subIndex < this.subMeshes.length; subIndex++) {\n        var subMesh = this.subMeshes[subIndex];\n        serializationObject.subMeshes.push({\n          materialIndex: subMesh.materialIndex,\n          verticesStart: subMesh.verticesStart,\n          verticesCount: subMesh.verticesCount,\n          indexStart: subMesh.indexStart,\n          indexCount: subMesh.indexCount\n        });\n      }\n    }\n    if (this.material) {\n      if (!this.material.doNotSerialize) {\n        serializationObject.materialUniqueId = this.material.uniqueId;\n        serializationObject.materialId = this.material.id;\n      }\n    } else {\n      this.material = null;\n      serializationObject.materialUniqueId = this._scene.defaultMaterial.uniqueId;\n      serializationObject.materialId = this._scene.defaultMaterial.id;\n    }\n    if (this.morphTargetManager) {\n      serializationObject.morphTargetManagerId = this.morphTargetManager.uniqueId;\n    }\n    if (this.skeleton) {\n      serializationObject.skeletonId = this.skeleton.id;\n      serializationObject.numBoneInfluencers = this.numBoneInfluencers;\n    }\n    if (this.getScene()._getComponent(SceneComponentConstants.NAME_PHYSICSENGINE)) {\n      var impostor = this.getPhysicsImpostor();\n      if (impostor) {\n        serializationObject.physicsMass = impostor.getParam(\"mass\");\n        serializationObject.physicsFriction = impostor.getParam(\"friction\");\n        serializationObject.physicsRestitution = impostor.getParam(\"mass\");\n        serializationObject.physicsImpostor = impostor.type;\n      }\n    }\n    if (this.metadata) {\n      serializationObject.metadata = this.metadata;\n    }\n    serializationObject.instances = [];\n    for (var index = 0; index < this.instances.length; index++) {\n      var instance = this.instances[index];\n      if (instance.doNotSerialize) {\n        continue;\n      }\n      var serializationInstance = {\n        name: instance.name,\n        id: instance.id,\n        isEnabled: instance.isEnabled(false),\n        isVisible: instance.isVisible,\n        isPickable: instance.isPickable,\n        checkCollisions: instance.checkCollisions,\n        position: instance.position.asArray(),\n        scaling: instance.scaling.asArray()\n      };\n      if (instance.parent) {\n        serializationInstance.parentId = instance.parent.uniqueId;\n      }\n      if (instance.rotationQuaternion) {\n        serializationInstance.rotationQuaternion = instance.rotationQuaternion.asArray();\n      } else if (instance.rotation) {\n        serializationInstance.rotation = instance.rotation.asArray();\n      }\n      if (this.getScene()._getComponent(SceneComponentConstants.NAME_PHYSICSENGINE)) {\n        var impostor = instance.getPhysicsImpostor();\n        if (impostor) {\n          serializationInstance.physicsMass = impostor.getParam(\"mass\");\n          serializationInstance.physicsFriction = impostor.getParam(\"friction\");\n          serializationInstance.physicsRestitution = impostor.getParam(\"mass\");\n          serializationInstance.physicsImpostor = impostor.type;\n        }\n      }\n      if (instance.metadata) {\n        serializationInstance.metadata = instance.metadata;\n      }\n      serializationObject.instances.push(serializationInstance);\n      SerializationHelper.AppendSerializedAnimations(instance, serializationInstance);\n      serializationInstance.ranges = instance.serializeAnimationRanges();\n    }\n    if (this._thinInstanceDataStorage.instancesCount && this._thinInstanceDataStorage.matrixData) {\n      serializationObject.thinInstances = {\n        instancesCount: this._thinInstanceDataStorage.instancesCount,\n        matrixData: Array.from(this._thinInstanceDataStorage.matrixData),\n        matrixBufferSize: this._thinInstanceDataStorage.matrixBufferSize,\n        enablePicking: this.thinInstanceEnablePicking\n      };\n      if (this._userThinInstanceBuffersStorage) {\n        var userThinInstance = {\n          data: {},\n          sizes: {},\n          strides: {}\n        };\n        for (var kind in this._userThinInstanceBuffersStorage.data) {\n          userThinInstance.data[kind] = Array.from(this._userThinInstanceBuffersStorage.data[kind]);\n          userThinInstance.sizes[kind] = this._userThinInstanceBuffersStorage.sizes[kind];\n          userThinInstance.strides[kind] = this._userThinInstanceBuffersStorage.strides[kind];\n        }\n        serializationObject.thinInstances.userThinInstance = userThinInstance;\n      }\n    }\n    SerializationHelper.AppendSerializedAnimations(this, serializationObject);\n    serializationObject.ranges = this.serializeAnimationRanges();\n    serializationObject.layerMask = this.layerMask;\n    serializationObject.alphaIndex = this.alphaIndex;\n    serializationObject.hasVertexAlpha = this.hasVertexAlpha;\n    serializationObject.overlayAlpha = this.overlayAlpha;\n    serializationObject.overlayColor = this.overlayColor.asArray();\n    serializationObject.renderOverlay = this.renderOverlay;\n    serializationObject.applyFog = this.applyFog;\n    if (this.actionManager) {\n      serializationObject.actions = this.actionManager.serialize(this.name);\n    }\n  };\n  Mesh2.prototype._syncGeometryWithMorphTargetManager = function() {\n    if (!this.geometry) {\n      return;\n    }\n    this._markSubMeshesAsAttributesDirty();\n    var morphTargetManager = this._internalAbstractMeshDataInfo._morphTargetManager;\n    if (morphTargetManager && morphTargetManager.vertexCount) {\n      if (morphTargetManager.vertexCount !== this.getTotalVertices()) {\n        Logger.Error(\"Mesh is incompatible with morph targets. Targets and mesh must all have the same vertices count.\");\n        this.morphTargetManager = null;\n        return;\n      }\n      if (morphTargetManager.isUsingTextureForTargets) {\n        return;\n      }\n      for (var index = 0; index < morphTargetManager.numInfluencers; index++) {\n        var morphTarget = morphTargetManager.getActiveTarget(index);\n        var positions = morphTarget.getPositions();\n        if (!positions) {\n          Logger.Error(\"Invalid morph target. Target must have positions.\");\n          return;\n        }\n        this.geometry.setVerticesData(VertexBuffer.PositionKind + index, positions, false, 3);\n        var normals = morphTarget.getNormals();\n        if (normals) {\n          this.geometry.setVerticesData(VertexBuffer.NormalKind + index, normals, false, 3);\n        }\n        var tangents = morphTarget.getTangents();\n        if (tangents) {\n          this.geometry.setVerticesData(VertexBuffer.TangentKind + index, tangents, false, 3);\n        }\n        var uvs = morphTarget.getUVs();\n        if (uvs) {\n          this.geometry.setVerticesData(VertexBuffer.UVKind + \"_\" + index, uvs, false, 2);\n        }\n      }\n    } else {\n      var index = 0;\n      while (this.geometry.isVerticesDataPresent(VertexBuffer.PositionKind + index)) {\n        this.geometry.removeVerticesData(VertexBuffer.PositionKind + index);\n        if (this.geometry.isVerticesDataPresent(VertexBuffer.NormalKind + index)) {\n          this.geometry.removeVerticesData(VertexBuffer.NormalKind + index);\n        }\n        if (this.geometry.isVerticesDataPresent(VertexBuffer.TangentKind + index)) {\n          this.geometry.removeVerticesData(VertexBuffer.TangentKind + index);\n        }\n        if (this.geometry.isVerticesDataPresent(VertexBuffer.UVKind + index)) {\n          this.geometry.removeVerticesData(VertexBuffer.UVKind + \"_\" + index);\n        }\n        index++;\n      }\n    }\n  };\n  Mesh2.Parse = function(parsedMesh, scene, rootUrl) {\n    var mesh;\n    if (parsedMesh.type && parsedMesh.type === \"LinesMesh\") {\n      mesh = Mesh2._LinesMeshParser(parsedMesh, scene);\n    } else if (parsedMesh.type && parsedMesh.type === \"GroundMesh\") {\n      mesh = Mesh2._GroundMeshParser(parsedMesh, scene);\n    } else if (parsedMesh.type && parsedMesh.type === \"GoldbergMesh\") {\n      mesh = Mesh2._GoldbergMeshParser(parsedMesh, scene);\n    } else {\n      mesh = new Mesh2(parsedMesh.name, scene);\n    }\n    mesh.id = parsedMesh.id;\n    if (Tags) {\n      Tags.AddTagsTo(mesh, parsedMesh.tags);\n    }\n    mesh.position = Vector3.FromArray(parsedMesh.position);\n    if (parsedMesh.metadata !== void 0) {\n      mesh.metadata = parsedMesh.metadata;\n    }\n    if (parsedMesh.rotationQuaternion) {\n      mesh.rotationQuaternion = Quaternion.FromArray(parsedMesh.rotationQuaternion);\n    } else if (parsedMesh.rotation) {\n      mesh.rotation = Vector3.FromArray(parsedMesh.rotation);\n    }\n    mesh.scaling = Vector3.FromArray(parsedMesh.scaling);\n    if (parsedMesh.localMatrix) {\n      mesh.setPreTransformMatrix(Matrix.FromArray(parsedMesh.localMatrix));\n    } else if (parsedMesh.pivotMatrix) {\n      mesh.setPivotMatrix(Matrix.FromArray(parsedMesh.pivotMatrix));\n    }\n    mesh.setEnabled(parsedMesh.isEnabled);\n    mesh.isVisible = parsedMesh.isVisible;\n    mesh.infiniteDistance = parsedMesh.infiniteDistance;\n    mesh.showBoundingBox = parsedMesh.showBoundingBox;\n    mesh.showSubMeshesBoundingBox = parsedMesh.showSubMeshesBoundingBox;\n    if (parsedMesh.applyFog !== void 0) {\n      mesh.applyFog = parsedMesh.applyFog;\n    }\n    if (parsedMesh.pickable !== void 0) {\n      mesh.isPickable = parsedMesh.pickable;\n    }\n    if (parsedMesh.alphaIndex !== void 0) {\n      mesh.alphaIndex = parsedMesh.alphaIndex;\n    }\n    mesh.receiveShadows = parsedMesh.receiveShadows;\n    mesh.billboardMode = parsedMesh.billboardMode;\n    if (parsedMesh.visibility !== void 0) {\n      mesh.visibility = parsedMesh.visibility;\n    }\n    mesh.checkCollisions = parsedMesh.checkCollisions;\n    mesh.overrideMaterialSideOrientation = parsedMesh.overrideMaterialSideOrientation;\n    if (parsedMesh.isBlocker !== void 0) {\n      mesh.isBlocker = parsedMesh.isBlocker;\n    }\n    mesh._shouldGenerateFlatShading = parsedMesh.useFlatShading;\n    if (parsedMesh.freezeWorldMatrix) {\n      mesh._waitingData.freezeWorldMatrix = parsedMesh.freezeWorldMatrix;\n    }\n    if (parsedMesh.parentId !== void 0) {\n      mesh._waitingParentId = parsedMesh.parentId;\n    }\n    if (parsedMesh.actions !== void 0) {\n      mesh._waitingData.actions = parsedMesh.actions;\n    }\n    if (parsedMesh.overlayAlpha !== void 0) {\n      mesh.overlayAlpha = parsedMesh.overlayAlpha;\n    }\n    if (parsedMesh.overlayColor !== void 0) {\n      mesh.overlayColor = Color3.FromArray(parsedMesh.overlayColor);\n    }\n    if (parsedMesh.renderOverlay !== void 0) {\n      mesh.renderOverlay = parsedMesh.renderOverlay;\n    }\n    mesh.isUnIndexed = !!parsedMesh.isUnIndexed;\n    mesh.hasVertexAlpha = parsedMesh.hasVertexAlpha;\n    if (parsedMesh.delayLoadingFile) {\n      mesh.delayLoadState = 4;\n      mesh.delayLoadingFile = rootUrl + parsedMesh.delayLoadingFile;\n      mesh.buildBoundingInfo(Vector3.FromArray(parsedMesh.boundingBoxMinimum), Vector3.FromArray(parsedMesh.boundingBoxMaximum));\n      if (parsedMesh._binaryInfo) {\n        mesh._binaryInfo = parsedMesh._binaryInfo;\n      }\n      mesh._delayInfo = [];\n      if (parsedMesh.hasUVs) {\n        mesh._delayInfo.push(VertexBuffer.UVKind);\n      }\n      if (parsedMesh.hasUVs2) {\n        mesh._delayInfo.push(VertexBuffer.UV2Kind);\n      }\n      if (parsedMesh.hasUVs3) {\n        mesh._delayInfo.push(VertexBuffer.UV3Kind);\n      }\n      if (parsedMesh.hasUVs4) {\n        mesh._delayInfo.push(VertexBuffer.UV4Kind);\n      }\n      if (parsedMesh.hasUVs5) {\n        mesh._delayInfo.push(VertexBuffer.UV5Kind);\n      }\n      if (parsedMesh.hasUVs6) {\n        mesh._delayInfo.push(VertexBuffer.UV6Kind);\n      }\n      if (parsedMesh.hasColors) {\n        mesh._delayInfo.push(VertexBuffer.ColorKind);\n      }\n      if (parsedMesh.hasMatricesIndices) {\n        mesh._delayInfo.push(VertexBuffer.MatricesIndicesKind);\n      }\n      if (parsedMesh.hasMatricesWeights) {\n        mesh._delayInfo.push(VertexBuffer.MatricesWeightsKind);\n      }\n      mesh._delayLoadingFunction = Geometry._ImportGeometry;\n      if (SceneLoaderFlags.ForceFullSceneLoadingForIncremental) {\n        mesh._checkDelayState();\n      }\n    } else {\n      Geometry._ImportGeometry(parsedMesh, mesh);\n    }\n    if (parsedMesh.materialUniqueId) {\n      mesh._waitingMaterialId = parsedMesh.materialUniqueId;\n    } else if (parsedMesh.materialId) {\n      mesh._waitingMaterialId = parsedMesh.materialId;\n    }\n    if (parsedMesh.morphTargetManagerId > -1) {\n      mesh.morphTargetManager = scene.getMorphTargetManagerById(parsedMesh.morphTargetManagerId);\n    }\n    if (parsedMesh.skeletonId !== void 0 && parsedMesh.skeletonId !== null) {\n      mesh.skeleton = scene.getLastSkeletonById(parsedMesh.skeletonId);\n      if (parsedMesh.numBoneInfluencers) {\n        mesh.numBoneInfluencers = parsedMesh.numBoneInfluencers;\n      }\n    }\n    if (parsedMesh.animations) {\n      for (var animationIndex = 0; animationIndex < parsedMesh.animations.length; animationIndex++) {\n        var parsedAnimation = parsedMesh.animations[animationIndex];\n        var internalClass = GetClass(\"BABYLON.Animation\");\n        if (internalClass) {\n          mesh.animations.push(internalClass.Parse(parsedAnimation));\n        }\n      }\n      Node.ParseAnimationRanges(mesh, parsedMesh, scene);\n    }\n    if (parsedMesh.autoAnimate) {\n      scene.beginAnimation(mesh, parsedMesh.autoAnimateFrom, parsedMesh.autoAnimateTo, parsedMesh.autoAnimateLoop, parsedMesh.autoAnimateSpeed || 1);\n    }\n    if (parsedMesh.layerMask && !isNaN(parsedMesh.layerMask)) {\n      mesh.layerMask = Math.abs(parseInt(parsedMesh.layerMask));\n    } else {\n      mesh.layerMask = 268435455;\n    }\n    if (parsedMesh.physicsImpostor) {\n      Mesh2._PhysicsImpostorParser(scene, mesh, parsedMesh);\n    }\n    if (parsedMesh.lodMeshIds) {\n      mesh._waitingData.lods = {\n        ids: parsedMesh.lodMeshIds,\n        distances: parsedMesh.lodDistances ? parsedMesh.lodDistances : null,\n        coverages: parsedMesh.lodCoverages ? parsedMesh.lodCoverages : null\n      };\n    }\n    if (parsedMesh.instances) {\n      for (var index = 0; index < parsedMesh.instances.length; index++) {\n        var parsedInstance = parsedMesh.instances[index];\n        var instance = mesh.createInstance(parsedInstance.name);\n        if (parsedInstance.id) {\n          instance.id = parsedInstance.id;\n        }\n        if (Tags) {\n          if (parsedInstance.tags) {\n            Tags.AddTagsTo(instance, parsedInstance.tags);\n          } else {\n            Tags.AddTagsTo(instance, parsedMesh.tags);\n          }\n        }\n        instance.position = Vector3.FromArray(parsedInstance.position);\n        if (parsedInstance.metadata !== void 0) {\n          instance.metadata = parsedInstance.metadata;\n        }\n        if (parsedInstance.parentId !== void 0) {\n          instance._waitingParentId = parsedInstance.parentId;\n        }\n        if (parsedInstance.isEnabled !== void 0 && parsedInstance.isEnabled !== null) {\n          instance.setEnabled(parsedInstance.isEnabled);\n        }\n        if (parsedInstance.isVisible !== void 0 && parsedInstance.isVisible !== null) {\n          instance.isVisible = parsedInstance.isVisible;\n        }\n        if (parsedInstance.isPickable !== void 0 && parsedInstance.isPickable !== null) {\n          instance.isPickable = parsedInstance.isPickable;\n        }\n        if (parsedInstance.rotationQuaternion) {\n          instance.rotationQuaternion = Quaternion.FromArray(parsedInstance.rotationQuaternion);\n        } else if (parsedInstance.rotation) {\n          instance.rotation = Vector3.FromArray(parsedInstance.rotation);\n        }\n        instance.scaling = Vector3.FromArray(parsedInstance.scaling);\n        if (parsedInstance.checkCollisions != void 0 && parsedInstance.checkCollisions != null) {\n          instance.checkCollisions = parsedInstance.checkCollisions;\n        }\n        if (parsedInstance.pickable != void 0 && parsedInstance.pickable != null) {\n          instance.isPickable = parsedInstance.pickable;\n        }\n        if (parsedInstance.showBoundingBox != void 0 && parsedInstance.showBoundingBox != null) {\n          instance.showBoundingBox = parsedInstance.showBoundingBox;\n        }\n        if (parsedInstance.showSubMeshesBoundingBox != void 0 && parsedInstance.showSubMeshesBoundingBox != null) {\n          instance.showSubMeshesBoundingBox = parsedInstance.showSubMeshesBoundingBox;\n        }\n        if (parsedInstance.alphaIndex != void 0 && parsedInstance.showSubMeshesBoundingBox != null) {\n          instance.alphaIndex = parsedInstance.alphaIndex;\n        }\n        if (parsedInstance.physicsImpostor) {\n          Mesh2._PhysicsImpostorParser(scene, instance, parsedInstance);\n        }\n        if (parsedInstance.animations) {\n          for (var animationIndex = 0; animationIndex < parsedInstance.animations.length; animationIndex++) {\n            var parsedAnimation = parsedInstance.animations[animationIndex];\n            var internalClass = GetClass(\"BABYLON.Animation\");\n            if (internalClass) {\n              instance.animations.push(internalClass.Parse(parsedAnimation));\n            }\n          }\n          Node.ParseAnimationRanges(instance, parsedInstance, scene);\n          if (parsedInstance.autoAnimate) {\n            scene.beginAnimation(instance, parsedInstance.autoAnimateFrom, parsedInstance.autoAnimateTo, parsedInstance.autoAnimateLoop, parsedInstance.autoAnimateSpeed || 1);\n          }\n        }\n      }\n    }\n    if (parsedMesh.thinInstances) {\n      var thinInstances = parsedMesh.thinInstances;\n      mesh.thinInstanceEnablePicking = !!thinInstances.enablePicking;\n      if (thinInstances.matrixData) {\n        mesh.thinInstanceSetBuffer(\"matrix\", new Float32Array(thinInstances.matrixData), 16, false);\n        mesh._thinInstanceDataStorage.matrixBufferSize = thinInstances.matrixBufferSize;\n        mesh._thinInstanceDataStorage.instancesCount = thinInstances.instancesCount;\n      } else {\n        mesh._thinInstanceDataStorage.matrixBufferSize = thinInstances.matrixBufferSize;\n      }\n      if (parsedMesh.thinInstances.userThinInstance) {\n        var userThinInstance = parsedMesh.thinInstances.userThinInstance;\n        for (var kind in userThinInstance.data) {\n          mesh.thinInstanceSetBuffer(kind, new Float32Array(userThinInstance.data[kind]), userThinInstance.strides[kind], false);\n          mesh._userThinInstanceBuffersStorage.sizes[kind] = userThinInstance.sizes[kind];\n        }\n      }\n    }\n    return mesh;\n  };\n  Mesh2.prototype.setPositionsForCPUSkinning = function() {\n    var internalDataInfo = this._internalMeshDataInfo;\n    if (!internalDataInfo._sourcePositions) {\n      var source = this.getVerticesData(VertexBuffer.PositionKind);\n      if (!source) {\n        return internalDataInfo._sourcePositions;\n      }\n      internalDataInfo._sourcePositions = new Float32Array(source);\n      if (!this.isVertexBufferUpdatable(VertexBuffer.PositionKind)) {\n        this.setVerticesData(VertexBuffer.PositionKind, source, true);\n      }\n    }\n    return internalDataInfo._sourcePositions;\n  };\n  Mesh2.prototype.setNormalsForCPUSkinning = function() {\n    var internalDataInfo = this._internalMeshDataInfo;\n    if (!internalDataInfo._sourceNormals) {\n      var source = this.getVerticesData(VertexBuffer.NormalKind);\n      if (!source) {\n        return internalDataInfo._sourceNormals;\n      }\n      internalDataInfo._sourceNormals = new Float32Array(source);\n      if (!this.isVertexBufferUpdatable(VertexBuffer.NormalKind)) {\n        this.setVerticesData(VertexBuffer.NormalKind, source, true);\n      }\n    }\n    return internalDataInfo._sourceNormals;\n  };\n  Mesh2.prototype.applySkeleton = function(skeleton) {\n    if (!this.geometry) {\n      return this;\n    }\n    if (this.geometry._softwareSkinningFrameId == this.getScene().getFrameId()) {\n      return this;\n    }\n    this.geometry._softwareSkinningFrameId = this.getScene().getFrameId();\n    if (!this.isVerticesDataPresent(VertexBuffer.PositionKind)) {\n      return this;\n    }\n    if (!this.isVerticesDataPresent(VertexBuffer.MatricesIndicesKind)) {\n      return this;\n    }\n    if (!this.isVerticesDataPresent(VertexBuffer.MatricesWeightsKind)) {\n      return this;\n    }\n    var hasNormals = this.isVerticesDataPresent(VertexBuffer.NormalKind);\n    var internalDataInfo = this._internalMeshDataInfo;\n    if (!internalDataInfo._sourcePositions) {\n      var submeshes = this.subMeshes.slice();\n      this.setPositionsForCPUSkinning();\n      this.subMeshes = submeshes;\n    }\n    if (hasNormals && !internalDataInfo._sourceNormals) {\n      this.setNormalsForCPUSkinning();\n    }\n    var positionsData = this.getVerticesData(VertexBuffer.PositionKind);\n    if (!positionsData) {\n      return this;\n    }\n    if (!(positionsData instanceof Float32Array)) {\n      positionsData = new Float32Array(positionsData);\n    }\n    var normalsData = this.getVerticesData(VertexBuffer.NormalKind);\n    if (hasNormals) {\n      if (!normalsData) {\n        return this;\n      }\n      if (!(normalsData instanceof Float32Array)) {\n        normalsData = new Float32Array(normalsData);\n      }\n    }\n    var matricesIndicesData = this.getVerticesData(VertexBuffer.MatricesIndicesKind);\n    var matricesWeightsData = this.getVerticesData(VertexBuffer.MatricesWeightsKind);\n    if (!matricesWeightsData || !matricesIndicesData) {\n      return this;\n    }\n    var needExtras = this.numBoneInfluencers > 4;\n    var matricesIndicesExtraData = needExtras ? this.getVerticesData(VertexBuffer.MatricesIndicesExtraKind) : null;\n    var matricesWeightsExtraData = needExtras ? this.getVerticesData(VertexBuffer.MatricesWeightsExtraKind) : null;\n    var skeletonMatrices = skeleton.getTransformMatrices(this);\n    var tempVector3 = Vector3.Zero();\n    var finalMatrix = new Matrix();\n    var tempMatrix = new Matrix();\n    var matWeightIdx = 0;\n    var inf;\n    for (var index = 0; index < positionsData.length; index += 3, matWeightIdx += 4) {\n      var weight = void 0;\n      for (inf = 0; inf < 4; inf++) {\n        weight = matricesWeightsData[matWeightIdx + inf];\n        if (weight > 0) {\n          Matrix.FromFloat32ArrayToRefScaled(skeletonMatrices, Math.floor(matricesIndicesData[matWeightIdx + inf] * 16), weight, tempMatrix);\n          finalMatrix.addToSelf(tempMatrix);\n        }\n      }\n      if (needExtras) {\n        for (inf = 0; inf < 4; inf++) {\n          weight = matricesWeightsExtraData[matWeightIdx + inf];\n          if (weight > 0) {\n            Matrix.FromFloat32ArrayToRefScaled(skeletonMatrices, Math.floor(matricesIndicesExtraData[matWeightIdx + inf] * 16), weight, tempMatrix);\n            finalMatrix.addToSelf(tempMatrix);\n          }\n        }\n      }\n      Vector3.TransformCoordinatesFromFloatsToRef(internalDataInfo._sourcePositions[index], internalDataInfo._sourcePositions[index + 1], internalDataInfo._sourcePositions[index + 2], finalMatrix, tempVector3);\n      tempVector3.toArray(positionsData, index);\n      if (hasNormals) {\n        Vector3.TransformNormalFromFloatsToRef(internalDataInfo._sourceNormals[index], internalDataInfo._sourceNormals[index + 1], internalDataInfo._sourceNormals[index + 2], finalMatrix, tempVector3);\n        tempVector3.toArray(normalsData, index);\n      }\n      finalMatrix.reset();\n    }\n    this.updateVerticesData(VertexBuffer.PositionKind, positionsData);\n    if (hasNormals) {\n      this.updateVerticesData(VertexBuffer.NormalKind, normalsData);\n    }\n    return this;\n  };\n  Mesh2.MinMax = function(meshes) {\n    var minVector = null;\n    var maxVector = null;\n    meshes.forEach(function(mesh) {\n      var boundingInfo = mesh.getBoundingInfo();\n      var boundingBox = boundingInfo.boundingBox;\n      if (!minVector || !maxVector) {\n        minVector = boundingBox.minimumWorld;\n        maxVector = boundingBox.maximumWorld;\n      } else {\n        minVector.minimizeInPlace(boundingBox.minimumWorld);\n        maxVector.maximizeInPlace(boundingBox.maximumWorld);\n      }\n    });\n    if (!minVector || !maxVector) {\n      return {\n        min: Vector3.Zero(),\n        max: Vector3.Zero()\n      };\n    }\n    return {\n      min: minVector,\n      max: maxVector\n    };\n  };\n  Mesh2.Center = function(meshesOrMinMaxVector) {\n    var minMaxVector = meshesOrMinMaxVector instanceof Array ? Mesh2.MinMax(meshesOrMinMaxVector) : meshesOrMinMaxVector;\n    return Vector3.Center(minMaxVector.min, minMaxVector.max);\n  };\n  Mesh2.MergeMeshes = function(meshes, disposeSource, allow32BitsIndices, meshSubclass, subdivideWithSubMeshes, multiMultiMaterials) {\n    if (disposeSource === void 0) {\n      disposeSource = true;\n    }\n    return runCoroutineSync(Mesh2._MergeMeshesCoroutine(meshes, disposeSource, allow32BitsIndices, meshSubclass, subdivideWithSubMeshes, multiMultiMaterials, false));\n  };\n  Mesh2.MergeMeshesAsync = function(meshes, disposeSource, allow32BitsIndices, meshSubclass, subdivideWithSubMeshes, multiMultiMaterials) {\n    if (disposeSource === void 0) {\n      disposeSource = true;\n    }\n    return runCoroutineAsync(Mesh2._MergeMeshesCoroutine(meshes, disposeSource, allow32BitsIndices, meshSubclass, subdivideWithSubMeshes, multiMultiMaterials, true), createYieldingScheduler());\n  };\n  Mesh2._MergeMeshesCoroutine = function(meshes, disposeSource, allow32BitsIndices, meshSubclass, subdivideWithSubMeshes, multiMultiMaterials, isAsync) {\n    var index, totalVertices, materialArray, materialIndexArray, indiceArray, currentOverrideMaterialSideOrientation, mesh, material, matIndex, subIndex, subIndex, subIndex, source, getVertexDataFromMesh, _a, sourceVertexData, sourceTransform, meshVertexDatas, i, mergeCoroutine, mergeCoroutineStep, vertexData, applyToCoroutine, applyToCoroutineStep, offset, _i, _b, subMesh, newMultiMaterial, subIndex;\n    if (disposeSource === void 0) {\n      disposeSource = true;\n    }\n    return __generator(this, function(_c) {\n      switch (_c.label) {\n        case 0:\n          meshes = meshes.filter(Boolean);\n          if (meshes.length === 0) {\n            return [2, null];\n          }\n          if (!allow32BitsIndices) {\n            totalVertices = 0;\n            for (index = 0; index < meshes.length; index++) {\n              totalVertices += meshes[index].getTotalVertices();\n              if (totalVertices >= 65536) {\n                Logger.Warn(\"Cannot merge meshes because resulting mesh will have more than 65536 vertices. Please use allow32BitsIndices = true to use 32 bits indices\");\n                return [2, null];\n              }\n            }\n          }\n          if (multiMultiMaterials) {\n            subdivideWithSubMeshes = false;\n          }\n          materialArray = new Array();\n          materialIndexArray = new Array();\n          indiceArray = new Array();\n          currentOverrideMaterialSideOrientation = meshes[0].overrideMaterialSideOrientation;\n          for (index = 0; index < meshes.length; index++) {\n            mesh = meshes[index];\n            if (mesh.isAnInstance) {\n              Logger.Warn(\"Cannot merge instance meshes.\");\n              return [2, null];\n            }\n            if (currentOverrideMaterialSideOrientation !== mesh.overrideMaterialSideOrientation) {\n              Logger.Warn(\"Cannot merge meshes with different overrideMaterialSideOrientation values.\");\n              return [2, null];\n            }\n            if (subdivideWithSubMeshes) {\n              indiceArray.push(mesh.getTotalIndices());\n            }\n            if (multiMultiMaterials) {\n              if (mesh.material) {\n                material = mesh.material;\n                if (material instanceof MultiMaterial) {\n                  for (matIndex = 0; matIndex < material.subMaterials.length; matIndex++) {\n                    if (materialArray.indexOf(material.subMaterials[matIndex]) < 0) {\n                      materialArray.push(material.subMaterials[matIndex]);\n                    }\n                  }\n                  for (subIndex = 0; subIndex < mesh.subMeshes.length; subIndex++) {\n                    materialIndexArray.push(materialArray.indexOf(material.subMaterials[mesh.subMeshes[subIndex].materialIndex]));\n                    indiceArray.push(mesh.subMeshes[subIndex].indexCount);\n                  }\n                } else {\n                  if (materialArray.indexOf(material) < 0) {\n                    materialArray.push(material);\n                  }\n                  for (subIndex = 0; subIndex < mesh.subMeshes.length; subIndex++) {\n                    materialIndexArray.push(materialArray.indexOf(material));\n                    indiceArray.push(mesh.subMeshes[subIndex].indexCount);\n                  }\n                }\n              } else {\n                for (subIndex = 0; subIndex < mesh.subMeshes.length; subIndex++) {\n                  materialIndexArray.push(0);\n                  indiceArray.push(mesh.subMeshes[subIndex].indexCount);\n                }\n              }\n            }\n          }\n          source = meshes[0];\n          getVertexDataFromMesh = function(mesh2) {\n            var wm = mesh2.computeWorldMatrix(true);\n            var vertexData2 = VertexData.ExtractFromMesh(mesh2, false, false);\n            return [vertexData2, wm];\n          };\n          _a = getVertexDataFromMesh(source), sourceVertexData = _a[0], sourceTransform = _a[1];\n          if (!isAsync)\n            return [3, 2];\n          return [4];\n        case 1:\n          _c.sent();\n          _c.label = 2;\n        case 2:\n          meshVertexDatas = new Array(meshes.length - 1);\n          i = 1;\n          _c.label = 3;\n        case 3:\n          if (!(i < meshes.length))\n            return [3, 6];\n          meshVertexDatas[i - 1] = getVertexDataFromMesh(meshes[i]);\n          if (!isAsync)\n            return [3, 5];\n          return [4];\n        case 4:\n          _c.sent();\n          _c.label = 5;\n        case 5:\n          i++;\n          return [3, 3];\n        case 6:\n          mergeCoroutine = sourceVertexData._mergeCoroutine(sourceTransform, meshVertexDatas, allow32BitsIndices, isAsync, !disposeSource);\n          mergeCoroutineStep = mergeCoroutine.next();\n          _c.label = 7;\n        case 7:\n          if (!!mergeCoroutineStep.done)\n            return [3, 10];\n          if (!isAsync)\n            return [3, 9];\n          return [4];\n        case 8:\n          _c.sent();\n          _c.label = 9;\n        case 9:\n          mergeCoroutineStep = mergeCoroutine.next();\n          return [3, 7];\n        case 10:\n          vertexData = mergeCoroutineStep.value;\n          if (!meshSubclass) {\n            meshSubclass = new Mesh2(source.name + \"_merged\", source.getScene());\n          }\n          applyToCoroutine = vertexData._applyToCoroutine(meshSubclass, void 0, isAsync);\n          applyToCoroutineStep = applyToCoroutine.next();\n          _c.label = 11;\n        case 11:\n          if (!!applyToCoroutineStep.done)\n            return [3, 14];\n          if (!isAsync)\n            return [3, 13];\n          return [4];\n        case 12:\n          _c.sent();\n          _c.label = 13;\n        case 13:\n          applyToCoroutineStep = applyToCoroutine.next();\n          return [3, 11];\n        case 14:\n          meshSubclass.checkCollisions = source.checkCollisions;\n          meshSubclass.overrideMaterialSideOrientation = source.overrideMaterialSideOrientation;\n          if (disposeSource) {\n            for (index = 0; index < meshes.length; index++) {\n              meshes[index].dispose();\n            }\n          }\n          if (subdivideWithSubMeshes || multiMultiMaterials) {\n            meshSubclass.releaseSubMeshes();\n            index = 0;\n            offset = 0;\n            while (index < indiceArray.length) {\n              SubMesh.CreateFromIndices(0, offset, indiceArray[index], meshSubclass, void 0, false);\n              offset += indiceArray[index];\n              index++;\n            }\n            for (_i = 0, _b = meshSubclass.subMeshes; _i < _b.length; _i++) {\n              subMesh = _b[_i];\n              subMesh.refreshBoundingInfo();\n            }\n            meshSubclass.computeWorldMatrix(true);\n          }\n          if (multiMultiMaterials) {\n            newMultiMaterial = new MultiMaterial(source.name + \"_merged\", source.getScene());\n            newMultiMaterial.subMaterials = materialArray;\n            for (subIndex = 0; subIndex < meshSubclass.subMeshes.length; subIndex++) {\n              meshSubclass.subMeshes[subIndex].materialIndex = materialIndexArray[subIndex];\n            }\n            meshSubclass.material = newMultiMaterial;\n          } else {\n            meshSubclass.material = source.material;\n          }\n          return [2, meshSubclass];\n      }\n    });\n  };\n  Mesh2.prototype.addInstance = function(instance) {\n    instance._indexInSourceMeshInstanceArray = this.instances.length;\n    this.instances.push(instance);\n  };\n  Mesh2.prototype.removeInstance = function(instance) {\n    var index = instance._indexInSourceMeshInstanceArray;\n    if (index != -1) {\n      if (index !== this.instances.length - 1) {\n        var last = this.instances[this.instances.length - 1];\n        this.instances[index] = last;\n        last._indexInSourceMeshInstanceArray = index;\n      }\n      instance._indexInSourceMeshInstanceArray = -1;\n      this.instances.pop();\n    }\n  };\n  Mesh2.prototype._shouldConvertRHS = function() {\n    return this.overrideMaterialSideOrientation === Material.CounterClockWiseSideOrientation;\n  };\n  Mesh2.FRONTSIDE = VertexData.FRONTSIDE;\n  Mesh2.BACKSIDE = VertexData.BACKSIDE;\n  Mesh2.DOUBLESIDE = VertexData.DOUBLESIDE;\n  Mesh2.DEFAULTSIDE = VertexData.DEFAULTSIDE;\n  Mesh2.NO_CAP = 0;\n  Mesh2.CAP_START = 1;\n  Mesh2.CAP_END = 2;\n  Mesh2.CAP_ALL = 3;\n  Mesh2.NO_FLIP = 0;\n  Mesh2.FLIP_TILE = 1;\n  Mesh2.ROTATE_TILE = 2;\n  Mesh2.FLIP_ROW = 3;\n  Mesh2.ROTATE_ROW = 4;\n  Mesh2.FLIP_N_ROTATE_TILE = 5;\n  Mesh2.FLIP_N_ROTATE_ROW = 6;\n  Mesh2.CENTER = 0;\n  Mesh2.LEFT = 1;\n  Mesh2.RIGHT = 2;\n  Mesh2.TOP = 3;\n  Mesh2.BOTTOM = 4;\n  Mesh2.INSTANCEDMESH_SORT_TRANSPARENT = false;\n  Mesh2._GroundMeshParser = function(parsedMesh, scene) {\n    throw _WarnImport(\"GroundMesh\");\n  };\n  Mesh2._GoldbergMeshParser = function(parsedMesh, scene) {\n    throw _WarnImport(\"GoldbergMesh\");\n  };\n  Mesh2._LinesMeshParser = function(parsedMesh, scene) {\n    throw _WarnImport(\"LinesMesh\");\n  };\n  return Mesh2;\n}(AbstractMesh);\nRegisterClass(\"BABYLON.Mesh\", Mesh);\nMesh.prototype.setMaterialByID = function(id) {\n  return this.setMaterialById(id);\n};\nMesh.CreateDisc = Mesh.CreateDisc || function() {\n  throw new Error(\"Import MeshBuilder to populate this function\");\n};\nMesh.CreateBox = Mesh.CreateBox || function() {\n  throw new Error(\"Import MeshBuilder to populate this function\");\n};\nMesh.CreateSphere = Mesh.CreateSphere || function() {\n  throw new Error(\"Import MeshBuilder to populate this function\");\n};\nMesh.CreateCylinder = Mesh.CreateCylinder || function() {\n  throw new Error(\"Import MeshBuilder to populate this function\");\n};\nMesh.CreateTorusKnot = Mesh.CreateTorusKnot || function() {\n  throw new Error(\"Import MeshBuilder to populate this function\");\n};\nMesh.CreateTorus = Mesh.CreateTorus || function() {\n  throw new Error(\"Import MeshBuilder to populate this function\");\n};\nMesh.CreatePlane = Mesh.CreatePlane || function() {\n  throw new Error(\"Import MeshBuilder to populate this function\");\n};\nMesh.CreateGround = Mesh.CreateGround || function() {\n  throw new Error(\"Import MeshBuilder to populate this function\");\n};\nMesh.CreateTiledGround = Mesh.CreateTiledGround || function() {\n  throw new Error(\"Import MeshBuilder to populate this function\");\n};\nMesh.CreateGroundFromHeightMap = Mesh.CreateGroundFromHeightMap || function() {\n  throw new Error(\"Import MeshBuilder to populate this function\");\n};\nMesh.CreateTube = Mesh.CreateTube || function() {\n  throw new Error(\"Import MeshBuilder to populate this function\");\n};\nMesh.CreatePolyhedron = Mesh.CreatePolyhedron || function() {\n  throw new Error(\"Import MeshBuilder to populate this function\");\n};\nMesh.CreateIcoSphere = Mesh.CreateIcoSphere || function() {\n  throw new Error(\"Import MeshBuilder to populate this function\");\n};\nMesh.CreateDecal = Mesh.CreateDecal || function() {\n  throw new Error(\"Import MeshBuilder to populate this function\");\n};\nMesh.CreateCapsule = Mesh.CreateCapsule || function() {\n  throw new Error(\"Import MeshBuilder to populate this function\");\n};\nMesh.ExtendToGoldberg = Mesh.ExtendToGoldberg || function() {\n  throw new Error(\"Import MeshBuilder to populate this function\");\n};\nvar SceneOptimization = function() {\n  function SceneOptimization2(priority) {\n    if (priority === void 0) {\n      priority = 0;\n    }\n    this.priority = priority;\n  }\n  SceneOptimization2.prototype.getDescription = function() {\n    return \"\";\n  };\n  SceneOptimization2.prototype.apply = function(scene, optimizer) {\n    return true;\n  };\n  return SceneOptimization2;\n}();\nvar TextureOptimization = function(_super) {\n  __extends(TextureOptimization2, _super);\n  function TextureOptimization2(priority, maximumSize, step) {\n    if (priority === void 0) {\n      priority = 0;\n    }\n    if (maximumSize === void 0) {\n      maximumSize = 1024;\n    }\n    if (step === void 0) {\n      step = 0.5;\n    }\n    var _this = _super.call(this, priority) || this;\n    _this.priority = priority;\n    _this.maximumSize = maximumSize;\n    _this.step = step;\n    return _this;\n  }\n  TextureOptimization2.prototype.getDescription = function() {\n    return \"Reducing render target texture size to \" + this.maximumSize;\n  };\n  TextureOptimization2.prototype.apply = function(scene, optimizer) {\n    var allDone = true;\n    for (var index = 0; index < scene.textures.length; index++) {\n      var texture = scene.textures[index];\n      if (!texture.canRescale || texture.getContext) {\n        continue;\n      }\n      var currentSize = texture.getSize();\n      var maxDimension = Math.max(currentSize.width, currentSize.height);\n      if (maxDimension > this.maximumSize) {\n        texture.scale(this.step);\n        allDone = false;\n      }\n    }\n    return allDone;\n  };\n  return TextureOptimization2;\n}(SceneOptimization);\nvar HardwareScalingOptimization = function(_super) {\n  __extends(HardwareScalingOptimization2, _super);\n  function HardwareScalingOptimization2(priority, maximumScale, step) {\n    if (priority === void 0) {\n      priority = 0;\n    }\n    if (maximumScale === void 0) {\n      maximumScale = 2;\n    }\n    if (step === void 0) {\n      step = 0.25;\n    }\n    var _this = _super.call(this, priority) || this;\n    _this.priority = priority;\n    _this.maximumScale = maximumScale;\n    _this.step = step;\n    _this._currentScale = -1;\n    _this._directionOffset = 1;\n    return _this;\n  }\n  HardwareScalingOptimization2.prototype.getDescription = function() {\n    return \"Setting hardware scaling level to \" + this._currentScale;\n  };\n  HardwareScalingOptimization2.prototype.apply = function(scene, optimizer) {\n    if (this._currentScale === -1) {\n      this._currentScale = scene.getEngine().getHardwareScalingLevel();\n      if (this._currentScale > this.maximumScale) {\n        this._directionOffset = -1;\n      }\n    }\n    this._currentScale += this._directionOffset * this.step;\n    scene.getEngine().setHardwareScalingLevel(this._currentScale);\n    return this._directionOffset === 1 ? this._currentScale >= this.maximumScale : this._currentScale <= this.maximumScale;\n  };\n  return HardwareScalingOptimization2;\n}(SceneOptimization);\nvar ShadowsOptimization = function(_super) {\n  __extends(ShadowsOptimization2, _super);\n  function ShadowsOptimization2() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  ShadowsOptimization2.prototype.getDescription = function() {\n    return \"Turning shadows on/off\";\n  };\n  ShadowsOptimization2.prototype.apply = function(scene, optimizer) {\n    scene.shadowsEnabled = optimizer.isInImprovementMode;\n    return true;\n  };\n  return ShadowsOptimization2;\n}(SceneOptimization);\nvar PostProcessesOptimization = function(_super) {\n  __extends(PostProcessesOptimization2, _super);\n  function PostProcessesOptimization2() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  PostProcessesOptimization2.prototype.getDescription = function() {\n    return \"Turning post-processes on/off\";\n  };\n  PostProcessesOptimization2.prototype.apply = function(scene, optimizer) {\n    scene.postProcessesEnabled = optimizer.isInImprovementMode;\n    return true;\n  };\n  return PostProcessesOptimization2;\n}(SceneOptimization);\nvar LensFlaresOptimization = function(_super) {\n  __extends(LensFlaresOptimization2, _super);\n  function LensFlaresOptimization2() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  LensFlaresOptimization2.prototype.getDescription = function() {\n    return \"Turning lens flares on/off\";\n  };\n  LensFlaresOptimization2.prototype.apply = function(scene, optimizer) {\n    scene.lensFlaresEnabled = optimizer.isInImprovementMode;\n    return true;\n  };\n  return LensFlaresOptimization2;\n}(SceneOptimization);\nvar CustomOptimization = function(_super) {\n  __extends(CustomOptimization2, _super);\n  function CustomOptimization2() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  CustomOptimization2.prototype.getDescription = function() {\n    if (this.onGetDescription) {\n      return this.onGetDescription();\n    }\n    return \"Running user defined callback\";\n  };\n  CustomOptimization2.prototype.apply = function(scene, optimizer) {\n    if (this.onApply) {\n      return this.onApply(scene, optimizer);\n    }\n    return true;\n  };\n  return CustomOptimization2;\n}(SceneOptimization);\nvar ParticlesOptimization = function(_super) {\n  __extends(ParticlesOptimization2, _super);\n  function ParticlesOptimization2() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  ParticlesOptimization2.prototype.getDescription = function() {\n    return \"Turning particles on/off\";\n  };\n  ParticlesOptimization2.prototype.apply = function(scene, optimizer) {\n    scene.particlesEnabled = optimizer.isInImprovementMode;\n    return true;\n  };\n  return ParticlesOptimization2;\n}(SceneOptimization);\nvar RenderTargetsOptimization = function(_super) {\n  __extends(RenderTargetsOptimization2, _super);\n  function RenderTargetsOptimization2() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  RenderTargetsOptimization2.prototype.getDescription = function() {\n    return \"Turning render targets off\";\n  };\n  RenderTargetsOptimization2.prototype.apply = function(scene, optimizer) {\n    scene.renderTargetsEnabled = optimizer.isInImprovementMode;\n    return true;\n  };\n  return RenderTargetsOptimization2;\n}(SceneOptimization);\nvar MergeMeshesOptimization = function(_super) {\n  __extends(MergeMeshesOptimization2, _super);\n  function MergeMeshesOptimization2() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this._canBeMerged = function(abstractMesh) {\n      if (!(abstractMesh instanceof Mesh)) {\n        return false;\n      }\n      var mesh = abstractMesh;\n      if (mesh.isDisposed()) {\n        return false;\n      }\n      if (!mesh.isVisible || !mesh.isEnabled()) {\n        return false;\n      }\n      if (mesh.instances.length > 0) {\n        return false;\n      }\n      if (mesh.skeleton || mesh.hasLODLevels) {\n        return false;\n      }\n      return true;\n    };\n    return _this;\n  }\n  Object.defineProperty(MergeMeshesOptimization2, \"UpdateSelectionTree\", {\n    get: function() {\n      return MergeMeshesOptimization2._UpdateSelectionTree;\n    },\n    set: function(value) {\n      MergeMeshesOptimization2._UpdateSelectionTree = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  MergeMeshesOptimization2.prototype.getDescription = function() {\n    return \"Merging similar meshes together\";\n  };\n  MergeMeshesOptimization2.prototype.apply = function(scene, optimizer, updateSelectionTree) {\n    var globalPool = scene.meshes.slice(0);\n    var globalLength = globalPool.length;\n    for (var index = 0; index < globalLength; index++) {\n      var currentPool = new Array();\n      var current = globalPool[index];\n      if (!this._canBeMerged(current)) {\n        continue;\n      }\n      currentPool.push(current);\n      for (var subIndex = index + 1; subIndex < globalLength; subIndex++) {\n        var otherMesh = globalPool[subIndex];\n        if (!this._canBeMerged(otherMesh)) {\n          continue;\n        }\n        if (otherMesh.material !== current.material) {\n          continue;\n        }\n        if (otherMesh.checkCollisions !== current.checkCollisions) {\n          continue;\n        }\n        currentPool.push(otherMesh);\n        globalLength--;\n        globalPool.splice(subIndex, 1);\n        subIndex--;\n      }\n      if (currentPool.length < 2) {\n        continue;\n      }\n      Mesh.MergeMeshes(currentPool, void 0, true);\n    }\n    var sceneAsAny = scene;\n    if (sceneAsAny.createOrUpdateSelectionOctree) {\n      if (updateSelectionTree != void 0) {\n        if (updateSelectionTree) {\n          sceneAsAny.createOrUpdateSelectionOctree();\n        }\n      } else if (MergeMeshesOptimization2.UpdateSelectionTree) {\n        sceneAsAny.createOrUpdateSelectionOctree();\n      }\n    }\n    return true;\n  };\n  MergeMeshesOptimization2._UpdateSelectionTree = false;\n  return MergeMeshesOptimization2;\n}(SceneOptimization);\nvar SceneOptimizerOptions = function() {\n  function SceneOptimizerOptions2(targetFrameRate, trackerDuration) {\n    if (targetFrameRate === void 0) {\n      targetFrameRate = 60;\n    }\n    if (trackerDuration === void 0) {\n      trackerDuration = 2e3;\n    }\n    this.targetFrameRate = targetFrameRate;\n    this.trackerDuration = trackerDuration;\n    this.optimizations = new Array();\n  }\n  SceneOptimizerOptions2.prototype.addOptimization = function(optimization) {\n    this.optimizations.push(optimization);\n    return this;\n  };\n  SceneOptimizerOptions2.prototype.addCustomOptimization = function(onApply, onGetDescription, priority) {\n    if (priority === void 0) {\n      priority = 0;\n    }\n    var optimization = new CustomOptimization(priority);\n    optimization.onApply = onApply;\n    optimization.onGetDescription = onGetDescription;\n    this.optimizations.push(optimization);\n    return this;\n  };\n  SceneOptimizerOptions2.LowDegradationAllowed = function(targetFrameRate) {\n    var result = new SceneOptimizerOptions2(targetFrameRate);\n    var priority = 0;\n    result.addOptimization(new MergeMeshesOptimization(priority));\n    result.addOptimization(new ShadowsOptimization(priority));\n    result.addOptimization(new LensFlaresOptimization(priority));\n    priority++;\n    result.addOptimization(new PostProcessesOptimization(priority));\n    result.addOptimization(new ParticlesOptimization(priority));\n    priority++;\n    result.addOptimization(new TextureOptimization(priority, 1024));\n    return result;\n  };\n  SceneOptimizerOptions2.ModerateDegradationAllowed = function(targetFrameRate) {\n    var result = new SceneOptimizerOptions2(targetFrameRate);\n    var priority = 0;\n    result.addOptimization(new MergeMeshesOptimization(priority));\n    result.addOptimization(new ShadowsOptimization(priority));\n    result.addOptimization(new LensFlaresOptimization(priority));\n    priority++;\n    result.addOptimization(new PostProcessesOptimization(priority));\n    result.addOptimization(new ParticlesOptimization(priority));\n    priority++;\n    result.addOptimization(new TextureOptimization(priority, 512));\n    priority++;\n    result.addOptimization(new RenderTargetsOptimization(priority));\n    priority++;\n    result.addOptimization(new HardwareScalingOptimization(priority, 2));\n    return result;\n  };\n  SceneOptimizerOptions2.HighDegradationAllowed = function(targetFrameRate) {\n    var result = new SceneOptimizerOptions2(targetFrameRate);\n    var priority = 0;\n    result.addOptimization(new MergeMeshesOptimization(priority));\n    result.addOptimization(new ShadowsOptimization(priority));\n    result.addOptimization(new LensFlaresOptimization(priority));\n    priority++;\n    result.addOptimization(new PostProcessesOptimization(priority));\n    result.addOptimization(new ParticlesOptimization(priority));\n    priority++;\n    result.addOptimization(new TextureOptimization(priority, 256));\n    priority++;\n    result.addOptimization(new RenderTargetsOptimization(priority));\n    priority++;\n    result.addOptimization(new HardwareScalingOptimization(priority, 4));\n    return result;\n  };\n  return SceneOptimizerOptions2;\n}();\nvar SceneOptimizer = function() {\n  function SceneOptimizer2(scene, options, autoGeneratePriorities, improvementMode) {\n    if (autoGeneratePriorities === void 0) {\n      autoGeneratePriorities = true;\n    }\n    if (improvementMode === void 0) {\n      improvementMode = false;\n    }\n    var _this = this;\n    this._isRunning = false;\n    this._currentPriorityLevel = 0;\n    this._targetFrameRate = 60;\n    this._trackerDuration = 2e3;\n    this._currentFrameRate = 0;\n    this._improvementMode = false;\n    this.onSuccessObservable = new Observable();\n    this.onNewOptimizationAppliedObservable = new Observable();\n    this.onFailureObservable = new Observable();\n    if (!options) {\n      this._options = new SceneOptimizerOptions();\n    } else {\n      this._options = options;\n    }\n    if (this._options.targetFrameRate) {\n      this._targetFrameRate = this._options.targetFrameRate;\n    }\n    if (this._options.trackerDuration) {\n      this._trackerDuration = this._options.trackerDuration;\n    }\n    if (autoGeneratePriorities) {\n      var priority = 0;\n      for (var _i = 0, _a = this._options.optimizations; _i < _a.length; _i++) {\n        var optim = _a[_i];\n        optim.priority = priority++;\n      }\n    }\n    this._improvementMode = improvementMode;\n    this._scene = scene || EngineStore.LastCreatedScene;\n    this._sceneDisposeObserver = this._scene.onDisposeObservable.add(function() {\n      _this._sceneDisposeObserver = null;\n      _this.dispose();\n    });\n  }\n  Object.defineProperty(SceneOptimizer2.prototype, \"isInImprovementMode\", {\n    get: function() {\n      return this._improvementMode;\n    },\n    set: function(value) {\n      this._improvementMode = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SceneOptimizer2.prototype, \"currentPriorityLevel\", {\n    get: function() {\n      return this._currentPriorityLevel;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SceneOptimizer2.prototype, \"currentFrameRate\", {\n    get: function() {\n      return this._currentFrameRate;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SceneOptimizer2.prototype, \"targetFrameRate\", {\n    get: function() {\n      return this._targetFrameRate;\n    },\n    set: function(value) {\n      this._targetFrameRate = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SceneOptimizer2.prototype, \"trackerDuration\", {\n    get: function() {\n      return this._trackerDuration;\n    },\n    set: function(value) {\n      this._trackerDuration = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SceneOptimizer2.prototype, \"optimizations\", {\n    get: function() {\n      return this._options.optimizations;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  SceneOptimizer2.prototype.stop = function() {\n    this._isRunning = false;\n  };\n  SceneOptimizer2.prototype.reset = function() {\n    this._currentPriorityLevel = 0;\n  };\n  SceneOptimizer2.prototype.start = function() {\n    var _this = this;\n    if (this._isRunning) {\n      return;\n    }\n    this._isRunning = true;\n    this._scene.executeWhenReady(function() {\n      setTimeout(function() {\n        _this._checkCurrentState();\n      }, _this._trackerDuration);\n    });\n  };\n  SceneOptimizer2.prototype._checkCurrentState = function() {\n    var _this = this;\n    if (!this._isRunning) {\n      return;\n    }\n    var scene = this._scene;\n    var options = this._options;\n    this._currentFrameRate = Math.round(scene.getEngine().getFps());\n    if (this._improvementMode && this._currentFrameRate <= this._targetFrameRate || !this._improvementMode && this._currentFrameRate >= this._targetFrameRate) {\n      this._isRunning = false;\n      this.onSuccessObservable.notifyObservers(this);\n      return;\n    }\n    var allDone = true;\n    var noOptimizationApplied = true;\n    for (var index = 0; index < options.optimizations.length; index++) {\n      var optimization = options.optimizations[index];\n      if (optimization.priority === this._currentPriorityLevel) {\n        noOptimizationApplied = false;\n        allDone = allDone && optimization.apply(scene, this);\n        this.onNewOptimizationAppliedObservable.notifyObservers(optimization);\n      }\n    }\n    if (noOptimizationApplied) {\n      this._isRunning = false;\n      this.onFailureObservable.notifyObservers(this);\n      return;\n    }\n    if (allDone) {\n      this._currentPriorityLevel++;\n    }\n    scene.executeWhenReady(function() {\n      setTimeout(function() {\n        _this._checkCurrentState();\n      }, _this._trackerDuration);\n    });\n  };\n  SceneOptimizer2.prototype.dispose = function() {\n    this.stop();\n    this.onSuccessObservable.clear();\n    this.onFailureObservable.clear();\n    this.onNewOptimizationAppliedObservable.clear();\n    if (this._sceneDisposeObserver) {\n      this._scene.onDisposeObservable.remove(this._sceneDisposeObserver);\n    }\n  };\n  SceneOptimizer2.OptimizeAsync = function(scene, options, onSuccess, onFailure) {\n    var optimizer = new SceneOptimizer2(scene, options || SceneOptimizerOptions.ModerateDegradationAllowed(), false);\n    if (onSuccess) {\n      optimizer.onSuccessObservable.add(function() {\n        onSuccess();\n      });\n    }\n    if (onFailure) {\n      optimizer.onFailureObservable.add(function() {\n        onFailure();\n      });\n    }\n    optimizer.start();\n    return optimizer;\n  };\n  return SceneOptimizer2;\n}();\nfunction createScene(options) {\n  const { engine } = options;\n  const scene = new Scene(engine);\n  scene.clearColor = new Color4$1(0, 0, 0, 0);\n  scene.pointerMovePredicate = () => false;\n  scene.pointerDownPredicate = () => false;\n  scene.pointerUpPredicate = () => false;\n  scene.clearCachedVertexData();\n  scene.themeData = {};\n  const optimizationSettings = SceneOptimizerOptions.LowDegradationAllowed();\n  optimizationSettings.optimizations = optimizationSettings.optimizations.splice(1);\n  optimizationSettings.targetFrameRate = 60;\n  SceneOptimizer.OptimizeAsync(scene, optimizationSettings);\n  return scene;\n}\nvar TargetCamera = function(_super) {\n  __extends(TargetCamera2, _super);\n  function TargetCamera2(name2, position, scene, setActiveOnSceneIfNoneActive) {\n    if (setActiveOnSceneIfNoneActive === void 0) {\n      setActiveOnSceneIfNoneActive = true;\n    }\n    var _this = _super.call(this, name2, position, scene, setActiveOnSceneIfNoneActive) || this;\n    _this._tmpUpVector = Vector3.Zero();\n    _this._tmpTargetVector = Vector3.Zero();\n    _this.cameraDirection = new Vector3(0, 0, 0);\n    _this.cameraRotation = new Vector2(0, 0);\n    _this.ignoreParentScaling = false;\n    _this.updateUpVectorFromRotation = false;\n    _this._tmpQuaternion = new Quaternion();\n    _this.rotation = new Vector3(0, 0, 0);\n    _this.speed = 2;\n    _this.noRotationConstraint = false;\n    _this.invertRotation = false;\n    _this.inverseRotationSpeed = 0.2;\n    _this.lockedTarget = null;\n    _this._currentTarget = Vector3.Zero();\n    _this._initialFocalDistance = 1;\n    _this._viewMatrix = Matrix.Zero();\n    _this._camMatrix = Matrix.Zero();\n    _this._cameraTransformMatrix = Matrix.Zero();\n    _this._cameraRotationMatrix = Matrix.Zero();\n    _this._referencePoint = new Vector3(0, 0, 1);\n    _this._transformedReferencePoint = Vector3.Zero();\n    _this._defaultUp = Vector3.Up();\n    _this._cachedRotationZ = 0;\n    _this._cachedQuaternionRotationZ = 0;\n    return _this;\n  }\n  TargetCamera2.prototype.getFrontPosition = function(distance) {\n    this.getWorldMatrix();\n    var direction = this.getTarget().subtract(this.position);\n    direction.normalize();\n    direction.scaleInPlace(distance);\n    return this.globalPosition.add(direction);\n  };\n  TargetCamera2.prototype._getLockedTargetPosition = function() {\n    if (!this.lockedTarget) {\n      return null;\n    }\n    if (this.lockedTarget.absolutePosition) {\n      this.lockedTarget.computeWorldMatrix();\n    }\n    return this.lockedTarget.absolutePosition || this.lockedTarget;\n  };\n  TargetCamera2.prototype.storeState = function() {\n    this._storedPosition = this.position.clone();\n    this._storedRotation = this.rotation.clone();\n    if (this.rotationQuaternion) {\n      this._storedRotationQuaternion = this.rotationQuaternion.clone();\n    }\n    return _super.prototype.storeState.call(this);\n  };\n  TargetCamera2.prototype._restoreStateValues = function() {\n    if (!_super.prototype._restoreStateValues.call(this)) {\n      return false;\n    }\n    this.position = this._storedPosition.clone();\n    this.rotation = this._storedRotation.clone();\n    if (this.rotationQuaternion) {\n      this.rotationQuaternion = this._storedRotationQuaternion.clone();\n    }\n    this.cameraDirection.copyFromFloats(0, 0, 0);\n    this.cameraRotation.copyFromFloats(0, 0);\n    return true;\n  };\n  TargetCamera2.prototype._initCache = function() {\n    _super.prototype._initCache.call(this);\n    this._cache.lockedTarget = new Vector3(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n    this._cache.rotation = new Vector3(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n    this._cache.rotationQuaternion = new Quaternion(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n  };\n  TargetCamera2.prototype._updateCache = function(ignoreParentClass) {\n    if (!ignoreParentClass) {\n      _super.prototype._updateCache.call(this);\n    }\n    var lockedTargetPosition = this._getLockedTargetPosition();\n    if (!lockedTargetPosition) {\n      this._cache.lockedTarget = null;\n    } else {\n      if (!this._cache.lockedTarget) {\n        this._cache.lockedTarget = lockedTargetPosition.clone();\n      } else {\n        this._cache.lockedTarget.copyFrom(lockedTargetPosition);\n      }\n    }\n    this._cache.rotation.copyFrom(this.rotation);\n    if (this.rotationQuaternion) {\n      this._cache.rotationQuaternion.copyFrom(this.rotationQuaternion);\n    }\n  };\n  TargetCamera2.prototype._isSynchronizedViewMatrix = function() {\n    if (!_super.prototype._isSynchronizedViewMatrix.call(this)) {\n      return false;\n    }\n    var lockedTargetPosition = this._getLockedTargetPosition();\n    return (this._cache.lockedTarget ? this._cache.lockedTarget.equals(lockedTargetPosition) : !lockedTargetPosition) && (this.rotationQuaternion ? this.rotationQuaternion.equals(this._cache.rotationQuaternion) : this._cache.rotation.equals(this.rotation));\n  };\n  TargetCamera2.prototype._computeLocalCameraSpeed = function() {\n    var engine = this.getEngine();\n    return this.speed * Math.sqrt(engine.getDeltaTime() / (engine.getFps() * 100));\n  };\n  TargetCamera2.prototype.setTarget = function(target) {\n    this.upVector.normalize();\n    this._initialFocalDistance = target.subtract(this.position).length();\n    if (this.position.z === target.z) {\n      this.position.z += Epsilon;\n    }\n    this._referencePoint.normalize().scaleInPlace(this._initialFocalDistance);\n    Matrix.LookAtLHToRef(this.position, target, this._defaultUp, this._camMatrix);\n    this._camMatrix.invert();\n    this.rotation.x = Math.atan(this._camMatrix.m[6] / this._camMatrix.m[10]);\n    var vDir = target.subtract(this.position);\n    if (vDir.x >= 0) {\n      this.rotation.y = -Math.atan(vDir.z / vDir.x) + Math.PI / 2;\n    } else {\n      this.rotation.y = -Math.atan(vDir.z / vDir.x) - Math.PI / 2;\n    }\n    this.rotation.z = 0;\n    if (isNaN(this.rotation.x)) {\n      this.rotation.x = 0;\n    }\n    if (isNaN(this.rotation.y)) {\n      this.rotation.y = 0;\n    }\n    if (isNaN(this.rotation.z)) {\n      this.rotation.z = 0;\n    }\n    if (this.rotationQuaternion) {\n      Quaternion.RotationYawPitchRollToRef(this.rotation.y, this.rotation.x, this.rotation.z, this.rotationQuaternion);\n    }\n  };\n  Object.defineProperty(TargetCamera2.prototype, \"target\", {\n    get: function() {\n      return this.getTarget();\n    },\n    set: function(value) {\n      this.setTarget(value);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  TargetCamera2.prototype.getTarget = function() {\n    return this._currentTarget;\n  };\n  TargetCamera2.prototype._decideIfNeedsToMove = function() {\n    return Math.abs(this.cameraDirection.x) > 0 || Math.abs(this.cameraDirection.y) > 0 || Math.abs(this.cameraDirection.z) > 0;\n  };\n  TargetCamera2.prototype._updatePosition = function() {\n    if (this.parent) {\n      this.parent.getWorldMatrix().invertToRef(TmpVectors.Matrix[0]);\n      Vector3.TransformNormalToRef(this.cameraDirection, TmpVectors.Matrix[0], TmpVectors.Vector3[0]);\n      this.position.addInPlace(TmpVectors.Vector3[0]);\n      return;\n    }\n    this.position.addInPlace(this.cameraDirection);\n  };\n  TargetCamera2.prototype._checkInputs = function() {\n    var directionMultiplier = this.invertRotation ? -this.inverseRotationSpeed : 1;\n    var needToMove = this._decideIfNeedsToMove();\n    var needToRotate = Math.abs(this.cameraRotation.x) > 0 || Math.abs(this.cameraRotation.y) > 0;\n    if (needToMove) {\n      this._updatePosition();\n    }\n    if (needToRotate) {\n      if (this.rotationQuaternion) {\n        this.rotationQuaternion.toEulerAnglesToRef(this.rotation);\n      }\n      this.rotation.x += this.cameraRotation.x * directionMultiplier;\n      this.rotation.y += this.cameraRotation.y * directionMultiplier;\n      if (!this.noRotationConstraint) {\n        var limit = 1.570796;\n        if (this.rotation.x > limit) {\n          this.rotation.x = limit;\n        }\n        if (this.rotation.x < -limit) {\n          this.rotation.x = -limit;\n        }\n      }\n      if (this.rotationQuaternion) {\n        var len = this.rotation.lengthSquared();\n        if (len) {\n          Quaternion.RotationYawPitchRollToRef(this.rotation.y, this.rotation.x, this.rotation.z, this.rotationQuaternion);\n        }\n      }\n    }\n    if (needToMove) {\n      if (Math.abs(this.cameraDirection.x) < this.speed * Epsilon) {\n        this.cameraDirection.x = 0;\n      }\n      if (Math.abs(this.cameraDirection.y) < this.speed * Epsilon) {\n        this.cameraDirection.y = 0;\n      }\n      if (Math.abs(this.cameraDirection.z) < this.speed * Epsilon) {\n        this.cameraDirection.z = 0;\n      }\n      this.cameraDirection.scaleInPlace(this.inertia);\n    }\n    if (needToRotate) {\n      if (Math.abs(this.cameraRotation.x) < this.speed * Epsilon) {\n        this.cameraRotation.x = 0;\n      }\n      if (Math.abs(this.cameraRotation.y) < this.speed * Epsilon) {\n        this.cameraRotation.y = 0;\n      }\n      this.cameraRotation.scaleInPlace(this.inertia);\n    }\n    _super.prototype._checkInputs.call(this);\n  };\n  TargetCamera2.prototype._updateCameraRotationMatrix = function() {\n    if (this.rotationQuaternion) {\n      this.rotationQuaternion.toRotationMatrix(this._cameraRotationMatrix);\n    } else {\n      Matrix.RotationYawPitchRollToRef(this.rotation.y, this.rotation.x, this.rotation.z, this._cameraRotationMatrix);\n    }\n  };\n  TargetCamera2.prototype._rotateUpVectorWithCameraRotationMatrix = function() {\n    Vector3.TransformNormalToRef(this._defaultUp, this._cameraRotationMatrix, this.upVector);\n    return this;\n  };\n  TargetCamera2.prototype._getViewMatrix = function() {\n    if (this.lockedTarget) {\n      this.setTarget(this._getLockedTargetPosition());\n    }\n    this._updateCameraRotationMatrix();\n    if (this.rotationQuaternion && this._cachedQuaternionRotationZ != this.rotationQuaternion.z) {\n      this._rotateUpVectorWithCameraRotationMatrix();\n      this._cachedQuaternionRotationZ = this.rotationQuaternion.z;\n    } else if (this._cachedRotationZ !== this.rotation.z) {\n      this._rotateUpVectorWithCameraRotationMatrix();\n      this._cachedRotationZ = this.rotation.z;\n    }\n    Vector3.TransformCoordinatesToRef(this._referencePoint, this._cameraRotationMatrix, this._transformedReferencePoint);\n    this.position.addToRef(this._transformedReferencePoint, this._currentTarget);\n    if (this.updateUpVectorFromRotation) {\n      if (this.rotationQuaternion) {\n        Axis.Y.rotateByQuaternionToRef(this.rotationQuaternion, this.upVector);\n      } else {\n        Quaternion.FromEulerVectorToRef(this.rotation, this._tmpQuaternion);\n        Axis.Y.rotateByQuaternionToRef(this._tmpQuaternion, this.upVector);\n      }\n    }\n    this._computeViewMatrix(this.position, this._currentTarget, this.upVector);\n    return this._viewMatrix;\n  };\n  TargetCamera2.prototype._computeViewMatrix = function(position, target, up) {\n    if (this.ignoreParentScaling) {\n      if (this.parent) {\n        var parentWorldMatrix = this.parent.getWorldMatrix();\n        Vector3.TransformCoordinatesToRef(position, parentWorldMatrix, this._globalPosition);\n        Vector3.TransformCoordinatesToRef(target, parentWorldMatrix, this._tmpTargetVector);\n        Vector3.TransformNormalToRef(up, parentWorldMatrix, this._tmpUpVector);\n        this._markSyncedWithParent();\n      } else {\n        this._globalPosition.copyFrom(position);\n        this._tmpTargetVector.copyFrom(target);\n        this._tmpUpVector.copyFrom(up);\n      }\n      if (this.getScene().useRightHandedSystem) {\n        Matrix.LookAtRHToRef(this._globalPosition, this._tmpTargetVector, this._tmpUpVector, this._viewMatrix);\n      } else {\n        Matrix.LookAtLHToRef(this._globalPosition, this._tmpTargetVector, this._tmpUpVector, this._viewMatrix);\n      }\n      return;\n    }\n    if (this.getScene().useRightHandedSystem) {\n      Matrix.LookAtRHToRef(position, target, up, this._viewMatrix);\n    } else {\n      Matrix.LookAtLHToRef(position, target, up, this._viewMatrix);\n    }\n    if (this.parent) {\n      var parentWorldMatrix = this.parent.getWorldMatrix();\n      this._viewMatrix.invert();\n      this._viewMatrix.multiplyToRef(parentWorldMatrix, this._viewMatrix);\n      this._viewMatrix.getTranslationToRef(this._globalPosition);\n      this._viewMatrix.invert();\n      this._markSyncedWithParent();\n    } else {\n      this._globalPosition.copyFrom(position);\n    }\n  };\n  TargetCamera2.prototype.createRigCamera = function(name2, cameraIndex) {\n    if (this.cameraRigMode !== Camera.RIG_MODE_NONE) {\n      var rigCamera = new TargetCamera2(name2, this.position.clone(), this.getScene());\n      rigCamera.isRigCamera = true;\n      rigCamera.rigParent = this;\n      if (this.cameraRigMode === Camera.RIG_MODE_VR || this.cameraRigMode === Camera.RIG_MODE_WEBVR) {\n        if (!this.rotationQuaternion) {\n          this.rotationQuaternion = new Quaternion();\n        }\n        rigCamera._cameraRigParams = {};\n        rigCamera.rotationQuaternion = new Quaternion();\n      }\n      return rigCamera;\n    }\n    return null;\n  };\n  TargetCamera2.prototype._updateRigCameras = function() {\n    var camLeft = this._rigCameras[0];\n    var camRight = this._rigCameras[1];\n    this.computeWorldMatrix();\n    switch (this.cameraRigMode) {\n      case Camera.RIG_MODE_STEREOSCOPIC_ANAGLYPH:\n      case Camera.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL:\n      case Camera.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED:\n      case Camera.RIG_MODE_STEREOSCOPIC_OVERUNDER:\n      case Camera.RIG_MODE_STEREOSCOPIC_INTERLACED: {\n        var leftSign = this.cameraRigMode === Camera.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED ? 1 : -1;\n        var rightSign = this.cameraRigMode === Camera.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED ? -1 : 1;\n        this._getRigCamPositionAndTarget(this._cameraRigParams.stereoHalfAngle * leftSign, camLeft);\n        this._getRigCamPositionAndTarget(this._cameraRigParams.stereoHalfAngle * rightSign, camRight);\n        break;\n      }\n      case Camera.RIG_MODE_VR:\n        if (camLeft.rotationQuaternion) {\n          camLeft.rotationQuaternion.copyFrom(this.rotationQuaternion);\n          camRight.rotationQuaternion.copyFrom(this.rotationQuaternion);\n        } else {\n          camLeft.rotation.copyFrom(this.rotation);\n          camRight.rotation.copyFrom(this.rotation);\n        }\n        camLeft.position.copyFrom(this.position);\n        camRight.position.copyFrom(this.position);\n        break;\n    }\n    _super.prototype._updateRigCameras.call(this);\n  };\n  TargetCamera2.prototype._getRigCamPositionAndTarget = function(halfSpace, rigCamera) {\n    var target = this.getTarget();\n    target.subtractToRef(this.position, TargetCamera2._TargetFocalPoint);\n    TargetCamera2._TargetFocalPoint.normalize().scaleInPlace(this._initialFocalDistance);\n    var newFocalTarget = TargetCamera2._TargetFocalPoint.addInPlace(this.position);\n    Matrix.TranslationToRef(-newFocalTarget.x, -newFocalTarget.y, -newFocalTarget.z, TargetCamera2._TargetTransformMatrix);\n    TargetCamera2._TargetTransformMatrix.multiplyToRef(Matrix.RotationAxis(rigCamera.upVector, halfSpace), TargetCamera2._RigCamTransformMatrix);\n    Matrix.TranslationToRef(newFocalTarget.x, newFocalTarget.y, newFocalTarget.z, TargetCamera2._TargetTransformMatrix);\n    TargetCamera2._RigCamTransformMatrix.multiplyToRef(TargetCamera2._TargetTransformMatrix, TargetCamera2._RigCamTransformMatrix);\n    Vector3.TransformCoordinatesToRef(this.position, TargetCamera2._RigCamTransformMatrix, rigCamera.position);\n    rigCamera.setTarget(newFocalTarget);\n  };\n  TargetCamera2.prototype.getClassName = function() {\n    return \"TargetCamera\";\n  };\n  TargetCamera2._RigCamTransformMatrix = new Matrix();\n  TargetCamera2._TargetTransformMatrix = new Matrix();\n  TargetCamera2._TargetFocalPoint = new Vector3();\n  __decorate([\n    serializeAsVector3()\n  ], TargetCamera2.prototype, \"rotation\", void 0);\n  __decorate([\n    serialize()\n  ], TargetCamera2.prototype, \"speed\", void 0);\n  __decorate([\n    serializeAsMeshReference(\"lockedTargetId\")\n  ], TargetCamera2.prototype, \"lockedTarget\", void 0);\n  return TargetCamera2;\n}(Camera);\nfunction createCamera(options) {\n  const { scene } = options;\n  let camera;\n  const cameraDistance = 36.5;\n  camera = new TargetCamera(\"TargetCamera1\", new Vector3(0, cameraDistance, 0), scene);\n  camera.fov = 0.25;\n  camera.minZ = 5;\n  camera.maxZ = cameraDistance + 1;\n  camera.setTarget(Vector3.Zero());\n  return camera;\n}\nvar ShadowLight = function(_super) {\n  __extends(ShadowLight2, _super);\n  function ShadowLight2() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this._needProjectionMatrixCompute = true;\n    return _this;\n  }\n  ShadowLight2.prototype._setPosition = function(value) {\n    this._position = value;\n  };\n  Object.defineProperty(ShadowLight2.prototype, \"position\", {\n    get: function() {\n      return this._position;\n    },\n    set: function(value) {\n      this._setPosition(value);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ShadowLight2.prototype._setDirection = function(value) {\n    this._direction = value;\n  };\n  Object.defineProperty(ShadowLight2.prototype, \"direction\", {\n    get: function() {\n      return this._direction;\n    },\n    set: function(value) {\n      this._setDirection(value);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShadowLight2.prototype, \"shadowMinZ\", {\n    get: function() {\n      return this._shadowMinZ;\n    },\n    set: function(value) {\n      this._shadowMinZ = value;\n      this.forceProjectionMatrixCompute();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShadowLight2.prototype, \"shadowMaxZ\", {\n    get: function() {\n      return this._shadowMaxZ;\n    },\n    set: function(value) {\n      this._shadowMaxZ = value;\n      this.forceProjectionMatrixCompute();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ShadowLight2.prototype.computeTransformedInformation = function() {\n    if (this.parent && this.parent.getWorldMatrix) {\n      if (!this.transformedPosition) {\n        this.transformedPosition = Vector3.Zero();\n      }\n      Vector3.TransformCoordinatesToRef(this.position, this.parent.getWorldMatrix(), this.transformedPosition);\n      if (this.direction) {\n        if (!this.transformedDirection) {\n          this.transformedDirection = Vector3.Zero();\n        }\n        Vector3.TransformNormalToRef(this.direction, this.parent.getWorldMatrix(), this.transformedDirection);\n      }\n      return true;\n    }\n    return false;\n  };\n  ShadowLight2.prototype.getDepthScale = function() {\n    return 50;\n  };\n  ShadowLight2.prototype.getShadowDirection = function(faceIndex) {\n    return this.transformedDirection ? this.transformedDirection : this.direction;\n  };\n  ShadowLight2.prototype.getAbsolutePosition = function() {\n    return this.transformedPosition ? this.transformedPosition : this.position;\n  };\n  ShadowLight2.prototype.setDirectionToTarget = function(target) {\n    this.direction = Vector3.Normalize(target.subtract(this.position));\n    return this.direction;\n  };\n  ShadowLight2.prototype.getRotation = function() {\n    this.direction.normalize();\n    var xaxis = Vector3.Cross(this.direction, Axis.Y);\n    var yaxis = Vector3.Cross(xaxis, this.direction);\n    return Vector3.RotationFromAxis(xaxis, yaxis, this.direction);\n  };\n  ShadowLight2.prototype.needCube = function() {\n    return false;\n  };\n  ShadowLight2.prototype.needProjectionMatrixCompute = function() {\n    return this._needProjectionMatrixCompute;\n  };\n  ShadowLight2.prototype.forceProjectionMatrixCompute = function() {\n    this._needProjectionMatrixCompute = true;\n  };\n  ShadowLight2.prototype._initCache = function() {\n    _super.prototype._initCache.call(this);\n    this._cache.position = Vector3.Zero();\n  };\n  ShadowLight2.prototype._isSynchronized = function() {\n    if (!this._cache.position.equals(this.position)) {\n      return false;\n    }\n    return true;\n  };\n  ShadowLight2.prototype.computeWorldMatrix = function(force) {\n    if (!force && this.isSynchronized()) {\n      this._currentRenderId = this.getScene().getRenderId();\n      return this._worldMatrix;\n    }\n    this._updateCache();\n    this._cache.position.copyFrom(this.position);\n    if (!this._worldMatrix) {\n      this._worldMatrix = Matrix.Identity();\n    }\n    Matrix.TranslationToRef(this.position.x, this.position.y, this.position.z, this._worldMatrix);\n    if (this.parent && this.parent.getWorldMatrix) {\n      this._worldMatrix.multiplyToRef(this.parent.getWorldMatrix(), this._worldMatrix);\n      this._markSyncedWithParent();\n    }\n    this._worldMatrixDeterminantIsDirty = true;\n    return this._worldMatrix;\n  };\n  ShadowLight2.prototype.getDepthMinZ = function(activeCamera) {\n    return this.shadowMinZ !== void 0 ? this.shadowMinZ : activeCamera.minZ;\n  };\n  ShadowLight2.prototype.getDepthMaxZ = function(activeCamera) {\n    return this.shadowMaxZ !== void 0 ? this.shadowMaxZ : activeCamera.maxZ;\n  };\n  ShadowLight2.prototype.setShadowProjectionMatrix = function(matrix, viewMatrix, renderList) {\n    if (this.customProjectionMatrixBuilder) {\n      this.customProjectionMatrixBuilder(viewMatrix, renderList, matrix);\n    } else {\n      this._setDefaultShadowProjectionMatrix(matrix, viewMatrix, renderList);\n    }\n    return this;\n  };\n  ShadowLight2.prototype._syncParentEnabledState = function() {\n    _super.prototype._syncParentEnabledState.call(this);\n    if (!this.parent || !this.parent.getWorldMatrix) {\n      this.transformedPosition = null;\n      this.transformedDirection = null;\n    }\n  };\n  __decorate([\n    serializeAsVector3()\n  ], ShadowLight2.prototype, \"position\", null);\n  __decorate([\n    serializeAsVector3()\n  ], ShadowLight2.prototype, \"direction\", null);\n  __decorate([\n    serialize()\n  ], ShadowLight2.prototype, \"shadowMinZ\", null);\n  __decorate([\n    serialize()\n  ], ShadowLight2.prototype, \"shadowMaxZ\", null);\n  return ShadowLight2;\n}(Light);\nNode.AddNodeConstructor(\"Light_Type_1\", function(name2, scene) {\n  return function() {\n    return new DirectionalLight(name2, Vector3.Zero(), scene);\n  };\n});\nvar DirectionalLight = function(_super) {\n  __extends(DirectionalLight2, _super);\n  function DirectionalLight2(name2, direction, scene) {\n    var _this = _super.call(this, name2, scene) || this;\n    _this._shadowFrustumSize = 0;\n    _this._shadowOrthoScale = 0.1;\n    _this.autoUpdateExtends = true;\n    _this.autoCalcShadowZBounds = false;\n    _this._orthoLeft = Number.MAX_VALUE;\n    _this._orthoRight = Number.MIN_VALUE;\n    _this._orthoTop = Number.MIN_VALUE;\n    _this._orthoBottom = Number.MAX_VALUE;\n    _this.position = direction.scale(-1);\n    _this.direction = direction;\n    return _this;\n  }\n  Object.defineProperty(DirectionalLight2.prototype, \"shadowFrustumSize\", {\n    get: function() {\n      return this._shadowFrustumSize;\n    },\n    set: function(value) {\n      this._shadowFrustumSize = value;\n      this.forceProjectionMatrixCompute();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DirectionalLight2.prototype, \"shadowOrthoScale\", {\n    get: function() {\n      return this._shadowOrthoScale;\n    },\n    set: function(value) {\n      this._shadowOrthoScale = value;\n      this.forceProjectionMatrixCompute();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DirectionalLight2.prototype, \"orthoLeft\", {\n    get: function() {\n      return this._orthoLeft;\n    },\n    set: function(left) {\n      this._orthoLeft = left;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DirectionalLight2.prototype, \"orthoRight\", {\n    get: function() {\n      return this._orthoRight;\n    },\n    set: function(right) {\n      this._orthoRight = right;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DirectionalLight2.prototype, \"orthoTop\", {\n    get: function() {\n      return this._orthoTop;\n    },\n    set: function(top) {\n      this._orthoTop = top;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DirectionalLight2.prototype, \"orthoBottom\", {\n    get: function() {\n      return this._orthoBottom;\n    },\n    set: function(bottom) {\n      this._orthoBottom = bottom;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  DirectionalLight2.prototype.getClassName = function() {\n    return \"DirectionalLight\";\n  };\n  DirectionalLight2.prototype.getTypeID = function() {\n    return Light.LIGHTTYPEID_DIRECTIONALLIGHT;\n  };\n  DirectionalLight2.prototype._setDefaultShadowProjectionMatrix = function(matrix, viewMatrix, renderList) {\n    if (this.shadowFrustumSize > 0) {\n      this._setDefaultFixedFrustumShadowProjectionMatrix(matrix);\n    } else {\n      this._setDefaultAutoExtendShadowProjectionMatrix(matrix, viewMatrix, renderList);\n    }\n  };\n  DirectionalLight2.prototype._setDefaultFixedFrustumShadowProjectionMatrix = function(matrix) {\n    var activeCamera = this.getScene().activeCamera;\n    if (!activeCamera) {\n      return;\n    }\n    Matrix.OrthoLHToRef(this.shadowFrustumSize, this.shadowFrustumSize, this.shadowMinZ !== void 0 ? this.shadowMinZ : activeCamera.minZ, this.shadowMaxZ !== void 0 ? this.shadowMaxZ : activeCamera.maxZ, matrix, this.getScene().getEngine().isNDCHalfZRange);\n  };\n  DirectionalLight2.prototype._setDefaultAutoExtendShadowProjectionMatrix = function(matrix, viewMatrix, renderList) {\n    var activeCamera = this.getScene().activeCamera;\n    if (!activeCamera) {\n      return;\n    }\n    if (this.autoUpdateExtends || this._orthoLeft === Number.MAX_VALUE) {\n      var tempVector3 = Vector3.Zero();\n      this._orthoLeft = Number.MAX_VALUE;\n      this._orthoRight = Number.MIN_VALUE;\n      this._orthoTop = Number.MIN_VALUE;\n      this._orthoBottom = Number.MAX_VALUE;\n      var shadowMinZ = Number.MAX_VALUE;\n      var shadowMaxZ = Number.MIN_VALUE;\n      for (var meshIndex = 0; meshIndex < renderList.length; meshIndex++) {\n        var mesh = renderList[meshIndex];\n        if (!mesh) {\n          continue;\n        }\n        var boundingInfo = mesh.getBoundingInfo();\n        var boundingBox = boundingInfo.boundingBox;\n        for (var index = 0; index < boundingBox.vectorsWorld.length; index++) {\n          Vector3.TransformCoordinatesToRef(boundingBox.vectorsWorld[index], viewMatrix, tempVector3);\n          if (tempVector3.x < this._orthoLeft) {\n            this._orthoLeft = tempVector3.x;\n          }\n          if (tempVector3.y < this._orthoBottom) {\n            this._orthoBottom = tempVector3.y;\n          }\n          if (tempVector3.x > this._orthoRight) {\n            this._orthoRight = tempVector3.x;\n          }\n          if (tempVector3.y > this._orthoTop) {\n            this._orthoTop = tempVector3.y;\n          }\n          if (this.autoCalcShadowZBounds) {\n            if (tempVector3.z < shadowMinZ) {\n              shadowMinZ = tempVector3.z;\n            }\n            if (tempVector3.z > shadowMaxZ) {\n              shadowMaxZ = tempVector3.z;\n            }\n          }\n        }\n      }\n      if (this.autoCalcShadowZBounds) {\n        this._shadowMinZ = shadowMinZ;\n        this._shadowMaxZ = shadowMaxZ;\n      }\n    }\n    var xOffset = this._orthoRight - this._orthoLeft;\n    var yOffset = this._orthoTop - this._orthoBottom;\n    var minZ = this.shadowMinZ !== void 0 ? this.shadowMinZ : activeCamera.minZ;\n    var maxZ = this.shadowMaxZ !== void 0 ? this.shadowMaxZ : activeCamera.maxZ;\n    var useReverseDepthBuffer = this.getScene().getEngine().useReverseDepthBuffer;\n    Matrix.OrthoOffCenterLHToRef(this._orthoLeft - xOffset * this.shadowOrthoScale, this._orthoRight + xOffset * this.shadowOrthoScale, this._orthoBottom - yOffset * this.shadowOrthoScale, this._orthoTop + yOffset * this.shadowOrthoScale, useReverseDepthBuffer ? maxZ : minZ, useReverseDepthBuffer ? minZ : maxZ, matrix, this.getScene().getEngine().isNDCHalfZRange);\n  };\n  DirectionalLight2.prototype._buildUniformLayout = function() {\n    this._uniformBuffer.addUniform(\"vLightData\", 4);\n    this._uniformBuffer.addUniform(\"vLightDiffuse\", 4);\n    this._uniformBuffer.addUniform(\"vLightSpecular\", 4);\n    this._uniformBuffer.addUniform(\"shadowsInfo\", 3);\n    this._uniformBuffer.addUniform(\"depthValues\", 2);\n    this._uniformBuffer.create();\n  };\n  DirectionalLight2.prototype.transferToEffect = function(effect, lightIndex) {\n    if (this.computeTransformedInformation()) {\n      this._uniformBuffer.updateFloat4(\"vLightData\", this.transformedDirection.x, this.transformedDirection.y, this.transformedDirection.z, 1, lightIndex);\n      return this;\n    }\n    this._uniformBuffer.updateFloat4(\"vLightData\", this.direction.x, this.direction.y, this.direction.z, 1, lightIndex);\n    return this;\n  };\n  DirectionalLight2.prototype.transferToNodeMaterialEffect = function(effect, lightDataUniformName) {\n    if (this.computeTransformedInformation()) {\n      effect.setFloat3(lightDataUniformName, this.transformedDirection.x, this.transformedDirection.y, this.transformedDirection.z);\n      return this;\n    }\n    effect.setFloat3(lightDataUniformName, this.direction.x, this.direction.y, this.direction.z);\n    return this;\n  };\n  DirectionalLight2.prototype.getDepthMinZ = function(activeCamera) {\n    var engine = this._scene.getEngine();\n    return !engine.useReverseDepthBuffer && engine.isNDCHalfZRange ? 0 : 1;\n  };\n  DirectionalLight2.prototype.getDepthMaxZ = function(activeCamera) {\n    var engine = this._scene.getEngine();\n    return engine.useReverseDepthBuffer && engine.isNDCHalfZRange ? 0 : 1;\n  };\n  DirectionalLight2.prototype.prepareLightSpecificDefines = function(defines, lightIndex) {\n    defines[\"DIRLIGHT\" + lightIndex] = true;\n  };\n  __decorate([\n    serialize()\n  ], DirectionalLight2.prototype, \"shadowFrustumSize\", null);\n  __decorate([\n    serialize()\n  ], DirectionalLight2.prototype, \"shadowOrthoScale\", null);\n  __decorate([\n    serialize()\n  ], DirectionalLight2.prototype, \"autoUpdateExtends\", void 0);\n  __decorate([\n    serialize()\n  ], DirectionalLight2.prototype, \"autoCalcShadowZBounds\", void 0);\n  __decorate([\n    serialize(\"orthoLeft\")\n  ], DirectionalLight2.prototype, \"_orthoLeft\", void 0);\n  __decorate([\n    serialize(\"orthoRight\")\n  ], DirectionalLight2.prototype, \"_orthoRight\", void 0);\n  __decorate([\n    serialize(\"orthoTop\")\n  ], DirectionalLight2.prototype, \"_orthoTop\", void 0);\n  __decorate([\n    serialize(\"orthoBottom\")\n  ], DirectionalLight2.prototype, \"_orthoBottom\", void 0);\n  return DirectionalLight2;\n}(ShadowLight);\nNode.AddNodeConstructor(\"Light_Type_3\", function(name2, scene) {\n  return function() {\n    return new HemisphericLight(name2, Vector3.Zero(), scene);\n  };\n});\nvar HemisphericLight = function(_super) {\n  __extends(HemisphericLight2, _super);\n  function HemisphericLight2(name2, direction, scene) {\n    var _this = _super.call(this, name2, scene) || this;\n    _this.groundColor = new Color3(0, 0, 0);\n    _this.direction = direction || Vector3.Up();\n    return _this;\n  }\n  HemisphericLight2.prototype._buildUniformLayout = function() {\n    this._uniformBuffer.addUniform(\"vLightData\", 4);\n    this._uniformBuffer.addUniform(\"vLightDiffuse\", 4);\n    this._uniformBuffer.addUniform(\"vLightSpecular\", 4);\n    this._uniformBuffer.addUniform(\"vLightGround\", 3);\n    this._uniformBuffer.addUniform(\"shadowsInfo\", 3);\n    this._uniformBuffer.addUniform(\"depthValues\", 2);\n    this._uniformBuffer.create();\n  };\n  HemisphericLight2.prototype.getClassName = function() {\n    return \"HemisphericLight\";\n  };\n  HemisphericLight2.prototype.setDirectionToTarget = function(target) {\n    this.direction = Vector3.Normalize(target.subtract(Vector3.Zero()));\n    return this.direction;\n  };\n  HemisphericLight2.prototype.getShadowGenerator = function() {\n    return null;\n  };\n  HemisphericLight2.prototype.transferToEffect = function(_effect, lightIndex) {\n    var normalizeDirection = Vector3.Normalize(this.direction);\n    this._uniformBuffer.updateFloat4(\"vLightData\", normalizeDirection.x, normalizeDirection.y, normalizeDirection.z, 0, lightIndex);\n    this._uniformBuffer.updateColor3(\"vLightGround\", this.groundColor.scale(this.intensity), lightIndex);\n    return this;\n  };\n  HemisphericLight2.prototype.transferToNodeMaterialEffect = function(effect, lightDataUniformName) {\n    var normalizeDirection = Vector3.Normalize(this.direction);\n    effect.setFloat3(lightDataUniformName, normalizeDirection.x, normalizeDirection.y, normalizeDirection.z);\n    return this;\n  };\n  HemisphericLight2.prototype.computeWorldMatrix = function() {\n    if (!this._worldMatrix) {\n      this._worldMatrix = Matrix.Identity();\n    }\n    return this._worldMatrix;\n  };\n  HemisphericLight2.prototype.getTypeID = function() {\n    return Light.LIGHTTYPEID_HEMISPHERICLIGHT;\n  };\n  HemisphericLight2.prototype.prepareLightSpecificDefines = function(defines, lightIndex) {\n    defines[\"HEMILIGHT\" + lightIndex] = true;\n  };\n  __decorate([\n    serializeAsColor3()\n  ], HemisphericLight2.prototype, \"groundColor\", void 0);\n  __decorate([\n    serializeAsVector3()\n  ], HemisphericLight2.prototype, \"direction\", void 0);\n  return HemisphericLight2;\n}(Light);\nvar Size = function() {\n  function Size2(width, height) {\n    this.width = width;\n    this.height = height;\n  }\n  Size2.prototype.toString = function() {\n    return \"{W: \".concat(this.width, \", H: \").concat(this.height, \"}\");\n  };\n  Size2.prototype.getClassName = function() {\n    return \"Size\";\n  };\n  Size2.prototype.getHashCode = function() {\n    var hash = this.width | 0;\n    hash = hash * 397 ^ (this.height | 0);\n    return hash;\n  };\n  Size2.prototype.copyFrom = function(src) {\n    this.width = src.width;\n    this.height = src.height;\n  };\n  Size2.prototype.copyFromFloats = function(width, height) {\n    this.width = width;\n    this.height = height;\n    return this;\n  };\n  Size2.prototype.set = function(width, height) {\n    return this.copyFromFloats(width, height);\n  };\n  Size2.prototype.multiplyByFloats = function(w, h) {\n    return new Size2(this.width * w, this.height * h);\n  };\n  Size2.prototype.clone = function() {\n    return new Size2(this.width, this.height);\n  };\n  Size2.prototype.equals = function(other) {\n    if (!other) {\n      return false;\n    }\n    return this.width === other.width && this.height === other.height;\n  };\n  Object.defineProperty(Size2.prototype, \"surface\", {\n    get: function() {\n      return this.width * this.height;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Size2.Zero = function() {\n    return new Size2(0, 0);\n  };\n  Size2.prototype.add = function(otherSize) {\n    var r = new Size2(this.width + otherSize.width, this.height + otherSize.height);\n    return r;\n  };\n  Size2.prototype.subtract = function(otherSize) {\n    var r = new Size2(this.width - otherSize.width, this.height - otherSize.height);\n    return r;\n  };\n  Size2.Lerp = function(start, end, amount) {\n    var w = start.width + (end.width - start.width) * amount;\n    var h = start.height + (end.height - start.height) * amount;\n    return new Size2(w, h);\n  };\n  return Size2;\n}();\nvar ThinTexture = function() {\n  function ThinTexture2(internalTexture) {\n    this._wrapU = 1;\n    this._wrapV = 1;\n    this.wrapR = 1;\n    this.anisotropicFilteringLevel = 4;\n    this.delayLoadState = 0;\n    this._texture = null;\n    this._engine = null;\n    this._cachedSize = Size.Zero();\n    this._cachedBaseSize = Size.Zero();\n    this._initialSamplingMode = 2;\n    this._texture = internalTexture;\n    if (this._texture) {\n      this._engine = this._texture.getEngine();\n    }\n  }\n  Object.defineProperty(ThinTexture2.prototype, \"wrapU\", {\n    get: function() {\n      return this._wrapU;\n    },\n    set: function(value) {\n      this._wrapU = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinTexture2.prototype, \"wrapV\", {\n    get: function() {\n      return this._wrapV;\n    },\n    set: function(value) {\n      this._wrapV = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinTexture2.prototype, \"coordinatesMode\", {\n    get: function() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinTexture2.prototype, \"isCube\", {\n    get: function() {\n      if (!this._texture) {\n        return false;\n      }\n      return this._texture.isCube;\n    },\n    set: function(value) {\n      if (!this._texture) {\n        return;\n      }\n      this._texture.isCube = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinTexture2.prototype, \"is3D\", {\n    get: function() {\n      if (!this._texture) {\n        return false;\n      }\n      return this._texture.is3D;\n    },\n    set: function(value) {\n      if (!this._texture) {\n        return;\n      }\n      this._texture.is3D = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ThinTexture2.prototype, \"is2DArray\", {\n    get: function() {\n      if (!this._texture) {\n        return false;\n      }\n      return this._texture.is2DArray;\n    },\n    set: function(value) {\n      if (!this._texture) {\n        return;\n      }\n      this._texture.is2DArray = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ThinTexture2.prototype.getClassName = function() {\n    return \"ThinTexture\";\n  };\n  ThinTexture2.prototype.isReady = function() {\n    if (this.delayLoadState === 4) {\n      this.delayLoad();\n      return false;\n    }\n    if (this._texture) {\n      return this._texture.isReady;\n    }\n    return false;\n  };\n  ThinTexture2.prototype.delayLoad = function() {\n  };\n  ThinTexture2.prototype.getInternalTexture = function() {\n    return this._texture;\n  };\n  ThinTexture2.prototype.getSize = function() {\n    if (this._texture) {\n      if (this._texture.width) {\n        this._cachedSize.width = this._texture.width;\n        this._cachedSize.height = this._texture.height;\n        return this._cachedSize;\n      }\n      if (this._texture._size) {\n        this._cachedSize.width = this._texture._size;\n        this._cachedSize.height = this._texture._size;\n        return this._cachedSize;\n      }\n    }\n    return this._cachedSize;\n  };\n  ThinTexture2.prototype.getBaseSize = function() {\n    if (!this.isReady() || !this._texture) {\n      this._cachedBaseSize.width = 0;\n      this._cachedBaseSize.height = 0;\n      return this._cachedBaseSize;\n    }\n    if (this._texture._size) {\n      this._cachedBaseSize.width = this._texture._size;\n      this._cachedBaseSize.height = this._texture._size;\n      return this._cachedBaseSize;\n    }\n    this._cachedBaseSize.width = this._texture.baseWidth;\n    this._cachedBaseSize.height = this._texture.baseHeight;\n    return this._cachedBaseSize;\n  };\n  Object.defineProperty(ThinTexture2.prototype, \"samplingMode\", {\n    get: function() {\n      if (!this._texture) {\n        return this._initialSamplingMode;\n      }\n      return this._texture.samplingMode;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ThinTexture2.prototype.updateSamplingMode = function(samplingMode) {\n    if (this._texture && this._engine) {\n      this._engine.updateTextureSamplingMode(samplingMode, this._texture);\n    }\n  };\n  ThinTexture2.prototype.releaseInternalTexture = function() {\n    if (this._texture) {\n      this._texture.dispose();\n      this._texture = null;\n    }\n  };\n  ThinTexture2.prototype.dispose = function() {\n    if (this._texture) {\n      this.releaseInternalTexture();\n      this._engine = null;\n    }\n  };\n  return ThinTexture2;\n}();\nvar BaseTexture = function(_super) {\n  __extends(BaseTexture2, _super);\n  function BaseTexture2(sceneOrEngine) {\n    var _this = _super.call(this, null) || this;\n    _this.metadata = null;\n    _this.reservedDataStore = null;\n    _this._hasAlpha = false;\n    _this._getAlphaFromRGB = false;\n    _this.level = 1;\n    _this._coordinatesIndex = 0;\n    _this._coordinatesMode = 0;\n    _this.wrapR = 1;\n    _this.anisotropicFilteringLevel = BaseTexture2.DEFAULT_ANISOTROPIC_FILTERING_LEVEL;\n    _this._isCube = false;\n    _this._gammaSpace = true;\n    _this.invertZ = false;\n    _this.lodLevelInAlpha = false;\n    _this.isRenderTarget = false;\n    _this._prefiltered = false;\n    _this._forceSerialize = false;\n    _this.animations = new Array();\n    _this.onDisposeObservable = new Observable();\n    _this._onDisposeObserver = null;\n    _this._scene = null;\n    _this._uid = null;\n    _this._parentContainer = null;\n    _this._loadingError = false;\n    if (sceneOrEngine) {\n      if (BaseTexture2._IsScene(sceneOrEngine)) {\n        _this._scene = sceneOrEngine;\n      } else {\n        _this._engine = sceneOrEngine;\n      }\n    } else {\n      _this._scene = EngineStore.LastCreatedScene;\n    }\n    if (_this._scene) {\n      _this.uniqueId = _this._scene.getUniqueId();\n      _this._scene.addTexture(_this);\n      _this._engine = _this._scene.getEngine();\n    }\n    _this._uid = null;\n    return _this;\n  }\n  Object.defineProperty(BaseTexture2.prototype, \"hasAlpha\", {\n    get: function() {\n      return this._hasAlpha;\n    },\n    set: function(value) {\n      var _this = this;\n      if (this._hasAlpha === value) {\n        return;\n      }\n      this._hasAlpha = value;\n      if (this._scene) {\n        this._scene.markAllMaterialsAsDirty(1, function(mat) {\n          return mat.hasTexture(_this);\n        });\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"getAlphaFromRGB\", {\n    get: function() {\n      return this._getAlphaFromRGB;\n    },\n    set: function(value) {\n      var _this = this;\n      if (this._getAlphaFromRGB === value) {\n        return;\n      }\n      this._getAlphaFromRGB = value;\n      if (this._scene) {\n        this._scene.markAllMaterialsAsDirty(1, function(mat) {\n          return mat.hasTexture(_this);\n        });\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"coordinatesIndex\", {\n    get: function() {\n      return this._coordinatesIndex;\n    },\n    set: function(value) {\n      var _this = this;\n      if (this._coordinatesIndex === value) {\n        return;\n      }\n      this._coordinatesIndex = value;\n      if (this._scene) {\n        this._scene.markAllMaterialsAsDirty(1, function(mat) {\n          return mat.hasTexture(_this);\n        });\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"coordinatesMode\", {\n    get: function() {\n      return this._coordinatesMode;\n    },\n    set: function(value) {\n      var _this = this;\n      if (this._coordinatesMode === value) {\n        return;\n      }\n      this._coordinatesMode = value;\n      if (this._scene) {\n        this._scene.markAllMaterialsAsDirty(1, function(mat) {\n          return mat.hasTexture(_this);\n        });\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"wrapU\", {\n    get: function() {\n      return this._wrapU;\n    },\n    set: function(value) {\n      this._wrapU = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"wrapV\", {\n    get: function() {\n      return this._wrapV;\n    },\n    set: function(value) {\n      this._wrapV = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"isCube\", {\n    get: function() {\n      if (!this._texture) {\n        return this._isCube;\n      }\n      return this._texture.isCube;\n    },\n    set: function(value) {\n      if (!this._texture) {\n        this._isCube = value;\n      } else {\n        this._texture.isCube = value;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"is3D\", {\n    get: function() {\n      if (!this._texture) {\n        return false;\n      }\n      return this._texture.is3D;\n    },\n    set: function(value) {\n      if (!this._texture) {\n        return;\n      }\n      this._texture.is3D = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"is2DArray\", {\n    get: function() {\n      if (!this._texture) {\n        return false;\n      }\n      return this._texture.is2DArray;\n    },\n    set: function(value) {\n      if (!this._texture) {\n        return;\n      }\n      this._texture.is2DArray = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"gammaSpace\", {\n    get: function() {\n      if (!this._texture) {\n        return this._gammaSpace;\n      } else {\n        if (this._texture._gammaSpace === null) {\n          this._texture._gammaSpace = this._gammaSpace;\n        }\n      }\n      return this._texture._gammaSpace && !this._texture._useSRGBBuffer;\n    },\n    set: function(gamma) {\n      if (!this._texture) {\n        if (this._gammaSpace === gamma) {\n          return;\n        }\n        this._gammaSpace = gamma;\n      } else {\n        if (this._texture._gammaSpace === gamma) {\n          return;\n        }\n        this._texture._gammaSpace = gamma;\n      }\n      this._markAllSubMeshesAsTexturesDirty();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"isRGBD\", {\n    get: function() {\n      return this._texture != null && this._texture._isRGBD;\n    },\n    set: function(value) {\n      if (this._texture) {\n        this._texture._isRGBD = value;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"noMipmap\", {\n    get: function() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"lodGenerationOffset\", {\n    get: function() {\n      if (this._texture) {\n        return this._texture._lodGenerationOffset;\n      }\n      return 0;\n    },\n    set: function(value) {\n      if (this._texture) {\n        this._texture._lodGenerationOffset = value;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"lodGenerationScale\", {\n    get: function() {\n      if (this._texture) {\n        return this._texture._lodGenerationScale;\n      }\n      return 0;\n    },\n    set: function(value) {\n      if (this._texture) {\n        this._texture._lodGenerationScale = value;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"linearSpecularLOD\", {\n    get: function() {\n      if (this._texture) {\n        return this._texture._linearSpecularLOD;\n      }\n      return false;\n    },\n    set: function(value) {\n      if (this._texture) {\n        this._texture._linearSpecularLOD = value;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"irradianceTexture\", {\n    get: function() {\n      if (this._texture) {\n        return this._texture._irradianceTexture;\n      }\n      return null;\n    },\n    set: function(value) {\n      if (this._texture) {\n        this._texture._irradianceTexture = value;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"uid\", {\n    get: function() {\n      if (!this._uid) {\n        this._uid = RandomGUID();\n      }\n      return this._uid;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  BaseTexture2.prototype.toString = function() {\n    return this.name;\n  };\n  BaseTexture2.prototype.getClassName = function() {\n    return \"BaseTexture\";\n  };\n  Object.defineProperty(BaseTexture2.prototype, \"onDispose\", {\n    set: function(callback) {\n      if (this._onDisposeObserver) {\n        this.onDisposeObservable.remove(this._onDisposeObserver);\n      }\n      this._onDisposeObserver = this.onDisposeObservable.add(callback);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"isBlocking\", {\n    get: function() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"loadingError\", {\n    get: function() {\n      return this._loadingError;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"errorObject\", {\n    get: function() {\n      return this._errorObject;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  BaseTexture2.prototype.getScene = function() {\n    return this._scene;\n  };\n  BaseTexture2.prototype._getEngine = function() {\n    return this._engine;\n  };\n  BaseTexture2.prototype.checkTransformsAreIdentical = function(texture) {\n    return texture !== null;\n  };\n  BaseTexture2.prototype.getTextureMatrix = function() {\n    return Matrix.IdentityReadOnly;\n  };\n  BaseTexture2.prototype.getReflectionTextureMatrix = function() {\n    return Matrix.IdentityReadOnly;\n  };\n  BaseTexture2.prototype.isReadyOrNotBlocking = function() {\n    return !this.isBlocking || this.isReady() || this.loadingError;\n  };\n  BaseTexture2.prototype.scale = function(ratio) {\n  };\n  Object.defineProperty(BaseTexture2.prototype, \"canRescale\", {\n    get: function() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  BaseTexture2.prototype._getFromCache = function(url, noMipmap, sampling, invertY, useSRGBBuffer) {\n    var engine = this._getEngine();\n    if (!engine) {\n      return null;\n    }\n    var correctedUseSRGBBuffer = engine._getUseSRGBBuffer(!!useSRGBBuffer, noMipmap);\n    var texturesCache = engine.getLoadedTexturesCache();\n    for (var index = 0; index < texturesCache.length; index++) {\n      var texturesCacheEntry = texturesCache[index];\n      if (useSRGBBuffer === void 0 || correctedUseSRGBBuffer === texturesCacheEntry._useSRGBBuffer) {\n        if (invertY === void 0 || invertY === texturesCacheEntry.invertY) {\n          if (texturesCacheEntry.url === url && texturesCacheEntry.generateMipMaps === !noMipmap) {\n            if (!sampling || sampling === texturesCacheEntry.samplingMode) {\n              texturesCacheEntry.incrementReferences();\n              return texturesCacheEntry;\n            }\n          }\n        }\n      }\n    }\n    return null;\n  };\n  BaseTexture2.prototype._rebuild = function() {\n  };\n  BaseTexture2.prototype.clone = function() {\n    return null;\n  };\n  Object.defineProperty(BaseTexture2.prototype, \"textureType\", {\n    get: function() {\n      if (!this._texture) {\n        return 0;\n      }\n      return this._texture.type !== void 0 ? this._texture.type : 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"textureFormat\", {\n    get: function() {\n      if (!this._texture) {\n        return 5;\n      }\n      return this._texture.format !== void 0 ? this._texture.format : 5;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  BaseTexture2.prototype._markAllSubMeshesAsTexturesDirty = function() {\n    var scene = this.getScene();\n    if (!scene) {\n      return;\n    }\n    scene.markAllMaterialsAsDirty(1);\n  };\n  BaseTexture2.prototype.readPixels = function(faceIndex, level, buffer, flushRenderer, noDataConversion, x, y, width, height) {\n    if (faceIndex === void 0) {\n      faceIndex = 0;\n    }\n    if (level === void 0) {\n      level = 0;\n    }\n    if (buffer === void 0) {\n      buffer = null;\n    }\n    if (flushRenderer === void 0) {\n      flushRenderer = true;\n    }\n    if (noDataConversion === void 0) {\n      noDataConversion = false;\n    }\n    if (x === void 0) {\n      x = 0;\n    }\n    if (y === void 0) {\n      y = 0;\n    }\n    if (width === void 0) {\n      width = Number.MAX_VALUE;\n    }\n    if (height === void 0) {\n      height = Number.MAX_VALUE;\n    }\n    if (!this._texture) {\n      return null;\n    }\n    var engine = this._getEngine();\n    if (!engine) {\n      return null;\n    }\n    var size = this.getSize();\n    var maxWidth = size.width;\n    var maxHeight = size.height;\n    if (level !== 0) {\n      maxWidth = maxWidth / Math.pow(2, level);\n      maxHeight = maxHeight / Math.pow(2, level);\n      maxWidth = Math.round(maxWidth);\n      maxHeight = Math.round(maxHeight);\n    }\n    width = Math.min(maxWidth, width);\n    height = Math.min(maxHeight, height);\n    try {\n      if (this._texture.isCube) {\n        return engine._readTexturePixels(this._texture, width, height, faceIndex, level, buffer, flushRenderer, noDataConversion, x, y);\n      }\n      return engine._readTexturePixels(this._texture, width, height, -1, level, buffer, flushRenderer, noDataConversion, x, y);\n    } catch (e) {\n      return null;\n    }\n  };\n  BaseTexture2.prototype._readPixelsSync = function(faceIndex, level, buffer, flushRenderer, noDataConversion) {\n    if (faceIndex === void 0) {\n      faceIndex = 0;\n    }\n    if (level === void 0) {\n      level = 0;\n    }\n    if (buffer === void 0) {\n      buffer = null;\n    }\n    if (flushRenderer === void 0) {\n      flushRenderer = true;\n    }\n    if (noDataConversion === void 0) {\n      noDataConversion = false;\n    }\n    if (!this._texture) {\n      return null;\n    }\n    var size = this.getSize();\n    var width = size.width;\n    var height = size.height;\n    var engine = this._getEngine();\n    if (!engine) {\n      return null;\n    }\n    if (level != 0) {\n      width = width / Math.pow(2, level);\n      height = height / Math.pow(2, level);\n      width = Math.round(width);\n      height = Math.round(height);\n    }\n    try {\n      if (this._texture.isCube) {\n        return engine._readTexturePixelsSync(this._texture, width, height, faceIndex, level, buffer, flushRenderer, noDataConversion);\n      }\n      return engine._readTexturePixelsSync(this._texture, width, height, -1, level, buffer, flushRenderer, noDataConversion);\n    } catch (e) {\n      return null;\n    }\n  };\n  Object.defineProperty(BaseTexture2.prototype, \"_lodTextureHigh\", {\n    get: function() {\n      if (this._texture) {\n        return this._texture._lodTextureHigh;\n      }\n      return null;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"_lodTextureMid\", {\n    get: function() {\n      if (this._texture) {\n        return this._texture._lodTextureMid;\n      }\n      return null;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTexture2.prototype, \"_lodTextureLow\", {\n    get: function() {\n      if (this._texture) {\n        return this._texture._lodTextureLow;\n      }\n      return null;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  BaseTexture2.prototype.dispose = function() {\n    if (this._scene) {\n      if (this._scene.stopAnimation) {\n        this._scene.stopAnimation(this);\n      }\n      this._scene._removePendingData(this);\n      var index = this._scene.textures.indexOf(this);\n      if (index >= 0) {\n        this._scene.textures.splice(index, 1);\n      }\n      this._scene.onTextureRemovedObservable.notifyObservers(this);\n      this._scene = null;\n      if (this._parentContainer) {\n        var index_1 = this._parentContainer.textures.indexOf(this);\n        if (index_1 > -1) {\n          this._parentContainer.textures.splice(index_1, 1);\n        }\n        this._parentContainer = null;\n      }\n    }\n    this.onDisposeObservable.notifyObservers(this);\n    this.onDisposeObservable.clear();\n    this.metadata = null;\n    _super.prototype.dispose.call(this);\n  };\n  BaseTexture2.prototype.serialize = function() {\n    if (!this.name) {\n      return null;\n    }\n    var serializationObject = SerializationHelper.Serialize(this);\n    SerializationHelper.AppendSerializedAnimations(this, serializationObject);\n    return serializationObject;\n  };\n  BaseTexture2.WhenAllReady = function(textures, callback) {\n    var numRemaining = textures.length;\n    if (numRemaining === 0) {\n      callback();\n      return;\n    }\n    for (var i = 0; i < textures.length; i++) {\n      var texture = textures[i];\n      if (texture.isReady()) {\n        if (--numRemaining === 0) {\n          callback();\n        }\n      } else {\n        var onLoadObservable = texture.onLoadObservable;\n        if (onLoadObservable) {\n          onLoadObservable.addOnce(function() {\n            if (--numRemaining === 0) {\n              callback();\n            }\n          });\n        } else {\n          if (--numRemaining === 0) {\n            callback();\n          }\n        }\n      }\n    }\n  };\n  BaseTexture2._IsScene = function(sceneOrEngine) {\n    return sceneOrEngine.getClassName() === \"Scene\";\n  };\n  BaseTexture2.DEFAULT_ANISOTROPIC_FILTERING_LEVEL = 4;\n  __decorate([\n    serialize()\n  ], BaseTexture2.prototype, \"uniqueId\", void 0);\n  __decorate([\n    serialize()\n  ], BaseTexture2.prototype, \"name\", void 0);\n  __decorate([\n    serialize()\n  ], BaseTexture2.prototype, \"metadata\", void 0);\n  __decorate([\n    serialize(\"hasAlpha\")\n  ], BaseTexture2.prototype, \"_hasAlpha\", void 0);\n  __decorate([\n    serialize(\"getAlphaFromRGB\")\n  ], BaseTexture2.prototype, \"_getAlphaFromRGB\", void 0);\n  __decorate([\n    serialize()\n  ], BaseTexture2.prototype, \"level\", void 0);\n  __decorate([\n    serialize(\"coordinatesIndex\")\n  ], BaseTexture2.prototype, \"_coordinatesIndex\", void 0);\n  __decorate([\n    serialize(\"coordinatesMode\")\n  ], BaseTexture2.prototype, \"_coordinatesMode\", void 0);\n  __decorate([\n    serialize()\n  ], BaseTexture2.prototype, \"wrapU\", null);\n  __decorate([\n    serialize()\n  ], BaseTexture2.prototype, \"wrapV\", null);\n  __decorate([\n    serialize()\n  ], BaseTexture2.prototype, \"wrapR\", void 0);\n  __decorate([\n    serialize()\n  ], BaseTexture2.prototype, \"anisotropicFilteringLevel\", void 0);\n  __decorate([\n    serialize()\n  ], BaseTexture2.prototype, \"isCube\", null);\n  __decorate([\n    serialize()\n  ], BaseTexture2.prototype, \"is3D\", null);\n  __decorate([\n    serialize()\n  ], BaseTexture2.prototype, \"is2DArray\", null);\n  __decorate([\n    serialize()\n  ], BaseTexture2.prototype, \"gammaSpace\", null);\n  __decorate([\n    serialize()\n  ], BaseTexture2.prototype, \"invertZ\", void 0);\n  __decorate([\n    serialize()\n  ], BaseTexture2.prototype, \"lodLevelInAlpha\", void 0);\n  __decorate([\n    serialize()\n  ], BaseTexture2.prototype, \"lodGenerationOffset\", null);\n  __decorate([\n    serialize()\n  ], BaseTexture2.prototype, \"lodGenerationScale\", null);\n  __decorate([\n    serialize()\n  ], BaseTexture2.prototype, \"linearSpecularLOD\", null);\n  __decorate([\n    serializeAsTexture()\n  ], BaseTexture2.prototype, \"irradianceTexture\", null);\n  __decorate([\n    serialize()\n  ], BaseTexture2.prototype, \"isRenderTarget\", void 0);\n  return BaseTexture2;\n}(ThinTexture);\nfunction GenerateBase64StringFromPixelData(pixels, size, invertY) {\n  if (invertY === void 0) {\n    invertY = false;\n  }\n  var width = size.width;\n  var height = size.height;\n  if (pixels instanceof Float32Array) {\n    var len = pixels.byteLength / pixels.BYTES_PER_ELEMENT;\n    var npixels = new Uint8Array(len);\n    while (--len >= 0) {\n      var val = pixels[len];\n      if (val < 0) {\n        val = 0;\n      } else if (val > 1) {\n        val = 1;\n      }\n      npixels[len] = val * 255;\n    }\n    pixels = npixels;\n  }\n  var canvas = document.createElement(\"canvas\");\n  canvas.width = width;\n  canvas.height = height;\n  var ctx = canvas.getContext(\"2d\");\n  if (!ctx) {\n    return null;\n  }\n  var imageData = ctx.createImageData(width, height);\n  var castData = imageData.data;\n  castData.set(pixels);\n  ctx.putImageData(imageData, 0, 0);\n  if (invertY) {\n    var canvas2 = document.createElement(\"canvas\");\n    canvas2.width = width;\n    canvas2.height = height;\n    var ctx2 = canvas2.getContext(\"2d\");\n    if (!ctx2) {\n      return null;\n    }\n    ctx2.translate(0, height);\n    ctx2.scale(1, -1);\n    ctx2.drawImage(canvas, 0, 0);\n    return canvas2.toDataURL(\"image/png\");\n  }\n  return canvas.toDataURL(\"image/png\");\n}\nfunction GenerateBase64StringFromTexture(texture, faceIndex, level) {\n  if (faceIndex === void 0) {\n    faceIndex = 0;\n  }\n  if (level === void 0) {\n    level = 0;\n  }\n  var internalTexture = texture.getInternalTexture();\n  if (!internalTexture) {\n    return null;\n  }\n  var pixels = texture._readPixelsSync(faceIndex, level);\n  if (!pixels) {\n    return null;\n  }\n  return GenerateBase64StringFromPixelData(pixels, texture.getSize(), internalTexture.invertY);\n}\nfunction GenerateBase64StringFromTextureAsync(texture, faceIndex, level) {\n  if (faceIndex === void 0) {\n    faceIndex = 0;\n  }\n  if (level === void 0) {\n    level = 0;\n  }\n  return __awaiter(this, void 0, void 0, function() {\n    var internalTexture, pixels;\n    return __generator(this, function(_a) {\n      switch (_a.label) {\n        case 0:\n          internalTexture = texture.getInternalTexture();\n          if (!internalTexture) {\n            return [2, null];\n          }\n          return [4, texture.readPixels(faceIndex, level)];\n        case 1:\n          pixels = _a.sent();\n          if (!pixels) {\n            return [2, null];\n          }\n          return [2, GenerateBase64StringFromPixelData(pixels, texture.getSize(), internalTexture.invertY)];\n      }\n    });\n  });\n}\nvar Texture = function(_super) {\n  __extends(Texture2, _super);\n  function Texture2(url, sceneOrEngine, noMipmapOrOptions, invertY, samplingMode, onLoad, onError, buffer, deleteBuffer, format, mimeType, loaderOptions, creationFlags, forcedExtension) {\n    if (samplingMode === void 0) {\n      samplingMode = Texture2.TRILINEAR_SAMPLINGMODE;\n    }\n    if (onLoad === void 0) {\n      onLoad = null;\n    }\n    if (onError === void 0) {\n      onError = null;\n    }\n    if (buffer === void 0) {\n      buffer = null;\n    }\n    if (deleteBuffer === void 0) {\n      deleteBuffer = false;\n    }\n    var _this = this;\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n    _this = _super.call(this, sceneOrEngine) || this;\n    _this.url = null;\n    _this.uOffset = 0;\n    _this.vOffset = 0;\n    _this.uScale = 1;\n    _this.vScale = 1;\n    _this.uAng = 0;\n    _this.vAng = 0;\n    _this.wAng = 0;\n    _this.uRotationCenter = 0.5;\n    _this.vRotationCenter = 0.5;\n    _this.wRotationCenter = 0.5;\n    _this.homogeneousRotationInUVTransform = false;\n    _this.inspectableCustomProperties = null;\n    _this._noMipmap = false;\n    _this._invertY = false;\n    _this._rowGenerationMatrix = null;\n    _this._cachedTextureMatrix = null;\n    _this._projectionModeMatrix = null;\n    _this._t0 = null;\n    _this._t1 = null;\n    _this._t2 = null;\n    _this._cachedUOffset = -1;\n    _this._cachedVOffset = -1;\n    _this._cachedUScale = 0;\n    _this._cachedVScale = 0;\n    _this._cachedUAng = -1;\n    _this._cachedVAng = -1;\n    _this._cachedWAng = -1;\n    _this._cachedProjectionMatrixId = -1;\n    _this._cachedURotationCenter = -1;\n    _this._cachedVRotationCenter = -1;\n    _this._cachedWRotationCenter = -1;\n    _this._cachedHomogeneousRotationInUVTransform = false;\n    _this._cachedCoordinatesMode = -1;\n    _this._buffer = null;\n    _this._deleteBuffer = false;\n    _this._format = null;\n    _this._delayedOnLoad = null;\n    _this._delayedOnError = null;\n    _this.onLoadObservable = new Observable();\n    _this._isBlocking = true;\n    _this.name = url || \"\";\n    _this.url = url;\n    var noMipmap;\n    var useSRGBBuffer = false;\n    var internalTexture = null;\n    if (typeof noMipmapOrOptions === \"object\" && noMipmapOrOptions !== null) {\n      noMipmap = (_a = noMipmapOrOptions.noMipmap) !== null && _a !== void 0 ? _a : false;\n      invertY = (_b = noMipmapOrOptions.invertY) !== null && _b !== void 0 ? _b : CompatibilityOptions.UseOpenGLOrientationForUV ? false : true;\n      samplingMode = (_c = noMipmapOrOptions.samplingMode) !== null && _c !== void 0 ? _c : Texture2.TRILINEAR_SAMPLINGMODE;\n      onLoad = (_d = noMipmapOrOptions.onLoad) !== null && _d !== void 0 ? _d : null;\n      onError = (_e = noMipmapOrOptions.onError) !== null && _e !== void 0 ? _e : null;\n      buffer = (_f = noMipmapOrOptions.buffer) !== null && _f !== void 0 ? _f : null;\n      deleteBuffer = (_g = noMipmapOrOptions.deleteBuffer) !== null && _g !== void 0 ? _g : false;\n      format = noMipmapOrOptions.format;\n      mimeType = noMipmapOrOptions.mimeType;\n      loaderOptions = noMipmapOrOptions.loaderOptions;\n      creationFlags = noMipmapOrOptions.creationFlags;\n      useSRGBBuffer = (_h = noMipmapOrOptions.useSRGBBuffer) !== null && _h !== void 0 ? _h : false;\n      internalTexture = (_j = noMipmapOrOptions.internalTexture) !== null && _j !== void 0 ? _j : null;\n    } else {\n      noMipmap = !!noMipmapOrOptions;\n    }\n    _this._noMipmap = noMipmap;\n    _this._invertY = invertY === void 0 ? CompatibilityOptions.UseOpenGLOrientationForUV ? false : true : invertY;\n    _this._initialSamplingMode = samplingMode;\n    _this._buffer = buffer;\n    _this._deleteBuffer = deleteBuffer;\n    _this._mimeType = mimeType;\n    _this._loaderOptions = loaderOptions;\n    _this._creationFlags = creationFlags;\n    _this._useSRGBBuffer = useSRGBBuffer;\n    _this._forcedExtension = forcedExtension;\n    if (format) {\n      _this._format = format;\n    }\n    var scene = _this.getScene();\n    var engine = _this._getEngine();\n    if (!engine) {\n      return _this;\n    }\n    engine.onBeforeTextureInitObservable.notifyObservers(_this);\n    var load = function() {\n      if (_this._texture) {\n        if (_this._texture._invertVScale) {\n          _this.vScale *= -1;\n          _this.vOffset += 1;\n        }\n        if (_this._texture._cachedWrapU !== null) {\n          _this.wrapU = _this._texture._cachedWrapU;\n          _this._texture._cachedWrapU = null;\n        }\n        if (_this._texture._cachedWrapV !== null) {\n          _this.wrapV = _this._texture._cachedWrapV;\n          _this._texture._cachedWrapV = null;\n        }\n        if (_this._texture._cachedWrapR !== null) {\n          _this.wrapR = _this._texture._cachedWrapR;\n          _this._texture._cachedWrapR = null;\n        }\n      }\n      if (_this.onLoadObservable.hasObservers()) {\n        _this.onLoadObservable.notifyObservers(_this);\n      }\n      if (onLoad) {\n        onLoad();\n      }\n      if (!_this.isBlocking && scene) {\n        scene.resetCachedMaterial();\n      }\n    };\n    var errorHandler = function(message, exception) {\n      _this._loadingError = true;\n      _this._errorObject = { message, exception };\n      if (onError) {\n        onError(message, exception);\n      }\n      Texture2.OnTextureLoadErrorObservable.notifyObservers(_this);\n    };\n    if (!_this.url) {\n      _this._delayedOnLoad = load;\n      _this._delayedOnError = errorHandler;\n      return _this;\n    }\n    _this._texture = internalTexture !== null && internalTexture !== void 0 ? internalTexture : _this._getFromCache(_this.url, noMipmap, samplingMode, _this._invertY, useSRGBBuffer);\n    if (!_this._texture) {\n      if (!scene || !scene.useDelayedTextureLoading) {\n        try {\n          _this._texture = engine.createTexture(_this.url, noMipmap, _this._invertY, scene, samplingMode, load, errorHandler, _this._buffer, void 0, _this._format, _this._forcedExtension, mimeType, loaderOptions, creationFlags, useSRGBBuffer);\n        } catch (e) {\n          errorHandler(\"error loading\", e);\n          throw e;\n        }\n        if (deleteBuffer) {\n          _this._buffer = null;\n        }\n      } else {\n        _this.delayLoadState = 4;\n        _this._delayedOnLoad = load;\n        _this._delayedOnError = errorHandler;\n      }\n    } else {\n      if (_this._texture.isReady) {\n        TimingTools.SetImmediate(function() {\n          return load();\n        });\n      } else {\n        var loadObserver_1 = _this._texture.onLoadedObservable.add(load);\n        _this._texture.onErrorObservable.add(function(e) {\n          var _a2;\n          errorHandler(e.message, e.exception);\n          (_a2 = _this._texture) === null || _a2 === void 0 ? void 0 : _a2.onLoadedObservable.remove(loadObserver_1);\n        });\n      }\n    }\n    return _this;\n  }\n  Object.defineProperty(Texture2.prototype, \"noMipmap\", {\n    get: function() {\n      return this._noMipmap;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Texture2.prototype, \"mimeType\", {\n    get: function() {\n      return this._mimeType;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Texture2.prototype, \"isBlocking\", {\n    get: function() {\n      return this._isBlocking;\n    },\n    set: function(value) {\n      this._isBlocking = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Texture2.prototype, \"invertY\", {\n    get: function() {\n      return this._invertY;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Texture2.prototype.updateURL = function(url, buffer, onLoad, forcedExtension) {\n    if (buffer === void 0) {\n      buffer = null;\n    }\n    if (this.url) {\n      this.releaseInternalTexture();\n      this.getScene().markAllMaterialsAsDirty(1);\n    }\n    if (!this.name || this.name.startsWith(\"data:\")) {\n      this.name = url;\n    }\n    this.url = url;\n    this._buffer = buffer;\n    this._forcedExtension = forcedExtension;\n    this.delayLoadState = 4;\n    if (onLoad) {\n      this._delayedOnLoad = onLoad;\n    }\n    this.delayLoad();\n  };\n  Texture2.prototype.delayLoad = function() {\n    if (this.delayLoadState !== 4) {\n      return;\n    }\n    var scene = this.getScene();\n    if (!scene) {\n      return;\n    }\n    this.delayLoadState = 1;\n    this._texture = this._getFromCache(this.url, this._noMipmap, this.samplingMode, this._invertY, this._useSRGBBuffer);\n    if (!this._texture) {\n      this._texture = scene.getEngine().createTexture(this.url, this._noMipmap, this._invertY, scene, this.samplingMode, this._delayedOnLoad, this._delayedOnError, this._buffer, null, this._format, this._forcedExtension, this._mimeType, this._loaderOptions, this._creationFlags, this._useSRGBBuffer);\n      if (this._deleteBuffer) {\n        this._buffer = null;\n      }\n    } else {\n      if (this._delayedOnLoad) {\n        if (this._texture.isReady) {\n          TimingTools.SetImmediate(this._delayedOnLoad);\n        } else {\n          this._texture.onLoadedObservable.add(this._delayedOnLoad);\n        }\n      }\n    }\n    this._delayedOnLoad = null;\n    this._delayedOnError = null;\n  };\n  Texture2.prototype._prepareRowForTextureGeneration = function(x, y, z, t) {\n    x *= this._cachedUScale;\n    y *= this._cachedVScale;\n    x -= this.uRotationCenter * this._cachedUScale;\n    y -= this.vRotationCenter * this._cachedVScale;\n    z -= this.wRotationCenter;\n    Vector3.TransformCoordinatesFromFloatsToRef(x, y, z, this._rowGenerationMatrix, t);\n    t.x += this.uRotationCenter * this._cachedUScale + this._cachedUOffset;\n    t.y += this.vRotationCenter * this._cachedVScale + this._cachedVOffset;\n    t.z += this.wRotationCenter;\n  };\n  Texture2.prototype.checkTransformsAreIdentical = function(texture) {\n    return texture !== null && this.uOffset === texture.uOffset && this.vOffset === texture.vOffset && this.uScale === texture.uScale && this.vScale === texture.vScale && this.uAng === texture.uAng && this.vAng === texture.vAng && this.wAng === texture.wAng;\n  };\n  Texture2.prototype.getTextureMatrix = function(uBase) {\n    var _this = this;\n    if (uBase === void 0) {\n      uBase = 1;\n    }\n    if (this.uOffset === this._cachedUOffset && this.vOffset === this._cachedVOffset && this.uScale * uBase === this._cachedUScale && this.vScale === this._cachedVScale && this.uAng === this._cachedUAng && this.vAng === this._cachedVAng && this.wAng === this._cachedWAng && this.uRotationCenter === this._cachedURotationCenter && this.vRotationCenter === this._cachedVRotationCenter && this.wRotationCenter === this._cachedWRotationCenter && this.homogeneousRotationInUVTransform === this._cachedHomogeneousRotationInUVTransform) {\n      return this._cachedTextureMatrix;\n    }\n    this._cachedUOffset = this.uOffset;\n    this._cachedVOffset = this.vOffset;\n    this._cachedUScale = this.uScale * uBase;\n    this._cachedVScale = this.vScale;\n    this._cachedUAng = this.uAng;\n    this._cachedVAng = this.vAng;\n    this._cachedWAng = this.wAng;\n    this._cachedURotationCenter = this.uRotationCenter;\n    this._cachedVRotationCenter = this.vRotationCenter;\n    this._cachedWRotationCenter = this.wRotationCenter;\n    this._cachedHomogeneousRotationInUVTransform = this.homogeneousRotationInUVTransform;\n    if (!this._cachedTextureMatrix || !this._rowGenerationMatrix) {\n      this._cachedTextureMatrix = Matrix.Zero();\n      this._rowGenerationMatrix = new Matrix();\n      this._t0 = Vector3.Zero();\n      this._t1 = Vector3.Zero();\n      this._t2 = Vector3.Zero();\n    }\n    Matrix.RotationYawPitchRollToRef(this.vAng, this.uAng, this.wAng, this._rowGenerationMatrix);\n    if (this.homogeneousRotationInUVTransform) {\n      Matrix.TranslationToRef(-this._cachedURotationCenter, -this._cachedVRotationCenter, -this._cachedWRotationCenter, TmpVectors.Matrix[0]);\n      Matrix.TranslationToRef(this._cachedURotationCenter, this._cachedVRotationCenter, this._cachedWRotationCenter, TmpVectors.Matrix[1]);\n      Matrix.ScalingToRef(this._cachedUScale, this._cachedVScale, 0, TmpVectors.Matrix[2]);\n      Matrix.TranslationToRef(this._cachedUOffset, this._cachedVOffset, 0, TmpVectors.Matrix[3]);\n      TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix, this._cachedTextureMatrix);\n      this._cachedTextureMatrix.multiplyToRef(TmpVectors.Matrix[1], this._cachedTextureMatrix);\n      this._cachedTextureMatrix.multiplyToRef(TmpVectors.Matrix[2], this._cachedTextureMatrix);\n      this._cachedTextureMatrix.multiplyToRef(TmpVectors.Matrix[3], this._cachedTextureMatrix);\n      this._cachedTextureMatrix.setRowFromFloats(2, this._cachedTextureMatrix.m[12], this._cachedTextureMatrix.m[13], this._cachedTextureMatrix.m[14], 1);\n    } else {\n      this._prepareRowForTextureGeneration(0, 0, 0, this._t0);\n      this._prepareRowForTextureGeneration(1, 0, 0, this._t1);\n      this._prepareRowForTextureGeneration(0, 1, 0, this._t2);\n      this._t1.subtractInPlace(this._t0);\n      this._t2.subtractInPlace(this._t0);\n      Matrix.FromValuesToRef(this._t1.x, this._t1.y, this._t1.z, 0, this._t2.x, this._t2.y, this._t2.z, 0, this._t0.x, this._t0.y, this._t0.z, 0, 0, 0, 0, 1, this._cachedTextureMatrix);\n    }\n    var scene = this.getScene();\n    if (!scene) {\n      return this._cachedTextureMatrix;\n    }\n    scene.markAllMaterialsAsDirty(1, function(mat) {\n      return mat.hasTexture(_this);\n    });\n    return this._cachedTextureMatrix;\n  };\n  Texture2.prototype.getReflectionTextureMatrix = function() {\n    var _this = this;\n    var scene = this.getScene();\n    if (!scene) {\n      return this._cachedTextureMatrix;\n    }\n    if (this.uOffset === this._cachedUOffset && this.vOffset === this._cachedVOffset && this.uScale === this._cachedUScale && this.vScale === this._cachedVScale && this.coordinatesMode === this._cachedCoordinatesMode) {\n      if (this.coordinatesMode === Texture2.PROJECTION_MODE) {\n        if (this._cachedProjectionMatrixId === scene.getProjectionMatrix().updateFlag) {\n          return this._cachedTextureMatrix;\n        }\n      } else {\n        return this._cachedTextureMatrix;\n      }\n    }\n    if (!this._cachedTextureMatrix) {\n      this._cachedTextureMatrix = Matrix.Zero();\n    }\n    if (!this._projectionModeMatrix) {\n      this._projectionModeMatrix = Matrix.Zero();\n    }\n    var flagMaterialsAsTextureDirty = this._cachedCoordinatesMode !== this.coordinatesMode;\n    this._cachedUOffset = this.uOffset;\n    this._cachedVOffset = this.vOffset;\n    this._cachedUScale = this.uScale;\n    this._cachedVScale = this.vScale;\n    this._cachedCoordinatesMode = this.coordinatesMode;\n    switch (this.coordinatesMode) {\n      case Texture2.PLANAR_MODE: {\n        Matrix.IdentityToRef(this._cachedTextureMatrix);\n        this._cachedTextureMatrix[0] = this.uScale;\n        this._cachedTextureMatrix[5] = this.vScale;\n        this._cachedTextureMatrix[12] = this.uOffset;\n        this._cachedTextureMatrix[13] = this.vOffset;\n        break;\n      }\n      case Texture2.PROJECTION_MODE: {\n        Matrix.FromValuesToRef(0.5, 0, 0, 0, 0, -0.5, 0, 0, 0, 0, 0, 0, 0.5, 0.5, 1, 1, this._projectionModeMatrix);\n        var projectionMatrix = scene.getProjectionMatrix();\n        this._cachedProjectionMatrixId = projectionMatrix.updateFlag;\n        projectionMatrix.multiplyToRef(this._projectionModeMatrix, this._cachedTextureMatrix);\n        break;\n      }\n      default:\n        Matrix.IdentityToRef(this._cachedTextureMatrix);\n        break;\n    }\n    if (flagMaterialsAsTextureDirty) {\n      scene.markAllMaterialsAsDirty(1, function(mat) {\n        return mat.getActiveTextures().indexOf(_this) !== -1;\n      });\n    }\n    return this._cachedTextureMatrix;\n  };\n  Texture2.prototype.clone = function() {\n    var _this = this;\n    var options = {\n      noMipmap: this._noMipmap,\n      invertY: this._invertY,\n      samplingMode: this.samplingMode,\n      onLoad: void 0,\n      onError: void 0,\n      buffer: this._texture ? this._texture._buffer : void 0,\n      deleteBuffer: this._deleteBuffer,\n      format: this.textureFormat,\n      mimeType: this.mimeType,\n      loaderOptions: this._loaderOptions,\n      creationFlags: this._creationFlags,\n      useSRGBBuffer: this._useSRGBBuffer\n    };\n    return SerializationHelper.Clone(function() {\n      return new Texture2(_this._texture ? _this._texture.url : null, _this.getScene(), options);\n    }, this);\n  };\n  Texture2.prototype.serialize = function() {\n    var savedName = this.name;\n    if (!Texture2.SerializeBuffers) {\n      if (this.name.startsWith(\"data:\")) {\n        this.name = \"\";\n      }\n    }\n    if (this.name.startsWith(\"data:\") && this.url === this.name) {\n      this.url = \"\";\n    }\n    var serializationObject = _super.prototype.serialize.call(this);\n    if (!serializationObject) {\n      return null;\n    }\n    if (Texture2.SerializeBuffers || Texture2.ForceSerializeBuffers) {\n      if (typeof this._buffer === \"string\" && this._buffer.substr(0, 5) === \"data:\") {\n        serializationObject.base64String = this._buffer;\n        serializationObject.name = serializationObject.name.replace(\"data:\", \"\");\n      } else if (this.url && this.url.startsWith(\"data:\") && this._buffer instanceof Uint8Array) {\n        serializationObject.base64String = \"data:image/png;base64,\" + EncodeArrayBufferToBase64(this._buffer);\n      } else if (Texture2.ForceSerializeBuffers || this.url && this.url.startsWith(\"blob:\") || this._forceSerialize) {\n        serializationObject.base64String = !this._engine || this._engine._features.supportSyncTextureRead ? GenerateBase64StringFromTexture(this) : GenerateBase64StringFromTextureAsync(this);\n      }\n    }\n    serializationObject.invertY = this._invertY;\n    serializationObject.samplingMode = this.samplingMode;\n    serializationObject._creationFlags = this._creationFlags;\n    serializationObject._useSRGBBuffer = this._useSRGBBuffer;\n    this.name = savedName;\n    return serializationObject;\n  };\n  Texture2.prototype.getClassName = function() {\n    return \"Texture\";\n  };\n  Texture2.prototype.dispose = function() {\n    _super.prototype.dispose.call(this);\n    this.onLoadObservable.clear();\n    this._delayedOnLoad = null;\n    this._delayedOnError = null;\n  };\n  Texture2.Parse = function(parsedTexture, scene, rootUrl) {\n    if (parsedTexture.customType) {\n      var customTexture = InstantiationTools.Instantiate(parsedTexture.customType);\n      var parsedCustomTexture = customTexture.Parse(parsedTexture, scene, rootUrl);\n      if (parsedTexture.samplingMode && parsedCustomTexture.updateSamplingMode && parsedCustomTexture._samplingMode) {\n        if (parsedCustomTexture._samplingMode !== parsedTexture.samplingMode) {\n          parsedCustomTexture.updateSamplingMode(parsedTexture.samplingMode);\n        }\n      }\n      return parsedCustomTexture;\n    }\n    if (parsedTexture.isCube && !parsedTexture.isRenderTarget) {\n      return Texture2._CubeTextureParser(parsedTexture, scene, rootUrl);\n    }\n    if (!parsedTexture.name && !parsedTexture.isRenderTarget) {\n      return null;\n    }\n    var onLoaded = function() {\n      if (texture && texture._texture) {\n        texture._texture._cachedWrapU = null;\n        texture._texture._cachedWrapV = null;\n        texture._texture._cachedWrapR = null;\n      }\n      if (parsedTexture.samplingMode) {\n        var sampling = parsedTexture.samplingMode;\n        if (texture && texture.samplingMode !== sampling) {\n          texture.updateSamplingMode(sampling);\n        }\n      }\n      if (texture && parsedTexture.animations) {\n        for (var animationIndex = 0; animationIndex < parsedTexture.animations.length; animationIndex++) {\n          var parsedAnimation = parsedTexture.animations[animationIndex];\n          var internalClass = GetClass(\"BABYLON.Animation\");\n          if (internalClass) {\n            texture.animations.push(internalClass.Parse(parsedAnimation));\n          }\n        }\n      }\n    };\n    var texture = SerializationHelper.Parse(function() {\n      var _a, _b, _c;\n      var generateMipMaps = true;\n      if (parsedTexture.noMipmap) {\n        generateMipMaps = false;\n      }\n      if (parsedTexture.mirrorPlane) {\n        var mirrorTexture = Texture2._CreateMirror(parsedTexture.name, parsedTexture.renderTargetSize, scene, generateMipMaps);\n        mirrorTexture._waitingRenderList = parsedTexture.renderList;\n        mirrorTexture.mirrorPlane = Plane.FromArray(parsedTexture.mirrorPlane);\n        onLoaded();\n        return mirrorTexture;\n      } else if (parsedTexture.isRenderTarget) {\n        var renderTargetTexture = null;\n        if (parsedTexture.isCube) {\n          if (scene.reflectionProbes) {\n            for (var index = 0; index < scene.reflectionProbes.length; index++) {\n              var probe = scene.reflectionProbes[index];\n              if (probe.name === parsedTexture.name) {\n                return probe.cubeTexture;\n              }\n            }\n          }\n        } else {\n          renderTargetTexture = Texture2._CreateRenderTargetTexture(parsedTexture.name, parsedTexture.renderTargetSize, scene, generateMipMaps, (_a = parsedTexture._creationFlags) !== null && _a !== void 0 ? _a : 0);\n          renderTargetTexture._waitingRenderList = parsedTexture.renderList;\n        }\n        onLoaded();\n        return renderTargetTexture;\n      } else {\n        var texture_1;\n        if (parsedTexture.base64String) {\n          texture_1 = Texture2.CreateFromBase64String(parsedTexture.base64String, parsedTexture.name, scene, !generateMipMaps, parsedTexture.invertY, parsedTexture.samplingMode, onLoaded, (_b = parsedTexture._creationFlags) !== null && _b !== void 0 ? _b : 0, (_c = parsedTexture._useSRGBBuffer) !== null && _c !== void 0 ? _c : false);\n        } else {\n          var url = void 0;\n          if (parsedTexture.name && parsedTexture.name.indexOf(\"://\") > 0) {\n            url = parsedTexture.name;\n          } else {\n            url = rootUrl + parsedTexture.name;\n          }\n          if (parsedTexture.url && (parsedTexture.url.startsWith(\"data:\") || Texture2.UseSerializedUrlIfAny)) {\n            url = parsedTexture.url;\n          }\n          texture_1 = new Texture2(url, scene, !generateMipMaps, parsedTexture.invertY, parsedTexture.samplingMode, onLoaded);\n        }\n        return texture_1;\n      }\n    }, parsedTexture, scene);\n    return texture;\n  };\n  Texture2.CreateFromBase64String = function(data, name2, scene, noMipmapOrOptions, invertY, samplingMode, onLoad, onError, format, creationFlags) {\n    if (samplingMode === void 0) {\n      samplingMode = Texture2.TRILINEAR_SAMPLINGMODE;\n    }\n    if (onLoad === void 0) {\n      onLoad = null;\n    }\n    if (onError === void 0) {\n      onError = null;\n    }\n    if (format === void 0) {\n      format = 5;\n    }\n    return new Texture2(\"data:\" + name2, scene, noMipmapOrOptions, invertY, samplingMode, onLoad, onError, data, false, format, void 0, void 0, creationFlags);\n  };\n  Texture2.LoadFromDataString = function(name2, buffer, scene, deleteBuffer, noMipmapOrOptions, invertY, samplingMode, onLoad, onError, format, creationFlags) {\n    if (deleteBuffer === void 0) {\n      deleteBuffer = false;\n    }\n    if (invertY === void 0) {\n      invertY = true;\n    }\n    if (samplingMode === void 0) {\n      samplingMode = Texture2.TRILINEAR_SAMPLINGMODE;\n    }\n    if (onLoad === void 0) {\n      onLoad = null;\n    }\n    if (onError === void 0) {\n      onError = null;\n    }\n    if (format === void 0) {\n      format = 5;\n    }\n    if (name2.substr(0, 5) !== \"data:\") {\n      name2 = \"data:\" + name2;\n    }\n    return new Texture2(name2, scene, noMipmapOrOptions, invertY, samplingMode, onLoad, onError, buffer, deleteBuffer, format, void 0, void 0, creationFlags);\n  };\n  Texture2.SerializeBuffers = true;\n  Texture2.ForceSerializeBuffers = false;\n  Texture2.OnTextureLoadErrorObservable = new Observable();\n  Texture2._CubeTextureParser = function(jsonTexture, scene, rootUrl) {\n    throw _WarnImport(\"CubeTexture\");\n  };\n  Texture2._CreateMirror = function(name2, renderTargetSize, scene, generateMipMaps) {\n    throw _WarnImport(\"MirrorTexture\");\n  };\n  Texture2._CreateRenderTargetTexture = function(name2, renderTargetSize, scene, generateMipMaps, creationFlags) {\n    throw _WarnImport(\"RenderTargetTexture\");\n  };\n  Texture2.NEAREST_SAMPLINGMODE = 1;\n  Texture2.NEAREST_NEAREST_MIPLINEAR = 8;\n  Texture2.BILINEAR_SAMPLINGMODE = 2;\n  Texture2.LINEAR_LINEAR_MIPNEAREST = 11;\n  Texture2.TRILINEAR_SAMPLINGMODE = 3;\n  Texture2.LINEAR_LINEAR_MIPLINEAR = 3;\n  Texture2.NEAREST_NEAREST_MIPNEAREST = 4;\n  Texture2.NEAREST_LINEAR_MIPNEAREST = 5;\n  Texture2.NEAREST_LINEAR_MIPLINEAR = 6;\n  Texture2.NEAREST_LINEAR = 7;\n  Texture2.NEAREST_NEAREST = 1;\n  Texture2.LINEAR_NEAREST_MIPNEAREST = 9;\n  Texture2.LINEAR_NEAREST_MIPLINEAR = 10;\n  Texture2.LINEAR_LINEAR = 2;\n  Texture2.LINEAR_NEAREST = 12;\n  Texture2.EXPLICIT_MODE = 0;\n  Texture2.SPHERICAL_MODE = 1;\n  Texture2.PLANAR_MODE = 2;\n  Texture2.CUBIC_MODE = 3;\n  Texture2.PROJECTION_MODE = 4;\n  Texture2.SKYBOX_MODE = 5;\n  Texture2.INVCUBIC_MODE = 6;\n  Texture2.EQUIRECTANGULAR_MODE = 7;\n  Texture2.FIXED_EQUIRECTANGULAR_MODE = 8;\n  Texture2.FIXED_EQUIRECTANGULAR_MIRRORED_MODE = 9;\n  Texture2.CLAMP_ADDRESSMODE = 0;\n  Texture2.WRAP_ADDRESSMODE = 1;\n  Texture2.MIRROR_ADDRESSMODE = 2;\n  Texture2.UseSerializedUrlIfAny = false;\n  __decorate([\n    serialize()\n  ], Texture2.prototype, \"url\", void 0);\n  __decorate([\n    serialize()\n  ], Texture2.prototype, \"uOffset\", void 0);\n  __decorate([\n    serialize()\n  ], Texture2.prototype, \"vOffset\", void 0);\n  __decorate([\n    serialize()\n  ], Texture2.prototype, \"uScale\", void 0);\n  __decorate([\n    serialize()\n  ], Texture2.prototype, \"vScale\", void 0);\n  __decorate([\n    serialize()\n  ], Texture2.prototype, \"uAng\", void 0);\n  __decorate([\n    serialize()\n  ], Texture2.prototype, \"vAng\", void 0);\n  __decorate([\n    serialize()\n  ], Texture2.prototype, \"wAng\", void 0);\n  __decorate([\n    serialize()\n  ], Texture2.prototype, \"uRotationCenter\", void 0);\n  __decorate([\n    serialize()\n  ], Texture2.prototype, \"vRotationCenter\", void 0);\n  __decorate([\n    serialize()\n  ], Texture2.prototype, \"wRotationCenter\", void 0);\n  __decorate([\n    serialize()\n  ], Texture2.prototype, \"homogeneousRotationInUVTransform\", void 0);\n  __decorate([\n    serialize()\n  ], Texture2.prototype, \"isBlocking\", null);\n  return Texture2;\n}(BaseTexture);\nRegisterClass(\"BABYLON.Texture\", Texture);\nSerializationHelper._TextureParser = Texture.Parse;\nvar RenderTargetWrapper = function() {\n  function RenderTargetWrapper2(isMulti, isCube, size, engine) {\n    this._textures = null;\n    this._attachments = null;\n    this._generateStencilBuffer = false;\n    this._generateDepthBuffer = false;\n    this._depthStencilTextureWithStencil = false;\n    this._isMulti = isMulti;\n    this._isCube = isCube;\n    this._size = size;\n    this._engine = engine;\n    this._depthStencilTexture = null;\n  }\n  Object.defineProperty(RenderTargetWrapper2.prototype, \"depthStencilTexture\", {\n    get: function() {\n      return this._depthStencilTexture;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderTargetWrapper2.prototype, \"depthStencilTextureWithStencil\", {\n    get: function() {\n      return this._depthStencilTextureWithStencil;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderTargetWrapper2.prototype, \"isCube\", {\n    get: function() {\n      return this._isCube;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderTargetWrapper2.prototype, \"isMulti\", {\n    get: function() {\n      return this._isMulti;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderTargetWrapper2.prototype, \"is2DArray\", {\n    get: function() {\n      return this.layers > 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderTargetWrapper2.prototype, \"size\", {\n    get: function() {\n      return this.width;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderTargetWrapper2.prototype, \"width\", {\n    get: function() {\n      return this._size.width || this._size;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderTargetWrapper2.prototype, \"height\", {\n    get: function() {\n      return this._size.height || this._size;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderTargetWrapper2.prototype, \"layers\", {\n    get: function() {\n      return this._size.layers || 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderTargetWrapper2.prototype, \"texture\", {\n    get: function() {\n      var _a, _b;\n      return (_b = (_a = this._textures) === null || _a === void 0 ? void 0 : _a[0]) !== null && _b !== void 0 ? _b : null;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderTargetWrapper2.prototype, \"textures\", {\n    get: function() {\n      return this._textures;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderTargetWrapper2.prototype, \"samples\", {\n    get: function() {\n      var _a, _b;\n      return (_b = (_a = this.texture) === null || _a === void 0 ? void 0 : _a.samples) !== null && _b !== void 0 ? _b : 1;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  RenderTargetWrapper2.prototype.setSamples = function(value, initializeBuffers, force) {\n    if (initializeBuffers === void 0) {\n      initializeBuffers = true;\n    }\n    if (force === void 0) {\n      force = false;\n    }\n    if (this.samples === value && !force) {\n      return value;\n    }\n    return this._isMulti ? this._engine.updateMultipleRenderTargetTextureSampleCount(this, value, initializeBuffers) : this._engine.updateRenderTargetTextureSampleCount(this, value);\n  };\n  RenderTargetWrapper2.prototype.setTextures = function(textures) {\n    if (Array.isArray(textures)) {\n      this._textures = textures;\n    } else if (textures) {\n      this._textures = [textures];\n    } else {\n      this._textures = null;\n    }\n  };\n  RenderTargetWrapper2.prototype.setTexture = function(texture, index, disposePrevious) {\n    if (index === void 0) {\n      index = 0;\n    }\n    if (disposePrevious === void 0) {\n      disposePrevious = true;\n    }\n    if (!this._textures) {\n      this._textures = [];\n    }\n    if (this._textures[index] && disposePrevious) {\n      this._textures[index].dispose();\n    }\n    this._textures[index] = texture;\n  };\n  RenderTargetWrapper2.prototype.createDepthStencilTexture = function(comparisonFunction, bilinearFiltering, generateStencil, samples, format) {\n    var _a;\n    if (comparisonFunction === void 0) {\n      comparisonFunction = 0;\n    }\n    if (bilinearFiltering === void 0) {\n      bilinearFiltering = true;\n    }\n    if (generateStencil === void 0) {\n      generateStencil = false;\n    }\n    if (samples === void 0) {\n      samples = 1;\n    }\n    if (format === void 0) {\n      format = 14;\n    }\n    (_a = this._depthStencilTexture) === null || _a === void 0 ? void 0 : _a.dispose();\n    this._depthStencilTextureWithStencil = generateStencil;\n    this._depthStencilTexture = this._engine.createDepthStencilTexture(this._size, {\n      bilinearFiltering,\n      comparisonFunction,\n      generateStencil,\n      isCube: this._isCube,\n      samples,\n      depthTextureFormat: format\n    }, this);\n    return this._depthStencilTexture;\n  };\n  RenderTargetWrapper2.prototype._shareDepth = function(renderTarget) {\n    if (this._depthStencilTexture) {\n      if (renderTarget._depthStencilTexture) {\n        renderTarget._depthStencilTexture.dispose();\n      }\n      renderTarget._depthStencilTexture = this._depthStencilTexture;\n      this._depthStencilTexture.incrementReferences();\n    }\n  };\n  RenderTargetWrapper2.prototype._swapAndDie = function(target) {\n    if (this.texture) {\n      this.texture._swapAndDie(target);\n    }\n    this._textures = null;\n    this.dispose(true);\n  };\n  RenderTargetWrapper2.prototype._cloneRenderTargetWrapper = function() {\n    var _a, _b, _c, _d, _e, _f;\n    var rtw = null;\n    if (this._isMulti) {\n      var textureArray = this.textures;\n      if (textureArray && textureArray.length > 0) {\n        var generateDepthTexture = false;\n        var textureCount = textureArray.length;\n        var lastTextureSource = textureArray[textureArray.length - 1]._source;\n        if (lastTextureSource === InternalTextureSource.Depth || lastTextureSource === InternalTextureSource.DepthStencil) {\n          generateDepthTexture = true;\n          textureCount--;\n        }\n        var samplingModes = [];\n        var types = [];\n        for (var i = 0; i < textureCount; ++i) {\n          var texture = textureArray[i];\n          samplingModes.push(texture.samplingMode);\n          types.push(texture.type);\n        }\n        var optionsMRT = {\n          samplingModes,\n          generateMipMaps: textureArray[0].generateMipMaps,\n          generateDepthBuffer: this._generateDepthBuffer,\n          generateStencilBuffer: this._generateStencilBuffer,\n          generateDepthTexture,\n          types,\n          textureCount\n        };\n        var size = {\n          width: this.width,\n          height: this.height\n        };\n        rtw = this._engine.createMultipleRenderTarget(size, optionsMRT);\n      }\n    } else {\n      var options = {};\n      options.generateDepthBuffer = this._generateDepthBuffer;\n      options.generateMipMaps = (_b = (_a = this.texture) === null || _a === void 0 ? void 0 : _a.generateMipMaps) !== null && _b !== void 0 ? _b : false;\n      options.generateStencilBuffer = this._generateStencilBuffer;\n      options.samplingMode = (_c = this.texture) === null || _c === void 0 ? void 0 : _c.samplingMode;\n      options.type = (_d = this.texture) === null || _d === void 0 ? void 0 : _d.type;\n      options.format = (_e = this.texture) === null || _e === void 0 ? void 0 : _e.format;\n      if (this.isCube) {\n        rtw = this._engine.createRenderTargetCubeTexture(this.width, options);\n      } else {\n        var size = {\n          width: this.width,\n          height: this.height,\n          layers: this.is2DArray ? (_f = this.texture) === null || _f === void 0 ? void 0 : _f.depth : void 0\n        };\n        rtw = this._engine.createRenderTargetTexture(size, options);\n      }\n      rtw.texture.isReady = true;\n    }\n    return rtw;\n  };\n  RenderTargetWrapper2.prototype._swapRenderTargetWrapper = function(target) {\n    if (this._textures && target._textures) {\n      for (var i = 0; i < this._textures.length; ++i) {\n        this._textures[i]._swapAndDie(target._textures[i], false);\n        target._textures[i].isReady = true;\n      }\n    }\n    if (this._depthStencilTexture && target._depthStencilTexture) {\n      this._depthStencilTexture._swapAndDie(target._depthStencilTexture);\n      target._depthStencilTexture.isReady = true;\n    }\n    this._textures = null;\n    this._depthStencilTexture = null;\n  };\n  RenderTargetWrapper2.prototype._rebuild = function() {\n    var rtw = this._cloneRenderTargetWrapper();\n    if (!rtw) {\n      return;\n    }\n    if (this._depthStencilTexture) {\n      var samplingMode = this._depthStencilTexture.samplingMode;\n      var bilinear = samplingMode === 2 || samplingMode === 3 || samplingMode === 11;\n      rtw.createDepthStencilTexture(this._depthStencilTexture._comparisonFunction, bilinear, this._depthStencilTextureWithStencil, this._depthStencilTexture.samples);\n    }\n    if (this.samples > 1) {\n      rtw.setSamples(this.samples);\n    }\n    rtw._swapRenderTargetWrapper(this);\n    rtw.dispose();\n  };\n  RenderTargetWrapper2.prototype.releaseTextures = function() {\n    var _a, _b;\n    if (this._textures) {\n      for (var i = 0; (_b = i < ((_a = this._textures) === null || _a === void 0 ? void 0 : _a.length)) !== null && _b !== void 0 ? _b : 0; ++i) {\n        this._textures[i].dispose();\n      }\n    }\n    this._textures = null;\n  };\n  RenderTargetWrapper2.prototype.dispose = function(disposeOnlyFramebuffers) {\n    var _a;\n    if (disposeOnlyFramebuffers === void 0) {\n      disposeOnlyFramebuffers = false;\n    }\n    if (!disposeOnlyFramebuffers) {\n      (_a = this._depthStencilTexture) === null || _a === void 0 ? void 0 : _a.dispose();\n      this._depthStencilTexture = null;\n      this.releaseTextures();\n    }\n    this._engine._releaseRenderTargetWrapper(this);\n  };\n  return RenderTargetWrapper2;\n}();\nvar WebGLRenderTargetWrapper = function(_super) {\n  __extends(WebGLRenderTargetWrapper2, _super);\n  function WebGLRenderTargetWrapper2(isMulti, isCube, size, engine, context) {\n    var _this = _super.call(this, isMulti, isCube, size, engine) || this;\n    _this._framebuffer = null;\n    _this._depthStencilBuffer = null;\n    _this._MSAAFramebuffer = null;\n    _this._colorTextureArray = null;\n    _this._depthStencilTextureArray = null;\n    _this._context = context;\n    return _this;\n  }\n  WebGLRenderTargetWrapper2.prototype._cloneRenderTargetWrapper = function() {\n    var rtw = null;\n    if (this._colorTextureArray && this._depthStencilTextureArray) {\n      rtw = this._engine.createMultiviewRenderTargetTexture(this.width, this.height);\n      rtw.texture.isReady = true;\n    } else {\n      rtw = _super.prototype._cloneRenderTargetWrapper.call(this);\n    }\n    return rtw;\n  };\n  WebGLRenderTargetWrapper2.prototype._swapRenderTargetWrapper = function(target) {\n    _super.prototype._swapRenderTargetWrapper.call(this, target);\n    target._framebuffer = this._framebuffer;\n    target._depthStencilBuffer = this._depthStencilBuffer;\n    target._MSAAFramebuffer = this._MSAAFramebuffer;\n    target._colorTextureArray = this._colorTextureArray;\n    target._depthStencilTextureArray = this._depthStencilTextureArray;\n    this._framebuffer = this._depthStencilBuffer = this._MSAAFramebuffer = this._colorTextureArray = this._depthStencilTextureArray = null;\n  };\n  WebGLRenderTargetWrapper2.prototype._shareDepth = function(renderTarget) {\n    _super.prototype._shareDepth.call(this, renderTarget);\n    var gl = this._context;\n    var depthbuffer = this._depthStencilBuffer;\n    var framebuffer = renderTarget._framebuffer;\n    if (renderTarget._depthStencilBuffer) {\n      gl.deleteRenderbuffer(renderTarget._depthStencilBuffer);\n    }\n    renderTarget._depthStencilBuffer = this._depthStencilBuffer;\n    this._engine._bindUnboundFramebuffer(framebuffer);\n    gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, depthbuffer);\n    this._engine._bindUnboundFramebuffer(null);\n  };\n  WebGLRenderTargetWrapper2.prototype._bindTextureRenderTarget = function(texture, attachmentIndex, faceIndex, lodLevel) {\n    if (attachmentIndex === void 0) {\n      attachmentIndex = 0;\n    }\n    if (faceIndex === void 0) {\n      faceIndex = -1;\n    }\n    if (lodLevel === void 0) {\n      lodLevel = 0;\n    }\n    if (!texture._hardwareTexture) {\n      return;\n    }\n    var gl = this._context;\n    var framebuffer = this._framebuffer;\n    var currentFB = this._engine._currentFramebuffer;\n    this._engine._bindUnboundFramebuffer(framebuffer);\n    var attachment = gl[this._engine.webGLVersion > 1 ? \"COLOR_ATTACHMENT\" + attachmentIndex : \"COLOR_ATTACHMENT\" + attachmentIndex + \"_WEBGL\"];\n    var target = faceIndex !== -1 ? gl.TEXTURE_CUBE_MAP_POSITIVE_X + faceIndex : gl.TEXTURE_2D;\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, attachment, target, texture._hardwareTexture.underlyingResource, lodLevel);\n    this._engine._bindUnboundFramebuffer(currentFB);\n  };\n  WebGLRenderTargetWrapper2.prototype.setTexture = function(texture, index, disposePrevious) {\n    if (index === void 0) {\n      index = 0;\n    }\n    if (disposePrevious === void 0) {\n      disposePrevious = true;\n    }\n    _super.prototype.setTexture.call(this, texture, index, disposePrevious);\n    this._bindTextureRenderTarget(texture, index);\n  };\n  WebGLRenderTargetWrapper2.prototype.dispose = function(disposeOnlyFramebuffers) {\n    if (disposeOnlyFramebuffers === void 0) {\n      disposeOnlyFramebuffers = false;\n    }\n    var gl = this._context;\n    if (!disposeOnlyFramebuffers) {\n      if (this._colorTextureArray) {\n        this._context.deleteTexture(this._colorTextureArray);\n        this._colorTextureArray = null;\n      }\n      if (this._depthStencilTextureArray) {\n        this._context.deleteTexture(this._depthStencilTextureArray);\n        this._depthStencilTextureArray = null;\n      }\n    }\n    if (this._framebuffer) {\n      gl.deleteFramebuffer(this._framebuffer);\n      this._framebuffer = null;\n    }\n    if (this._depthStencilBuffer) {\n      gl.deleteRenderbuffer(this._depthStencilBuffer);\n      this._depthStencilBuffer = null;\n    }\n    if (this._MSAAFramebuffer) {\n      gl.deleteFramebuffer(this._MSAAFramebuffer);\n      this._MSAAFramebuffer = null;\n    }\n    _super.prototype.dispose.call(this, disposeOnlyFramebuffers);\n  };\n  return WebGLRenderTargetWrapper2;\n}(RenderTargetWrapper);\nThinEngine.prototype._createHardwareRenderTargetWrapper = function(isMulti, isCube, size) {\n  var rtWrapper = new WebGLRenderTargetWrapper(isMulti, isCube, size, this, this._gl);\n  this._renderTargetWrapperCache.push(rtWrapper);\n  return rtWrapper;\n};\nThinEngine.prototype.createRenderTargetTexture = function(size, options) {\n  var rtWrapper = this._createHardwareRenderTargetWrapper(false, false, size);\n  var fullOptions = {};\n  if (options !== void 0 && typeof options === \"object\") {\n    fullOptions.generateDepthBuffer = !!options.generateDepthBuffer;\n    fullOptions.generateStencilBuffer = !!options.generateStencilBuffer;\n    fullOptions.noColorTarget = !!options.noColorTarget;\n  } else {\n    fullOptions.generateDepthBuffer = true;\n    fullOptions.generateStencilBuffer = false;\n    fullOptions.noColorTarget = false;\n  }\n  var texture = fullOptions.noColorTarget ? null : this._createInternalTexture(size, options, true, InternalTextureSource.RenderTarget);\n  var width = size.width || size;\n  var height = size.height || size;\n  var currentFrameBuffer = this._currentFramebuffer;\n  var gl = this._gl;\n  var framebuffer = gl.createFramebuffer();\n  this._bindUnboundFramebuffer(framebuffer);\n  rtWrapper._depthStencilBuffer = this._setupFramebufferDepthAttachments(fullOptions.generateStencilBuffer ? true : false, fullOptions.generateDepthBuffer, width, height);\n  if (texture && !texture.is2DArray) {\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture._hardwareTexture.underlyingResource, 0);\n  }\n  this._bindUnboundFramebuffer(currentFrameBuffer);\n  rtWrapper._framebuffer = framebuffer;\n  rtWrapper._generateDepthBuffer = fullOptions.generateDepthBuffer;\n  rtWrapper._generateStencilBuffer = fullOptions.generateStencilBuffer ? true : false;\n  rtWrapper.setTextures(texture);\n  return rtWrapper;\n};\nThinEngine.prototype.createDepthStencilTexture = function(size, options, rtWrapper) {\n  if (options.isCube) {\n    var width = size.width || size;\n    return this._createDepthStencilCubeTexture(width, options, rtWrapper);\n  } else {\n    return this._createDepthStencilTexture(size, options, rtWrapper);\n  }\n};\nThinEngine.prototype._createDepthStencilTexture = function(size, options, rtWrapper) {\n  var gl = this._gl;\n  var layers = size.layers || 0;\n  var target = layers !== 0 ? gl.TEXTURE_2D_ARRAY : gl.TEXTURE_2D;\n  var internalTexture = new InternalTexture(this, InternalTextureSource.DepthStencil);\n  if (!this._caps.depthTextureExtension) {\n    Logger.Error(\"Depth texture is not supported by your browser or hardware.\");\n    return internalTexture;\n  }\n  var internalOptions = __assign({ bilinearFiltering: false, comparisonFunction: 0, generateStencil: false }, options);\n  this._bindTextureDirectly(target, internalTexture, true);\n  this._setupDepthStencilTexture(internalTexture, size, internalOptions.generateStencil, internalOptions.comparisonFunction === 0 ? false : internalOptions.bilinearFiltering, internalOptions.comparisonFunction);\n  internalTexture.format = internalOptions.generateStencil ? 13 : 16;\n  rtWrapper._depthStencilTexture = internalTexture;\n  rtWrapper._depthStencilTextureWithStencil = internalOptions.generateStencil;\n  var type = internalOptions.generateStencil ? gl.UNSIGNED_INT_24_8 : gl.UNSIGNED_INT;\n  var internalFormat = internalOptions.generateStencil ? gl.DEPTH_STENCIL : gl.DEPTH_COMPONENT;\n  var sizedFormat = internalFormat;\n  if (this.webGLVersion > 1) {\n    sizedFormat = internalOptions.generateStencil ? gl.DEPTH24_STENCIL8 : gl.DEPTH_COMPONENT24;\n  }\n  if (internalTexture.is2DArray) {\n    gl.texImage3D(target, 0, sizedFormat, internalTexture.width, internalTexture.height, layers, 0, internalFormat, type, null);\n  } else {\n    gl.texImage2D(target, 0, sizedFormat, internalTexture.width, internalTexture.height, 0, internalFormat, type, null);\n  }\n  this._bindTextureDirectly(target, null);\n  this._internalTexturesCache.push(internalTexture);\n  return internalTexture;\n};\nThinEngine.prototype.updateRenderTargetTextureSampleCount = function(rtWrapper, samples) {\n  if (this.webGLVersion < 2 || !rtWrapper || !rtWrapper.texture) {\n    return 1;\n  }\n  if (rtWrapper.samples === samples) {\n    return samples;\n  }\n  var gl = this._gl;\n  samples = Math.min(samples, this.getCaps().maxMSAASamples);\n  if (rtWrapper._depthStencilBuffer) {\n    gl.deleteRenderbuffer(rtWrapper._depthStencilBuffer);\n    rtWrapper._depthStencilBuffer = null;\n  }\n  if (rtWrapper._MSAAFramebuffer) {\n    gl.deleteFramebuffer(rtWrapper._MSAAFramebuffer);\n    rtWrapper._MSAAFramebuffer = null;\n  }\n  var hardwareTexture = rtWrapper.texture._hardwareTexture;\n  if (hardwareTexture._MSAARenderBuffer) {\n    gl.deleteRenderbuffer(hardwareTexture._MSAARenderBuffer);\n    hardwareTexture._MSAARenderBuffer = null;\n  }\n  if (samples > 1 && gl.renderbufferStorageMultisample) {\n    var framebuffer = gl.createFramebuffer();\n    if (!framebuffer) {\n      throw new Error(\"Unable to create multi sampled framebuffer\");\n    }\n    rtWrapper._MSAAFramebuffer = framebuffer;\n    this._bindUnboundFramebuffer(rtWrapper._MSAAFramebuffer);\n    var colorRenderbuffer = this._createRenderBuffer(rtWrapper.texture.width, rtWrapper.texture.height, samples, -1, this._getRGBAMultiSampleBufferFormat(rtWrapper.texture.type), gl.COLOR_ATTACHMENT0, false);\n    if (!colorRenderbuffer) {\n      throw new Error(\"Unable to create multi sampled framebuffer\");\n    }\n    hardwareTexture._MSAARenderBuffer = colorRenderbuffer;\n  } else {\n    this._bindUnboundFramebuffer(rtWrapper._framebuffer);\n  }\n  rtWrapper.texture.samples = samples;\n  rtWrapper._depthStencilBuffer = this._setupFramebufferDepthAttachments(rtWrapper._generateStencilBuffer, rtWrapper._generateDepthBuffer, rtWrapper.texture.width, rtWrapper.texture.height, samples);\n  this._bindUnboundFramebuffer(null);\n  return samples;\n};\nThinEngine.prototype.createRenderTargetCubeTexture = function(size, options) {\n  var rtWrapper = this._createHardwareRenderTargetWrapper(false, true, size);\n  var fullOptions = __assign({ generateMipMaps: true, generateDepthBuffer: true, generateStencilBuffer: false, type: 0, samplingMode: 3, format: 5 }, options);\n  fullOptions.generateStencilBuffer = fullOptions.generateDepthBuffer && fullOptions.generateStencilBuffer;\n  if (fullOptions.type === 1 && !this._caps.textureFloatLinearFiltering) {\n    fullOptions.samplingMode = 1;\n  } else if (fullOptions.type === 2 && !this._caps.textureHalfFloatLinearFiltering) {\n    fullOptions.samplingMode = 1;\n  }\n  var gl = this._gl;\n  var texture = new InternalTexture(this, InternalTextureSource.RenderTarget);\n  this._bindTextureDirectly(gl.TEXTURE_CUBE_MAP, texture, true);\n  var filters = this._getSamplingParameters(fullOptions.samplingMode, fullOptions.generateMipMaps);\n  if (fullOptions.type === 1 && !this._caps.textureFloat) {\n    fullOptions.type = 0;\n    Logger.Warn(\"Float textures are not supported. Cube render target forced to TEXTURETYPE_UNESIGNED_BYTE type\");\n  }\n  gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_MAG_FILTER, filters.mag);\n  gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_MIN_FILTER, filters.min);\n  gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  for (var face = 0; face < 6; face++) {\n    gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X + face, 0, this._getRGBABufferInternalSizedFormat(fullOptions.type, fullOptions.format), size, size, 0, this._getInternalFormat(fullOptions.format), this._getWebGLTextureType(fullOptions.type), null);\n  }\n  var framebuffer = gl.createFramebuffer();\n  this._bindUnboundFramebuffer(framebuffer);\n  rtWrapper._depthStencilBuffer = this._setupFramebufferDepthAttachments(fullOptions.generateStencilBuffer, fullOptions.generateDepthBuffer, size, size);\n  if (fullOptions.generateMipMaps) {\n    gl.generateMipmap(gl.TEXTURE_CUBE_MAP);\n  }\n  this._bindTextureDirectly(gl.TEXTURE_CUBE_MAP, null);\n  this._bindUnboundFramebuffer(null);\n  rtWrapper._framebuffer = framebuffer;\n  rtWrapper._generateDepthBuffer = fullOptions.generateDepthBuffer;\n  rtWrapper._generateStencilBuffer = fullOptions.generateStencilBuffer;\n  texture.width = size;\n  texture.height = size;\n  texture.isReady = true;\n  texture.isCube = true;\n  texture.samples = 1;\n  texture.generateMipMaps = fullOptions.generateMipMaps;\n  texture.samplingMode = fullOptions.samplingMode;\n  texture.type = fullOptions.type;\n  texture.format = fullOptions.format;\n  this._internalTexturesCache.push(texture);\n  rtWrapper.setTextures(texture);\n  return rtWrapper;\n};\nvar RenderTargetTexture = function(_super) {\n  __extends(RenderTargetTexture2, _super);\n  function RenderTargetTexture2(name2, size, scene, generateMipMaps, doNotChangeAspectRatio, type, isCube, samplingMode, generateDepthBuffer, generateStencilBuffer, isMulti, format, delayAllocation, samples, creationFlags, noColorTarget, useSRGBBuffer) {\n    if (doNotChangeAspectRatio === void 0) {\n      doNotChangeAspectRatio = true;\n    }\n    if (type === void 0) {\n      type = 0;\n    }\n    if (isCube === void 0) {\n      isCube = false;\n    }\n    if (samplingMode === void 0) {\n      samplingMode = Texture.TRILINEAR_SAMPLINGMODE;\n    }\n    if (generateDepthBuffer === void 0) {\n      generateDepthBuffer = true;\n    }\n    if (generateStencilBuffer === void 0) {\n      generateStencilBuffer = false;\n    }\n    if (isMulti === void 0) {\n      isMulti = false;\n    }\n    if (format === void 0) {\n      format = 5;\n    }\n    if (delayAllocation === void 0) {\n      delayAllocation = false;\n    }\n    if (noColorTarget === void 0) {\n      noColorTarget = false;\n    }\n    if (useSRGBBuffer === void 0) {\n      useSRGBBuffer = false;\n    }\n    var _this = this;\n    var _a;\n    _this = _super.call(this, null, scene, !generateMipMaps, void 0, samplingMode, void 0, void 0, void 0, void 0, format) || this;\n    _this.renderParticles = true;\n    _this.renderSprites = false;\n    _this.ignoreCameraViewport = false;\n    _this.onBeforeBindObservable = new Observable();\n    _this.onAfterUnbindObservable = new Observable();\n    _this.onBeforeRenderObservable = new Observable();\n    _this.onAfterRenderObservable = new Observable();\n    _this.onClearObservable = new Observable();\n    _this.onResizeObservable = new Observable();\n    _this._cleared = false;\n    _this.skipInitialClear = false;\n    _this._currentRefreshId = -1;\n    _this._refreshRate = 1;\n    _this._samples = 1;\n    _this._canRescale = true;\n    _this._renderTarget = null;\n    _this.boundingBoxPosition = Vector3.Zero();\n    scene = _this.getScene();\n    if (!scene) {\n      return _this;\n    }\n    var engine = _this.getScene().getEngine();\n    _this._coordinatesMode = Texture.PROJECTION_MODE;\n    _this.renderList = new Array();\n    _this.name = name2;\n    _this.isRenderTarget = true;\n    _this._initialSizeParameter = size;\n    _this._renderPassIds = [];\n    _this._isCubeData = isCube;\n    _this._processSizeParameter(size);\n    _this.renderPassId = _this._renderPassIds[0];\n    _this._resizeObserver = engine.onResizeObservable.add(function() {\n    });\n    _this._generateMipMaps = generateMipMaps ? true : false;\n    _this._doNotChangeAspectRatio = doNotChangeAspectRatio;\n    _this._renderingManager = new RenderingManager(scene);\n    _this._renderingManager._useSceneAutoClearSetup = true;\n    if (isMulti) {\n      return _this;\n    }\n    _this._renderTargetOptions = {\n      generateMipMaps,\n      type,\n      format: (_a = _this._format) !== null && _a !== void 0 ? _a : void 0,\n      samplingMode: _this.samplingMode,\n      generateDepthBuffer,\n      generateStencilBuffer,\n      samples,\n      creationFlags,\n      noColorTarget,\n      useSRGBBuffer\n    };\n    if (_this.samplingMode === Texture.NEAREST_SAMPLINGMODE) {\n      _this.wrapU = Texture.CLAMP_ADDRESSMODE;\n      _this.wrapV = Texture.CLAMP_ADDRESSMODE;\n    }\n    if (!delayAllocation) {\n      if (isCube) {\n        _this._renderTarget = scene.getEngine().createRenderTargetCubeTexture(_this.getRenderSize(), _this._renderTargetOptions);\n        _this.coordinatesMode = Texture.INVCUBIC_MODE;\n        _this._textureMatrix = Matrix.Identity();\n      } else {\n        _this._renderTarget = scene.getEngine().createRenderTargetTexture(_this._size, _this._renderTargetOptions);\n      }\n      _this._texture = _this._renderTarget.texture;\n      if (samples !== void 0) {\n        _this.samples = samples;\n      }\n    }\n    return _this;\n  }\n  Object.defineProperty(RenderTargetTexture2.prototype, \"renderList\", {\n    get: function() {\n      return this._renderList;\n    },\n    set: function(value) {\n      this._renderList = value;\n      if (this._renderList) {\n        this._hookArray(this._renderList);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  RenderTargetTexture2.prototype._hookArray = function(array) {\n    var _this = this;\n    var oldPush = array.push;\n    array.push = function() {\n      var _a;\n      var items = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        items[_i] = arguments[_i];\n      }\n      var wasEmpty = array.length === 0;\n      var result = oldPush.apply(array, items);\n      if (wasEmpty) {\n        (_a = _this.getScene()) === null || _a === void 0 ? void 0 : _a.meshes.forEach(function(mesh) {\n          mesh._markSubMeshesAsLightDirty();\n        });\n      }\n      return result;\n    };\n    var oldSplice = array.splice;\n    array.splice = function(index, deleteCount) {\n      var _a;\n      var deleted = oldSplice.apply(array, [index, deleteCount]);\n      if (array.length === 0) {\n        (_a = _this.getScene()) === null || _a === void 0 ? void 0 : _a.meshes.forEach(function(mesh) {\n          mesh._markSubMeshesAsLightDirty();\n        });\n      }\n      return deleted;\n    };\n  };\n  Object.defineProperty(RenderTargetTexture2.prototype, \"postProcesses\", {\n    get: function() {\n      return this._postProcesses;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderTargetTexture2.prototype, \"_prePassEnabled\", {\n    get: function() {\n      return !!this._prePassRenderTarget && this._prePassRenderTarget.enabled;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderTargetTexture2.prototype, \"onAfterUnbind\", {\n    set: function(callback) {\n      if (this._onAfterUnbindObserver) {\n        this.onAfterUnbindObservable.remove(this._onAfterUnbindObserver);\n      }\n      this._onAfterUnbindObserver = this.onAfterUnbindObservable.add(callback);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderTargetTexture2.prototype, \"onBeforeRender\", {\n    set: function(callback) {\n      if (this._onBeforeRenderObserver) {\n        this.onBeforeRenderObservable.remove(this._onBeforeRenderObserver);\n      }\n      this._onBeforeRenderObserver = this.onBeforeRenderObservable.add(callback);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderTargetTexture2.prototype, \"onAfterRender\", {\n    set: function(callback) {\n      if (this._onAfterRenderObserver) {\n        this.onAfterRenderObservable.remove(this._onAfterRenderObserver);\n      }\n      this._onAfterRenderObserver = this.onAfterRenderObservable.add(callback);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderTargetTexture2.prototype, \"onClear\", {\n    set: function(callback) {\n      if (this._onClearObserver) {\n        this.onClearObservable.remove(this._onClearObserver);\n      }\n      this._onClearObserver = this.onClearObservable.add(callback);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderTargetTexture2.prototype, \"renderPassIds\", {\n    get: function() {\n      return this._renderPassIds;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderTargetTexture2.prototype, \"currentRefreshId\", {\n    get: function() {\n      return this._currentRefreshId;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  RenderTargetTexture2.prototype.setMaterialForRendering = function(mesh, material) {\n    var meshes;\n    if (!Array.isArray(mesh)) {\n      meshes = [mesh];\n    } else {\n      meshes = mesh;\n    }\n    for (var j = 0; j < meshes.length; ++j) {\n      for (var i = 0; i < this._renderPassIds.length; ++i) {\n        meshes[j].setMaterialForRenderPass(this._renderPassIds[i], material !== void 0 ? Array.isArray(material) ? material[i] : material : void 0);\n      }\n    }\n  };\n  Object.defineProperty(RenderTargetTexture2.prototype, \"renderTargetOptions\", {\n    get: function() {\n      return this._renderTargetOptions;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderTargetTexture2.prototype, \"renderTarget\", {\n    get: function() {\n      return this._renderTarget;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  RenderTargetTexture2.prototype._onRatioRescale = function() {\n    if (this._sizeRatio) {\n      this.resize(this._initialSizeParameter);\n    }\n  };\n  Object.defineProperty(RenderTargetTexture2.prototype, \"boundingBoxSize\", {\n    get: function() {\n      return this._boundingBoxSize;\n    },\n    set: function(value) {\n      if (this._boundingBoxSize && this._boundingBoxSize.equals(value)) {\n        return;\n      }\n      this._boundingBoxSize = value;\n      var scene = this.getScene();\n      if (scene) {\n        scene.markAllMaterialsAsDirty(1);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderTargetTexture2.prototype, \"depthStencilTexture\", {\n    get: function() {\n      var _a, _b;\n      return (_b = (_a = this._renderTarget) === null || _a === void 0 ? void 0 : _a._depthStencilTexture) !== null && _b !== void 0 ? _b : null;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  RenderTargetTexture2.prototype.createDepthStencilTexture = function(comparisonFunction, bilinearFiltering, generateStencil, samples, format) {\n    var _a;\n    if (comparisonFunction === void 0) {\n      comparisonFunction = 0;\n    }\n    if (bilinearFiltering === void 0) {\n      bilinearFiltering = true;\n    }\n    if (generateStencil === void 0) {\n      generateStencil = false;\n    }\n    if (samples === void 0) {\n      samples = 1;\n    }\n    if (format === void 0) {\n      format = 14;\n    }\n    (_a = this._renderTarget) === null || _a === void 0 ? void 0 : _a.createDepthStencilTexture(comparisonFunction, bilinearFiltering, generateStencil, samples, format);\n  };\n  RenderTargetTexture2.prototype._releaseRenderPassId = function() {\n    if (this._scene) {\n      var engine = this._scene.getEngine();\n      for (var i = 0; i < this._renderPassIds.length; ++i) {\n        engine.releaseRenderPassId(this._renderPassIds[i]);\n      }\n    }\n    this._renderPassIds = [];\n  };\n  RenderTargetTexture2.prototype._createRenderPassId = function() {\n    this._releaseRenderPassId();\n    var engine = this._scene.getEngine();\n    var numPasses = this._isCubeData ? 6 : this.getRenderLayers() || 1;\n    for (var i = 0; i < numPasses; ++i) {\n      this._renderPassIds[i] = engine.createRenderPassId(\"RenderTargetTexture - \".concat(this.name, \"#\").concat(i));\n    }\n  };\n  RenderTargetTexture2.prototype._processSizeParameter = function(size) {\n    if (size.ratio) {\n      this._sizeRatio = size.ratio;\n      var engine = this._getEngine();\n      this._size = {\n        width: this._bestReflectionRenderTargetDimension(engine.getRenderWidth(), this._sizeRatio),\n        height: this._bestReflectionRenderTargetDimension(engine.getRenderHeight(), this._sizeRatio)\n      };\n    } else {\n      this._size = size;\n    }\n    this._createRenderPassId();\n  };\n  Object.defineProperty(RenderTargetTexture2.prototype, \"samples\", {\n    get: function() {\n      var _a, _b;\n      return (_b = (_a = this._renderTarget) === null || _a === void 0 ? void 0 : _a.samples) !== null && _b !== void 0 ? _b : this._samples;\n    },\n    set: function(value) {\n      if (this._renderTarget) {\n        this._samples = this._renderTarget.setSamples(value);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  RenderTargetTexture2.prototype.resetRefreshCounter = function() {\n    this._currentRefreshId = -1;\n  };\n  Object.defineProperty(RenderTargetTexture2.prototype, \"refreshRate\", {\n    get: function() {\n      return this._refreshRate;\n    },\n    set: function(value) {\n      this._refreshRate = value;\n      this.resetRefreshCounter();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  RenderTargetTexture2.prototype.addPostProcess = function(postProcess) {\n    if (!this._postProcessManager) {\n      var scene = this.getScene();\n      if (!scene) {\n        return;\n      }\n      this._postProcessManager = new PostProcessManager(scene);\n      this._postProcesses = new Array();\n    }\n    this._postProcesses.push(postProcess);\n    this._postProcesses[0].autoClear = false;\n  };\n  RenderTargetTexture2.prototype.clearPostProcesses = function(dispose) {\n    if (dispose === void 0) {\n      dispose = false;\n    }\n    if (!this._postProcesses) {\n      return;\n    }\n    if (dispose) {\n      for (var _i = 0, _a = this._postProcesses; _i < _a.length; _i++) {\n        var postProcess = _a[_i];\n        postProcess.dispose();\n      }\n    }\n    this._postProcesses = [];\n  };\n  RenderTargetTexture2.prototype.removePostProcess = function(postProcess) {\n    if (!this._postProcesses) {\n      return;\n    }\n    var index = this._postProcesses.indexOf(postProcess);\n    if (index === -1) {\n      return;\n    }\n    this._postProcesses.splice(index, 1);\n    if (this._postProcesses.length > 0) {\n      this._postProcesses[0].autoClear = false;\n    }\n  };\n  RenderTargetTexture2.prototype._shouldRender = function() {\n    if (this._currentRefreshId === -1) {\n      this._currentRefreshId = 1;\n      return true;\n    }\n    if (this.refreshRate === this._currentRefreshId) {\n      this._currentRefreshId = 1;\n      return true;\n    }\n    this._currentRefreshId++;\n    return false;\n  };\n  RenderTargetTexture2.prototype.getRenderSize = function() {\n    return this.getRenderWidth();\n  };\n  RenderTargetTexture2.prototype.getRenderWidth = function() {\n    if (this._size.width) {\n      return this._size.width;\n    }\n    return this._size;\n  };\n  RenderTargetTexture2.prototype.getRenderHeight = function() {\n    if (this._size.width) {\n      return this._size.height;\n    }\n    return this._size;\n  };\n  RenderTargetTexture2.prototype.getRenderLayers = function() {\n    var layers = this._size.layers;\n    if (layers) {\n      return layers;\n    }\n    return 0;\n  };\n  RenderTargetTexture2.prototype.disableRescaling = function() {\n    this._canRescale = false;\n  };\n  Object.defineProperty(RenderTargetTexture2.prototype, \"canRescale\", {\n    get: function() {\n      return this._canRescale;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  RenderTargetTexture2.prototype.scale = function(ratio) {\n    var newSize = Math.max(1, this.getRenderSize() * ratio);\n    this.resize(newSize);\n  };\n  RenderTargetTexture2.prototype.getReflectionTextureMatrix = function() {\n    if (this.isCube) {\n      return this._textureMatrix;\n    }\n    return _super.prototype.getReflectionTextureMatrix.call(this);\n  };\n  RenderTargetTexture2.prototype.resize = function(size) {\n    var _a;\n    var wasCube = this.isCube;\n    (_a = this._renderTarget) === null || _a === void 0 ? void 0 : _a.dispose();\n    this._renderTarget = null;\n    var scene = this.getScene();\n    if (!scene) {\n      return;\n    }\n    this._processSizeParameter(size);\n    if (wasCube) {\n      this._renderTarget = scene.getEngine().createRenderTargetCubeTexture(this.getRenderSize(), this._renderTargetOptions);\n    } else {\n      this._renderTarget = scene.getEngine().createRenderTargetTexture(this._size, this._renderTargetOptions);\n    }\n    this._texture = this._renderTarget.texture;\n    if (this._renderTargetOptions.samples !== void 0) {\n      this.samples = this._renderTargetOptions.samples;\n    }\n    if (this.onResizeObservable.hasObservers()) {\n      this.onResizeObservable.notifyObservers(this);\n    }\n  };\n  RenderTargetTexture2.prototype.render = function(useCameraPostProcess, dumpForDebug) {\n    if (useCameraPostProcess === void 0) {\n      useCameraPostProcess = false;\n    }\n    if (dumpForDebug === void 0) {\n      dumpForDebug = false;\n    }\n    this._render(useCameraPostProcess, dumpForDebug);\n  };\n  RenderTargetTexture2.prototype.isReadyForRendering = function() {\n    return this._render(false, false, true);\n  };\n  RenderTargetTexture2.prototype._render = function(useCameraPostProcess, dumpForDebug, checkReadiness) {\n    var _a;\n    if (useCameraPostProcess === void 0) {\n      useCameraPostProcess = false;\n    }\n    if (dumpForDebug === void 0) {\n      dumpForDebug = false;\n    }\n    if (checkReadiness === void 0) {\n      checkReadiness = false;\n    }\n    var scene = this.getScene();\n    if (!scene) {\n      return checkReadiness;\n    }\n    var engine = scene.getEngine();\n    if (this.useCameraPostProcesses !== void 0) {\n      useCameraPostProcess = this.useCameraPostProcesses;\n    }\n    if (this._waitingRenderList) {\n      this.renderList = [];\n      for (var index = 0; index < this._waitingRenderList.length; index++) {\n        var id = this._waitingRenderList[index];\n        var mesh = scene.getMeshById(id);\n        if (mesh) {\n          this.renderList.push(mesh);\n        }\n      }\n      this._waitingRenderList = void 0;\n    }\n    if (this.renderListPredicate) {\n      if (this.renderList) {\n        this.renderList.length = 0;\n      } else {\n        this.renderList = [];\n      }\n      var scene_1 = this.getScene();\n      if (!scene_1) {\n        return checkReadiness;\n      }\n      var sceneMeshes = scene_1.meshes;\n      for (var index = 0; index < sceneMeshes.length; index++) {\n        var mesh = sceneMeshes[index];\n        if (this.renderListPredicate(mesh)) {\n          this.renderList.push(mesh);\n        }\n      }\n    }\n    var currentRenderPassId = engine.currentRenderPassId;\n    this.onBeforeBindObservable.notifyObservers(this);\n    var camera = (_a = this.activeCamera) !== null && _a !== void 0 ? _a : scene.activeCamera;\n    if (camera) {\n      if (camera !== scene.activeCamera) {\n        scene.setTransformMatrix(camera.getViewMatrix(), camera.getProjectionMatrix(true));\n      }\n      engine.setViewport(camera.viewport, this.getRenderWidth(), this.getRenderHeight());\n    }\n    this._defaultRenderListPrepared = false;\n    var returnValue = checkReadiness;\n    if (!checkReadiness) {\n      if (this.is2DArray) {\n        for (var layer = 0; layer < this.getRenderLayers(); layer++) {\n          this._renderToTarget(0, useCameraPostProcess, dumpForDebug, layer, camera);\n          scene.incrementRenderId();\n          scene.resetCachedMaterial();\n        }\n      } else if (this.isCube) {\n        for (var face = 0; face < 6; face++) {\n          this._renderToTarget(face, useCameraPostProcess, dumpForDebug, void 0, camera);\n          scene.incrementRenderId();\n          scene.resetCachedMaterial();\n        }\n      } else {\n        this._renderToTarget(0, useCameraPostProcess, dumpForDebug, void 0, camera);\n      }\n    } else {\n      if (!scene.getViewMatrix()) {\n        scene.updateTransformMatrix();\n      }\n      var numLayers = this.is2DArray ? this.getRenderLayers() : this.isCube ? 6 : 1;\n      for (var layer = 0; layer < numLayers && returnValue; layer++) {\n        var currentRenderList = null;\n        var defaultRenderList = this.renderList ? this.renderList : scene.getActiveMeshes().data;\n        var defaultRenderListLength = this.renderList ? this.renderList.length : scene.getActiveMeshes().length;\n        engine.currentRenderPassId = this._renderPassIds[layer];\n        this.onBeforeRenderObservable.notifyObservers(layer);\n        if (this.getCustomRenderList) {\n          currentRenderList = this.getCustomRenderList(layer, defaultRenderList, defaultRenderListLength);\n        }\n        if (!currentRenderList) {\n          currentRenderList = defaultRenderList;\n        }\n        if (!this._doNotChangeAspectRatio) {\n          scene.updateTransformMatrix(true);\n        }\n        for (var i = 0; i < currentRenderList.length && returnValue; ++i) {\n          var mesh = currentRenderList[i];\n          if (!mesh.isEnabled() || mesh.isBlocked || !mesh.isVisible || !mesh.subMeshes) {\n            continue;\n          }\n          if (this.customIsReadyFunction) {\n            if (!this.customIsReadyFunction(mesh, this.refreshRate)) {\n              returnValue = false;\n              break;\n            }\n          } else if (!mesh.isReady(true)) {\n            returnValue = false;\n            break;\n          }\n        }\n        this.onAfterRenderObservable.notifyObservers(layer);\n      }\n    }\n    this.onAfterUnbindObservable.notifyObservers(this);\n    engine.currentRenderPassId = currentRenderPassId;\n    if (scene.activeCamera) {\n      if (scene.getEngine().scenes.length > 1 || this.activeCamera && this.activeCamera !== scene.activeCamera) {\n        scene.setTransformMatrix(scene.activeCamera.getViewMatrix(), scene.activeCamera.getProjectionMatrix(true));\n      }\n      engine.setViewport(scene.activeCamera.viewport);\n    }\n    scene.resetCachedMaterial();\n    return returnValue;\n  };\n  RenderTargetTexture2.prototype._bestReflectionRenderTargetDimension = function(renderDimension, scale) {\n    var minimum = 128;\n    var x = renderDimension * scale;\n    var curved = Engine.NearestPOT(x + minimum * minimum / (minimum + x));\n    return Math.min(Engine.FloorPOT(renderDimension), curved);\n  };\n  RenderTargetTexture2.prototype._prepareRenderingManager = function(currentRenderList, currentRenderListLength, camera, checkLayerMask) {\n    var scene = this.getScene();\n    if (!scene) {\n      return;\n    }\n    this._renderingManager.reset();\n    var sceneRenderId = scene.getRenderId();\n    for (var meshIndex = 0; meshIndex < currentRenderListLength; meshIndex++) {\n      var mesh = currentRenderList[meshIndex];\n      if (mesh && !mesh.isBlocked) {\n        if (this.customIsReadyFunction) {\n          if (!this.customIsReadyFunction(mesh, this.refreshRate)) {\n            this.resetRefreshCounter();\n            continue;\n          }\n        } else if (!mesh.isReady(this.refreshRate === 0)) {\n          this.resetRefreshCounter();\n          continue;\n        }\n        if (!mesh._internalAbstractMeshDataInfo._currentLODIsUpToDate && scene.activeCamera) {\n          mesh._internalAbstractMeshDataInfo._currentLOD = scene.customLODSelector ? scene.customLODSelector(mesh, this.activeCamera || scene.activeCamera) : mesh.getLOD(this.activeCamera || scene.activeCamera);\n          mesh._internalAbstractMeshDataInfo._currentLODIsUpToDate = true;\n        }\n        if (!mesh._internalAbstractMeshDataInfo._currentLOD) {\n          continue;\n        }\n        var meshToRender = mesh._internalAbstractMeshDataInfo._currentLOD;\n        meshToRender._preActivateForIntermediateRendering(sceneRenderId);\n        var isMasked = void 0;\n        if (checkLayerMask && camera) {\n          isMasked = (mesh.layerMask & camera.layerMask) === 0;\n        } else {\n          isMasked = false;\n        }\n        if (mesh.isEnabled() && mesh.isVisible && mesh.subMeshes && !isMasked) {\n          if (meshToRender !== mesh) {\n            meshToRender._activate(sceneRenderId, true);\n          }\n          if (mesh._activate(sceneRenderId, true) && mesh.subMeshes.length) {\n            if (!mesh.isAnInstance) {\n              meshToRender._internalAbstractMeshDataInfo._onlyForInstancesIntermediate = false;\n            } else {\n              if (mesh._internalAbstractMeshDataInfo._actAsRegularMesh) {\n                meshToRender = mesh;\n              }\n            }\n            meshToRender._internalAbstractMeshDataInfo._isActiveIntermediate = true;\n            for (var subIndex = 0; subIndex < meshToRender.subMeshes.length; subIndex++) {\n              var subMesh = meshToRender.subMeshes[subIndex];\n              this._renderingManager.dispatch(subMesh, meshToRender);\n            }\n          }\n        }\n      }\n    }\n    for (var particleIndex = 0; particleIndex < scene.particleSystems.length; particleIndex++) {\n      var particleSystem = scene.particleSystems[particleIndex];\n      var emitter = particleSystem.emitter;\n      if (!particleSystem.isStarted() || !emitter || !emitter.position || !emitter.isEnabled()) {\n        continue;\n      }\n      if (currentRenderList.indexOf(emitter) >= 0) {\n        this._renderingManager.dispatchParticles(particleSystem);\n      }\n    }\n  };\n  RenderTargetTexture2.prototype._bindFrameBuffer = function(faceIndex, layer) {\n    if (faceIndex === void 0) {\n      faceIndex = 0;\n    }\n    if (layer === void 0) {\n      layer = 0;\n    }\n    var scene = this.getScene();\n    if (!scene) {\n      return;\n    }\n    var engine = scene.getEngine();\n    if (this._renderTarget) {\n      engine.bindFramebuffer(this._renderTarget, this.isCube ? faceIndex : void 0, void 0, void 0, this.ignoreCameraViewport, 0, layer);\n    }\n  };\n  RenderTargetTexture2.prototype._unbindFrameBuffer = function(engine, faceIndex) {\n    var _this = this;\n    if (!this._renderTarget) {\n      return;\n    }\n    engine.unBindFramebuffer(this._renderTarget, this.isCube, function() {\n      _this.onAfterRenderObservable.notifyObservers(faceIndex);\n    });\n  };\n  RenderTargetTexture2.prototype._prepareFrame = function(scene, faceIndex, layer, useCameraPostProcess) {\n    if (this._postProcessManager) {\n      if (!this._prePassEnabled) {\n        this._postProcessManager._prepareFrame(this._texture, this._postProcesses);\n      }\n    } else if (!useCameraPostProcess || !scene.postProcessManager._prepareFrame(this._texture)) {\n      this._bindFrameBuffer(faceIndex, layer);\n    }\n  };\n  RenderTargetTexture2.prototype._renderToTarget = function(faceIndex, useCameraPostProcess, dumpForDebug, layer, camera) {\n    var _a, _b, _c, _d, _e, _f;\n    if (layer === void 0) {\n      layer = 0;\n    }\n    if (camera === void 0) {\n      camera = null;\n    }\n    var scene = this.getScene();\n    if (!scene) {\n      return;\n    }\n    var engine = scene.getEngine();\n    (_a = engine._debugPushGroup) === null || _a === void 0 ? void 0 : _a.call(engine, \"render to face #\".concat(faceIndex, \" layer #\").concat(layer), 1);\n    this._prepareFrame(scene, faceIndex, layer, useCameraPostProcess);\n    if (this.is2DArray) {\n      engine.currentRenderPassId = this._renderPassIds[layer];\n      this.onBeforeRenderObservable.notifyObservers(layer);\n    } else {\n      engine.currentRenderPassId = this._renderPassIds[faceIndex];\n      this.onBeforeRenderObservable.notifyObservers(faceIndex);\n    }\n    var fastPath = engine.snapshotRendering && engine.snapshotRenderingMode === 1;\n    if (!fastPath) {\n      var currentRenderList = null;\n      var defaultRenderList = this.renderList ? this.renderList : scene.getActiveMeshes().data;\n      var defaultRenderListLength = this.renderList ? this.renderList.length : scene.getActiveMeshes().length;\n      if (this.getCustomRenderList) {\n        currentRenderList = this.getCustomRenderList(this.is2DArray ? layer : faceIndex, defaultRenderList, defaultRenderListLength);\n      }\n      if (!currentRenderList) {\n        if (!this._defaultRenderListPrepared) {\n          this._prepareRenderingManager(defaultRenderList, defaultRenderListLength, camera, !this.renderList);\n          this._defaultRenderListPrepared = true;\n        }\n        currentRenderList = defaultRenderList;\n      } else {\n        this._prepareRenderingManager(currentRenderList, currentRenderList.length, camera, false);\n      }\n      for (var _i = 0, _g = scene._beforeRenderTargetClearStage; _i < _g.length; _i++) {\n        var step = _g[_i];\n        step.action(this, faceIndex, layer);\n      }\n      if (this.onClearObservable.hasObservers()) {\n        this.onClearObservable.notifyObservers(engine);\n      } else {\n        if (!this.skipInitialClear) {\n          engine.clear(this.clearColor || scene.clearColor, true, true, true);\n        }\n      }\n      if (!this._doNotChangeAspectRatio) {\n        scene.updateTransformMatrix(true);\n      }\n      for (var _h = 0, _j = scene._beforeRenderTargetDrawStage; _h < _j.length; _h++) {\n        var step = _j[_h];\n        step.action(this, faceIndex, layer);\n      }\n      this._renderingManager.render(this.customRenderFunction, currentRenderList, this.renderParticles, this.renderSprites);\n      for (var _k = 0, _l = scene._afterRenderTargetDrawStage; _k < _l.length; _k++) {\n        var step = _l[_k];\n        step.action(this, faceIndex, layer);\n      }\n      var saveGenerateMipMaps = (_c = (_b = this._texture) === null || _b === void 0 ? void 0 : _b.generateMipMaps) !== null && _c !== void 0 ? _c : false;\n      if (this._texture) {\n        this._texture.generateMipMaps = false;\n      }\n      if (this._postProcessManager) {\n        this._postProcessManager._finalizeFrame(false, (_d = this._renderTarget) !== null && _d !== void 0 ? _d : void 0, faceIndex, this._postProcesses, this.ignoreCameraViewport);\n      } else if (useCameraPostProcess) {\n        scene.postProcessManager._finalizeFrame(false, (_e = this._renderTarget) !== null && _e !== void 0 ? _e : void 0, faceIndex);\n      }\n      if (this._texture) {\n        this._texture.generateMipMaps = saveGenerateMipMaps;\n      }\n      if (!this._doNotChangeAspectRatio) {\n        scene.updateTransformMatrix(true);\n      }\n      if (dumpForDebug) {\n        Tools.DumpFramebuffer(this.getRenderWidth(), this.getRenderHeight(), engine);\n      }\n    } else {\n      if (this.onClearObservable.hasObservers()) {\n        this.onClearObservable.notifyObservers(engine);\n      } else {\n        if (!this.skipInitialClear) {\n          engine.clear(this.clearColor || scene.clearColor, true, true, true);\n        }\n      }\n    }\n    this._unbindFrameBuffer(engine, faceIndex);\n    if (this._texture && this.isCube && faceIndex === 5) {\n      engine.generateMipMapsForCubemap(this._texture);\n    }\n    (_f = engine._debugPopGroup) === null || _f === void 0 ? void 0 : _f.call(engine, 1);\n  };\n  RenderTargetTexture2.prototype.setRenderingOrder = function(renderingGroupId, opaqueSortCompareFn, alphaTestSortCompareFn, transparentSortCompareFn) {\n    if (opaqueSortCompareFn === void 0) {\n      opaqueSortCompareFn = null;\n    }\n    if (alphaTestSortCompareFn === void 0) {\n      alphaTestSortCompareFn = null;\n    }\n    if (transparentSortCompareFn === void 0) {\n      transparentSortCompareFn = null;\n    }\n    this._renderingManager.setRenderingOrder(renderingGroupId, opaqueSortCompareFn, alphaTestSortCompareFn, transparentSortCompareFn);\n  };\n  RenderTargetTexture2.prototype.setRenderingAutoClearDepthStencil = function(renderingGroupId, autoClearDepthStencil) {\n    this._renderingManager.setRenderingAutoClearDepthStencil(renderingGroupId, autoClearDepthStencil);\n    this._renderingManager._useSceneAutoClearSetup = false;\n  };\n  RenderTargetTexture2.prototype.clone = function() {\n    var textureSize = this.getSize();\n    var newTexture = new RenderTargetTexture2(this.name, textureSize, this.getScene(), this._renderTargetOptions.generateMipMaps, this._doNotChangeAspectRatio, this._renderTargetOptions.type, this.isCube, this._renderTargetOptions.samplingMode, this._renderTargetOptions.generateDepthBuffer, this._renderTargetOptions.generateStencilBuffer, void 0, this._renderTargetOptions.format, void 0, this._renderTargetOptions.samples);\n    newTexture.hasAlpha = this.hasAlpha;\n    newTexture.level = this.level;\n    newTexture.coordinatesMode = this.coordinatesMode;\n    if (this.renderList) {\n      newTexture.renderList = this.renderList.slice(0);\n    }\n    return newTexture;\n  };\n  RenderTargetTexture2.prototype.serialize = function() {\n    if (!this.name) {\n      return null;\n    }\n    var serializationObject = _super.prototype.serialize.call(this);\n    serializationObject.renderTargetSize = this.getRenderSize();\n    serializationObject.renderList = [];\n    if (this.renderList) {\n      for (var index = 0; index < this.renderList.length; index++) {\n        serializationObject.renderList.push(this.renderList[index].id);\n      }\n    }\n    return serializationObject;\n  };\n  RenderTargetTexture2.prototype.disposeFramebufferObjects = function() {\n    var _a;\n    (_a = this._renderTarget) === null || _a === void 0 ? void 0 : _a.dispose(true);\n  };\n  RenderTargetTexture2.prototype.releaseInternalTexture = function() {\n    var _a;\n    (_a = this._renderTarget) === null || _a === void 0 ? void 0 : _a.releaseTextures();\n    this._texture = null;\n  };\n  RenderTargetTexture2.prototype.dispose = function() {\n    var _a;\n    this.onResizeObservable.clear();\n    this.onClearObservable.clear();\n    this.onAfterRenderObservable.clear();\n    this.onAfterUnbindObservable.clear();\n    this.onBeforeBindObservable.clear();\n    this.onBeforeRenderObservable.clear();\n    if (this._postProcessManager) {\n      this._postProcessManager.dispose();\n      this._postProcessManager = null;\n    }\n    if (this._prePassRenderTarget) {\n      this._prePassRenderTarget.dispose();\n    }\n    this._releaseRenderPassId();\n    this.clearPostProcesses(true);\n    if (this._resizeObserver) {\n      this.getScene().getEngine().onResizeObservable.remove(this._resizeObserver);\n      this._resizeObserver = null;\n    }\n    this.renderList = null;\n    var scene = this.getScene();\n    if (!scene) {\n      return;\n    }\n    var index = scene.customRenderTargets.indexOf(this);\n    if (index >= 0) {\n      scene.customRenderTargets.splice(index, 1);\n    }\n    for (var _i = 0, _b = scene.cameras; _i < _b.length; _i++) {\n      var camera = _b[_i];\n      index = camera.customRenderTargets.indexOf(this);\n      if (index >= 0) {\n        camera.customRenderTargets.splice(index, 1);\n      }\n    }\n    (_a = this._renderTarget) === null || _a === void 0 ? void 0 : _a.dispose();\n    this._renderTarget = null;\n    this._texture = null;\n    _super.prototype.dispose.call(this);\n  };\n  RenderTargetTexture2.prototype._rebuild = function() {\n    if (this.refreshRate === RenderTargetTexture2.REFRESHRATE_RENDER_ONCE) {\n      this.refreshRate = RenderTargetTexture2.REFRESHRATE_RENDER_ONCE;\n    }\n    if (this._postProcessManager) {\n      this._postProcessManager._rebuild();\n    }\n  };\n  RenderTargetTexture2.prototype.freeRenderingGroups = function() {\n    if (this._renderingManager) {\n      this._renderingManager.freeRenderingGroups();\n    }\n  };\n  RenderTargetTexture2.prototype.getViewCount = function() {\n    return 1;\n  };\n  RenderTargetTexture2.REFRESHRATE_RENDER_ONCE = 0;\n  RenderTargetTexture2.REFRESHRATE_RENDER_ONEVERYFRAME = 1;\n  RenderTargetTexture2.REFRESHRATE_RENDER_ONEVERYTWOFRAMES = 2;\n  return RenderTargetTexture2;\n}(Texture);\nTexture._CreateRenderTargetTexture = function(name2, renderTargetSize, scene, generateMipMaps, creationFlags) {\n  return new RenderTargetTexture(name2, renderTargetSize, scene, generateMipMaps);\n};\nvar name$1n = \"postprocessVertexShader\";\nvar shader$1n = \"attribute vec2 position;\\nuniform vec2 scale;\\nvarying vec2 vUV;\\nconst vec2 madd=vec2(0.5,0.5);\\n#define CUSTOM_VERTEX_DEFINITIONS\\nvoid main(void) {\\n#define CUSTOM_VERTEX_MAIN_BEGIN\\nvUV=(position*madd+madd)*scale;\\ngl_Position=vec4(position,0.0,1.0);\\n#define CUSTOM_VERTEX_MAIN_END\\n}\";\nShaderStore.ShadersStore[name$1n] = shader$1n;\nvar PostProcess = function() {\n  function PostProcess2(name2, fragmentUrl, parameters, samplers, options, camera, samplingMode, engine, reusable, defines, textureType, vertexUrl, indexParameters, blockCompilation, textureFormat) {\n    if (samplingMode === void 0) {\n      samplingMode = 1;\n    }\n    if (defines === void 0) {\n      defines = null;\n    }\n    if (textureType === void 0) {\n      textureType = 0;\n    }\n    if (vertexUrl === void 0) {\n      vertexUrl = \"postprocess\";\n    }\n    if (blockCompilation === void 0) {\n      blockCompilation = false;\n    }\n    if (textureFormat === void 0) {\n      textureFormat = 5;\n    }\n    this._parentContainer = null;\n    this.width = -1;\n    this.height = -1;\n    this.nodeMaterialSource = null;\n    this._outputTexture = null;\n    this.autoClear = true;\n    this.alphaMode = 0;\n    this.animations = new Array();\n    this.enablePixelPerfectMode = false;\n    this.forceFullscreenViewport = true;\n    this.scaleMode = 1;\n    this.alwaysForcePOT = false;\n    this._samples = 1;\n    this.adaptScaleToCurrentViewport = false;\n    this._reusable = false;\n    this._renderId = 0;\n    this.externalTextureSamplerBinding = false;\n    this._textures = new SmartArray(2);\n    this._textureCache = [];\n    this._currentRenderTextureInd = 0;\n    this._scaleRatio = new Vector2(1, 1);\n    this._texelSize = Vector2.Zero();\n    this.onActivateObservable = new Observable();\n    this.onSizeChangedObservable = new Observable();\n    this.onApplyObservable = new Observable();\n    this.onBeforeRenderObservable = new Observable();\n    this.onAfterRenderObservable = new Observable();\n    this.name = name2;\n    if (camera != null) {\n      this._camera = camera;\n      this._scene = camera.getScene();\n      camera.attachPostProcess(this);\n      this._engine = this._scene.getEngine();\n      this._scene.postProcesses.push(this);\n      this.uniqueId = this._scene.getUniqueId();\n    } else if (engine) {\n      this._engine = engine;\n      this._engine.postProcesses.push(this);\n    }\n    this._options = options;\n    this.renderTargetSamplingMode = samplingMode ? samplingMode : 1;\n    this._reusable = reusable || false;\n    this._textureType = textureType;\n    this._textureFormat = textureFormat;\n    this._samplers = samplers || [];\n    this._samplers.push(\"textureSampler\");\n    this._fragmentUrl = fragmentUrl;\n    this._vertexUrl = vertexUrl;\n    this._parameters = parameters || [];\n    this._parameters.push(\"scale\");\n    this._indexParameters = indexParameters;\n    this._drawWrapper = new DrawWrapper(this._engine);\n    if (!blockCompilation) {\n      this.updateEffect(defines);\n    }\n  }\n  Object.defineProperty(PostProcess2.prototype, \"samples\", {\n    get: function() {\n      return this._samples;\n    },\n    set: function(n) {\n      var _this = this;\n      this._samples = Math.min(n, this._engine.getCaps().maxMSAASamples);\n      this._textures.forEach(function(texture) {\n        if (texture.samples !== _this._samples) {\n          _this._engine.updateRenderTargetTextureSampleCount(texture, _this._samples);\n        }\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  PostProcess2.prototype.getEffectName = function() {\n    return this._fragmentUrl;\n  };\n  Object.defineProperty(PostProcess2.prototype, \"onActivate\", {\n    set: function(callback) {\n      if (this._onActivateObserver) {\n        this.onActivateObservable.remove(this._onActivateObserver);\n      }\n      if (callback) {\n        this._onActivateObserver = this.onActivateObservable.add(callback);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PostProcess2.prototype, \"onSizeChanged\", {\n    set: function(callback) {\n      if (this._onSizeChangedObserver) {\n        this.onSizeChangedObservable.remove(this._onSizeChangedObserver);\n      }\n      this._onSizeChangedObserver = this.onSizeChangedObservable.add(callback);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PostProcess2.prototype, \"onApply\", {\n    set: function(callback) {\n      if (this._onApplyObserver) {\n        this.onApplyObservable.remove(this._onApplyObserver);\n      }\n      this._onApplyObserver = this.onApplyObservable.add(callback);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PostProcess2.prototype, \"onBeforeRender\", {\n    set: function(callback) {\n      if (this._onBeforeRenderObserver) {\n        this.onBeforeRenderObservable.remove(this._onBeforeRenderObserver);\n      }\n      this._onBeforeRenderObserver = this.onBeforeRenderObservable.add(callback);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PostProcess2.prototype, \"onAfterRender\", {\n    set: function(callback) {\n      if (this._onAfterRenderObserver) {\n        this.onAfterRenderObservable.remove(this._onAfterRenderObserver);\n      }\n      this._onAfterRenderObserver = this.onAfterRenderObservable.add(callback);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PostProcess2.prototype, \"inputTexture\", {\n    get: function() {\n      return this._textures.data[this._currentRenderTextureInd];\n    },\n    set: function(value) {\n      this._forcedOutputTexture = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  PostProcess2.prototype.restoreDefaultInputTexture = function() {\n    if (this._forcedOutputTexture) {\n      this._forcedOutputTexture = null;\n      this.markTextureDirty();\n    }\n  };\n  PostProcess2.prototype.getCamera = function() {\n    return this._camera;\n  };\n  Object.defineProperty(PostProcess2.prototype, \"texelSize\", {\n    get: function() {\n      if (this._shareOutputWithPostProcess) {\n        return this._shareOutputWithPostProcess.texelSize;\n      }\n      if (this._forcedOutputTexture) {\n        this._texelSize.copyFromFloats(1 / this._forcedOutputTexture.width, 1 / this._forcedOutputTexture.height);\n      }\n      return this._texelSize;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  PostProcess2.prototype.getClassName = function() {\n    return \"PostProcess\";\n  };\n  PostProcess2.prototype.getEngine = function() {\n    return this._engine;\n  };\n  PostProcess2.prototype.getEffect = function() {\n    return this._drawWrapper.effect;\n  };\n  PostProcess2.prototype.shareOutputWith = function(postProcess) {\n    this._disposeTextures();\n    this._shareOutputWithPostProcess = postProcess;\n    return this;\n  };\n  PostProcess2.prototype.useOwnOutput = function() {\n    if (this._textures.length == 0) {\n      this._textures = new SmartArray(2);\n    }\n    this._shareOutputWithPostProcess = null;\n  };\n  PostProcess2.prototype.updateEffect = function(defines, uniforms, samplers, indexParameters, onCompiled, onError, vertexUrl, fragmentUrl) {\n    if (defines === void 0) {\n      defines = null;\n    }\n    if (uniforms === void 0) {\n      uniforms = null;\n    }\n    if (samplers === void 0) {\n      samplers = null;\n    }\n    this._postProcessDefines = defines;\n    this._drawWrapper.effect = this._engine.createEffect({ vertex: vertexUrl !== null && vertexUrl !== void 0 ? vertexUrl : this._vertexUrl, fragment: fragmentUrl !== null && fragmentUrl !== void 0 ? fragmentUrl : this._fragmentUrl }, [\"position\"], uniforms || this._parameters, samplers || this._samplers, defines !== null ? defines : \"\", void 0, onCompiled, onError, indexParameters || this._indexParameters);\n  };\n  PostProcess2.prototype.isReusable = function() {\n    return this._reusable;\n  };\n  PostProcess2.prototype.markTextureDirty = function() {\n    this.width = -1;\n  };\n  PostProcess2.prototype._createRenderTargetTexture = function(textureSize, textureOptions, channel) {\n    if (channel === void 0) {\n      channel = 0;\n    }\n    for (var i = 0; i < this._textureCache.length; i++) {\n      if (this._textureCache[i].texture.width === textureSize.width && this._textureCache[i].texture.height === textureSize.height && this._textureCache[i].postProcessChannel === channel && this._textureCache[i].texture._generateDepthBuffer === textureOptions.generateDepthBuffer) {\n        return this._textureCache[i].texture;\n      }\n    }\n    var tex = this._engine.createRenderTargetTexture(textureSize, textureOptions);\n    this._textureCache.push({ texture: tex, postProcessChannel: channel, lastUsedRenderId: -1 });\n    return tex;\n  };\n  PostProcess2.prototype._flushTextureCache = function() {\n    var currentRenderId = this._renderId;\n    for (var i = this._textureCache.length - 1; i >= 0; i--) {\n      if (currentRenderId - this._textureCache[i].lastUsedRenderId > 100) {\n        var currentlyUsed = false;\n        for (var j = 0; j < this._textures.length; j++) {\n          if (this._textures.data[j] === this._textureCache[i].texture) {\n            currentlyUsed = true;\n            break;\n          }\n        }\n        if (!currentlyUsed) {\n          this._textureCache[i].texture.dispose();\n          this._textureCache.splice(i, 1);\n        }\n      }\n    }\n  };\n  PostProcess2.prototype._resize = function(width, height, camera, needMipMaps, forceDepthStencil) {\n    if (this._textures.length > 0) {\n      this._textures.reset();\n    }\n    this.width = width;\n    this.height = height;\n    var firstPP = null;\n    for (var i = 0; i < camera._postProcesses.length; i++) {\n      if (camera._postProcesses[i] !== null) {\n        firstPP = camera._postProcesses[i];\n        break;\n      }\n    }\n    var textureSize = { width: this.width, height: this.height };\n    var textureOptions = {\n      generateMipMaps: needMipMaps,\n      generateDepthBuffer: forceDepthStencil || firstPP === this,\n      generateStencilBuffer: (forceDepthStencil || firstPP === this) && this._engine.isStencilEnable,\n      samplingMode: this.renderTargetSamplingMode,\n      type: this._textureType,\n      format: this._textureFormat\n    };\n    this._textures.push(this._createRenderTargetTexture(textureSize, textureOptions, 0));\n    if (this._reusable) {\n      this._textures.push(this._createRenderTargetTexture(textureSize, textureOptions, 1));\n    }\n    this._texelSize.copyFromFloats(1 / this.width, 1 / this.height);\n    this.onSizeChangedObservable.notifyObservers(this);\n  };\n  PostProcess2.prototype.activate = function(camera, sourceTexture, forceDepthStencil) {\n    var _this = this;\n    var _a, _b;\n    if (sourceTexture === void 0) {\n      sourceTexture = null;\n    }\n    camera = camera || this._camera;\n    var scene = camera.getScene();\n    var engine = scene.getEngine();\n    var maxSize = engine.getCaps().maxTextureSize;\n    var requiredWidth = (sourceTexture ? sourceTexture.width : this._engine.getRenderWidth(true)) * this._options | 0;\n    var requiredHeight = (sourceTexture ? sourceTexture.height : this._engine.getRenderHeight(true)) * this._options | 0;\n    var webVRCamera = camera.parent;\n    if (webVRCamera && (webVRCamera.leftCamera == camera || webVRCamera.rightCamera == camera)) {\n      requiredWidth /= 2;\n    }\n    var desiredWidth = this._options.width || requiredWidth;\n    var desiredHeight = this._options.height || requiredHeight;\n    var needMipMaps = this.renderTargetSamplingMode !== 7 && this.renderTargetSamplingMode !== 1 && this.renderTargetSamplingMode !== 2;\n    if (!this._shareOutputWithPostProcess && !this._forcedOutputTexture) {\n      if (this.adaptScaleToCurrentViewport) {\n        var currentViewport = engine.currentViewport;\n        if (currentViewport) {\n          desiredWidth *= currentViewport.width;\n          desiredHeight *= currentViewport.height;\n        }\n      }\n      if (needMipMaps || this.alwaysForcePOT) {\n        if (!this._options.width) {\n          desiredWidth = engine.needPOTTextures ? Engine.GetExponentOfTwo(desiredWidth, maxSize, this.scaleMode) : desiredWidth;\n        }\n        if (!this._options.height) {\n          desiredHeight = engine.needPOTTextures ? Engine.GetExponentOfTwo(desiredHeight, maxSize, this.scaleMode) : desiredHeight;\n        }\n      }\n      if (this.width !== desiredWidth || this.height !== desiredHeight) {\n        this._resize(desiredWidth, desiredHeight, camera, needMipMaps, forceDepthStencil);\n      }\n      this._textures.forEach(function(texture) {\n        if (texture.samples !== _this.samples) {\n          _this._engine.updateRenderTargetTextureSampleCount(texture, _this.samples);\n        }\n      });\n      this._flushTextureCache();\n      this._renderId++;\n    }\n    var target;\n    if (this._shareOutputWithPostProcess) {\n      target = this._shareOutputWithPostProcess.inputTexture;\n    } else if (this._forcedOutputTexture) {\n      target = this._forcedOutputTexture;\n      this.width = this._forcedOutputTexture.width;\n      this.height = this._forcedOutputTexture.height;\n    } else {\n      target = this.inputTexture;\n      var cache = void 0;\n      for (var i = 0; i < this._textureCache.length; i++) {\n        if (this._textureCache[i].texture === target) {\n          cache = this._textureCache[i];\n          break;\n        }\n      }\n      if (cache) {\n        cache.lastUsedRenderId = this._renderId;\n      }\n    }\n    if (this.enablePixelPerfectMode) {\n      this._scaleRatio.copyFromFloats(requiredWidth / desiredWidth, requiredHeight / desiredHeight);\n      this._engine.bindFramebuffer(target, 0, requiredWidth, requiredHeight, this.forceFullscreenViewport);\n    } else {\n      this._scaleRatio.copyFromFloats(1, 1);\n      this._engine.bindFramebuffer(target, 0, void 0, void 0, this.forceFullscreenViewport);\n    }\n    (_b = (_a = this._engine)._debugInsertMarker) === null || _b === void 0 ? void 0 : _b.call(_a, \"post process \".concat(this.name, \" input\"));\n    this.onActivateObservable.notifyObservers(camera);\n    if (this.autoClear && this.alphaMode === 0) {\n      this._engine.clear(this.clearColor ? this.clearColor : scene.clearColor, scene._allowPostProcessClearColor, true, true);\n    }\n    if (this._reusable) {\n      this._currentRenderTextureInd = (this._currentRenderTextureInd + 1) % 2;\n    }\n    return target;\n  };\n  Object.defineProperty(PostProcess2.prototype, \"isSupported\", {\n    get: function() {\n      return this._drawWrapper.effect.isSupported;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(PostProcess2.prototype, \"aspectRatio\", {\n    get: function() {\n      if (this._shareOutputWithPostProcess) {\n        return this._shareOutputWithPostProcess.aspectRatio;\n      }\n      if (this._forcedOutputTexture) {\n        return this._forcedOutputTexture.width / this._forcedOutputTexture.height;\n      }\n      return this.width / this.height;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  PostProcess2.prototype.isReady = function() {\n    var _a, _b;\n    return (_b = (_a = this._drawWrapper.effect) === null || _a === void 0 ? void 0 : _a.isReady()) !== null && _b !== void 0 ? _b : false;\n  };\n  PostProcess2.prototype.apply = function() {\n    var _a;\n    if (!((_a = this._drawWrapper.effect) === null || _a === void 0 ? void 0 : _a.isReady())) {\n      return null;\n    }\n    this._engine.enableEffect(this._drawWrapper);\n    this._engine.setState(false);\n    this._engine.setDepthBuffer(false);\n    this._engine.setDepthWrite(false);\n    this._engine.setAlphaMode(this.alphaMode);\n    if (this.alphaConstants) {\n      this.getEngine().setAlphaConstants(this.alphaConstants.r, this.alphaConstants.g, this.alphaConstants.b, this.alphaConstants.a);\n    }\n    var source;\n    if (this._shareOutputWithPostProcess) {\n      source = this._shareOutputWithPostProcess.inputTexture;\n    } else if (this._forcedOutputTexture) {\n      source = this._forcedOutputTexture;\n    } else {\n      source = this.inputTexture;\n    }\n    if (!this.externalTextureSamplerBinding) {\n      this._drawWrapper.effect._bindTexture(\"textureSampler\", source === null || source === void 0 ? void 0 : source.texture);\n    }\n    this._drawWrapper.effect.setVector2(\"scale\", this._scaleRatio);\n    this.onApplyObservable.notifyObservers(this._drawWrapper.effect);\n    return this._drawWrapper.effect;\n  };\n  PostProcess2.prototype._disposeTextures = function() {\n    if (this._shareOutputWithPostProcess || this._forcedOutputTexture) {\n      this._disposeTextureCache();\n      return;\n    }\n    this._disposeTextureCache();\n    this._textures.dispose();\n  };\n  PostProcess2.prototype._disposeTextureCache = function() {\n    for (var i = this._textureCache.length - 1; i >= 0; i--) {\n      this._textureCache[i].texture.dispose();\n    }\n    this._textureCache.length = 0;\n  };\n  PostProcess2.prototype.setPrePassRenderer = function(prePassRenderer) {\n    if (this._prePassEffectConfiguration) {\n      this._prePassEffectConfiguration = prePassRenderer.addEffectConfiguration(this._prePassEffectConfiguration);\n      this._prePassEffectConfiguration.enabled = true;\n      return true;\n    }\n    return false;\n  };\n  PostProcess2.prototype.dispose = function(camera) {\n    camera = camera || this._camera;\n    this._disposeTextures();\n    var index;\n    if (this._scene) {\n      index = this._scene.postProcesses.indexOf(this);\n      if (index !== -1) {\n        this._scene.postProcesses.splice(index, 1);\n      }\n    }\n    if (this._parentContainer) {\n      var index_1 = this._parentContainer.postProcesses.indexOf(this);\n      if (index_1 > -1) {\n        this._parentContainer.postProcesses.splice(index_1, 1);\n      }\n      this._parentContainer = null;\n    }\n    index = this._engine.postProcesses.indexOf(this);\n    if (index !== -1) {\n      this._engine.postProcesses.splice(index, 1);\n    }\n    if (!camera) {\n      return;\n    }\n    camera.detachPostProcess(this);\n    index = camera._postProcesses.indexOf(this);\n    if (index === 0 && camera._postProcesses.length > 0) {\n      var firstPostProcess = this._camera._getFirstPostProcess();\n      if (firstPostProcess) {\n        firstPostProcess.markTextureDirty();\n      }\n    }\n    this.onActivateObservable.clear();\n    this.onAfterRenderObservable.clear();\n    this.onApplyObservable.clear();\n    this.onBeforeRenderObservable.clear();\n    this.onSizeChangedObservable.clear();\n  };\n  PostProcess2.prototype.serialize = function() {\n    var serializationObject = SerializationHelper.Serialize(this);\n    var camera = this.getCamera() || this._scene && this._scene.activeCamera;\n    serializationObject.customType = \"BABYLON.\" + this.getClassName();\n    serializationObject.cameraId = camera ? camera.id : null;\n    serializationObject.reusable = this._reusable;\n    serializationObject.textureType = this._textureType;\n    serializationObject.fragmentUrl = this._fragmentUrl;\n    serializationObject.parameters = this._parameters;\n    serializationObject.samplers = this._samplers;\n    serializationObject.options = this._options;\n    serializationObject.defines = this._postProcessDefines;\n    serializationObject.textureFormat = this._textureFormat;\n    serializationObject.vertexUrl = this._vertexUrl;\n    serializationObject.indexParameters = this._indexParameters;\n    return serializationObject;\n  };\n  PostProcess2.prototype.clone = function() {\n    var serializationObject = this.serialize();\n    serializationObject._engine = this._engine;\n    serializationObject.cameraId = null;\n    var result = PostProcess2.Parse(serializationObject, this._scene, \"\");\n    if (!result) {\n      return null;\n    }\n    result.onActivateObservable = this.onActivateObservable.clone();\n    result.onSizeChangedObservable = this.onSizeChangedObservable.clone();\n    result.onApplyObservable = this.onApplyObservable.clone();\n    result.onBeforeRenderObservable = this.onBeforeRenderObservable.clone();\n    result.onAfterRenderObservable = this.onAfterRenderObservable.clone();\n    result._prePassEffectConfiguration = this._prePassEffectConfiguration;\n    return result;\n  };\n  PostProcess2.Parse = function(parsedPostProcess, scene, rootUrl) {\n    var postProcessType = GetClass(parsedPostProcess.customType);\n    if (!postProcessType || !postProcessType._Parse) {\n      return null;\n    }\n    var camera = scene ? scene.getCameraById(parsedPostProcess.cameraId) : null;\n    return postProcessType._Parse(parsedPostProcess, camera, scene, rootUrl);\n  };\n  PostProcess2._Parse = function(parsedPostProcess, targetCamera, scene, rootUrl) {\n    return SerializationHelper.Parse(function() {\n      return new PostProcess2(parsedPostProcess.name, parsedPostProcess.fragmentUrl, parsedPostProcess.parameters, parsedPostProcess.samplers, parsedPostProcess.options, targetCamera, parsedPostProcess.renderTargetSamplingMode, parsedPostProcess._engine, parsedPostProcess.reusable, parsedPostProcess.defines, parsedPostProcess.textureType, parsedPostProcess.vertexUrl, parsedPostProcess.indexParameters, false, parsedPostProcess.textureFormat);\n    }, parsedPostProcess, scene, rootUrl);\n  };\n  __decorate([\n    serialize()\n  ], PostProcess2.prototype, \"uniqueId\", void 0);\n  __decorate([\n    serialize()\n  ], PostProcess2.prototype, \"name\", void 0);\n  __decorate([\n    serialize()\n  ], PostProcess2.prototype, \"width\", void 0);\n  __decorate([\n    serialize()\n  ], PostProcess2.prototype, \"height\", void 0);\n  __decorate([\n    serialize()\n  ], PostProcess2.prototype, \"renderTargetSamplingMode\", void 0);\n  __decorate([\n    serializeAsColor4()\n  ], PostProcess2.prototype, \"clearColor\", void 0);\n  __decorate([\n    serialize()\n  ], PostProcess2.prototype, \"autoClear\", void 0);\n  __decorate([\n    serialize()\n  ], PostProcess2.prototype, \"alphaMode\", void 0);\n  __decorate([\n    serialize()\n  ], PostProcess2.prototype, \"alphaConstants\", void 0);\n  __decorate([\n    serialize()\n  ], PostProcess2.prototype, \"enablePixelPerfectMode\", void 0);\n  __decorate([\n    serialize()\n  ], PostProcess2.prototype, \"forceFullscreenViewport\", void 0);\n  __decorate([\n    serialize()\n  ], PostProcess2.prototype, \"scaleMode\", void 0);\n  __decorate([\n    serialize()\n  ], PostProcess2.prototype, \"alwaysForcePOT\", void 0);\n  __decorate([\n    serialize(\"samples\")\n  ], PostProcess2.prototype, \"_samples\", void 0);\n  __decorate([\n    serialize()\n  ], PostProcess2.prototype, \"adaptScaleToCurrentViewport\", void 0);\n  return PostProcess2;\n}();\nRegisterClass(\"BABYLON.PostProcess\", PostProcess);\nvar name$1m = \"kernelBlurVaryingDeclaration\";\nvar shader$1m = \"varying vec2 sampleCoord{X};\";\nShaderStore.IncludesShadersStore[name$1m] = shader$1m;\nvar name$1l = \"packingFunctions\";\nvar shader$1l = \"vec4 pack(float depth)\\n{\\nconst vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);\\nconst vec4 bit_mask=vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);\\nvec4 res=fract(depth*bit_shift);\\nres-=res.xxyz*bit_mask;\\nreturn res;\\n}\\nfloat unpack(vec4 color)\\n{\\nconst vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);\\nreturn dot(color,bit_shift);\\n}\";\nShaderStore.IncludesShadersStore[name$1l] = shader$1l;\nvar name$1k = \"kernelBlurFragment\";\nvar shader$1k = \"#ifdef DOF\\nfactor=sampleCoC(sampleCoord{X}); \\ncomputedWeight=KERNEL_WEIGHT{X}*factor;\\nsumOfWeights+=computedWeight;\\n#else\\ncomputedWeight=KERNEL_WEIGHT{X};\\n#endif\\n#ifdef PACKEDFLOAT\\nblend+=unpack(texture2D(textureSampler,sampleCoord{X}))*computedWeight;\\n#else\\nblend+=texture2D(textureSampler,sampleCoord{X})*computedWeight;\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$1k] = shader$1k;\nvar name$1j = \"kernelBlurFragment2\";\nvar shader$1j = \"#ifdef DOF\\nfactor=sampleCoC(sampleCenter+delta*KERNEL_DEP_OFFSET{X});\\ncomputedWeight=KERNEL_DEP_WEIGHT{X}*factor;\\nsumOfWeights+=computedWeight;\\n#else\\ncomputedWeight=KERNEL_DEP_WEIGHT{X};\\n#endif\\n#ifdef PACKEDFLOAT\\nblend+=unpack(texture2D(textureSampler,sampleCenter+delta*KERNEL_DEP_OFFSET{X}))*computedWeight;\\n#else\\nblend+=texture2D(textureSampler,sampleCenter+delta*KERNEL_DEP_OFFSET{X})*computedWeight;\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$1j] = shader$1j;\nvar name$1i = \"kernelBlurPixelShader\";\nvar shader$1i = \"uniform sampler2D textureSampler;\\nuniform vec2 delta;\\nvarying vec2 sampleCenter;\\n#ifdef DOF\\nuniform sampler2D circleOfConfusionSampler;\\nuniform vec2 cameraMinMaxZ;\\nfloat sampleDistance(in vec2 offset) {\\nfloat depth=texture2D(circleOfConfusionSampler,offset).g; \\nreturn cameraMinMaxZ.x+(cameraMinMaxZ.y-cameraMinMaxZ.x)*depth; \\n}\\nfloat sampleCoC(in vec2 offset) {\\nfloat coc=texture2D(circleOfConfusionSampler,offset).r; \\nreturn coc; \\n}\\n#endif\\n#include<kernelBlurVaryingDeclaration>[0..varyingCount]\\n#ifdef PACKEDFLOAT\\n#include<packingFunctions>\\n#endif\\n#define CUSTOM_FRAGMENT_DEFINITIONS\\nvoid main(void)\\n{\\nfloat computedWeight=0.0;\\n#ifdef PACKEDFLOAT \\nfloat blend=0.;\\n#else\\nvec4 blend=vec4(0.);\\n#endif\\n#ifdef DOF\\nfloat sumOfWeights=CENTER_WEIGHT; \\nfloat factor=0.0;\\n#ifdef PACKEDFLOAT\\nblend+=unpack(texture2D(textureSampler,sampleCenter))*CENTER_WEIGHT;\\n#else\\nblend+=texture2D(textureSampler,sampleCenter)*CENTER_WEIGHT;\\n#endif\\n#endif\\n#include<kernelBlurFragment>[0..varyingCount]\\n#include<kernelBlurFragment2>[0..depCount]\\n#ifdef PACKEDFLOAT\\ngl_FragColor=pack(blend);\\n#else\\ngl_FragColor=blend;\\n#endif\\n#ifdef DOF\\ngl_FragColor/=sumOfWeights;\\n#endif\\n}\";\nShaderStore.ShadersStore[name$1i] = shader$1i;\nvar name$1h = \"kernelBlurVertex\";\nvar shader$1h = \"sampleCoord{X}=sampleCenter+delta*KERNEL_OFFSET{X};\";\nShaderStore.IncludesShadersStore[name$1h] = shader$1h;\nvar name$1g = \"kernelBlurVertexShader\";\nvar shader$1g = \"attribute vec2 position;\\nuniform vec2 delta;\\nvarying vec2 sampleCenter;\\n#include<kernelBlurVaryingDeclaration>[0..varyingCount]\\nconst vec2 madd=vec2(0.5,0.5);\\n#define CUSTOM_VERTEX_DEFINITIONS\\nvoid main(void) {\\n#define CUSTOM_VERTEX_MAIN_BEGIN\\nsampleCenter=(position*madd+madd);\\n#include<kernelBlurVertex>[0..varyingCount]\\ngl_Position=vec4(position,0.0,1.0);\\n#define CUSTOM_VERTEX_MAIN_END\\n}\";\nShaderStore.ShadersStore[name$1g] = shader$1g;\nvar BlurPostProcess = function(_super) {\n  __extends(BlurPostProcess2, _super);\n  function BlurPostProcess2(name2, direction, kernel, options, camera, samplingMode, engine, reusable, textureType, defines, _blockCompilation) {\n    if (samplingMode === void 0) {\n      samplingMode = Texture.BILINEAR_SAMPLINGMODE;\n    }\n    if (textureType === void 0) {\n      textureType = 0;\n    }\n    if (defines === void 0) {\n      defines = \"\";\n    }\n    if (_blockCompilation === void 0) {\n      _blockCompilation = false;\n    }\n    var _this = _super.call(this, name2, \"kernelBlur\", [\"delta\", \"direction\", \"cameraMinMaxZ\"], [\"circleOfConfusionSampler\"], options, camera, samplingMode, engine, reusable, null, textureType, \"kernelBlur\", { varyingCount: 0, depCount: 0 }, true) || this;\n    _this._blockCompilation = _blockCompilation;\n    _this._packedFloat = false;\n    _this._staticDefines = \"\";\n    _this._staticDefines = defines;\n    _this.direction = direction;\n    _this.onApplyObservable.add(function(effect) {\n      if (_this._outputTexture) {\n        effect.setFloat2(\"delta\", 1 / _this._outputTexture.width * _this.direction.x, 1 / _this._outputTexture.height * _this.direction.y);\n      } else {\n        effect.setFloat2(\"delta\", 1 / _this.width * _this.direction.x, 1 / _this.height * _this.direction.y);\n      }\n    });\n    _this.kernel = kernel;\n    return _this;\n  }\n  Object.defineProperty(BlurPostProcess2.prototype, \"kernel\", {\n    get: function() {\n      return this._idealKernel;\n    },\n    set: function(v) {\n      if (this._idealKernel === v) {\n        return;\n      }\n      v = Math.max(v, 1);\n      this._idealKernel = v;\n      this._kernel = this._nearestBestKernel(v);\n      if (!this._blockCompilation) {\n        this._updateParameters();\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BlurPostProcess2.prototype, \"packedFloat\", {\n    get: function() {\n      return this._packedFloat;\n    },\n    set: function(v) {\n      if (this._packedFloat === v) {\n        return;\n      }\n      this._packedFloat = v;\n      if (!this._blockCompilation) {\n        this._updateParameters();\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  BlurPostProcess2.prototype.getClassName = function() {\n    return \"BlurPostProcess\";\n  };\n  BlurPostProcess2.prototype.updateEffect = function(defines, uniforms, samplers, indexParameters, onCompiled, onError) {\n    this._updateParameters(onCompiled, onError);\n  };\n  BlurPostProcess2.prototype._updateParameters = function(onCompiled, onError) {\n    var N = this._kernel;\n    var centerIndex = (N - 1) / 2;\n    var offsets = [];\n    var weights = [];\n    var totalWeight = 0;\n    for (var i = 0; i < N; i++) {\n      var u = i / (N - 1);\n      var w = this._gaussianWeight(u * 2 - 1);\n      offsets[i] = i - centerIndex;\n      weights[i] = w;\n      totalWeight += w;\n    }\n    for (var i = 0; i < weights.length; i++) {\n      weights[i] /= totalWeight;\n    }\n    var linearSamplingWeights = [];\n    var linearSamplingOffsets = [];\n    var linearSamplingMap = [];\n    for (var i = 0; i <= centerIndex; i += 2) {\n      var j = Math.min(i + 1, Math.floor(centerIndex));\n      var singleCenterSample = i === j;\n      if (singleCenterSample) {\n        linearSamplingMap.push({ o: offsets[i], w: weights[i] });\n      } else {\n        var sharedCell = j === centerIndex;\n        var weightLinear = weights[i] + weights[j] * (sharedCell ? 0.5 : 1);\n        var offsetLinear = offsets[i] + 1 / (1 + weights[i] / weights[j]);\n        if (offsetLinear === 0) {\n          linearSamplingMap.push({ o: offsets[i], w: weights[i] });\n          linearSamplingMap.push({ o: offsets[i + 1], w: weights[i + 1] });\n        } else {\n          linearSamplingMap.push({ o: offsetLinear, w: weightLinear });\n          linearSamplingMap.push({ o: -offsetLinear, w: weightLinear });\n        }\n      }\n    }\n    for (var i = 0; i < linearSamplingMap.length; i++) {\n      linearSamplingOffsets[i] = linearSamplingMap[i].o;\n      linearSamplingWeights[i] = linearSamplingMap[i].w;\n    }\n    offsets = linearSamplingOffsets;\n    weights = linearSamplingWeights;\n    var maxVaryingRows = this.getEngine().getCaps().maxVaryingVectors;\n    var freeVaryingVec2 = Math.max(maxVaryingRows, 0) - 1;\n    var varyingCount = Math.min(offsets.length, freeVaryingVec2);\n    var defines = \"\";\n    defines += this._staticDefines;\n    if (this._staticDefines.indexOf(\"DOF\") != -1) {\n      defines += \"#define CENTER_WEIGHT \".concat(this._glslFloat(weights[varyingCount - 1]), \"\\r\\n\");\n      varyingCount--;\n    }\n    for (var i = 0; i < varyingCount; i++) {\n      defines += \"#define KERNEL_OFFSET\".concat(i, \" \").concat(this._glslFloat(offsets[i]), \"\\r\\n\");\n      defines += \"#define KERNEL_WEIGHT\".concat(i, \" \").concat(this._glslFloat(weights[i]), \"\\r\\n\");\n    }\n    var depCount = 0;\n    for (var i = freeVaryingVec2; i < offsets.length; i++) {\n      defines += \"#define KERNEL_DEP_OFFSET\".concat(depCount, \" \").concat(this._glslFloat(offsets[i]), \"\\r\\n\");\n      defines += \"#define KERNEL_DEP_WEIGHT\".concat(depCount, \" \").concat(this._glslFloat(weights[i]), \"\\r\\n\");\n      depCount++;\n    }\n    if (this.packedFloat) {\n      defines += \"#define PACKEDFLOAT 1\";\n    }\n    this._blockCompilation = false;\n    _super.prototype.updateEffect.call(this, defines, null, null, {\n      varyingCount,\n      depCount\n    }, onCompiled, onError);\n  };\n  BlurPostProcess2.prototype._nearestBestKernel = function(idealKernel) {\n    var v = Math.round(idealKernel);\n    for (var _i = 0, _a = [v, v - 1, v + 1, v - 2, v + 2]; _i < _a.length; _i++) {\n      var k = _a[_i];\n      if (k % 2 !== 0 && Math.floor(k / 2) % 2 === 0 && k > 0) {\n        return Math.max(k, 3);\n      }\n    }\n    return Math.max(v, 3);\n  };\n  BlurPostProcess2.prototype._gaussianWeight = function(x) {\n    var sigma = 1 / 3;\n    var denominator = Math.sqrt(2 * Math.PI) * sigma;\n    var exponent = -(x * x / (2 * sigma * sigma));\n    var weight = 1 / denominator * Math.exp(exponent);\n    return weight;\n  };\n  BlurPostProcess2.prototype._glslFloat = function(x, decimalFigures) {\n    if (decimalFigures === void 0) {\n      decimalFigures = 8;\n    }\n    return x.toFixed(decimalFigures).replace(/0+$/, \"\");\n  };\n  BlurPostProcess2._Parse = function(parsedPostProcess, targetCamera, scene, rootUrl) {\n    return SerializationHelper.Parse(function() {\n      return new BlurPostProcess2(parsedPostProcess.name, parsedPostProcess.direction, parsedPostProcess.kernel, parsedPostProcess.options, targetCamera, parsedPostProcess.renderTargetSamplingMode, scene.getEngine(), parsedPostProcess.reusable, parsedPostProcess.textureType, void 0, false);\n    }, parsedPostProcess, scene, rootUrl);\n  };\n  __decorate([\n    serialize(\"kernel\")\n  ], BlurPostProcess2.prototype, \"_kernel\", void 0);\n  __decorate([\n    serialize(\"packedFloat\")\n  ], BlurPostProcess2.prototype, \"_packedFloat\", void 0);\n  __decorate([\n    serializeAsVector2()\n  ], BlurPostProcess2.prototype, \"direction\", void 0);\n  return BlurPostProcess2;\n}(PostProcess);\nRegisterClass(\"BABYLON.BlurPostProcess\", BlurPostProcess);\nvar EffectFallbacks = function() {\n  function EffectFallbacks2() {\n    this._defines = {};\n    this._currentRank = 32;\n    this._maxRank = -1;\n    this._mesh = null;\n  }\n  EffectFallbacks2.prototype.unBindMesh = function() {\n    this._mesh = null;\n  };\n  EffectFallbacks2.prototype.addFallback = function(rank, define) {\n    if (!this._defines[rank]) {\n      if (rank < this._currentRank) {\n        this._currentRank = rank;\n      }\n      if (rank > this._maxRank) {\n        this._maxRank = rank;\n      }\n      this._defines[rank] = new Array();\n    }\n    this._defines[rank].push(define);\n  };\n  EffectFallbacks2.prototype.addCPUSkinningFallback = function(rank, mesh) {\n    this._mesh = mesh;\n    if (rank < this._currentRank) {\n      this._currentRank = rank;\n    }\n    if (rank > this._maxRank) {\n      this._maxRank = rank;\n    }\n  };\n  Object.defineProperty(EffectFallbacks2.prototype, \"hasMoreFallbacks\", {\n    get: function() {\n      return this._currentRank <= this._maxRank;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  EffectFallbacks2.prototype.reduce = function(currentDefines, effect) {\n    if (this._mesh && this._mesh.computeBonesUsingShaders && this._mesh.numBoneInfluencers > 0) {\n      this._mesh.computeBonesUsingShaders = false;\n      currentDefines = currentDefines.replace(\"#define NUM_BONE_INFLUENCERS \" + this._mesh.numBoneInfluencers, \"#define NUM_BONE_INFLUENCERS 0\");\n      effect._bonesComputationForcedToCPU = true;\n      var scene = this._mesh.getScene();\n      for (var index = 0; index < scene.meshes.length; index++) {\n        var otherMesh = scene.meshes[index];\n        if (!otherMesh.material) {\n          if (!this._mesh.material && otherMesh.computeBonesUsingShaders && otherMesh.numBoneInfluencers > 0) {\n            otherMesh.computeBonesUsingShaders = false;\n          }\n          continue;\n        }\n        if (!otherMesh.computeBonesUsingShaders || otherMesh.numBoneInfluencers === 0) {\n          continue;\n        }\n        if (otherMesh.material.getEffect() === effect) {\n          otherMesh.computeBonesUsingShaders = false;\n        } else if (otherMesh.subMeshes) {\n          for (var _i = 0, _a = otherMesh.subMeshes; _i < _a.length; _i++) {\n            var subMesh = _a[_i];\n            var subMeshEffect = subMesh.effect;\n            if (subMeshEffect === effect) {\n              otherMesh.computeBonesUsingShaders = false;\n              break;\n            }\n          }\n        }\n      }\n    } else {\n      var currentFallbacks = this._defines[this._currentRank];\n      if (currentFallbacks) {\n        for (var index = 0; index < currentFallbacks.length; index++) {\n          currentDefines = currentDefines.replace(\"#define \" + currentFallbacks[index], \"\");\n        }\n      }\n      this._currentRank++;\n    }\n    return currentDefines;\n  };\n  return EffectFallbacks2;\n}();\nvar name$1f = \"bayerDitherFunctions\";\nvar shader$1f = \"float bayerDither2(vec2 _P) {\\nreturn mod(2.0*_P.y+_P.x+1.0,4.0);\\n}\\nfloat bayerDither4(vec2 _P) {\\nvec2 P1=mod(_P,2.0); \\nvec2 P2=floor(0.5*mod(_P,4.0)); \\nreturn 4.0*bayerDither2(P1)+bayerDither2(P2);\\n}\\nfloat bayerDither8(vec2 _P) {\\nvec2 P1=mod(_P,2.0); \\nvec2 P2=floor(0.5 *mod(_P,4.0)); \\nvec2 P4=floor(0.25*mod(_P,8.0)); \\nreturn 4.0*(4.0*bayerDither2(P1)+bayerDither2(P2))+bayerDither2(P4);\\n}\\n\";\nShaderStore.IncludesShadersStore[name$1f] = shader$1f;\nvar name$1e = \"shadowMapFragmentExtraDeclaration\";\nvar shader$1e = \"#if SM_FLOAT==0\\n#include<packingFunctions>\\n#endif\\n#if SM_SOFTTRANSPARENTSHADOW==1\\n#include<bayerDitherFunctions>\\nuniform float softTransparentShadowSM;\\n#endif\\nvarying float vDepthMetricSM;\\n#if SM_USEDISTANCE==1\\nuniform vec3 lightDataSM;\\nvarying vec3 vPositionWSM;\\n#endif\\nuniform vec3 biasAndScaleSM;\\nuniform vec2 depthValuesSM;\\n#if defined(SM_DEPTHCLAMP) && SM_DEPTHCLAMP==1\\nvarying float zSM;\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$1e] = shader$1e;\nvar name$1d = \"clipPlaneFragmentDeclaration\";\nvar shader$1d = \"#ifdef CLIPPLANE\\nvarying float fClipDistance;\\n#endif\\n#ifdef CLIPPLANE2\\nvarying float fClipDistance2;\\n#endif\\n#ifdef CLIPPLANE3\\nvarying float fClipDistance3;\\n#endif\\n#ifdef CLIPPLANE4\\nvarying float fClipDistance4;\\n#endif\\n#ifdef CLIPPLANE5\\nvarying float fClipDistance5;\\n#endif\\n#ifdef CLIPPLANE6\\nvarying float fClipDistance6;\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$1d] = shader$1d;\nvar name$1c = \"clipPlaneFragment\";\nvar shader$1c = \"#if defined(CLIPPLANE) || defined(CLIPPLANE2) || defined(CLIPPLANE3) || defined(CLIPPLANE4) || defined(CLIPPLANE5) || defined(CLIPPLANE6)\\nif (false) {}\\n#endif\\n#ifdef CLIPPLANE\\nelse if (fClipDistance>0.0)\\n{\\ndiscard;\\n}\\n#endif\\n#ifdef CLIPPLANE2\\nelse if (fClipDistance2>0.0)\\n{\\ndiscard;\\n}\\n#endif\\n#ifdef CLIPPLANE3\\nelse if (fClipDistance3>0.0)\\n{\\ndiscard;\\n}\\n#endif\\n#ifdef CLIPPLANE4\\nelse if (fClipDistance4>0.0)\\n{\\ndiscard;\\n}\\n#endif\\n#ifdef CLIPPLANE5\\nelse if (fClipDistance5>0.0)\\n{\\ndiscard;\\n}\\n#endif\\n#ifdef CLIPPLANE6\\nelse if (fClipDistance6>0.0)\\n{\\ndiscard;\\n}\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$1c] = shader$1c;\nvar name$1b = \"shadowMapFragment\";\nvar shader$1b = \"float depthSM=vDepthMetricSM;\\n#if defined(SM_DEPTHCLAMP) && SM_DEPTHCLAMP==1\\n#if SM_USEDISTANCE==1\\ndepthSM=(length(vPositionWSM-lightDataSM)+depthValuesSM.x)/depthValuesSM.y+biasAndScaleSM.x;\\n#else\\n#ifdef USE_REVERSE_DEPTHBUFFER\\ndepthSM=(-zSM+depthValuesSM.x)/depthValuesSM.y+biasAndScaleSM.x;\\n#else\\ndepthSM=(zSM+depthValuesSM.x)/depthValuesSM.y+biasAndScaleSM.x;\\n#endif\\n#endif\\n#ifdef USE_REVERSE_DEPTHBUFFER\\ngl_FragDepth=clamp(1.0-depthSM,0.0,1.0);\\n#else\\ngl_FragDepth=clamp(depthSM,0.0,1.0); \\n#endif\\n#elif SM_USEDISTANCE==1\\ndepthSM=(length(vPositionWSM-lightDataSM)+depthValuesSM.x)/depthValuesSM.y+biasAndScaleSM.x;\\n#endif\\n#if SM_ESM==1\\ndepthSM=clamp(exp(-min(87.,biasAndScaleSM.z*depthSM)),0.,1.);\\n#endif\\n#if SM_FLOAT==1\\ngl_FragColor=vec4(depthSM,1.0,1.0,1.0);\\n#else\\ngl_FragColor=pack(depthSM);\\n#endif\\nreturn;\";\nShaderStore.IncludesShadersStore[name$1b] = shader$1b;\nvar name$1a = \"shadowMapPixelShader\";\nvar shader$1a = \"#include<shadowMapFragmentExtraDeclaration>\\n#ifdef ALPHATEST\\nvarying vec2 vUV;\\nuniform sampler2D diffuseSampler;\\n#endif\\n#include<clipPlaneFragmentDeclaration>\\n#define CUSTOM_FRAGMENT_DEFINITIONS\\nvoid main(void)\\n{\\n#include<clipPlaneFragment>\\n#ifdef ALPHATEST\\nfloat alphaFromAlphaTexture=texture2D(diffuseSampler,vUV).a;\\nif (alphaFromAlphaTexture<ALPHATESTVALUE)\\ndiscard;\\n#endif\\n#if SM_SOFTTRANSPARENTSHADOW==1\\n#ifdef ALPHATEST\\nif ((bayerDither8(floor(mod(gl_FragCoord.xy,8.0))))/64.0>=softTransparentShadowSM*alphaFromAlphaTexture) discard;\\n#else\\nif ((bayerDither8(floor(mod(gl_FragCoord.xy,8.0))))/64.0>=softTransparentShadowSM) discard;\\n#endif\\n#endif\\n#include<shadowMapFragment>\\n}\";\nShaderStore.ShadersStore[name$1a] = shader$1a;\nvar name$19 = \"bonesDeclaration\";\nvar shader$19 = \"#if NUM_BONE_INFLUENCERS>0\\nattribute vec4 matricesIndices;\\nattribute vec4 matricesWeights;\\n#if NUM_BONE_INFLUENCERS>4\\nattribute vec4 matricesIndicesExtra;\\nattribute vec4 matricesWeightsExtra;\\n#endif\\n#ifndef BAKED_VERTEX_ANIMATION_TEXTURE\\n#ifdef BONETEXTURE\\nuniform sampler2D boneSampler;\\nuniform float boneTextureWidth;\\n#else\\nuniform mat4 mBones[BonesPerMesh];\\n#ifdef BONES_VELOCITY_ENABLED\\nuniform mat4 mPreviousBones[BonesPerMesh];\\n#endif\\n#endif\\n#ifdef BONETEXTURE\\n#define inline\\nmat4 readMatrixFromRawSampler(sampler2D smp,float index)\\n{\\nfloat offset=index *4.0;\\nfloat dx=1.0/boneTextureWidth;\\nvec4 m0=texture2D(smp,vec2(dx*(offset+0.5),0.));\\nvec4 m1=texture2D(smp,vec2(dx*(offset+1.5),0.));\\nvec4 m2=texture2D(smp,vec2(dx*(offset+2.5),0.));\\nvec4 m3=texture2D(smp,vec2(dx*(offset+3.5),0.));\\nreturn mat4(m0,m1,m2,m3);\\n}\\n#endif\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$19] = shader$19;\nvar name$18 = \"bakedVertexAnimationDeclaration\";\nvar shader$18 = \"#ifdef BAKED_VERTEX_ANIMATION_TEXTURE\\nuniform float bakedVertexAnimationTime;\\nuniform vec2 bakedVertexAnimationTextureSizeInverted;\\nuniform vec4 bakedVertexAnimationSettings;\\nuniform sampler2D bakedVertexAnimationTexture;\\n#ifdef INSTANCES\\nattribute vec4 bakedVertexAnimationSettingsInstanced;\\n#endif\\n#define inline\\nmat4 readMatrixFromRawSamplerVAT(sampler2D smp,float index,float frame)\\n{\\nfloat offset=index*4.0;\\nfloat frameUV=(frame+0.5)*bakedVertexAnimationTextureSizeInverted.y;\\nfloat dx=bakedVertexAnimationTextureSizeInverted.x;\\nvec4 m0=texture2D(smp,vec2(dx*(offset+0.5),frameUV));\\nvec4 m1=texture2D(smp,vec2(dx*(offset+1.5),frameUV));\\nvec4 m2=texture2D(smp,vec2(dx*(offset+2.5),frameUV));\\nvec4 m3=texture2D(smp,vec2(dx*(offset+3.5),frameUV));\\nreturn mat4(m0,m1,m2,m3);\\n}\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$18] = shader$18;\nvar name$17 = \"morphTargetsVertexGlobalDeclaration\";\nvar shader$17 = \"#ifdef MORPHTARGETS\\nuniform float morphTargetInfluences[NUM_MORPH_INFLUENCERS];\\n#ifdef MORPHTARGETS_TEXTURE \\nprecision mediump sampler2DArray; \\nuniform float morphTargetTextureIndices[NUM_MORPH_INFLUENCERS];\\nuniform vec3 morphTargetTextureInfo;\\nuniform sampler2DArray morphTargets;\\nvec3 readVector3FromRawSampler(int targetIndex,float vertexIndex)\\n{ \\nfloat y=floor(vertexIndex/morphTargetTextureInfo.y);\\nfloat x=vertexIndex-y*morphTargetTextureInfo.y;\\nvec3 textureUV=vec3((x+0.5)/morphTargetTextureInfo.y,(y+0.5)/morphTargetTextureInfo.z,morphTargetTextureIndices[targetIndex]);\\nreturn texture(morphTargets,textureUV).xyz;\\n}\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$17] = shader$17;\nvar name$16 = \"morphTargetsVertexDeclaration\";\nvar shader$16 = \"#ifdef MORPHTARGETS\\n#ifndef MORPHTARGETS_TEXTURE\\nattribute vec3 position{X};\\n#ifdef MORPHTARGETS_NORMAL\\nattribute vec3 normal{X};\\n#endif\\n#ifdef MORPHTARGETS_TANGENT\\nattribute vec3 tangent{X};\\n#endif\\n#ifdef MORPHTARGETS_UV\\nattribute vec2 uv_{X};\\n#endif\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$16] = shader$16;\nvar name$15 = \"helperFunctions\";\nvar shader$15 = \"const float PI=3.1415926535897932384626433832795;\\nconst float HALF_MIN=5.96046448e-08; \\nconst float LinearEncodePowerApprox=2.2;\\nconst float GammaEncodePowerApprox=1.0/LinearEncodePowerApprox;\\nconst vec3 LuminanceEncodeApprox=vec3(0.2126,0.7152,0.0722);\\nconst float Epsilon=0.0000001;\\n#define saturate(x) clamp(x,0.0,1.0)\\n#define absEps(x) abs(x)+Epsilon\\n#define maxEps(x) max(x,Epsilon)\\n#define saturateEps(x) clamp(x,Epsilon,1.0)\\nmat3 transposeMat3(mat3 inMatrix) {\\nvec3 i0=inMatrix[0];\\nvec3 i1=inMatrix[1];\\nvec3 i2=inMatrix[2];\\nmat3 outMatrix=mat3(\\nvec3(i0.x,i1.x,i2.x),\\nvec3(i0.y,i1.y,i2.y),\\nvec3(i0.z,i1.z,i2.z)\\n);\\nreturn outMatrix;\\n}\\nmat3 inverseMat3(mat3 inMatrix) {\\nfloat a00=inMatrix[0][0],a01=inMatrix[0][1],a02=inMatrix[0][2];\\nfloat a10=inMatrix[1][0],a11=inMatrix[1][1],a12=inMatrix[1][2];\\nfloat a20=inMatrix[2][0],a21=inMatrix[2][1],a22=inMatrix[2][2];\\nfloat b01=a22*a11-a12*a21;\\nfloat b11=-a22*a10+a12*a20;\\nfloat b21=a21*a10-a11*a20;\\nfloat det=a00*b01+a01*b11+a02*b21;\\nreturn mat3(b01,(-a22*a01+a02*a21),(a12*a01-a02*a11),\\nb11,(a22*a00-a02*a20),(-a12*a00+a02*a10),\\nb21,(-a21*a00+a01*a20),(a11*a00-a01*a10))/det;\\n}\\nfloat toLinearSpace(float color)\\n{\\nreturn pow(color,LinearEncodePowerApprox);\\n}\\nvec3 toLinearSpace(vec3 color)\\n{\\nreturn pow(color,vec3(LinearEncodePowerApprox));\\n}\\nvec4 toLinearSpace(vec4 color)\\n{\\nreturn vec4(pow(color.rgb,vec3(LinearEncodePowerApprox)),color.a);\\n}\\nvec3 toGammaSpace(vec3 color)\\n{\\nreturn pow(color,vec3(GammaEncodePowerApprox));\\n}\\nvec4 toGammaSpace(vec4 color)\\n{\\nreturn vec4(pow(color.rgb,vec3(GammaEncodePowerApprox)),color.a);\\n}\\nfloat toGammaSpace(float color)\\n{\\nreturn pow(color,GammaEncodePowerApprox);\\n}\\nfloat square(float value)\\n{\\nreturn value*value;\\n}\\nvec3 square(vec3 value)\\n{\\nreturn value*value;\\n}\\nfloat pow5(float value) {\\nfloat sq=value*value;\\nreturn sq*sq*value;\\n}\\nfloat getLuminance(vec3 color)\\n{\\nreturn clamp(dot(color,LuminanceEncodeApprox),0.,1.);\\n}\\nfloat getRand(vec2 seed) {\\nreturn fract(sin(dot(seed.xy ,vec2(12.9898,78.233)))*43758.5453);\\n}\\nfloat dither(vec2 seed,float varianceAmount) {\\nfloat rand=getRand(seed);\\nfloat dither=mix(-varianceAmount/255.0,varianceAmount/255.0,rand);\\nreturn dither;\\n}\\nconst float rgbdMaxRange=255.0;\\nvec4 toRGBD(vec3 color) {\\nfloat maxRGB=maxEps(max(color.r,max(color.g,color.b)));\\nfloat D =max(rgbdMaxRange/maxRGB,1.);\\nD =clamp(floor(D)/255.0,0.,1.);\\nvec3 rgb=color.rgb*D;\\nrgb=toGammaSpace(rgb);\\nreturn vec4(clamp(rgb,0.,1.),D); \\n}\\nvec3 fromRGBD(vec4 rgbd) {\\nrgbd.rgb=toLinearSpace(rgbd.rgb);\\nreturn rgbd.rgb/rgbd.a;\\n}\\nvec3 parallaxCorrectNormal( vec3 vertexPos,vec3 origVec,vec3 cubeSize,vec3 cubePos ) {\\nvec3 invOrigVec=vec3(1.0,1.0,1.0)/origVec;\\nvec3 halfSize=cubeSize*0.5;\\nvec3 intersecAtMaxPlane=(cubePos+halfSize-vertexPos)*invOrigVec;\\nvec3 intersecAtMinPlane=(cubePos-halfSize-vertexPos)*invOrigVec;\\nvec3 largestIntersec=max(intersecAtMaxPlane,intersecAtMinPlane);\\nfloat distance=min(min(largestIntersec.x,largestIntersec.y),largestIntersec.z);\\nvec3 intersectPositionWS=vertexPos+origVec*distance;\\nreturn intersectPositionWS-cubePos;\\n}\\n\";\nShaderStore.IncludesShadersStore[name$15] = shader$15;\nvar name$14 = \"sceneVertexDeclaration\";\nvar shader$14 = \"uniform mat4 viewProjection;\\n#ifdef MULTIVIEW\\nuniform mat4 viewProjectionR;\\n#endif\\nuniform mat4 view;\\nuniform mat4 projection;\\nuniform vec4 vEyePosition;\\n\";\nShaderStore.IncludesShadersStore[name$14] = shader$14;\nvar name$13 = \"meshVertexDeclaration\";\nvar shader$13 = \"uniform mat4 world;\\nuniform float visibility;\\n\";\nShaderStore.IncludesShadersStore[name$13] = shader$13;\nvar name$12 = \"shadowMapVertexDeclaration\";\nvar shader$12 = \"#include<sceneVertexDeclaration>\\n#include<meshVertexDeclaration>\\n\";\nShaderStore.IncludesShadersStore[name$12] = shader$12;\nvar name$11 = \"sceneUboDeclaration\";\nvar shader$11 = \"layout(std140,column_major) uniform;\\nuniform Scene {\\nmat4 viewProjection;\\n#ifdef MULTIVIEW\\nmat4 viewProjectionR;\\n#endif \\nmat4 view;\\nmat4 projection;\\nvec4 vEyePosition;\\n};\\n\";\nShaderStore.IncludesShadersStore[name$11] = shader$11;\nvar name$10 = \"meshUboDeclaration\";\nvar shader$10 = \"#ifdef WEBGL2\\nuniform mat4 world;\\nuniform float visibility;\\n#else\\nlayout(std140,column_major) uniform;\\nuniform Mesh\\n{\\nmat4 world;\\nfloat visibility;\\n};\\n#endif\\n#define WORLD_UBO\\n\";\nShaderStore.IncludesShadersStore[name$10] = shader$10;\nvar name$$ = \"shadowMapUboDeclaration\";\nvar shader$$ = \"layout(std140,column_major) uniform;\\n#include<sceneUboDeclaration>\\n#include<meshUboDeclaration>\\n\";\nShaderStore.IncludesShadersStore[name$$] = shader$$;\nvar name$_ = \"shadowMapVertexExtraDeclaration\";\nvar shader$_ = \"#if SM_NORMALBIAS==1\\nuniform vec3 lightDataSM;\\n#endif\\nuniform vec3 biasAndScaleSM;\\nuniform vec2 depthValuesSM;\\nvarying float vDepthMetricSM;\\n#if SM_USEDISTANCE==1\\nvarying vec3 vPositionWSM;\\n#endif\\n#if defined(SM_DEPTHCLAMP) && SM_DEPTHCLAMP==1\\nvarying float zSM;\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$_] = shader$_;\nvar name$Z = \"clipPlaneVertexDeclaration\";\nvar shader$Z = \"#ifdef CLIPPLANE\\nuniform vec4 vClipPlane;\\nvarying float fClipDistance;\\n#endif\\n#ifdef CLIPPLANE2\\nuniform vec4 vClipPlane2;\\nvarying float fClipDistance2;\\n#endif\\n#ifdef CLIPPLANE3\\nuniform vec4 vClipPlane3;\\nvarying float fClipDistance3;\\n#endif\\n#ifdef CLIPPLANE4\\nuniform vec4 vClipPlane4;\\nvarying float fClipDistance4;\\n#endif\\n#ifdef CLIPPLANE5\\nuniform vec4 vClipPlane5;\\nvarying float fClipDistance5;\\n#endif\\n#ifdef CLIPPLANE6\\nuniform vec4 vClipPlane6;\\nvarying float fClipDistance6;\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$Z] = shader$Z;\nvar name$Y = \"morphTargetsVertexGlobal\";\nvar shader$Y = \"#ifdef MORPHTARGETS\\n#ifdef MORPHTARGETS_TEXTURE\\nfloat vertexID;\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$Y] = shader$Y;\nvar name$X = \"morphTargetsVertex\";\nvar shader$X = \"#ifdef MORPHTARGETS\\n#ifdef MORPHTARGETS_TEXTURE \\nvertexID=float(gl_VertexID)*morphTargetTextureInfo.x;\\npositionUpdated+=(readVector3FromRawSampler({X},vertexID)-position)*morphTargetInfluences[{X}];\\nvertexID+=1.0;\\n#ifdef MORPHTARGETS_NORMAL\\nnormalUpdated+=(readVector3FromRawSampler({X},vertexID) -normal)*morphTargetInfluences[{X}];\\nvertexID+=1.0;\\n#endif\\n#ifdef MORPHTARGETS_UV\\nuvUpdated+=(readVector3FromRawSampler({X},vertexID).xy-uv)*morphTargetInfluences[{X}];\\nvertexID+=1.0;\\n#endif\\n#ifdef MORPHTARGETS_TANGENT\\ntangentUpdated.xyz+=(readVector3FromRawSampler({X},vertexID) -tangent.xyz)*morphTargetInfluences[{X}];\\n#endif\\n#else\\npositionUpdated+=(position{X}-position)*morphTargetInfluences[{X}];\\n#ifdef MORPHTARGETS_NORMAL\\nnormalUpdated+=(normal{X}-normal)*morphTargetInfluences[{X}];\\n#endif\\n#ifdef MORPHTARGETS_TANGENT\\ntangentUpdated.xyz+=(tangent{X}-tangent.xyz)*morphTargetInfluences[{X}];\\n#endif\\n#ifdef MORPHTARGETS_UV\\nuvUpdated+=(uv_{X}-uv)*morphTargetInfluences[{X}];\\n#endif\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$X] = shader$X;\nvar name$W = \"instancesVertex\";\nvar shader$W = \"#ifdef INSTANCES\\nmat4 finalWorld=mat4(world0,world1,world2,world3);\\n#if defined(PREPASS_VELOCITY) || defined(VELOCITY)\\nmat4 finalPreviousWorld=mat4(previousWorld0,previousWorld1,previousWorld2,previousWorld3);\\n#endif\\n#ifdef THIN_INSTANCES\\nfinalWorld=world*finalWorld;\\n#if defined(PREPASS_VELOCITY) || defined(VELOCITY)\\nfinalPreviousWorld=previousWorld*finalPreviousWorld;\\n#endif\\n#endif\\n#else\\nmat4 finalWorld=world;\\n#if defined(PREPASS_VELOCITY) || defined(VELOCITY)\\nmat4 finalPreviousWorld=previousWorld;\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$W] = shader$W;\nvar name$V = \"bonesVertex\";\nvar shader$V = \"#ifndef BAKED_VERTEX_ANIMATION_TEXTURE\\n#if NUM_BONE_INFLUENCERS>0\\nmat4 influence;\\n#ifdef BONETEXTURE\\ninfluence=readMatrixFromRawSampler(boneSampler,matricesIndices[0])*matricesWeights[0];\\n#if NUM_BONE_INFLUENCERS>1\\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndices[1])*matricesWeights[1];\\n#endif\\n#if NUM_BONE_INFLUENCERS>2\\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndices[2])*matricesWeights[2];\\n#endif\\n#if NUM_BONE_INFLUENCERS>3\\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndices[3])*matricesWeights[3];\\n#endif\\n#if NUM_BONE_INFLUENCERS>4\\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndicesExtra[0])*matricesWeightsExtra[0];\\n#endif\\n#if NUM_BONE_INFLUENCERS>5\\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndicesExtra[1])*matricesWeightsExtra[1];\\n#endif\\n#if NUM_BONE_INFLUENCERS>6\\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndicesExtra[2])*matricesWeightsExtra[2];\\n#endif\\n#if NUM_BONE_INFLUENCERS>7\\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndicesExtra[3])*matricesWeightsExtra[3];\\n#endif\\n#else\\ninfluence=mBones[int(matricesIndices[0])]*matricesWeights[0];\\n#if NUM_BONE_INFLUENCERS>1\\ninfluence+=mBones[int(matricesIndices[1])]*matricesWeights[1];\\n#endif\\n#if NUM_BONE_INFLUENCERS>2\\ninfluence+=mBones[int(matricesIndices[2])]*matricesWeights[2];\\n#endif\\n#if NUM_BONE_INFLUENCERS>3\\ninfluence+=mBones[int(matricesIndices[3])]*matricesWeights[3];\\n#endif\\n#if NUM_BONE_INFLUENCERS>4\\ninfluence+=mBones[int(matricesIndicesExtra[0])]*matricesWeightsExtra[0];\\n#endif\\n#if NUM_BONE_INFLUENCERS>5\\ninfluence+=mBones[int(matricesIndicesExtra[1])]*matricesWeightsExtra[1];\\n#endif\\n#if NUM_BONE_INFLUENCERS>6\\ninfluence+=mBones[int(matricesIndicesExtra[2])]*matricesWeightsExtra[2];\\n#endif\\n#if NUM_BONE_INFLUENCERS>7\\ninfluence+=mBones[int(matricesIndicesExtra[3])]*matricesWeightsExtra[3];\\n#endif\\n#endif\\nfinalWorld=finalWorld*influence;\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$V] = shader$V;\nvar name$U = \"bakedVertexAnimation\";\nvar shader$U = \"#ifdef BAKED_VERTEX_ANIMATION_TEXTURE\\n{\\n#ifdef INSTANCES\\n#define BVASNAME bakedVertexAnimationSettingsInstanced\\n#else\\n#define BVASNAME bakedVertexAnimationSettings\\n#endif\\nfloat VATStartFrame=BVASNAME.x;\\nfloat VATEndFrame=BVASNAME.y;\\nfloat VATOffsetFrame=BVASNAME.z;\\nfloat VATSpeed=BVASNAME.w;\\nfloat totalFrames=VATEndFrame-VATStartFrame+1.0;\\nfloat time=bakedVertexAnimationTime*VATSpeed/totalFrames;\\nfloat frameCorrection=time<1.0 ? 0.0 : 1.0;\\nfloat numOfFrames=totalFrames-frameCorrection;\\nfloat VATFrameNum=fract(time)*numOfFrames;\\nVATFrameNum=mod(VATFrameNum+VATOffsetFrame,numOfFrames);\\nVATFrameNum=floor(VATFrameNum);\\nVATFrameNum+=VATStartFrame+frameCorrection;\\nmat4 VATInfluence;\\nVATInfluence=readMatrixFromRawSamplerVAT(bakedVertexAnimationTexture,matricesIndices[0],VATFrameNum)*matricesWeights[0];\\n#if NUM_BONE_INFLUENCERS>1\\nVATInfluence+=readMatrixFromRawSamplerVAT(bakedVertexAnimationTexture,matricesIndices[1],VATFrameNum)*matricesWeights[1];\\n#endif\\n#if NUM_BONE_INFLUENCERS>2\\nVATInfluence+=readMatrixFromRawSamplerVAT(bakedVertexAnimationTexture,matricesIndices[2],VATFrameNum)*matricesWeights[2];\\n#endif\\n#if NUM_BONE_INFLUENCERS>3\\nVATInfluence+=readMatrixFromRawSamplerVAT(bakedVertexAnimationTexture,matricesIndices[3],VATFrameNum)*matricesWeights[3];\\n#endif\\n#if NUM_BONE_INFLUENCERS>4\\nVATInfluence+=readMatrixFromRawSamplerVAT(bakedVertexAnimationTexture,matricesIndicesExtra[0],VATFrameNum)*matricesWeightsExtra[0];\\n#endif\\n#if NUM_BONE_INFLUENCERS>5\\nVATInfluence+=readMatrixFromRawSamplerVAT(bakedVertexAnimationTexture,matricesIndicesExtra[1],VATFrameNum)*matricesWeightsExtra[1];\\n#endif\\n#if NUM_BONE_INFLUENCERS>6\\nVATInfluence+=readMatrixFromRawSamplerVAT(bakedVertexAnimationTexture,matricesIndicesExtra[2],VATFrameNum)*matricesWeightsExtra[2];\\n#endif\\n#if NUM_BONE_INFLUENCERS>7\\nVATInfluence+=readMatrixFromRawSamplerVAT(bakedVertexAnimationTexture,matricesIndicesExtra[3],VATFrameNum)*matricesWeightsExtra[3];\\n#endif\\nfinalWorld=finalWorld*VATInfluence;\\n}\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$U] = shader$U;\nvar name$T = \"shadowMapVertexNormalBias\";\nvar shader$T = \"#if SM_NORMALBIAS==1\\n#if SM_DIRECTIONINLIGHTDATA==1\\nvec3 worldLightDirSM=normalize(-lightDataSM.xyz);\\n#else\\nvec3 directionToLightSM=lightDataSM.xyz-worldPos.xyz;\\nvec3 worldLightDirSM=normalize(directionToLightSM);\\n#endif\\nfloat ndlSM=dot(vNormalW,worldLightDirSM);\\nfloat sinNLSM=sqrt(1.0-ndlSM*ndlSM);\\nfloat normalBiasSM=biasAndScaleSM.y*sinNLSM;\\nworldPos.xyz-=vNormalW*normalBiasSM;\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$T] = shader$T;\nvar name$S = \"shadowMapVertexMetric\";\nvar shader$S = \"#if SM_USEDISTANCE==1\\nvPositionWSM=worldPos.xyz;\\n#endif\\n#if SM_DEPTHTEXTURE==1\\n#ifdef IS_NDC_HALF_ZRANGE\\n#define BIASFACTOR 0.5\\n#else\\n#define BIASFACTOR 1.0\\n#endif\\n#ifdef USE_REVERSE_DEPTHBUFFER\\ngl_Position.z-=biasAndScaleSM.x*gl_Position.w*BIASFACTOR;\\n#else\\ngl_Position.z+=biasAndScaleSM.x*gl_Position.w*BIASFACTOR;\\n#endif\\n#endif\\n#if defined(SM_DEPTHCLAMP) && SM_DEPTHCLAMP==1\\nzSM=gl_Position.z;\\ngl_Position.z=0.0;\\n#elif SM_USEDISTANCE==0\\n#ifdef USE_REVERSE_DEPTHBUFFER\\nvDepthMetricSM=(-gl_Position.z+depthValuesSM.x)/depthValuesSM.y+biasAndScaleSM.x;\\n#else\\nvDepthMetricSM=(gl_Position.z+depthValuesSM.x)/depthValuesSM.y+biasAndScaleSM.x;\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$S] = shader$S;\nvar name$R = \"clipPlaneVertex\";\nvar shader$R = \"#ifdef CLIPPLANE\\nfClipDistance=dot(worldPos,vClipPlane);\\n#endif\\n#ifdef CLIPPLANE2\\nfClipDistance2=dot(worldPos,vClipPlane2);\\n#endif\\n#ifdef CLIPPLANE3\\nfClipDistance3=dot(worldPos,vClipPlane3);\\n#endif\\n#ifdef CLIPPLANE4\\nfClipDistance4=dot(worldPos,vClipPlane4);\\n#endif\\n#ifdef CLIPPLANE5\\nfClipDistance5=dot(worldPos,vClipPlane5);\\n#endif\\n#ifdef CLIPPLANE6\\nfClipDistance6=dot(worldPos,vClipPlane6);\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$R] = shader$R;\nvar name$Q = \"shadowMapVertexShader\";\nvar shader$Q = \"attribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#include<bonesDeclaration>\\n#include<bakedVertexAnimationDeclaration>\\n#include<morphTargetsVertexGlobalDeclaration>\\n#include<morphTargetsVertexDeclaration>[0..maxSimultaneousMorphTargets]\\n#ifdef INSTANCES\\nattribute vec4 world0;\\nattribute vec4 world1;\\nattribute vec4 world2;\\nattribute vec4 world3;\\n#endif\\n#include<helperFunctions>\\n#include<__decl__shadowMapVertex>\\n#ifdef ALPHATEST\\nvarying vec2 vUV;\\nuniform mat4 diffuseMatrix;\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#endif\\n#include<shadowMapVertexExtraDeclaration>\\n#include<clipPlaneVertexDeclaration>\\n#define CUSTOM_VERTEX_DEFINITIONS\\nvoid main(void)\\n{\\nvec3 positionUpdated=position;\\n#ifdef UV1\\nvec2 uvUpdated=uv;\\n#endif\\n#ifdef NORMAL\\nvec3 normalUpdated=normal;\\n#endif\\n#include<morphTargetsVertexGlobal>\\n#include<morphTargetsVertex>[0..maxSimultaneousMorphTargets]\\n#include<instancesVertex>\\n#include<bonesVertex>\\n#include<bakedVertexAnimation>\\nvec4 worldPos=finalWorld*vec4(positionUpdated,1.0);\\n#ifdef NORMAL\\nmat3 normWorldSM=mat3(finalWorld);\\n#if defined(INSTANCES) && defined(THIN_INSTANCES)\\nvec3 vNormalW=normalUpdated/vec3(dot(normWorldSM[0],normWorldSM[0]),dot(normWorldSM[1],normWorldSM[1]),dot(normWorldSM[2],normWorldSM[2]));\\nvNormalW=normalize(normWorldSM*vNormalW);\\n#else\\n#ifdef NONUNIFORMSCALING\\nnormWorldSM=transposeMat3(inverseMat3(normWorldSM));\\n#endif\\nvec3 vNormalW=normalize(normWorldSM*normalUpdated);\\n#endif\\n#endif\\n#include<shadowMapVertexNormalBias>\\ngl_Position=viewProjection*worldPos;\\n#include<shadowMapVertexMetric>\\n#ifdef ALPHATEST\\n#ifdef UV1\\nvUV=vec2(diffuseMatrix*vec4(uvUpdated,1.0,0.0));\\n#endif\\n#ifdef UV2\\nvUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\\n#endif\\n#endif\\n#include<clipPlaneVertex>\\n}\";\nShaderStore.ShadersStore[name$Q] = shader$Q;\nvar name$P = \"depthBoxBlurPixelShader\";\nvar shader$P = \"varying vec2 vUV;\\nuniform sampler2D textureSampler;\\nuniform vec2 screenSize;\\n#define CUSTOM_FRAGMENT_DEFINITIONS\\nvoid main(void)\\n{\\nvec4 colorDepth=vec4(0.0);\\nfor (int x=-OFFSET; x<=OFFSET; x++)\\nfor (int y=-OFFSET; y<=OFFSET; y++)\\ncolorDepth+=texture2D(textureSampler,vUV+vec2(x,y)/screenSize);\\ngl_FragColor=(colorDepth/float((OFFSET*2+1)*(OFFSET*2+1)));\\n}\";\nShaderStore.ShadersStore[name$P] = shader$P;\nvar name$O = \"shadowMapFragmentSoftTransparentShadow\";\nvar shader$O = \"#if SM_SOFTTRANSPARENTSHADOW==1\\nif ((bayerDither8(floor(mod(gl_FragCoord.xy,8.0))))/64.0>=softTransparentShadowSM*alpha) discard;\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$O] = shader$O;\nvar ShadowGenerator = function() {\n  function ShadowGenerator2(mapSize, light, usefullFloatFirst) {\n    this.onBeforeShadowMapRenderObservable = new Observable();\n    this.onAfterShadowMapRenderObservable = new Observable();\n    this.onBeforeShadowMapRenderMeshObservable = new Observable();\n    this.onAfterShadowMapRenderMeshObservable = new Observable();\n    this._bias = 5e-5;\n    this._normalBias = 0;\n    this._blurBoxOffset = 1;\n    this._blurScale = 2;\n    this._blurKernel = 1;\n    this._useKernelBlur = false;\n    this._filter = ShadowGenerator2.FILTER_NONE;\n    this._filteringQuality = ShadowGenerator2.QUALITY_HIGH;\n    this._contactHardeningLightSizeUVRatio = 0.1;\n    this._darkness = 0;\n    this._transparencyShadow = false;\n    this.enableSoftTransparentShadow = false;\n    this.useOpacityTextureForTransparentShadow = false;\n    this.frustumEdgeFalloff = 0;\n    this.forceBackFacesOnly = false;\n    this._lightDirection = Vector3.Zero();\n    this._viewMatrix = Matrix.Zero();\n    this._projectionMatrix = Matrix.Zero();\n    this._transformMatrix = Matrix.Zero();\n    this._cachedPosition = new Vector3(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n    this._cachedDirection = new Vector3(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n    this._currentFaceIndex = 0;\n    this._currentFaceIndexCache = 0;\n    this._defaultTextureMatrix = Matrix.Identity();\n    this._mapSize = mapSize;\n    this._light = light;\n    this._scene = light.getScene();\n    light._shadowGenerator = this;\n    this.id = light.id;\n    this._useUBO = this._scene.getEngine().supportsUniformBuffers;\n    if (this._useUBO) {\n      this._sceneUBOs = [];\n      this._sceneUBOs.push(this._scene.createSceneUniformBuffer('Scene for Shadow Generator (light \"'.concat(this._light.name, '\")')));\n    }\n    ShadowGenerator2._SceneComponentInitialization(this._scene);\n    var caps = this._scene.getEngine().getCaps();\n    if (!usefullFloatFirst) {\n      if (caps.textureHalfFloatRender && caps.textureHalfFloatLinearFiltering) {\n        this._textureType = 2;\n      } else if (caps.textureFloatRender && caps.textureFloatLinearFiltering) {\n        this._textureType = 1;\n      } else {\n        this._textureType = 0;\n      }\n    } else {\n      if (caps.textureFloatRender && caps.textureFloatLinearFiltering) {\n        this._textureType = 1;\n      } else if (caps.textureHalfFloatRender && caps.textureHalfFloatLinearFiltering) {\n        this._textureType = 2;\n      } else {\n        this._textureType = 0;\n      }\n    }\n    this._initializeGenerator();\n    this._applyFilterValues();\n  }\n  Object.defineProperty(ShadowGenerator2.prototype, \"bias\", {\n    get: function() {\n      return this._bias;\n    },\n    set: function(bias) {\n      this._bias = bias;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShadowGenerator2.prototype, \"normalBias\", {\n    get: function() {\n      return this._normalBias;\n    },\n    set: function(normalBias) {\n      this._normalBias = normalBias;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShadowGenerator2.prototype, \"blurBoxOffset\", {\n    get: function() {\n      return this._blurBoxOffset;\n    },\n    set: function(value) {\n      if (this._blurBoxOffset === value) {\n        return;\n      }\n      this._blurBoxOffset = value;\n      this._disposeBlurPostProcesses();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShadowGenerator2.prototype, \"blurScale\", {\n    get: function() {\n      return this._blurScale;\n    },\n    set: function(value) {\n      if (this._blurScale === value) {\n        return;\n      }\n      this._blurScale = value;\n      this._disposeBlurPostProcesses();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShadowGenerator2.prototype, \"blurKernel\", {\n    get: function() {\n      return this._blurKernel;\n    },\n    set: function(value) {\n      if (this._blurKernel === value) {\n        return;\n      }\n      this._blurKernel = value;\n      this._disposeBlurPostProcesses();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShadowGenerator2.prototype, \"useKernelBlur\", {\n    get: function() {\n      return this._useKernelBlur;\n    },\n    set: function(value) {\n      if (this._useKernelBlur === value) {\n        return;\n      }\n      this._useKernelBlur = value;\n      this._disposeBlurPostProcesses();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShadowGenerator2.prototype, \"depthScale\", {\n    get: function() {\n      return this._depthScale !== void 0 ? this._depthScale : this._light.getDepthScale();\n    },\n    set: function(value) {\n      this._depthScale = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ShadowGenerator2.prototype._validateFilter = function(filter) {\n    return filter;\n  };\n  Object.defineProperty(ShadowGenerator2.prototype, \"filter\", {\n    get: function() {\n      return this._filter;\n    },\n    set: function(value) {\n      value = this._validateFilter(value);\n      if (this._light.needCube()) {\n        if (value === ShadowGenerator2.FILTER_BLUREXPONENTIALSHADOWMAP) {\n          this.useExponentialShadowMap = true;\n          return;\n        } else if (value === ShadowGenerator2.FILTER_BLURCLOSEEXPONENTIALSHADOWMAP) {\n          this.useCloseExponentialShadowMap = true;\n          return;\n        } else if (value === ShadowGenerator2.FILTER_PCF || value === ShadowGenerator2.FILTER_PCSS) {\n          this.usePoissonSampling = true;\n          return;\n        }\n      }\n      if (value === ShadowGenerator2.FILTER_PCF || value === ShadowGenerator2.FILTER_PCSS) {\n        if (!this._scene.getEngine()._features.supportShadowSamplers) {\n          this.usePoissonSampling = true;\n          return;\n        }\n      }\n      if (this._filter === value) {\n        return;\n      }\n      this._filter = value;\n      this._disposeBlurPostProcesses();\n      this._applyFilterValues();\n      this._light._markMeshesAsLightDirty();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShadowGenerator2.prototype, \"usePoissonSampling\", {\n    get: function() {\n      return this.filter === ShadowGenerator2.FILTER_POISSONSAMPLING;\n    },\n    set: function(value) {\n      var filter = this._validateFilter(ShadowGenerator2.FILTER_POISSONSAMPLING);\n      if (!value && this.filter !== ShadowGenerator2.FILTER_POISSONSAMPLING) {\n        return;\n      }\n      this.filter = value ? filter : ShadowGenerator2.FILTER_NONE;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShadowGenerator2.prototype, \"useExponentialShadowMap\", {\n    get: function() {\n      return this.filter === ShadowGenerator2.FILTER_EXPONENTIALSHADOWMAP;\n    },\n    set: function(value) {\n      var filter = this._validateFilter(ShadowGenerator2.FILTER_EXPONENTIALSHADOWMAP);\n      if (!value && this.filter !== ShadowGenerator2.FILTER_EXPONENTIALSHADOWMAP) {\n        return;\n      }\n      this.filter = value ? filter : ShadowGenerator2.FILTER_NONE;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShadowGenerator2.prototype, \"useBlurExponentialShadowMap\", {\n    get: function() {\n      return this.filter === ShadowGenerator2.FILTER_BLUREXPONENTIALSHADOWMAP;\n    },\n    set: function(value) {\n      var filter = this._validateFilter(ShadowGenerator2.FILTER_BLUREXPONENTIALSHADOWMAP);\n      if (!value && this.filter !== ShadowGenerator2.FILTER_BLUREXPONENTIALSHADOWMAP) {\n        return;\n      }\n      this.filter = value ? filter : ShadowGenerator2.FILTER_NONE;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShadowGenerator2.prototype, \"useCloseExponentialShadowMap\", {\n    get: function() {\n      return this.filter === ShadowGenerator2.FILTER_CLOSEEXPONENTIALSHADOWMAP;\n    },\n    set: function(value) {\n      var filter = this._validateFilter(ShadowGenerator2.FILTER_CLOSEEXPONENTIALSHADOWMAP);\n      if (!value && this.filter !== ShadowGenerator2.FILTER_CLOSEEXPONENTIALSHADOWMAP) {\n        return;\n      }\n      this.filter = value ? filter : ShadowGenerator2.FILTER_NONE;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShadowGenerator2.prototype, \"useBlurCloseExponentialShadowMap\", {\n    get: function() {\n      return this.filter === ShadowGenerator2.FILTER_BLURCLOSEEXPONENTIALSHADOWMAP;\n    },\n    set: function(value) {\n      var filter = this._validateFilter(ShadowGenerator2.FILTER_BLURCLOSEEXPONENTIALSHADOWMAP);\n      if (!value && this.filter !== ShadowGenerator2.FILTER_BLURCLOSEEXPONENTIALSHADOWMAP) {\n        return;\n      }\n      this.filter = value ? filter : ShadowGenerator2.FILTER_NONE;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShadowGenerator2.prototype, \"usePercentageCloserFiltering\", {\n    get: function() {\n      return this.filter === ShadowGenerator2.FILTER_PCF;\n    },\n    set: function(value) {\n      var filter = this._validateFilter(ShadowGenerator2.FILTER_PCF);\n      if (!value && this.filter !== ShadowGenerator2.FILTER_PCF) {\n        return;\n      }\n      this.filter = value ? filter : ShadowGenerator2.FILTER_NONE;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShadowGenerator2.prototype, \"filteringQuality\", {\n    get: function() {\n      return this._filteringQuality;\n    },\n    set: function(filteringQuality) {\n      if (this._filteringQuality === filteringQuality) {\n        return;\n      }\n      this._filteringQuality = filteringQuality;\n      this._disposeBlurPostProcesses();\n      this._applyFilterValues();\n      this._light._markMeshesAsLightDirty();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShadowGenerator2.prototype, \"useContactHardeningShadow\", {\n    get: function() {\n      return this.filter === ShadowGenerator2.FILTER_PCSS;\n    },\n    set: function(value) {\n      var filter = this._validateFilter(ShadowGenerator2.FILTER_PCSS);\n      if (!value && this.filter !== ShadowGenerator2.FILTER_PCSS) {\n        return;\n      }\n      this.filter = value ? filter : ShadowGenerator2.FILTER_NONE;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShadowGenerator2.prototype, \"contactHardeningLightSizeUVRatio\", {\n    get: function() {\n      return this._contactHardeningLightSizeUVRatio;\n    },\n    set: function(contactHardeningLightSizeUVRatio) {\n      this._contactHardeningLightSizeUVRatio = contactHardeningLightSizeUVRatio;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShadowGenerator2.prototype, \"darkness\", {\n    get: function() {\n      return this._darkness;\n    },\n    set: function(value) {\n      this.setDarkness(value);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ShadowGenerator2.prototype.getDarkness = function() {\n    return this._darkness;\n  };\n  ShadowGenerator2.prototype.setDarkness = function(darkness) {\n    if (darkness >= 1) {\n      this._darkness = 1;\n    } else if (darkness <= 0) {\n      this._darkness = 0;\n    } else {\n      this._darkness = darkness;\n    }\n    return this;\n  };\n  Object.defineProperty(ShadowGenerator2.prototype, \"transparencyShadow\", {\n    get: function() {\n      return this._transparencyShadow;\n    },\n    set: function(value) {\n      this.setTransparencyShadow(value);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ShadowGenerator2.prototype.setTransparencyShadow = function(transparent) {\n    this._transparencyShadow = transparent;\n    return this;\n  };\n  ShadowGenerator2.prototype.getShadowMap = function() {\n    return this._shadowMap;\n  };\n  ShadowGenerator2.prototype.getShadowMapForRendering = function() {\n    if (this._shadowMap2) {\n      return this._shadowMap2;\n    }\n    return this._shadowMap;\n  };\n  ShadowGenerator2.prototype.getClassName = function() {\n    return ShadowGenerator2.CLASSNAME;\n  };\n  ShadowGenerator2.prototype.addShadowCaster = function(mesh, includeDescendants) {\n    if (includeDescendants === void 0) {\n      includeDescendants = true;\n    }\n    if (!this._shadowMap) {\n      return this;\n    }\n    if (!this._shadowMap.renderList) {\n      this._shadowMap.renderList = [];\n    }\n    if (this._shadowMap.renderList.indexOf(mesh) === -1) {\n      this._shadowMap.renderList.push(mesh);\n    }\n    if (includeDescendants) {\n      for (var _i = 0, _a = mesh.getChildMeshes(); _i < _a.length; _i++) {\n        var childMesh = _a[_i];\n        if (this._shadowMap.renderList.indexOf(childMesh) === -1) {\n          this._shadowMap.renderList.push(childMesh);\n        }\n      }\n    }\n    return this;\n  };\n  ShadowGenerator2.prototype.removeShadowCaster = function(mesh, includeDescendants) {\n    if (includeDescendants === void 0) {\n      includeDescendants = true;\n    }\n    if (!this._shadowMap || !this._shadowMap.renderList) {\n      return this;\n    }\n    var index = this._shadowMap.renderList.indexOf(mesh);\n    if (index !== -1) {\n      this._shadowMap.renderList.splice(index, 1);\n    }\n    if (includeDescendants) {\n      for (var _i = 0, _a = mesh.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        this.removeShadowCaster(child);\n      }\n    }\n    return this;\n  };\n  ShadowGenerator2.prototype.getLight = function() {\n    return this._light;\n  };\n  Object.defineProperty(ShadowGenerator2.prototype, \"mapSize\", {\n    get: function() {\n      return this._mapSize;\n    },\n    set: function(size) {\n      this._mapSize = size;\n      this._light._markMeshesAsLightDirty();\n      this.recreateShadowMap();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ShadowGenerator2.prototype._initializeGenerator = function() {\n    this._light._markMeshesAsLightDirty();\n    this._initializeShadowMap();\n  };\n  ShadowGenerator2.prototype._createTargetRenderTexture = function() {\n    var engine = this._scene.getEngine();\n    if (engine._features.supportDepthStencilTexture) {\n      this._shadowMap = new RenderTargetTexture(this._light.name + \"_shadowMap\", this._mapSize, this._scene, false, true, this._textureType, this._light.needCube(), void 0, false, false);\n      this._shadowMap.createDepthStencilTexture(engine.useReverseDepthBuffer ? 516 : 513, true);\n    } else {\n      this._shadowMap = new RenderTargetTexture(this._light.name + \"_shadowMap\", this._mapSize, this._scene, false, true, this._textureType, this._light.needCube());\n    }\n  };\n  ShadowGenerator2.prototype._initializeShadowMap = function() {\n    var _this = this;\n    this._createTargetRenderTexture();\n    if (this._shadowMap === null) {\n      return;\n    }\n    this._shadowMap.wrapU = Texture.CLAMP_ADDRESSMODE;\n    this._shadowMap.wrapV = Texture.CLAMP_ADDRESSMODE;\n    this._shadowMap.anisotropicFilteringLevel = 1;\n    this._shadowMap.updateSamplingMode(Texture.BILINEAR_SAMPLINGMODE);\n    this._shadowMap.renderParticles = false;\n    this._shadowMap.ignoreCameraViewport = true;\n    if (this._storedUniqueId) {\n      this._shadowMap.uniqueId = this._storedUniqueId;\n    }\n    this._shadowMap.customRenderFunction = this._renderForShadowMap.bind(this);\n    this._shadowMap.customIsReadyFunction = function() {\n      return true;\n    };\n    var engine = this._scene.getEngine();\n    this._shadowMap.onBeforeBindObservable.add(function() {\n      var _a;\n      _this._currentSceneUBO = _this._scene.getSceneUniformBuffer();\n      (_a = engine._debugPushGroup) === null || _a === void 0 ? void 0 : _a.call(engine, \"shadow map generation for pass id \".concat(engine.currentRenderPassId), 1);\n    });\n    this._shadowMap.onBeforeRenderObservable.add(function(faceIndex) {\n      if (_this._sceneUBOs) {\n        _this._scene.setSceneUniformBuffer(_this._sceneUBOs[0]);\n      }\n      _this._currentFaceIndex = faceIndex;\n      if (_this._filter === ShadowGenerator2.FILTER_PCF) {\n        engine.setColorWrite(false);\n      }\n      _this.getTransformMatrix();\n      _this._scene.setTransformMatrix(_this._viewMatrix, _this._projectionMatrix);\n      if (_this._useUBO) {\n        _this._scene.getSceneUniformBuffer().unbindEffect();\n        _this._scene.finalizeSceneUbo();\n      }\n    });\n    this._shadowMap.onAfterUnbindObservable.add(function() {\n      var _a, _b;\n      if (_this._sceneUBOs) {\n        _this._scene.setSceneUniformBuffer(_this._currentSceneUBO);\n      }\n      _this._scene.updateTransformMatrix();\n      if (_this._filter === ShadowGenerator2.FILTER_PCF) {\n        engine.setColorWrite(true);\n      }\n      if (!_this.useBlurExponentialShadowMap && !_this.useBlurCloseExponentialShadowMap) {\n        (_a = engine._debugPopGroup) === null || _a === void 0 ? void 0 : _a.call(engine, 1);\n        return;\n      }\n      var shadowMap = _this.getShadowMapForRendering();\n      if (shadowMap) {\n        _this._scene.postProcessManager.directRender(_this._blurPostProcesses, shadowMap.renderTarget, true);\n        engine.unBindFramebuffer(shadowMap.renderTarget, true);\n        (_b = engine._debugPopGroup) === null || _b === void 0 ? void 0 : _b.call(engine, 1);\n      }\n    });\n    var clearZero = new Color4$1(0, 0, 0, 0);\n    var clearOne = new Color4$1(1, 1, 1, 1);\n    this._shadowMap.onClearObservable.add(function(engine2) {\n      if (_this._filter === ShadowGenerator2.FILTER_PCF) {\n        engine2.clear(clearOne, false, true, false);\n      } else if (_this.useExponentialShadowMap || _this.useBlurExponentialShadowMap) {\n        engine2.clear(clearZero, true, true, false);\n      } else {\n        engine2.clear(clearOne, true, true, false);\n      }\n    });\n    this._shadowMap.onResizeObservable.add(function(rtt) {\n      _this._storedUniqueId = _this._shadowMap.uniqueId;\n      _this._mapSize = rtt.getRenderSize();\n      _this._light._markMeshesAsLightDirty();\n      _this.recreateShadowMap();\n    });\n    for (var i = RenderingManager.MIN_RENDERINGGROUPS; i < RenderingManager.MAX_RENDERINGGROUPS; i++) {\n      this._shadowMap.setRenderingAutoClearDepthStencil(i, false);\n    }\n  };\n  ShadowGenerator2.prototype._initializeBlurRTTAndPostProcesses = function() {\n    var _this = this;\n    var engine = this._scene.getEngine();\n    var targetSize = this._mapSize / this.blurScale;\n    if (!this.useKernelBlur || this.blurScale !== 1) {\n      this._shadowMap2 = new RenderTargetTexture(this._light.name + \"_shadowMap2\", targetSize, this._scene, false, true, this._textureType, void 0, void 0, false);\n      this._shadowMap2.wrapU = Texture.CLAMP_ADDRESSMODE;\n      this._shadowMap2.wrapV = Texture.CLAMP_ADDRESSMODE;\n      this._shadowMap2.updateSamplingMode(Texture.BILINEAR_SAMPLINGMODE);\n    }\n    if (this.useKernelBlur) {\n      this._kernelBlurXPostprocess = new BlurPostProcess(this._light.name + \"KernelBlurX\", new Vector2(1, 0), this.blurKernel, 1, null, Texture.BILINEAR_SAMPLINGMODE, engine, false, this._textureType);\n      this._kernelBlurXPostprocess.width = targetSize;\n      this._kernelBlurXPostprocess.height = targetSize;\n      this._kernelBlurXPostprocess.externalTextureSamplerBinding = true;\n      this._kernelBlurXPostprocess.onApplyObservable.add(function(effect) {\n        effect.setTexture(\"textureSampler\", _this._shadowMap);\n      });\n      this._kernelBlurYPostprocess = new BlurPostProcess(this._light.name + \"KernelBlurY\", new Vector2(0, 1), this.blurKernel, 1, null, Texture.BILINEAR_SAMPLINGMODE, engine, false, this._textureType);\n      this._kernelBlurXPostprocess.autoClear = false;\n      this._kernelBlurYPostprocess.autoClear = false;\n      if (this._textureType === 0) {\n        this._kernelBlurXPostprocess.packedFloat = true;\n        this._kernelBlurYPostprocess.packedFloat = true;\n      }\n      this._blurPostProcesses = [this._kernelBlurXPostprocess, this._kernelBlurYPostprocess];\n    } else {\n      this._boxBlurPostprocess = new PostProcess(this._light.name + \"DepthBoxBlur\", \"depthBoxBlur\", [\"screenSize\", \"boxOffset\"], [], 1, null, Texture.BILINEAR_SAMPLINGMODE, engine, false, \"#define OFFSET \" + this._blurBoxOffset, this._textureType);\n      this._boxBlurPostprocess.externalTextureSamplerBinding = true;\n      this._boxBlurPostprocess.onApplyObservable.add(function(effect) {\n        effect.setFloat2(\"screenSize\", targetSize, targetSize);\n        effect.setTexture(\"textureSampler\", _this._shadowMap);\n      });\n      this._boxBlurPostprocess.autoClear = false;\n      this._blurPostProcesses = [this._boxBlurPostprocess];\n    }\n  };\n  ShadowGenerator2.prototype._renderForShadowMap = function(opaqueSubMeshes, alphaTestSubMeshes, transparentSubMeshes, depthOnlySubMeshes) {\n    var index;\n    if (depthOnlySubMeshes.length) {\n      for (index = 0; index < depthOnlySubMeshes.length; index++) {\n        this._renderSubMeshForShadowMap(depthOnlySubMeshes.data[index]);\n      }\n    }\n    for (index = 0; index < opaqueSubMeshes.length; index++) {\n      this._renderSubMeshForShadowMap(opaqueSubMeshes.data[index]);\n    }\n    for (index = 0; index < alphaTestSubMeshes.length; index++) {\n      this._renderSubMeshForShadowMap(alphaTestSubMeshes.data[index]);\n    }\n    if (this._transparencyShadow) {\n      for (index = 0; index < transparentSubMeshes.length; index++) {\n        this._renderSubMeshForShadowMap(transparentSubMeshes.data[index], true);\n      }\n    } else {\n      for (index = 0; index < transparentSubMeshes.length; index++) {\n        transparentSubMeshes.data[index].getEffectiveMesh()._internalAbstractMeshDataInfo._isActiveIntermediate = false;\n      }\n    }\n  };\n  ShadowGenerator2.prototype._bindCustomEffectForRenderSubMeshForShadowMap = function(subMesh, effect, mesh) {\n    effect.setMatrix(\"viewProjection\", this.getTransformMatrix());\n  };\n  ShadowGenerator2.prototype._renderSubMeshForShadowMap = function(subMesh, isTransparent) {\n    var _a, _b;\n    if (isTransparent === void 0) {\n      isTransparent = false;\n    }\n    var renderingMesh = subMesh.getRenderingMesh();\n    var effectiveMesh = subMesh.getEffectiveMesh();\n    var scene = this._scene;\n    var engine = scene.getEngine();\n    var material = subMesh.getMaterial();\n    effectiveMesh._internalAbstractMeshDataInfo._isActiveIntermediate = false;\n    if (!material || subMesh.verticesCount === 0 || subMesh._renderId === scene.getRenderId()) {\n      return;\n    }\n    var detNeg = effectiveMesh._getWorldMatrixDeterminant() < 0;\n    var sideOrientation = (_a = renderingMesh.overrideMaterialSideOrientation) !== null && _a !== void 0 ? _a : material.sideOrientation;\n    if (detNeg) {\n      sideOrientation = sideOrientation === 0 ? 1 : 0;\n    }\n    var reverseSideOrientation = sideOrientation === 0;\n    engine.setState(material.backFaceCulling, void 0, void 0, reverseSideOrientation, material.cullBackFaces);\n    var batch = renderingMesh._getInstancesRenderList(subMesh._id, !!subMesh.getReplacementMesh());\n    if (batch.mustReturn) {\n      return;\n    }\n    var hardwareInstancedRendering = engine.getCaps().instancedArrays && (batch.visibleInstances[subMesh._id] !== null && batch.visibleInstances[subMesh._id] !== void 0 || renderingMesh.hasThinInstances);\n    if (this.customAllowRendering && !this.customAllowRendering(subMesh)) {\n      return;\n    }\n    if (this.isReady(subMesh, hardwareInstancedRendering, isTransparent)) {\n      subMesh._renderId = scene.getRenderId();\n      var shadowDepthWrapper = material.shadowDepthWrapper;\n      var drawWrapper = (_b = shadowDepthWrapper === null || shadowDepthWrapper === void 0 ? void 0 : shadowDepthWrapper.getEffect(subMesh, this, engine.currentRenderPassId)) !== null && _b !== void 0 ? _b : subMesh._getDrawWrapper();\n      var effect_1 = DrawWrapper.GetEffect(drawWrapper);\n      engine.enableEffect(drawWrapper);\n      if (!hardwareInstancedRendering) {\n        renderingMesh._bind(subMesh, effect_1, material.fillMode);\n      }\n      this.getTransformMatrix();\n      effect_1.setFloat3(\"biasAndScaleSM\", this.bias, this.normalBias, this.depthScale);\n      if (this.getLight().getTypeID() === Light.LIGHTTYPEID_DIRECTIONALLIGHT) {\n        effect_1.setVector3(\"lightDataSM\", this._cachedDirection);\n      } else {\n        effect_1.setVector3(\"lightDataSM\", this._cachedPosition);\n      }\n      if (scene.activeCamera) {\n        effect_1.setFloat2(\"depthValuesSM\", this.getLight().getDepthMinZ(scene.activeCamera), this.getLight().getDepthMinZ(scene.activeCamera) + this.getLight().getDepthMaxZ(scene.activeCamera));\n      }\n      if (isTransparent && this.enableSoftTransparentShadow) {\n        effect_1.setFloat(\"softTransparentShadowSM\", effectiveMesh.visibility * material.alpha);\n      }\n      if (shadowDepthWrapper) {\n        subMesh._setMainDrawWrapperOverride(drawWrapper);\n        if (shadowDepthWrapper.standalone) {\n          shadowDepthWrapper.baseMaterial.bindForSubMesh(effectiveMesh.getWorldMatrix(), renderingMesh, subMesh);\n        } else {\n          material.bindForSubMesh(effectiveMesh.getWorldMatrix(), renderingMesh, subMesh);\n        }\n        subMesh._setMainDrawWrapperOverride(null);\n      } else {\n        if (material && this.useOpacityTextureForTransparentShadow) {\n          var opacityTexture = material.opacityTexture;\n          if (opacityTexture) {\n            effect_1.setTexture(\"diffuseSampler\", opacityTexture);\n            effect_1.setMatrix(\"diffuseMatrix\", opacityTexture.getTextureMatrix() || this._defaultTextureMatrix);\n          }\n        } else if (material && material.needAlphaTesting()) {\n          var alphaTexture = material.getAlphaTestTexture();\n          if (alphaTexture) {\n            effect_1.setTexture(\"diffuseSampler\", alphaTexture);\n            effect_1.setMatrix(\"diffuseMatrix\", alphaTexture.getTextureMatrix() || this._defaultTextureMatrix);\n          }\n        }\n        if (renderingMesh.useBones && renderingMesh.computeBonesUsingShaders && renderingMesh.skeleton) {\n          var skeleton = renderingMesh.skeleton;\n          if (skeleton.isUsingTextureForMatrices) {\n            var boneTexture = skeleton.getTransformMatrixTexture(renderingMesh);\n            if (!boneTexture) {\n              return;\n            }\n            effect_1.setTexture(\"boneSampler\", boneTexture);\n            effect_1.setFloat(\"boneTextureWidth\", 4 * (skeleton.bones.length + 1));\n          } else {\n            effect_1.setMatrices(\"mBones\", skeleton.getTransformMatrices(renderingMesh));\n          }\n        }\n        MaterialHelper.BindMorphTargetParameters(renderingMesh, effect_1);\n        if (renderingMesh.morphTargetManager && renderingMesh.morphTargetManager.isUsingTextureForTargets) {\n          renderingMesh.morphTargetManager._bind(effect_1);\n        }\n        MaterialHelper.BindClipPlane(effect_1, scene);\n      }\n      if (!this._useUBO && !shadowDepthWrapper) {\n        this._bindCustomEffectForRenderSubMeshForShadowMap(subMesh, effect_1, effectiveMesh);\n      }\n      MaterialHelper.BindSceneUniformBuffer(effect_1, this._scene.getSceneUniformBuffer());\n      this._scene.getSceneUniformBuffer().bindUniformBuffer();\n      var world_1 = effectiveMesh.getWorldMatrix();\n      if (hardwareInstancedRendering) {\n        effectiveMesh.getMeshUniformBuffer().bindToEffect(effect_1, \"Mesh\");\n        effectiveMesh.transferToEffect(world_1);\n      }\n      if (this.forceBackFacesOnly) {\n        engine.setState(true, 0, false, true, material.cullBackFaces);\n      }\n      this.onBeforeShadowMapRenderMeshObservable.notifyObservers(renderingMesh);\n      this.onBeforeShadowMapRenderObservable.notifyObservers(effect_1);\n      renderingMesh._processRendering(effectiveMesh, subMesh, effect_1, material.fillMode, batch, hardwareInstancedRendering, function(isInstance, worldOverride) {\n        if (effectiveMesh !== renderingMesh && !isInstance) {\n          renderingMesh.getMeshUniformBuffer().bindToEffect(effect_1, \"Mesh\");\n          renderingMesh.transferToEffect(worldOverride);\n        } else {\n          effectiveMesh.getMeshUniformBuffer().bindToEffect(effect_1, \"Mesh\");\n          effectiveMesh.transferToEffect(isInstance ? worldOverride : world_1);\n        }\n      });\n      if (this.forceBackFacesOnly) {\n        engine.setState(true, 0, false, false, material.cullBackFaces);\n      }\n      this.onAfterShadowMapRenderObservable.notifyObservers(effect_1);\n      this.onAfterShadowMapRenderMeshObservable.notifyObservers(renderingMesh);\n    } else {\n      if (this._shadowMap) {\n        this._shadowMap.resetRefreshCounter();\n      }\n    }\n  };\n  ShadowGenerator2.prototype._applyFilterValues = function() {\n    if (!this._shadowMap) {\n      return;\n    }\n    if (this.filter === ShadowGenerator2.FILTER_NONE || this.filter === ShadowGenerator2.FILTER_PCSS) {\n      this._shadowMap.updateSamplingMode(Texture.NEAREST_SAMPLINGMODE);\n    } else {\n      this._shadowMap.updateSamplingMode(Texture.BILINEAR_SAMPLINGMODE);\n    }\n  };\n  ShadowGenerator2.prototype.forceCompilation = function(onCompiled, options) {\n    var _this = this;\n    var localOptions = __assign({ useInstances: false }, options);\n    var shadowMap = this.getShadowMap();\n    if (!shadowMap) {\n      if (onCompiled) {\n        onCompiled(this);\n      }\n      return;\n    }\n    var renderList = shadowMap.renderList;\n    if (!renderList) {\n      if (onCompiled) {\n        onCompiled(this);\n      }\n      return;\n    }\n    var subMeshes = new Array();\n    for (var _i = 0, renderList_1 = renderList; _i < renderList_1.length; _i++) {\n      var mesh = renderList_1[_i];\n      subMeshes.push.apply(subMeshes, mesh.subMeshes);\n    }\n    if (subMeshes.length === 0) {\n      if (onCompiled) {\n        onCompiled(this);\n      }\n      return;\n    }\n    var currentIndex = 0;\n    var checkReady = function() {\n      var _a, _b;\n      if (!_this._scene || !_this._scene.getEngine()) {\n        return;\n      }\n      while (_this.isReady(subMeshes[currentIndex], localOptions.useInstances, (_b = (_a = subMeshes[currentIndex].getMaterial()) === null || _a === void 0 ? void 0 : _a.needAlphaBlendingForMesh(subMeshes[currentIndex].getMesh())) !== null && _b !== void 0 ? _b : false)) {\n        currentIndex++;\n        if (currentIndex >= subMeshes.length) {\n          if (onCompiled) {\n            onCompiled(_this);\n          }\n          return;\n        }\n      }\n      setTimeout(checkReady, 16);\n    };\n    checkReady();\n  };\n  ShadowGenerator2.prototype.forceCompilationAsync = function(options) {\n    var _this = this;\n    return new Promise(function(resolve) {\n      _this.forceCompilation(function() {\n        resolve();\n      }, options);\n    });\n  };\n  ShadowGenerator2.prototype._isReadyCustomDefines = function(defines, subMesh, useInstances) {\n  };\n  ShadowGenerator2.prototype._prepareShadowDefines = function(subMesh, useInstances, defines, isTransparent) {\n    defines.push(\"#define SM_FLOAT \" + (this._textureType !== 0 ? \"1\" : \"0\"));\n    defines.push(\"#define SM_ESM \" + (this.useExponentialShadowMap || this.useBlurExponentialShadowMap ? \"1\" : \"0\"));\n    defines.push(\"#define SM_DEPTHTEXTURE \" + (this.usePercentageCloserFiltering || this.useContactHardeningShadow ? \"1\" : \"0\"));\n    var mesh = subMesh.getMesh();\n    defines.push(\"#define SM_NORMALBIAS \" + (this.normalBias && mesh.isVerticesDataPresent(VertexBuffer.NormalKind) ? \"1\" : \"0\"));\n    defines.push(\"#define SM_DIRECTIONINLIGHTDATA \" + (this.getLight().getTypeID() === Light.LIGHTTYPEID_DIRECTIONALLIGHT ? \"1\" : \"0\"));\n    defines.push(\"#define SM_USEDISTANCE \" + (this._light.needCube() ? \"1\" : \"0\"));\n    defines.push(\"#define SM_SOFTTRANSPARENTSHADOW \" + (this.enableSoftTransparentShadow && isTransparent ? \"1\" : \"0\"));\n    this._isReadyCustomDefines(defines, subMesh, useInstances);\n    return defines;\n  };\n  ShadowGenerator2.prototype.isReady = function(subMesh, useInstances, isTransparent) {\n    var _a;\n    var material = subMesh.getMaterial(), shadowDepthWrapper = material === null || material === void 0 ? void 0 : material.shadowDepthWrapper;\n    var defines = [];\n    this._prepareShadowDefines(subMesh, useInstances, defines, isTransparent);\n    if (shadowDepthWrapper) {\n      if (!shadowDepthWrapper.isReadyForSubMesh(subMesh, defines, this, useInstances, this._scene.getEngine().currentRenderPassId)) {\n        return false;\n      }\n    } else {\n      var subMeshEffect = subMesh._getDrawWrapper(void 0, true);\n      var effect = subMeshEffect.effect;\n      var cachedDefines = subMeshEffect.defines;\n      var attribs = [VertexBuffer.PositionKind];\n      var mesh = subMesh.getMesh();\n      if (this.normalBias && mesh.isVerticesDataPresent(VertexBuffer.NormalKind)) {\n        attribs.push(VertexBuffer.NormalKind);\n        defines.push(\"#define NORMAL\");\n        if (mesh.nonUniformScaling) {\n          defines.push(\"#define NONUNIFORMSCALING\");\n        }\n      }\n      if (material && material.needAlphaTesting()) {\n        var alphaTexture = null;\n        if (this.useOpacityTextureForTransparentShadow) {\n          alphaTexture = material.opacityTexture;\n        } else {\n          alphaTexture = material.getAlphaTestTexture();\n        }\n        if (alphaTexture) {\n          if (!alphaTexture.isReady()) {\n            return false;\n          }\n          var alphaCutOff = (_a = material.alphaCutOff) !== null && _a !== void 0 ? _a : ShadowGenerator2.DEFAULT_ALPHA_CUTOFF;\n          defines.push(\"#define ALPHATEST\");\n          defines.push(\"#define ALPHATESTVALUE \".concat(alphaCutOff).concat(alphaCutOff % 1 === 0 ? \".\" : \"\"));\n          if (mesh.isVerticesDataPresent(VertexBuffer.UVKind)) {\n            attribs.push(VertexBuffer.UVKind);\n            defines.push(\"#define UV1\");\n          }\n          if (mesh.isVerticesDataPresent(VertexBuffer.UV2Kind)) {\n            if (alphaTexture.coordinatesIndex === 1) {\n              attribs.push(VertexBuffer.UV2Kind);\n              defines.push(\"#define UV2\");\n            }\n          }\n        }\n      }\n      var fallbacks = new EffectFallbacks();\n      if (mesh.useBones && mesh.computeBonesUsingShaders && mesh.skeleton) {\n        attribs.push(VertexBuffer.MatricesIndicesKind);\n        attribs.push(VertexBuffer.MatricesWeightsKind);\n        if (mesh.numBoneInfluencers > 4) {\n          attribs.push(VertexBuffer.MatricesIndicesExtraKind);\n          attribs.push(VertexBuffer.MatricesWeightsExtraKind);\n        }\n        var skeleton = mesh.skeleton;\n        defines.push(\"#define NUM_BONE_INFLUENCERS \" + mesh.numBoneInfluencers);\n        if (mesh.numBoneInfluencers > 0) {\n          fallbacks.addCPUSkinningFallback(0, mesh);\n        }\n        if (skeleton.isUsingTextureForMatrices) {\n          defines.push(\"#define BONETEXTURE\");\n        } else {\n          defines.push(\"#define BonesPerMesh \" + (skeleton.bones.length + 1));\n        }\n      } else {\n        defines.push(\"#define NUM_BONE_INFLUENCERS 0\");\n      }\n      var manager = mesh.morphTargetManager;\n      var morphInfluencers = 0;\n      if (manager) {\n        if (manager.numInfluencers > 0) {\n          defines.push(\"#define MORPHTARGETS\");\n          morphInfluencers = manager.numInfluencers;\n          defines.push(\"#define NUM_MORPH_INFLUENCERS \" + morphInfluencers);\n          if (manager.isUsingTextureForTargets) {\n            defines.push(\"#define MORPHTARGETS_TEXTURE\");\n          }\n          MaterialHelper.PrepareAttributesForMorphTargetsInfluencers(attribs, mesh, morphInfluencers);\n        }\n      }\n      var scene = this._scene;\n      if (scene.clipPlane) {\n        defines.push(\"#define CLIPPLANE\");\n      }\n      if (scene.clipPlane2) {\n        defines.push(\"#define CLIPPLANE2\");\n      }\n      if (scene.clipPlane3) {\n        defines.push(\"#define CLIPPLANE3\");\n      }\n      if (scene.clipPlane4) {\n        defines.push(\"#define CLIPPLANE4\");\n      }\n      if (scene.clipPlane5) {\n        defines.push(\"#define CLIPPLANE5\");\n      }\n      if (scene.clipPlane6) {\n        defines.push(\"#define CLIPPLANE6\");\n      }\n      if (useInstances) {\n        defines.push(\"#define INSTANCES\");\n        MaterialHelper.PushAttributesForInstances(attribs);\n        if (subMesh.getRenderingMesh().hasThinInstances) {\n          defines.push(\"#define THIN_INSTANCES\");\n        }\n      }\n      if (this.customShaderOptions) {\n        if (this.customShaderOptions.defines) {\n          for (var _i = 0, _b = this.customShaderOptions.defines; _i < _b.length; _i++) {\n            var define = _b[_i];\n            if (defines.indexOf(define) === -1) {\n              defines.push(define);\n            }\n          }\n        }\n      }\n      var join = defines.join(\"\\n\");\n      if (cachedDefines !== join) {\n        cachedDefines = join;\n        var shaderName = \"shadowMap\";\n        var uniforms = [\n          \"world\",\n          \"mBones\",\n          \"viewProjection\",\n          \"diffuseMatrix\",\n          \"lightDataSM\",\n          \"depthValuesSM\",\n          \"biasAndScaleSM\",\n          \"morphTargetInfluences\",\n          \"boneTextureWidth\",\n          \"vClipPlane\",\n          \"vClipPlane2\",\n          \"vClipPlane3\",\n          \"vClipPlane4\",\n          \"vClipPlane5\",\n          \"vClipPlane6\",\n          \"softTransparentShadowSM\",\n          \"morphTargetTextureInfo\",\n          \"morphTargetTextureIndices\"\n        ];\n        var samplers = [\"diffuseSampler\", \"boneSampler\", \"morphTargets\"];\n        var uniformBuffers = [\"Scene\", \"Mesh\"];\n        if (this.customShaderOptions) {\n          shaderName = this.customShaderOptions.shaderName;\n          if (this.customShaderOptions.attributes) {\n            for (var _c = 0, _d = this.customShaderOptions.attributes; _c < _d.length; _c++) {\n              var attrib = _d[_c];\n              if (attribs.indexOf(attrib) === -1) {\n                attribs.push(attrib);\n              }\n            }\n          }\n          if (this.customShaderOptions.uniforms) {\n            for (var _e = 0, _f = this.customShaderOptions.uniforms; _e < _f.length; _e++) {\n              var uniform = _f[_e];\n              if (uniforms.indexOf(uniform) === -1) {\n                uniforms.push(uniform);\n              }\n            }\n          }\n          if (this.customShaderOptions.samplers) {\n            for (var _g = 0, _h = this.customShaderOptions.samplers; _g < _h.length; _g++) {\n              var sampler = _h[_g];\n              if (samplers.indexOf(sampler) === -1) {\n                samplers.push(sampler);\n              }\n            }\n          }\n        }\n        var engine = this._scene.getEngine();\n        effect = engine.createEffect(shaderName, {\n          attributes: attribs,\n          uniformsNames: uniforms,\n          uniformBuffersNames: uniformBuffers,\n          samplers,\n          defines: join,\n          fallbacks,\n          onCompiled: null,\n          onError: null,\n          indexParameters: { maxSimultaneousMorphTargets: morphInfluencers }\n        }, engine);\n        subMeshEffect.setEffect(effect, cachedDefines);\n      }\n      if (!effect.isReady()) {\n        return false;\n      }\n    }\n    if (this.useBlurExponentialShadowMap || this.useBlurCloseExponentialShadowMap) {\n      if (!this._blurPostProcesses || !this._blurPostProcesses.length) {\n        this._initializeBlurRTTAndPostProcesses();\n      }\n    }\n    if (this._kernelBlurXPostprocess && !this._kernelBlurXPostprocess.isReady()) {\n      return false;\n    }\n    if (this._kernelBlurYPostprocess && !this._kernelBlurYPostprocess.isReady()) {\n      return false;\n    }\n    if (this._boxBlurPostprocess && !this._boxBlurPostprocess.isReady()) {\n      return false;\n    }\n    return true;\n  };\n  ShadowGenerator2.prototype.prepareDefines = function(defines, lightIndex) {\n    var scene = this._scene;\n    var light = this._light;\n    if (!scene.shadowsEnabled || !light.shadowEnabled) {\n      return;\n    }\n    defines[\"SHADOW\" + lightIndex] = true;\n    if (this.useContactHardeningShadow) {\n      defines[\"SHADOWPCSS\" + lightIndex] = true;\n      if (this._filteringQuality === ShadowGenerator2.QUALITY_LOW) {\n        defines[\"SHADOWLOWQUALITY\" + lightIndex] = true;\n      } else if (this._filteringQuality === ShadowGenerator2.QUALITY_MEDIUM) {\n        defines[\"SHADOWMEDIUMQUALITY\" + lightIndex] = true;\n      }\n    } else if (this.usePercentageCloserFiltering) {\n      defines[\"SHADOWPCF\" + lightIndex] = true;\n      if (this._filteringQuality === ShadowGenerator2.QUALITY_LOW) {\n        defines[\"SHADOWLOWQUALITY\" + lightIndex] = true;\n      } else if (this._filteringQuality === ShadowGenerator2.QUALITY_MEDIUM) {\n        defines[\"SHADOWMEDIUMQUALITY\" + lightIndex] = true;\n      }\n    } else if (this.usePoissonSampling) {\n      defines[\"SHADOWPOISSON\" + lightIndex] = true;\n    } else if (this.useExponentialShadowMap || this.useBlurExponentialShadowMap) {\n      defines[\"SHADOWESM\" + lightIndex] = true;\n    } else if (this.useCloseExponentialShadowMap || this.useBlurCloseExponentialShadowMap) {\n      defines[\"SHADOWCLOSEESM\" + lightIndex] = true;\n    }\n    if (light.needCube()) {\n      defines[\"SHADOWCUBE\" + lightIndex] = true;\n    }\n  };\n  ShadowGenerator2.prototype.bindShadowLight = function(lightIndex, effect) {\n    var light = this._light;\n    var scene = this._scene;\n    if (!scene.shadowsEnabled || !light.shadowEnabled) {\n      return;\n    }\n    var camera = scene.activeCamera;\n    if (!camera) {\n      return;\n    }\n    var shadowMap = this.getShadowMap();\n    if (!shadowMap) {\n      return;\n    }\n    if (!light.needCube()) {\n      effect.setMatrix(\"lightMatrix\" + lightIndex, this.getTransformMatrix());\n    }\n    if (this._filter === ShadowGenerator2.FILTER_PCF) {\n      effect.setDepthStencilTexture(\"shadowSampler\" + lightIndex, this.getShadowMapForRendering());\n      light._uniformBuffer.updateFloat4(\"shadowsInfo\", this.getDarkness(), shadowMap.getSize().width, 1 / shadowMap.getSize().width, this.frustumEdgeFalloff, lightIndex);\n    } else if (this._filter === ShadowGenerator2.FILTER_PCSS) {\n      effect.setDepthStencilTexture(\"shadowSampler\" + lightIndex, this.getShadowMapForRendering());\n      effect.setTexture(\"depthSampler\" + lightIndex, this.getShadowMapForRendering());\n      light._uniformBuffer.updateFloat4(\"shadowsInfo\", this.getDarkness(), 1 / shadowMap.getSize().width, this._contactHardeningLightSizeUVRatio * shadowMap.getSize().width, this.frustumEdgeFalloff, lightIndex);\n    } else {\n      effect.setTexture(\"shadowSampler\" + lightIndex, this.getShadowMapForRendering());\n      light._uniformBuffer.updateFloat4(\"shadowsInfo\", this.getDarkness(), this.blurScale / shadowMap.getSize().width, this.depthScale, this.frustumEdgeFalloff, lightIndex);\n    }\n    light._uniformBuffer.updateFloat2(\"depthValues\", this.getLight().getDepthMinZ(camera), this.getLight().getDepthMinZ(camera) + this.getLight().getDepthMaxZ(camera), lightIndex);\n  };\n  ShadowGenerator2.prototype.getTransformMatrix = function() {\n    var scene = this._scene;\n    if (this._currentRenderId === scene.getRenderId() && this._currentFaceIndexCache === this._currentFaceIndex) {\n      return this._transformMatrix;\n    }\n    this._currentRenderId = scene.getRenderId();\n    this._currentFaceIndexCache = this._currentFaceIndex;\n    var lightPosition = this._light.position;\n    if (this._light.computeTransformedInformation()) {\n      lightPosition = this._light.transformedPosition;\n    }\n    Vector3.NormalizeToRef(this._light.getShadowDirection(this._currentFaceIndex), this._lightDirection);\n    if (Math.abs(Vector3.Dot(this._lightDirection, Vector3.Up())) === 1) {\n      this._lightDirection.z = 1e-13;\n    }\n    if (this._light.needProjectionMatrixCompute() || !this._cachedPosition || !this._cachedDirection || !lightPosition.equals(this._cachedPosition) || !this._lightDirection.equals(this._cachedDirection)) {\n      this._cachedPosition.copyFrom(lightPosition);\n      this._cachedDirection.copyFrom(this._lightDirection);\n      Matrix.LookAtLHToRef(lightPosition, lightPosition.add(this._lightDirection), Vector3.Up(), this._viewMatrix);\n      var shadowMap = this.getShadowMap();\n      if (shadowMap) {\n        var renderList = shadowMap.renderList;\n        if (renderList) {\n          this._light.setShadowProjectionMatrix(this._projectionMatrix, this._viewMatrix, renderList);\n        }\n      }\n      this._viewMatrix.multiplyToRef(this._projectionMatrix, this._transformMatrix);\n    }\n    return this._transformMatrix;\n  };\n  ShadowGenerator2.prototype.recreateShadowMap = function() {\n    var shadowMap = this._shadowMap;\n    if (!shadowMap) {\n      return;\n    }\n    var renderList = shadowMap.renderList;\n    this._disposeRTTandPostProcesses();\n    this._initializeGenerator();\n    this.filter = this._filter;\n    this._applyFilterValues();\n    if (renderList) {\n      if (!this._shadowMap.renderList) {\n        this._shadowMap.renderList = [];\n      }\n      for (var _i = 0, renderList_2 = renderList; _i < renderList_2.length; _i++) {\n        var mesh = renderList_2[_i];\n        this._shadowMap.renderList.push(mesh);\n      }\n    } else {\n      this._shadowMap.renderList = null;\n    }\n  };\n  ShadowGenerator2.prototype._disposeBlurPostProcesses = function() {\n    if (this._shadowMap2) {\n      this._shadowMap2.dispose();\n      this._shadowMap2 = null;\n    }\n    if (this._boxBlurPostprocess) {\n      this._boxBlurPostprocess.dispose();\n      this._boxBlurPostprocess = null;\n    }\n    if (this._kernelBlurXPostprocess) {\n      this._kernelBlurXPostprocess.dispose();\n      this._kernelBlurXPostprocess = null;\n    }\n    if (this._kernelBlurYPostprocess) {\n      this._kernelBlurYPostprocess.dispose();\n      this._kernelBlurYPostprocess = null;\n    }\n    this._blurPostProcesses = [];\n  };\n  ShadowGenerator2.prototype._disposeRTTandPostProcesses = function() {\n    if (this._shadowMap) {\n      this._shadowMap.dispose();\n      this._shadowMap = null;\n    }\n    this._disposeBlurPostProcesses();\n  };\n  ShadowGenerator2.prototype._disposeSceneUBOs = function() {\n    if (this._sceneUBOs) {\n      for (var _i = 0, _a = this._sceneUBOs; _i < _a.length; _i++) {\n        var ubo = _a[_i];\n        ubo.dispose();\n      }\n      this._sceneUBOs = [];\n    }\n  };\n  ShadowGenerator2.prototype.dispose = function() {\n    this._disposeRTTandPostProcesses();\n    this._disposeSceneUBOs();\n    if (this._light) {\n      this._light._shadowGenerator = null;\n      this._light._markMeshesAsLightDirty();\n    }\n    this.onBeforeShadowMapRenderMeshObservable.clear();\n    this.onBeforeShadowMapRenderObservable.clear();\n    this.onAfterShadowMapRenderMeshObservable.clear();\n    this.onAfterShadowMapRenderObservable.clear();\n  };\n  ShadowGenerator2.prototype.serialize = function() {\n    var serializationObject = {};\n    var shadowMap = this.getShadowMap();\n    if (!shadowMap) {\n      return serializationObject;\n    }\n    serializationObject.className = this.getClassName();\n    serializationObject.lightId = this._light.id;\n    serializationObject.id = this.id;\n    serializationObject.mapSize = shadowMap.getRenderSize();\n    serializationObject.forceBackFacesOnly = this.forceBackFacesOnly;\n    serializationObject.darkness = this.getDarkness();\n    serializationObject.transparencyShadow = this._transparencyShadow;\n    serializationObject.frustumEdgeFalloff = this.frustumEdgeFalloff;\n    serializationObject.bias = this.bias;\n    serializationObject.normalBias = this.normalBias;\n    serializationObject.usePercentageCloserFiltering = this.usePercentageCloserFiltering;\n    serializationObject.useContactHardeningShadow = this.useContactHardeningShadow;\n    serializationObject.contactHardeningLightSizeUVRatio = this.contactHardeningLightSizeUVRatio;\n    serializationObject.filteringQuality = this.filteringQuality;\n    serializationObject.useExponentialShadowMap = this.useExponentialShadowMap;\n    serializationObject.useBlurExponentialShadowMap = this.useBlurExponentialShadowMap;\n    serializationObject.useCloseExponentialShadowMap = this.useBlurExponentialShadowMap;\n    serializationObject.useBlurCloseExponentialShadowMap = this.useBlurExponentialShadowMap;\n    serializationObject.usePoissonSampling = this.usePoissonSampling;\n    serializationObject.depthScale = this.depthScale;\n    serializationObject.blurBoxOffset = this.blurBoxOffset;\n    serializationObject.blurKernel = this.blurKernel;\n    serializationObject.blurScale = this.blurScale;\n    serializationObject.useKernelBlur = this.useKernelBlur;\n    serializationObject.renderList = [];\n    if (shadowMap.renderList) {\n      for (var meshIndex = 0; meshIndex < shadowMap.renderList.length; meshIndex++) {\n        var mesh = shadowMap.renderList[meshIndex];\n        serializationObject.renderList.push(mesh.id);\n      }\n    }\n    return serializationObject;\n  };\n  ShadowGenerator2.Parse = function(parsedShadowGenerator, scene, constr) {\n    var light = scene.getLightById(parsedShadowGenerator.lightId);\n    var shadowGenerator = constr ? constr(parsedShadowGenerator.mapSize, light) : new ShadowGenerator2(parsedShadowGenerator.mapSize, light);\n    var shadowMap = shadowGenerator.getShadowMap();\n    for (var meshIndex = 0; meshIndex < parsedShadowGenerator.renderList.length; meshIndex++) {\n      var meshes = scene.getMeshesById(parsedShadowGenerator.renderList[meshIndex]);\n      meshes.forEach(function(mesh) {\n        if (!shadowMap) {\n          return;\n        }\n        if (!shadowMap.renderList) {\n          shadowMap.renderList = [];\n        }\n        shadowMap.renderList.push(mesh);\n      });\n    }\n    if (parsedShadowGenerator.id !== void 0) {\n      shadowGenerator.id = parsedShadowGenerator.id;\n    }\n    shadowGenerator.forceBackFacesOnly = !!parsedShadowGenerator.forceBackFacesOnly;\n    if (parsedShadowGenerator.darkness !== void 0) {\n      shadowGenerator.setDarkness(parsedShadowGenerator.darkness);\n    }\n    if (parsedShadowGenerator.transparencyShadow) {\n      shadowGenerator.setTransparencyShadow(true);\n    }\n    if (parsedShadowGenerator.frustumEdgeFalloff !== void 0) {\n      shadowGenerator.frustumEdgeFalloff = parsedShadowGenerator.frustumEdgeFalloff;\n    }\n    if (parsedShadowGenerator.bias !== void 0) {\n      shadowGenerator.bias = parsedShadowGenerator.bias;\n    }\n    if (parsedShadowGenerator.normalBias !== void 0) {\n      shadowGenerator.normalBias = parsedShadowGenerator.normalBias;\n    }\n    if (parsedShadowGenerator.usePercentageCloserFiltering) {\n      shadowGenerator.usePercentageCloserFiltering = true;\n    } else if (parsedShadowGenerator.useContactHardeningShadow) {\n      shadowGenerator.useContactHardeningShadow = true;\n    } else if (parsedShadowGenerator.usePoissonSampling) {\n      shadowGenerator.usePoissonSampling = true;\n    } else if (parsedShadowGenerator.useExponentialShadowMap) {\n      shadowGenerator.useExponentialShadowMap = true;\n    } else if (parsedShadowGenerator.useBlurExponentialShadowMap) {\n      shadowGenerator.useBlurExponentialShadowMap = true;\n    } else if (parsedShadowGenerator.useCloseExponentialShadowMap) {\n      shadowGenerator.useCloseExponentialShadowMap = true;\n    } else if (parsedShadowGenerator.useBlurCloseExponentialShadowMap) {\n      shadowGenerator.useBlurCloseExponentialShadowMap = true;\n    } else if (parsedShadowGenerator.useVarianceShadowMap) {\n      shadowGenerator.useExponentialShadowMap = true;\n    } else if (parsedShadowGenerator.useBlurVarianceShadowMap) {\n      shadowGenerator.useBlurExponentialShadowMap = true;\n    }\n    if (parsedShadowGenerator.contactHardeningLightSizeUVRatio !== void 0) {\n      shadowGenerator.contactHardeningLightSizeUVRatio = parsedShadowGenerator.contactHardeningLightSizeUVRatio;\n    }\n    if (parsedShadowGenerator.filteringQuality !== void 0) {\n      shadowGenerator.filteringQuality = parsedShadowGenerator.filteringQuality;\n    }\n    if (parsedShadowGenerator.depthScale) {\n      shadowGenerator.depthScale = parsedShadowGenerator.depthScale;\n    }\n    if (parsedShadowGenerator.blurScale) {\n      shadowGenerator.blurScale = parsedShadowGenerator.blurScale;\n    }\n    if (parsedShadowGenerator.blurBoxOffset) {\n      shadowGenerator.blurBoxOffset = parsedShadowGenerator.blurBoxOffset;\n    }\n    if (parsedShadowGenerator.useKernelBlur) {\n      shadowGenerator.useKernelBlur = parsedShadowGenerator.useKernelBlur;\n    }\n    if (parsedShadowGenerator.blurKernel) {\n      shadowGenerator.blurKernel = parsedShadowGenerator.blurKernel;\n    }\n    return shadowGenerator;\n  };\n  ShadowGenerator2.CLASSNAME = \"ShadowGenerator\";\n  ShadowGenerator2.FILTER_NONE = 0;\n  ShadowGenerator2.FILTER_EXPONENTIALSHADOWMAP = 1;\n  ShadowGenerator2.FILTER_POISSONSAMPLING = 2;\n  ShadowGenerator2.FILTER_BLUREXPONENTIALSHADOWMAP = 3;\n  ShadowGenerator2.FILTER_CLOSEEXPONENTIALSHADOWMAP = 4;\n  ShadowGenerator2.FILTER_BLURCLOSEEXPONENTIALSHADOWMAP = 5;\n  ShadowGenerator2.FILTER_PCF = 6;\n  ShadowGenerator2.FILTER_PCSS = 7;\n  ShadowGenerator2.QUALITY_HIGH = 0;\n  ShadowGenerator2.QUALITY_MEDIUM = 1;\n  ShadowGenerator2.QUALITY_LOW = 2;\n  ShadowGenerator2.DEFAULT_ALPHA_CUTOFF = 0.5;\n  ShadowGenerator2._SceneComponentInitialization = function(_) {\n    throw _WarnImport(\"ShadowGeneratorSceneComponent\");\n  };\n  return ShadowGenerator2;\n}();\nvar name$N = \"depthPixelShader\";\nvar shader$N = \"#ifdef ALPHATEST\\nvarying vec2 vUV;\\nuniform sampler2D diffuseSampler;\\n#endif\\nvarying float vDepthMetric;\\n#ifdef PACKED\\n#include<packingFunctions>\\n#endif\\n#define CUSTOM_FRAGMENT_DEFINITIONS\\nvoid main(void)\\n{\\n#ifdef ALPHATEST\\nif (texture2D(diffuseSampler,vUV).a<0.4)\\ndiscard;\\n#endif\\n#ifdef NONLINEARDEPTH\\n#ifdef PACKED\\ngl_FragColor=pack(gl_FragCoord.z);\\n#else\\ngl_FragColor=vec4(gl_FragCoord.z,0.0,0.0,0.0);\\n#endif\\n#else\\n#ifdef PACKED\\ngl_FragColor=pack(vDepthMetric);\\n#else\\ngl_FragColor=vec4(vDepthMetric,0.0,0.0,1.0);\\n#endif\\n#endif\\n}\";\nShaderStore.ShadersStore[name$N] = shader$N;\nvar name$M = \"instancesDeclaration\";\nvar shader$M = \"#ifdef INSTANCES\\nattribute vec4 world0;\\nattribute vec4 world1;\\nattribute vec4 world2;\\nattribute vec4 world3;\\n#ifdef INSTANCESCOLOR\\nattribute vec4 instanceColor;\\n#endif\\n#if defined(THIN_INSTANCES) && !defined(WORLD_UBO)\\nuniform mat4 world;\\n#endif\\n#if defined(VELOCITY) || defined(PREPASS_VELOCITY)\\nattribute vec4 previousWorld0;\\nattribute vec4 previousWorld1;\\nattribute vec4 previousWorld2;\\nattribute vec4 previousWorld3;\\n#ifdef THIN_INSTANCES\\nuniform mat4 previousWorld;\\n#endif\\n#endif\\n#else\\n#if !defined(WORLD_UBO)\\nuniform mat4 world;\\n#endif\\n#if defined(VELOCITY) || defined(PREPASS_VELOCITY)\\nuniform mat4 previousWorld;\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$M] = shader$M;\nvar name$L = \"depthVertexShader\";\nvar shader$L = \"attribute vec3 position;\\n#include<bonesDeclaration>\\n#include<bakedVertexAnimationDeclaration>\\n#include<morphTargetsVertexGlobalDeclaration>\\n#include<morphTargetsVertexDeclaration>[0..maxSimultaneousMorphTargets]\\n#include<instancesDeclaration>\\nuniform mat4 viewProjection;\\nuniform vec2 depthValues;\\n#if defined(ALPHATEST) || defined(NEED_UV)\\nvarying vec2 vUV;\\nuniform mat4 diffuseMatrix;\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#endif\\nvarying float vDepthMetric;\\n#define CUSTOM_VERTEX_DEFINITIONS\\nvoid main(void)\\n{\\nvec3 positionUpdated=position;\\n#ifdef UV1\\nvec2 uvUpdated=uv;\\n#endif\\n#include<morphTargetsVertexGlobal>\\n#include<morphTargetsVertex>[0..maxSimultaneousMorphTargets]\\n#include<instancesVertex>\\n#include<bonesVertex>\\n#include<bakedVertexAnimation>\\ngl_Position=viewProjection*finalWorld*vec4(positionUpdated,1.0);\\n#ifdef USE_REVERSE_DEPTHBUFFER\\nvDepthMetric=((-gl_Position.z+depthValues.x)/(depthValues.y));\\n#else\\nvDepthMetric=((gl_Position.z+depthValues.x)/(depthValues.y));\\n#endif\\n#if defined(ALPHATEST) || defined(BASIC_RENDER)\\n#ifdef UV1\\nvUV=vec2(diffuseMatrix*vec4(uvUpdated,1.0,0.0));\\n#endif\\n#ifdef UV2\\nvUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\\n#endif\\n#endif\\n}\\n\";\nShaderStore.ShadersStore[name$L] = shader$L;\nvar DepthRenderer = function() {\n  function DepthRenderer2(scene, type, camera, storeNonLinearDepth, samplingMode) {\n    if (type === void 0) {\n      type = 1;\n    }\n    if (camera === void 0) {\n      camera = null;\n    }\n    if (storeNonLinearDepth === void 0) {\n      storeNonLinearDepth = false;\n    }\n    if (samplingMode === void 0) {\n      samplingMode = Texture.TRILINEAR_SAMPLINGMODE;\n    }\n    var _this = this;\n    this.enabled = true;\n    this.forceDepthWriteTransparentMeshes = false;\n    this.useOnlyInActiveCamera = false;\n    this._scene = scene;\n    this._storeNonLinearDepth = storeNonLinearDepth;\n    this.isPacked = type === 0;\n    if (this.isPacked) {\n      this._clearColor = new Color4$1(1, 1, 1, 1);\n    } else {\n      this._clearColor = new Color4$1(1, 0, 0, 1);\n    }\n    DepthRenderer2._SceneComponentInitialization(this._scene);\n    var engine = scene.getEngine();\n    this._camera = camera;\n    if (samplingMode !== Texture.NEAREST_SAMPLINGMODE) {\n      if (type === 1 && !engine._caps.textureFloatLinearFiltering) {\n        samplingMode = Texture.NEAREST_SAMPLINGMODE;\n      }\n      if (type === 2 && !engine._caps.textureHalfFloatLinearFiltering) {\n        samplingMode = Texture.NEAREST_SAMPLINGMODE;\n      }\n    }\n    var format = this.isPacked || !engine._features.supportExtendedTextureFormats ? 5 : 6;\n    this._depthMap = new RenderTargetTexture(\"DepthRenderer\", { width: engine.getRenderWidth(), height: engine.getRenderHeight() }, this._scene, false, true, type, false, samplingMode, void 0, void 0, void 0, format);\n    this._depthMap.wrapU = Texture.CLAMP_ADDRESSMODE;\n    this._depthMap.wrapV = Texture.CLAMP_ADDRESSMODE;\n    this._depthMap.refreshRate = 1;\n    this._depthMap.renderParticles = false;\n    this._depthMap.renderList = null;\n    this._depthMap.activeCamera = this._camera;\n    this._depthMap.ignoreCameraViewport = true;\n    this._depthMap.useCameraPostProcesses = false;\n    this._depthMap.onClearObservable.add(function(engine2) {\n      engine2.clear(_this._clearColor, true, true, true);\n    });\n    this._depthMap.onBeforeBindObservable.add(function() {\n      var _a;\n      (_a = engine._debugPushGroup) === null || _a === void 0 ? void 0 : _a.call(engine, \"depth renderer\", 1);\n    });\n    this._depthMap.onAfterUnbindObservable.add(function() {\n      var _a;\n      (_a = engine._debugPopGroup) === null || _a === void 0 ? void 0 : _a.call(engine, 1);\n    });\n    this._depthMap.customIsReadyFunction = function(mesh, refreshRate) {\n      if (!mesh.isReady(false)) {\n        return false;\n      }\n      if (refreshRate === 0 && mesh.subMeshes) {\n        for (var i = 0; i < mesh.subMeshes.length; ++i) {\n          var subMesh = mesh.subMeshes[i];\n          var renderingMesh = subMesh.getRenderingMesh();\n          var batch = renderingMesh._getInstancesRenderList(subMesh._id, !!subMesh.getReplacementMesh());\n          var hardwareInstancedRendering = engine.getCaps().instancedArrays && (batch.visibleInstances[subMesh._id] !== null && batch.visibleInstances[subMesh._id] !== void 0 || renderingMesh.hasThinInstances);\n          if (!_this.isReady(subMesh, hardwareInstancedRendering)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    };\n    var renderSubMesh = function(subMesh) {\n      var _a, _b;\n      var renderingMesh = subMesh.getRenderingMesh();\n      var effectiveMesh = subMesh.getEffectiveMesh();\n      var scene2 = _this._scene;\n      var engine2 = scene2.getEngine();\n      var material = subMesh.getMaterial();\n      effectiveMesh._internalAbstractMeshDataInfo._isActiveIntermediate = false;\n      if (!material || effectiveMesh.infiniteDistance || material.disableDepthWrite || subMesh.verticesCount === 0 || subMesh._renderId === scene2.getRenderId()) {\n        return;\n      }\n      var detNeg = effectiveMesh._getWorldMatrixDeterminant() < 0;\n      var sideOrientation = (_a = renderingMesh.overrideMaterialSideOrientation) !== null && _a !== void 0 ? _a : material.sideOrientation;\n      if (detNeg) {\n        sideOrientation = sideOrientation === 0 ? 1 : 0;\n      }\n      var reverseSideOrientation = sideOrientation === 0;\n      engine2.setState(material.backFaceCulling, 0, false, reverseSideOrientation, material.cullBackFaces);\n      var batch = renderingMesh._getInstancesRenderList(subMesh._id, !!subMesh.getReplacementMesh());\n      if (batch.mustReturn) {\n        return;\n      }\n      var hardwareInstancedRendering = engine2.getCaps().instancedArrays && (batch.visibleInstances[subMesh._id] !== null && batch.visibleInstances[subMesh._id] !== void 0 || renderingMesh.hasThinInstances);\n      var camera2 = _this._camera || scene2.activeCamera;\n      if (_this.isReady(subMesh, hardwareInstancedRendering) && camera2) {\n        subMesh._renderId = scene2.getRenderId();\n        var renderingMaterial = (_b = effectiveMesh._internalAbstractMeshDataInfo._materialForRenderPass) === null || _b === void 0 ? void 0 : _b[engine2.currentRenderPassId];\n        var drawWrapper = subMesh._getDrawWrapper();\n        if (!drawWrapper && renderingMaterial) {\n          drawWrapper = renderingMaterial._getDrawWrapper();\n        }\n        var cameraIsOrtho = camera2.mode === Camera.ORTHOGRAPHIC_CAMERA;\n        if (!drawWrapper) {\n          return;\n        }\n        var effect_1 = drawWrapper.effect;\n        engine2.enableEffect(drawWrapper);\n        if (!hardwareInstancedRendering) {\n          renderingMesh._bind(subMesh, effect_1, material.fillMode);\n        }\n        if (!renderingMaterial) {\n          effect_1.setMatrix(\"viewProjection\", scene2.getTransformMatrix());\n          effect_1.setMatrix(\"world\", effectiveMesh.getWorldMatrix());\n        } else {\n          renderingMaterial.bindForSubMesh(effectiveMesh.getWorldMatrix(), effectiveMesh, subMesh);\n        }\n        var minZ = void 0, maxZ = void 0;\n        if (cameraIsOrtho) {\n          minZ = !engine2.useReverseDepthBuffer && engine2.isNDCHalfZRange ? 0 : 1;\n          maxZ = engine2.useReverseDepthBuffer && engine2.isNDCHalfZRange ? 0 : 1;\n        } else {\n          minZ = engine2.useReverseDepthBuffer && engine2.isNDCHalfZRange ? camera2.minZ : engine2.isNDCHalfZRange ? 0 : camera2.minZ;\n          maxZ = engine2.useReverseDepthBuffer && engine2.isNDCHalfZRange ? 0 : camera2.maxZ;\n        }\n        effect_1.setFloat2(\"depthValues\", minZ, minZ + maxZ);\n        if (!renderingMaterial) {\n          if (material && material.needAlphaTesting()) {\n            var alphaTexture = material.getAlphaTestTexture();\n            if (alphaTexture) {\n              effect_1.setTexture(\"diffuseSampler\", alphaTexture);\n              effect_1.setMatrix(\"diffuseMatrix\", alphaTexture.getTextureMatrix());\n            }\n          }\n          if (renderingMesh.useBones && renderingMesh.computeBonesUsingShaders && renderingMesh.skeleton) {\n            var skeleton = renderingMesh.skeleton;\n            if (skeleton.isUsingTextureForMatrices) {\n              var boneTexture = skeleton.getTransformMatrixTexture(renderingMesh);\n              if (!boneTexture) {\n                return;\n              }\n              effect_1.setTexture(\"boneSampler\", boneTexture);\n              effect_1.setFloat(\"boneTextureWidth\", 4 * (skeleton.bones.length + 1));\n            } else {\n              effect_1.setMatrices(\"mBones\", skeleton.getTransformMatrices(renderingMesh));\n            }\n          }\n          MaterialHelper.BindMorphTargetParameters(renderingMesh, effect_1);\n          if (renderingMesh.morphTargetManager && renderingMesh.morphTargetManager.isUsingTextureForTargets) {\n            renderingMesh.morphTargetManager._bind(effect_1);\n          }\n        }\n        renderingMesh._processRendering(effectiveMesh, subMesh, effect_1, material.fillMode, batch, hardwareInstancedRendering, function(isInstance, world) {\n          return effect_1.setMatrix(\"world\", world);\n        });\n      }\n    };\n    this._depthMap.customRenderFunction = function(opaqueSubMeshes, alphaTestSubMeshes, transparentSubMeshes, depthOnlySubMeshes) {\n      var index;\n      if (depthOnlySubMeshes.length) {\n        for (index = 0; index < depthOnlySubMeshes.length; index++) {\n          renderSubMesh(depthOnlySubMeshes.data[index]);\n        }\n      }\n      for (index = 0; index < opaqueSubMeshes.length; index++) {\n        renderSubMesh(opaqueSubMeshes.data[index]);\n      }\n      for (index = 0; index < alphaTestSubMeshes.length; index++) {\n        renderSubMesh(alphaTestSubMeshes.data[index]);\n      }\n      if (_this.forceDepthWriteTransparentMeshes) {\n        for (index = 0; index < transparentSubMeshes.length; index++) {\n          renderSubMesh(transparentSubMeshes.data[index]);\n        }\n      } else {\n        for (index = 0; index < transparentSubMeshes.length; index++) {\n          transparentSubMeshes.data[index].getEffectiveMesh()._internalAbstractMeshDataInfo._isActiveIntermediate = false;\n        }\n      }\n    };\n  }\n  DepthRenderer2.prototype.setMaterialForRendering = function(mesh, material) {\n    this._depthMap.setMaterialForRendering(mesh, material);\n  };\n  DepthRenderer2.prototype.isReady = function(subMesh, useInstances) {\n    var _a;\n    var engine = this._scene.getEngine();\n    var mesh = subMesh.getMesh();\n    var renderingMaterial = (_a = mesh._internalAbstractMeshDataInfo._materialForRenderPass) === null || _a === void 0 ? void 0 : _a[engine.currentRenderPassId];\n    if (renderingMaterial) {\n      return renderingMaterial.isReadyForSubMesh(mesh, subMesh, useInstances);\n    }\n    var material = subMesh.getMaterial();\n    if (!material || material.disableDepthWrite) {\n      return false;\n    }\n    var defines = [];\n    var attribs = [VertexBuffer.PositionKind];\n    if (material && material.needAlphaTesting() && material.getAlphaTestTexture()) {\n      defines.push(\"#define ALPHATEST\");\n      if (mesh.isVerticesDataPresent(VertexBuffer.UVKind)) {\n        attribs.push(VertexBuffer.UVKind);\n        defines.push(\"#define UV1\");\n      }\n      if (mesh.isVerticesDataPresent(VertexBuffer.UV2Kind)) {\n        attribs.push(VertexBuffer.UV2Kind);\n        defines.push(\"#define UV2\");\n      }\n    }\n    if (mesh.useBones && mesh.computeBonesUsingShaders) {\n      attribs.push(VertexBuffer.MatricesIndicesKind);\n      attribs.push(VertexBuffer.MatricesWeightsKind);\n      if (mesh.numBoneInfluencers > 4) {\n        attribs.push(VertexBuffer.MatricesIndicesExtraKind);\n        attribs.push(VertexBuffer.MatricesWeightsExtraKind);\n      }\n      defines.push(\"#define NUM_BONE_INFLUENCERS \" + mesh.numBoneInfluencers);\n      defines.push(\"#define BonesPerMesh \" + (mesh.skeleton ? mesh.skeleton.bones.length + 1 : 0));\n      var skeleton = subMesh.getRenderingMesh().skeleton;\n      if (skeleton === null || skeleton === void 0 ? void 0 : skeleton.isUsingTextureForMatrices) {\n        defines.push(\"#define BONETEXTURE\");\n      }\n    } else {\n      defines.push(\"#define NUM_BONE_INFLUENCERS 0\");\n    }\n    var morphTargetManager = mesh.morphTargetManager;\n    var numMorphInfluencers = 0;\n    if (morphTargetManager) {\n      if (morphTargetManager.numInfluencers > 0) {\n        numMorphInfluencers = morphTargetManager.numInfluencers;\n        defines.push(\"#define MORPHTARGETS\");\n        defines.push(\"#define NUM_MORPH_INFLUENCERS \" + numMorphInfluencers);\n        if (morphTargetManager.isUsingTextureForTargets) {\n          defines.push(\"#define MORPHTARGETS_TEXTURE\");\n        }\n        MaterialHelper.PrepareAttributesForMorphTargetsInfluencers(attribs, mesh, numMorphInfluencers);\n      }\n    }\n    if (useInstances) {\n      defines.push(\"#define INSTANCES\");\n      MaterialHelper.PushAttributesForInstances(attribs);\n      if (subMesh.getRenderingMesh().hasThinInstances) {\n        defines.push(\"#define THIN_INSTANCES\");\n      }\n    }\n    if (this._storeNonLinearDepth) {\n      defines.push(\"#define NONLINEARDEPTH\");\n    }\n    if (this.isPacked) {\n      defines.push(\"#define PACKED\");\n    }\n    var drawWrapper = subMesh._getDrawWrapper(void 0, true);\n    var cachedDefines = drawWrapper.defines;\n    var join = defines.join(\"\\n\");\n    if (cachedDefines !== join) {\n      drawWrapper.setEffect(engine.createEffect(\"depth\", attribs, [\n        \"world\",\n        \"mBones\",\n        \"boneTextureWidth\",\n        \"viewProjection\",\n        \"diffuseMatrix\",\n        \"depthValues\",\n        \"morphTargetInfluences\",\n        \"morphTargetTextureInfo\",\n        \"morphTargetTextureIndices\"\n      ], [\"diffuseSampler\", \"morphTargets\", \"boneSampler\"], join, void 0, void 0, void 0, { maxSimultaneousMorphTargets: numMorphInfluencers }), join);\n    }\n    return drawWrapper.effect.isReady();\n  };\n  DepthRenderer2.prototype.getDepthMap = function() {\n    return this._depthMap;\n  };\n  DepthRenderer2.prototype.dispose = function() {\n    var keysToDelete = [];\n    for (var key in this._scene._depthRenderer) {\n      var depthRenderer = this._scene._depthRenderer[key];\n      if (depthRenderer === this) {\n        keysToDelete.push(key);\n      }\n    }\n    if (keysToDelete.length > 0) {\n      this._depthMap.dispose();\n      for (var _i = 0, keysToDelete_1 = keysToDelete; _i < keysToDelete_1.length; _i++) {\n        var key = keysToDelete_1[_i];\n        delete this._scene._depthRenderer[key];\n      }\n    }\n  };\n  DepthRenderer2._SceneComponentInitialization = function(_) {\n    throw _WarnImport(\"DepthRendererSceneComponent\");\n  };\n  return DepthRenderer2;\n}();\nvar name$K = \"minmaxReduxPixelShader\";\nvar shader$K = \"varying vec2 vUV;\\nuniform sampler2D textureSampler;\\n#if defined(INITIAL)\\nuniform sampler2D sourceTexture;\\nuniform vec2 texSize;\\nvoid main(void)\\n{\\nivec2 coord=ivec2(vUV*(texSize-1.0));\\nfloat f1=texelFetch(sourceTexture,coord,0).r;\\nfloat f2=texelFetch(sourceTexture,coord+ivec2(1,0),0).r;\\nfloat f3=texelFetch(sourceTexture,coord+ivec2(1,1),0).r;\\nfloat f4=texelFetch(sourceTexture,coord+ivec2(0,1),0).r;\\nfloat minz=min(min(min(f1,f2),f3),f4);\\n#ifdef DEPTH_REDUX\\nfloat maxz=max(max(max(sign(1.0-f1)*f1,sign(1.0-f2)*f2),sign(1.0-f3)*f3),sign(1.0-f4)*f4);\\n#else\\nfloat maxz=max(max(max(f1,f2),f3),f4);\\n#endif\\nglFragColor=vec4(minz,maxz,0.,0.);\\n}\\n#elif defined(MAIN)\\nuniform vec2 texSize;\\nvoid main(void)\\n{\\nivec2 coord=ivec2(vUV*(texSize-1.0));\\nvec2 f1=texelFetch(textureSampler,coord,0).rg;\\nvec2 f2=texelFetch(textureSampler,coord+ivec2(1,0),0).rg;\\nvec2 f3=texelFetch(textureSampler,coord+ivec2(1,1),0).rg;\\nvec2 f4=texelFetch(textureSampler,coord+ivec2(0,1),0).rg;\\nfloat minz=min(min(min(f1.x,f2.x),f3.x),f4.x);\\nfloat maxz=max(max(max(f1.y,f2.y),f3.y),f4.y);\\nglFragColor=vec4(minz,maxz,0.,0.);\\n}\\n#elif defined(ONEBEFORELAST)\\nuniform ivec2 texSize;\\nvoid main(void)\\n{\\nivec2 coord=ivec2(vUV*vec2(texSize-1));\\nvec2 f1=texelFetch(textureSampler,coord % texSize,0).rg;\\nvec2 f2=texelFetch(textureSampler,(coord+ivec2(1,0)) % texSize,0).rg;\\nvec2 f3=texelFetch(textureSampler,(coord+ivec2(1,1)) % texSize,0).rg;\\nvec2 f4=texelFetch(textureSampler,(coord+ivec2(0,1)) % texSize,0).rg;\\nfloat minz=min(f1.x,f2.x);\\nfloat maxz=max(f1.y,f2.y);\\nglFragColor=vec4(minz,maxz,0.,0.);\\n}\\n#elif defined(LAST)\\nvoid main(void)\\n{\\nglFragColor=vec4(0.);\\nif (true) { \\ndiscard;\\n}\\n}\\n#endif\\n\";\nShaderStore.ShadersStore[name$K] = shader$K;\nvar MinMaxReducer = function() {\n  function MinMaxReducer2(camera) {\n    var _this = this;\n    this.onAfterReductionPerformed = new Observable();\n    this._forceFullscreenViewport = true;\n    this._activated = false;\n    this._camera = camera;\n    this._postProcessManager = new PostProcessManager(camera.getScene());\n    this._onContextRestoredObserver = camera.getEngine().onContextRestoredObservable.add(function() {\n      _this._postProcessManager._rebuild();\n    });\n  }\n  Object.defineProperty(MinMaxReducer2.prototype, \"sourceTexture\", {\n    get: function() {\n      return this._sourceTexture;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  MinMaxReducer2.prototype.setSourceTexture = function(sourceTexture, depthRedux, type, forceFullscreenViewport) {\n    var _this = this;\n    if (type === void 0) {\n      type = 2;\n    }\n    if (forceFullscreenViewport === void 0) {\n      forceFullscreenViewport = true;\n    }\n    if (sourceTexture === this._sourceTexture) {\n      return;\n    }\n    this.dispose(false);\n    this._sourceTexture = sourceTexture;\n    this._reductionSteps = [];\n    this._forceFullscreenViewport = forceFullscreenViewport;\n    var scene = this._camera.getScene();\n    var reductionInitial = new PostProcess(\"Initial reduction phase\", \"minmaxRedux\", [\"texSize\"], [\"sourceTexture\"], 1, null, 1, scene.getEngine(), false, \"#define INITIAL\" + (depthRedux ? \"\\n#define DEPTH_REDUX\" : \"\"), type, void 0, void 0, void 0, 7);\n    reductionInitial.autoClear = false;\n    reductionInitial.forceFullscreenViewport = forceFullscreenViewport;\n    var w = this._sourceTexture.getRenderWidth(), h = this._sourceTexture.getRenderHeight();\n    reductionInitial.onApply = function(w2, h2) {\n      return function(effect) {\n        effect.setTexture(\"sourceTexture\", _this._sourceTexture);\n        effect.setFloat2(\"texSize\", w2, h2);\n      };\n    }(w, h);\n    this._reductionSteps.push(reductionInitial);\n    var index = 1;\n    while (w > 1 || h > 1) {\n      w = Math.max(Math.round(w / 2), 1);\n      h = Math.max(Math.round(h / 2), 1);\n      var reduction = new PostProcess(\"Reduction phase \" + index, \"minmaxRedux\", [\"texSize\"], null, { width: w, height: h }, null, 1, scene.getEngine(), false, \"#define \" + (w == 1 && h == 1 ? \"LAST\" : w == 1 || h == 1 ? \"ONEBEFORELAST\" : \"MAIN\"), type, void 0, void 0, void 0, 7);\n      reduction.autoClear = false;\n      reduction.forceFullscreenViewport = forceFullscreenViewport;\n      reduction.onApply = function(w2, h2) {\n        return function(effect) {\n          if (w2 == 1 || h2 == 1) {\n            effect.setInt2(\"texSize\", w2, h2);\n          } else {\n            effect.setFloat2(\"texSize\", w2, h2);\n          }\n        };\n      }(w, h);\n      this._reductionSteps.push(reduction);\n      index++;\n      if (w == 1 && h == 1) {\n        var func = function(w2, h2, reduction2) {\n          var buffer = new Float32Array(4 * w2 * h2), minmax = { min: 0, max: 0 };\n          return function() {\n            scene.getEngine()._readTexturePixels(reduction2.inputTexture.texture, w2, h2, -1, 0, buffer, false);\n            minmax.min = buffer[0];\n            minmax.max = buffer[1];\n            _this.onAfterReductionPerformed.notifyObservers(minmax);\n          };\n        };\n        reduction.onAfterRenderObservable.add(func(w, h, reduction));\n      }\n    }\n  };\n  Object.defineProperty(MinMaxReducer2.prototype, \"refreshRate\", {\n    get: function() {\n      return this._sourceTexture ? this._sourceTexture.refreshRate : -1;\n    },\n    set: function(value) {\n      if (this._sourceTexture) {\n        this._sourceTexture.refreshRate = value;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MinMaxReducer2.prototype, \"activated\", {\n    get: function() {\n      return this._activated;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  MinMaxReducer2.prototype.activate = function() {\n    var _this = this;\n    if (this._onAfterUnbindObserver || !this._sourceTexture) {\n      return;\n    }\n    this._onAfterUnbindObserver = this._sourceTexture.onAfterUnbindObservable.add(function() {\n      var _a, _b;\n      var engine = _this._camera.getScene().getEngine();\n      (_a = engine._debugPushGroup) === null || _a === void 0 ? void 0 : _a.call(engine, \"min max reduction\", 1);\n      _this._reductionSteps[0].activate(_this._camera);\n      _this._postProcessManager.directRender(_this._reductionSteps, _this._reductionSteps[0].inputTexture, _this._forceFullscreenViewport);\n      engine.unBindFramebuffer(_this._reductionSteps[0].inputTexture, false);\n      (_b = engine._debugPopGroup) === null || _b === void 0 ? void 0 : _b.call(engine, 1);\n    });\n    this._activated = true;\n  };\n  MinMaxReducer2.prototype.deactivate = function() {\n    if (!this._onAfterUnbindObserver || !this._sourceTexture) {\n      return;\n    }\n    this._sourceTexture.onAfterUnbindObservable.remove(this._onAfterUnbindObserver);\n    this._onAfterUnbindObserver = null;\n    this._activated = false;\n  };\n  MinMaxReducer2.prototype.dispose = function(disposeAll) {\n    if (disposeAll === void 0) {\n      disposeAll = true;\n    }\n    if (disposeAll) {\n      this.onAfterReductionPerformed.clear();\n      if (this._onContextRestoredObserver) {\n        this._camera.getEngine().onContextRestoredObservable.remove(this._onContextRestoredObserver);\n        this._onContextRestoredObserver = null;\n      }\n    }\n    this.deactivate();\n    if (this._reductionSteps) {\n      for (var i = 0; i < this._reductionSteps.length; ++i) {\n        this._reductionSteps[i].dispose();\n      }\n      this._reductionSteps = null;\n    }\n    if (this._postProcessManager && disposeAll) {\n      this._postProcessManager.dispose();\n    }\n    this._sourceTexture = null;\n  };\n  return MinMaxReducer2;\n}();\nvar DepthReducer = function(_super) {\n  __extends(DepthReducer2, _super);\n  function DepthReducer2(camera) {\n    return _super.call(this, camera) || this;\n  }\n  Object.defineProperty(DepthReducer2.prototype, \"depthRenderer\", {\n    get: function() {\n      return this._depthRenderer;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  DepthReducer2.prototype.setDepthRenderer = function(depthRenderer, type, forceFullscreenViewport) {\n    if (depthRenderer === void 0) {\n      depthRenderer = null;\n    }\n    if (type === void 0) {\n      type = 2;\n    }\n    if (forceFullscreenViewport === void 0) {\n      forceFullscreenViewport = true;\n    }\n    var scene = this._camera.getScene();\n    if (this._depthRenderer) {\n      delete scene._depthRenderer[this._depthRendererId];\n      this._depthRenderer.dispose();\n      this._depthRenderer = null;\n    }\n    if (depthRenderer === null) {\n      if (!scene._depthRenderer) {\n        scene._depthRenderer = {};\n      }\n      depthRenderer = this._depthRenderer = new DepthRenderer(scene, type, this._camera, false, 1);\n      depthRenderer.enabled = false;\n      this._depthRendererId = \"minmax\" + this._camera.id;\n      scene._depthRenderer[this._depthRendererId] = depthRenderer;\n    }\n    _super.prototype.setSourceTexture.call(this, depthRenderer.getDepthMap(), true, type, forceFullscreenViewport);\n  };\n  DepthReducer2.prototype.setSourceTexture = function(sourceTexture, depthRedux, type, forceFullscreenViewport) {\n    if (type === void 0) {\n      type = 2;\n    }\n    if (forceFullscreenViewport === void 0) {\n      forceFullscreenViewport = true;\n    }\n    _super.prototype.setSourceTexture.call(this, sourceTexture, depthRedux, type, forceFullscreenViewport);\n  };\n  DepthReducer2.prototype.activate = function() {\n    if (this._depthRenderer) {\n      this._depthRenderer.enabled = true;\n    }\n    _super.prototype.activate.call(this);\n  };\n  DepthReducer2.prototype.deactivate = function() {\n    _super.prototype.deactivate.call(this);\n    if (this._depthRenderer) {\n      this._depthRenderer.enabled = false;\n    }\n  };\n  DepthReducer2.prototype.dispose = function(disposeAll) {\n    if (disposeAll === void 0) {\n      disposeAll = true;\n    }\n    _super.prototype.dispose.call(this, disposeAll);\n    if (this._depthRenderer && disposeAll) {\n      var scene = this._depthRenderer.getDepthMap().getScene();\n      if (scene) {\n        delete scene._depthRenderer[this._depthRendererId];\n      }\n      this._depthRenderer.dispose();\n      this._depthRenderer = null;\n    }\n  };\n  return DepthReducer2;\n}(MinMaxReducer);\nvar UpDir = Vector3.Up();\nvar ZeroVec = Vector3.Zero();\nvar tmpv1 = new Vector3(), tmpv2 = new Vector3(), tmpMatrix = new Matrix();\nvar CascadedShadowGenerator = function(_super) {\n  __extends(CascadedShadowGenerator2, _super);\n  function CascadedShadowGenerator2(mapSize, light, usefulFloatFirst) {\n    var _this = this;\n    if (!CascadedShadowGenerator2.IsSupported) {\n      Logger.Error(\"CascadedShadowMap is not supported by the current engine.\");\n      return _this;\n    }\n    _this = _super.call(this, mapSize, light, usefulFloatFirst) || this;\n    _this.usePercentageCloserFiltering = true;\n    return _this;\n  }\n  CascadedShadowGenerator2.prototype._validateFilter = function(filter) {\n    if (filter === ShadowGenerator.FILTER_NONE || filter === ShadowGenerator.FILTER_PCF || filter === ShadowGenerator.FILTER_PCSS) {\n      return filter;\n    }\n    console.error('Unsupported filter \"' + filter + '\"!');\n    return ShadowGenerator.FILTER_NONE;\n  };\n  Object.defineProperty(CascadedShadowGenerator2.prototype, \"numCascades\", {\n    get: function() {\n      return this._numCascades;\n    },\n    set: function(value) {\n      value = Math.min(Math.max(value, CascadedShadowGenerator2.MIN_CASCADES_COUNT), CascadedShadowGenerator2.MAX_CASCADES_COUNT);\n      if (value === this._numCascades) {\n        return;\n      }\n      this._numCascades = value;\n      this.recreateShadowMap();\n      this._recreateSceneUBOs();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CascadedShadowGenerator2.prototype, \"freezeShadowCastersBoundingInfo\", {\n    get: function() {\n      return this._freezeShadowCastersBoundingInfo;\n    },\n    set: function(freeze) {\n      if (this._freezeShadowCastersBoundingInfoObservable && freeze) {\n        this._scene.onBeforeRenderObservable.remove(this._freezeShadowCastersBoundingInfoObservable);\n        this._freezeShadowCastersBoundingInfoObservable = null;\n      }\n      if (!this._freezeShadowCastersBoundingInfoObservable && !freeze) {\n        this._freezeShadowCastersBoundingInfoObservable = this._scene.onBeforeRenderObservable.add(this._computeShadowCastersBoundingInfo.bind(this));\n      }\n      this._freezeShadowCastersBoundingInfo = freeze;\n      if (freeze) {\n        this._computeShadowCastersBoundingInfo();\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  CascadedShadowGenerator2.prototype._computeShadowCastersBoundingInfo = function() {\n    this._scbiMin.copyFromFloats(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n    this._scbiMax.copyFromFloats(Number.MIN_VALUE, Number.MIN_VALUE, Number.MIN_VALUE);\n    if (this._shadowMap && this._shadowMap.renderList) {\n      var renderList = this._shadowMap.renderList;\n      for (var meshIndex = 0; meshIndex < renderList.length; meshIndex++) {\n        var mesh = renderList[meshIndex];\n        if (!mesh) {\n          continue;\n        }\n        var boundingInfo = mesh.getBoundingInfo(), boundingBox = boundingInfo.boundingBox;\n        this._scbiMin.minimizeInPlace(boundingBox.minimumWorld);\n        this._scbiMax.maximizeInPlace(boundingBox.maximumWorld);\n      }\n      var meshes = this._scene.meshes;\n      for (var meshIndex = 0; meshIndex < meshes.length; meshIndex++) {\n        var mesh = meshes[meshIndex];\n        if (!mesh || !mesh.isVisible || !mesh.isEnabled || !mesh.receiveShadows) {\n          continue;\n        }\n        var boundingInfo = mesh.getBoundingInfo(), boundingBox = boundingInfo.boundingBox;\n        this._scbiMin.minimizeInPlace(boundingBox.minimumWorld);\n        this._scbiMax.maximizeInPlace(boundingBox.maximumWorld);\n      }\n    }\n    this._shadowCastersBoundingInfo.reConstruct(this._scbiMin, this._scbiMax);\n  };\n  Object.defineProperty(CascadedShadowGenerator2.prototype, \"shadowCastersBoundingInfo\", {\n    get: function() {\n      return this._shadowCastersBoundingInfo;\n    },\n    set: function(boundingInfo) {\n      this._shadowCastersBoundingInfo = boundingInfo;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  CascadedShadowGenerator2.prototype.setMinMaxDistance = function(min, max) {\n    if (this._minDistance === min && this._maxDistance === max) {\n      return;\n    }\n    if (min > max) {\n      min = 0;\n      max = 1;\n    }\n    if (min < 0) {\n      min = 0;\n    }\n    if (max > 1) {\n      max = 1;\n    }\n    this._minDistance = min;\n    this._maxDistance = max;\n    this._breaksAreDirty = true;\n  };\n  Object.defineProperty(CascadedShadowGenerator2.prototype, \"minDistance\", {\n    get: function() {\n      return this._minDistance;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CascadedShadowGenerator2.prototype, \"maxDistance\", {\n    get: function() {\n      return this._maxDistance;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  CascadedShadowGenerator2.prototype.getClassName = function() {\n    return CascadedShadowGenerator2.CLASSNAME;\n  };\n  CascadedShadowGenerator2.prototype.getCascadeMinExtents = function(cascadeIndex) {\n    return cascadeIndex >= 0 && cascadeIndex < this._numCascades ? this._cascadeMinExtents[cascadeIndex] : null;\n  };\n  CascadedShadowGenerator2.prototype.getCascadeMaxExtents = function(cascadeIndex) {\n    return cascadeIndex >= 0 && cascadeIndex < this._numCascades ? this._cascadeMaxExtents[cascadeIndex] : null;\n  };\n  Object.defineProperty(CascadedShadowGenerator2.prototype, \"shadowMaxZ\", {\n    get: function() {\n      if (!this._scene || !this._scene.activeCamera) {\n        return 0;\n      }\n      return this._shadowMaxZ;\n    },\n    set: function(value) {\n      if (!this._scene || !this._scene.activeCamera) {\n        this._shadowMaxZ = value;\n        return;\n      }\n      if (this._shadowMaxZ === value || value < this._scene.activeCamera.minZ || value > this._scene.activeCamera.maxZ) {\n        return;\n      }\n      this._shadowMaxZ = value;\n      this._light._markMeshesAsLightDirty();\n      this._breaksAreDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CascadedShadowGenerator2.prototype, \"debug\", {\n    get: function() {\n      return this._debug;\n    },\n    set: function(dbg) {\n      this._debug = dbg;\n      this._light._markMeshesAsLightDirty();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CascadedShadowGenerator2.prototype, \"depthClamp\", {\n    get: function() {\n      return this._depthClamp;\n    },\n    set: function(value) {\n      this._depthClamp = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CascadedShadowGenerator2.prototype, \"cascadeBlendPercentage\", {\n    get: function() {\n      return this._cascadeBlendPercentage;\n    },\n    set: function(value) {\n      this._cascadeBlendPercentage = value;\n      this._light._markMeshesAsLightDirty();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CascadedShadowGenerator2.prototype, \"lambda\", {\n    get: function() {\n      return this._lambda;\n    },\n    set: function(value) {\n      var lambda = Math.min(Math.max(value, 0), 1);\n      if (this._lambda == lambda) {\n        return;\n      }\n      this._lambda = lambda;\n      this._breaksAreDirty = true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  CascadedShadowGenerator2.prototype.getCascadeViewMatrix = function(cascadeNum) {\n    return cascadeNum >= 0 && cascadeNum < this._numCascades ? this._viewMatrices[cascadeNum] : null;\n  };\n  CascadedShadowGenerator2.prototype.getCascadeProjectionMatrix = function(cascadeNum) {\n    return cascadeNum >= 0 && cascadeNum < this._numCascades ? this._projectionMatrices[cascadeNum] : null;\n  };\n  CascadedShadowGenerator2.prototype.getCascadeTransformMatrix = function(cascadeNum) {\n    return cascadeNum >= 0 && cascadeNum < this._numCascades ? this._transformMatrices[cascadeNum] : null;\n  };\n  CascadedShadowGenerator2.prototype.setDepthRenderer = function(depthRenderer) {\n    this._depthRenderer = depthRenderer;\n    if (this._depthReducer) {\n      this._depthReducer.setDepthRenderer(this._depthRenderer);\n    }\n  };\n  Object.defineProperty(CascadedShadowGenerator2.prototype, \"autoCalcDepthBounds\", {\n    get: function() {\n      return this._autoCalcDepthBounds;\n    },\n    set: function(value) {\n      var _this = this;\n      var camera = this._scene.activeCamera;\n      if (!camera) {\n        return;\n      }\n      this._autoCalcDepthBounds = value;\n      if (!value) {\n        if (this._depthReducer) {\n          this._depthReducer.deactivate();\n        }\n        this.setMinMaxDistance(0, 1);\n        return;\n      }\n      if (!this._depthReducer) {\n        this._depthReducer = new DepthReducer(camera);\n        this._depthReducer.onAfterReductionPerformed.add(function(minmax) {\n          var min = minmax.min, max = minmax.max;\n          if (min >= max) {\n            min = 0;\n            max = 1;\n          }\n          if (min != _this._minDistance || max != _this._maxDistance) {\n            _this.setMinMaxDistance(min, max);\n          }\n        });\n        this._depthReducer.setDepthRenderer(this._depthRenderer);\n      }\n      this._depthReducer.activate();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CascadedShadowGenerator2.prototype, \"autoCalcDepthBoundsRefreshRate\", {\n    get: function() {\n      var _a, _b, _c;\n      return (_c = (_b = (_a = this._depthReducer) === null || _a === void 0 ? void 0 : _a.depthRenderer) === null || _b === void 0 ? void 0 : _b.getDepthMap().refreshRate) !== null && _c !== void 0 ? _c : -1;\n    },\n    set: function(value) {\n      var _a;\n      if ((_a = this._depthReducer) === null || _a === void 0 ? void 0 : _a.depthRenderer) {\n        this._depthReducer.depthRenderer.getDepthMap().refreshRate = value;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  CascadedShadowGenerator2.prototype.splitFrustum = function() {\n    this._breaksAreDirty = true;\n  };\n  CascadedShadowGenerator2.prototype._splitFrustum = function() {\n    var camera = this._scene.activeCamera;\n    if (!camera) {\n      return;\n    }\n    var near = camera.minZ, far = camera.maxZ, cameraRange = far - near, minDistance = this._minDistance, maxDistance = this._shadowMaxZ < far && this._shadowMaxZ >= near ? Math.min((this._shadowMaxZ - near) / (far - near), this._maxDistance) : this._maxDistance;\n    var minZ = near + minDistance * cameraRange, maxZ = near + maxDistance * cameraRange;\n    var range = maxZ - minZ, ratio = maxZ / minZ;\n    for (var cascadeIndex = 0; cascadeIndex < this._cascades.length; ++cascadeIndex) {\n      var p = (cascadeIndex + 1) / this._numCascades, log = minZ * Math.pow(ratio, p), uniform = minZ + range * p;\n      var d = this._lambda * (log - uniform) + uniform;\n      this._cascades[cascadeIndex].prevBreakDistance = cascadeIndex === 0 ? minDistance : this._cascades[cascadeIndex - 1].breakDistance;\n      this._cascades[cascadeIndex].breakDistance = (d - near) / cameraRange;\n      this._viewSpaceFrustumsZ[cascadeIndex] = d;\n      this._frustumLengths[cascadeIndex] = (this._cascades[cascadeIndex].breakDistance - this._cascades[cascadeIndex].prevBreakDistance) * cameraRange;\n    }\n    this._breaksAreDirty = false;\n  };\n  CascadedShadowGenerator2.prototype._computeMatrices = function() {\n    var scene = this._scene;\n    var camera = scene.activeCamera;\n    if (!camera) {\n      return;\n    }\n    Vector3.NormalizeToRef(this._light.getShadowDirection(0), this._lightDirection);\n    if (Math.abs(Vector3.Dot(this._lightDirection, Vector3.Up())) === 1) {\n      this._lightDirection.z = 1e-13;\n    }\n    this._cachedDirection.copyFrom(this._lightDirection);\n    var useReverseDepthBuffer = scene.getEngine().useReverseDepthBuffer;\n    for (var cascadeIndex = 0; cascadeIndex < this._numCascades; ++cascadeIndex) {\n      this._computeFrustumInWorldSpace(cascadeIndex);\n      this._computeCascadeFrustum(cascadeIndex);\n      this._cascadeMaxExtents[cascadeIndex].subtractToRef(this._cascadeMinExtents[cascadeIndex], tmpv1);\n      this._frustumCenter[cascadeIndex].addToRef(this._lightDirection.scale(this._cascadeMinExtents[cascadeIndex].z), this._shadowCameraPos[cascadeIndex]);\n      Matrix.LookAtLHToRef(this._shadowCameraPos[cascadeIndex], this._frustumCenter[cascadeIndex], UpDir, this._viewMatrices[cascadeIndex]);\n      var minZ = 0, maxZ = tmpv1.z;\n      var boundingInfo = this._shadowCastersBoundingInfo;\n      boundingInfo.update(this._viewMatrices[cascadeIndex]);\n      maxZ = Math.min(maxZ, boundingInfo.boundingBox.maximumWorld.z);\n      if (!this._depthClamp || this.filter === ShadowGenerator.FILTER_PCSS) {\n        minZ = Math.min(minZ, boundingInfo.boundingBox.minimumWorld.z);\n      } else {\n        minZ = Math.max(minZ, boundingInfo.boundingBox.minimumWorld.z);\n      }\n      Matrix.OrthoOffCenterLHToRef(this._cascadeMinExtents[cascadeIndex].x, this._cascadeMaxExtents[cascadeIndex].x, this._cascadeMinExtents[cascadeIndex].y, this._cascadeMaxExtents[cascadeIndex].y, useReverseDepthBuffer ? maxZ : minZ, useReverseDepthBuffer ? minZ : maxZ, this._projectionMatrices[cascadeIndex], scene.getEngine().isNDCHalfZRange);\n      this._cascadeMinExtents[cascadeIndex].z = minZ;\n      this._cascadeMaxExtents[cascadeIndex].z = maxZ;\n      this._viewMatrices[cascadeIndex].multiplyToRef(this._projectionMatrices[cascadeIndex], this._transformMatrices[cascadeIndex]);\n      Vector3.TransformCoordinatesToRef(ZeroVec, this._transformMatrices[cascadeIndex], tmpv1);\n      tmpv1.scaleInPlace(this._mapSize / 2);\n      tmpv2.copyFromFloats(Math.round(tmpv1.x), Math.round(tmpv1.y), Math.round(tmpv1.z));\n      tmpv2.subtractInPlace(tmpv1).scaleInPlace(2 / this._mapSize);\n      Matrix.TranslationToRef(tmpv2.x, tmpv2.y, 0, tmpMatrix);\n      this._projectionMatrices[cascadeIndex].multiplyToRef(tmpMatrix, this._projectionMatrices[cascadeIndex]);\n      this._viewMatrices[cascadeIndex].multiplyToRef(this._projectionMatrices[cascadeIndex], this._transformMatrices[cascadeIndex]);\n      this._transformMatrices[cascadeIndex].copyToArray(this._transformMatricesAsArray, cascadeIndex * 16);\n    }\n  };\n  CascadedShadowGenerator2.prototype._computeFrustumInWorldSpace = function(cascadeIndex) {\n    if (!this._scene.activeCamera) {\n      return;\n    }\n    var prevSplitDist = this._cascades[cascadeIndex].prevBreakDistance, splitDist = this._cascades[cascadeIndex].breakDistance;\n    var isNDCHalfZRange = this._scene.getEngine().isNDCHalfZRange;\n    this._scene.activeCamera.getViewMatrix();\n    var invViewProj = Matrix.Invert(this._scene.activeCamera.getTransformationMatrix());\n    var cornerIndexOffset = this._scene.getEngine().useReverseDepthBuffer ? 4 : 0;\n    for (var cornerIndex = 0; cornerIndex < CascadedShadowGenerator2._FrustumCornersNDCSpace.length; ++cornerIndex) {\n      tmpv1.copyFrom(CascadedShadowGenerator2._FrustumCornersNDCSpace[(cornerIndex + cornerIndexOffset) % CascadedShadowGenerator2._FrustumCornersNDCSpace.length]);\n      if (isNDCHalfZRange && tmpv1.z === -1) {\n        tmpv1.z = 0;\n      }\n      Vector3.TransformCoordinatesToRef(tmpv1, invViewProj, this._frustumCornersWorldSpace[cascadeIndex][cornerIndex]);\n    }\n    for (var cornerIndex = 0; cornerIndex < CascadedShadowGenerator2._FrustumCornersNDCSpace.length / 2; ++cornerIndex) {\n      tmpv1.copyFrom(this._frustumCornersWorldSpace[cascadeIndex][cornerIndex + 4]).subtractInPlace(this._frustumCornersWorldSpace[cascadeIndex][cornerIndex]);\n      tmpv2.copyFrom(tmpv1).scaleInPlace(prevSplitDist);\n      tmpv1.scaleInPlace(splitDist);\n      tmpv1.addInPlace(this._frustumCornersWorldSpace[cascadeIndex][cornerIndex]);\n      this._frustumCornersWorldSpace[cascadeIndex][cornerIndex + 4].copyFrom(tmpv1);\n      this._frustumCornersWorldSpace[cascadeIndex][cornerIndex].addInPlace(tmpv2);\n    }\n  };\n  CascadedShadowGenerator2.prototype._computeCascadeFrustum = function(cascadeIndex) {\n    this._cascadeMinExtents[cascadeIndex].copyFromFloats(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n    this._cascadeMaxExtents[cascadeIndex].copyFromFloats(Number.MIN_VALUE, Number.MIN_VALUE, Number.MIN_VALUE);\n    this._frustumCenter[cascadeIndex].copyFromFloats(0, 0, 0);\n    var camera = this._scene.activeCamera;\n    if (!camera) {\n      return;\n    }\n    for (var cornerIndex = 0; cornerIndex < this._frustumCornersWorldSpace[cascadeIndex].length; ++cornerIndex) {\n      this._frustumCenter[cascadeIndex].addInPlace(this._frustumCornersWorldSpace[cascadeIndex][cornerIndex]);\n    }\n    this._frustumCenter[cascadeIndex].scaleInPlace(1 / this._frustumCornersWorldSpace[cascadeIndex].length);\n    if (this.stabilizeCascades) {\n      var sphereRadius = 0;\n      for (var cornerIndex = 0; cornerIndex < this._frustumCornersWorldSpace[cascadeIndex].length; ++cornerIndex) {\n        var dist = this._frustumCornersWorldSpace[cascadeIndex][cornerIndex].subtractToRef(this._frustumCenter[cascadeIndex], tmpv1).length();\n        sphereRadius = Math.max(sphereRadius, dist);\n      }\n      sphereRadius = Math.ceil(sphereRadius * 16) / 16;\n      this._cascadeMaxExtents[cascadeIndex].copyFromFloats(sphereRadius, sphereRadius, sphereRadius);\n      this._cascadeMinExtents[cascadeIndex].copyFromFloats(-sphereRadius, -sphereRadius, -sphereRadius);\n    } else {\n      var lightCameraPos = this._frustumCenter[cascadeIndex];\n      this._frustumCenter[cascadeIndex].addToRef(this._lightDirection, tmpv1);\n      Matrix.LookAtLHToRef(lightCameraPos, tmpv1, UpDir, tmpMatrix);\n      for (var cornerIndex = 0; cornerIndex < this._frustumCornersWorldSpace[cascadeIndex].length; ++cornerIndex) {\n        Vector3.TransformCoordinatesToRef(this._frustumCornersWorldSpace[cascadeIndex][cornerIndex], tmpMatrix, tmpv1);\n        this._cascadeMinExtents[cascadeIndex].minimizeInPlace(tmpv1);\n        this._cascadeMaxExtents[cascadeIndex].maximizeInPlace(tmpv1);\n      }\n    }\n  };\n  CascadedShadowGenerator2.prototype._recreateSceneUBOs = function() {\n    this._disposeSceneUBOs();\n    if (this._sceneUBOs) {\n      for (var i = 0; i < this._numCascades; ++i) {\n        this._sceneUBOs.push(this._scene.createSceneUniformBuffer('Scene for CSM Shadow Generator (light \"'.concat(this._light.name, '\" cascade #').concat(i, \")\")));\n      }\n    }\n  };\n  Object.defineProperty(CascadedShadowGenerator2, \"IsSupported\", {\n    get: function() {\n      var engine = EngineStore.LastCreatedEngine;\n      if (!engine) {\n        return false;\n      }\n      return engine._features.supportCSM;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  CascadedShadowGenerator2.prototype._initializeGenerator = function() {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v;\n    this.penumbraDarkness = (_a = this.penumbraDarkness) !== null && _a !== void 0 ? _a : 1;\n    this._numCascades = (_b = this._numCascades) !== null && _b !== void 0 ? _b : CascadedShadowGenerator2.DEFAULT_CASCADES_COUNT;\n    this.stabilizeCascades = (_c = this.stabilizeCascades) !== null && _c !== void 0 ? _c : false;\n    this._freezeShadowCastersBoundingInfoObservable = (_d = this._freezeShadowCastersBoundingInfoObservable) !== null && _d !== void 0 ? _d : null;\n    this.freezeShadowCastersBoundingInfo = (_e = this.freezeShadowCastersBoundingInfo) !== null && _e !== void 0 ? _e : false;\n    this._scbiMin = (_f = this._scbiMin) !== null && _f !== void 0 ? _f : new Vector3(0, 0, 0);\n    this._scbiMax = (_g = this._scbiMax) !== null && _g !== void 0 ? _g : new Vector3(0, 0, 0);\n    this._shadowCastersBoundingInfo = (_h = this._shadowCastersBoundingInfo) !== null && _h !== void 0 ? _h : new BoundingInfo(new Vector3(0, 0, 0), new Vector3(0, 0, 0));\n    this._breaksAreDirty = (_j = this._breaksAreDirty) !== null && _j !== void 0 ? _j : true;\n    this._minDistance = (_k = this._minDistance) !== null && _k !== void 0 ? _k : 0;\n    this._maxDistance = (_l = this._maxDistance) !== null && _l !== void 0 ? _l : 1;\n    this._currentLayer = (_m = this._currentLayer) !== null && _m !== void 0 ? _m : 0;\n    this._shadowMaxZ = (_q = (_o = this._shadowMaxZ) !== null && _o !== void 0 ? _o : (_p = this._scene.activeCamera) === null || _p === void 0 ? void 0 : _p.maxZ) !== null && _q !== void 0 ? _q : 1e4;\n    this._debug = (_r = this._debug) !== null && _r !== void 0 ? _r : false;\n    this._depthClamp = (_s = this._depthClamp) !== null && _s !== void 0 ? _s : true;\n    this._cascadeBlendPercentage = (_t = this._cascadeBlendPercentage) !== null && _t !== void 0 ? _t : 0.1;\n    this._lambda = (_u = this._lambda) !== null && _u !== void 0 ? _u : 0.5;\n    this._autoCalcDepthBounds = (_v = this._autoCalcDepthBounds) !== null && _v !== void 0 ? _v : false;\n    this._recreateSceneUBOs();\n    _super.prototype._initializeGenerator.call(this);\n  };\n  CascadedShadowGenerator2.prototype._createTargetRenderTexture = function() {\n    var engine = this._scene.getEngine();\n    var size = { width: this._mapSize, height: this._mapSize, layers: this.numCascades };\n    this._shadowMap = new RenderTargetTexture(this._light.name + \"_CSMShadowMap\", size, this._scene, false, true, this._textureType, false, void 0, false, false, void 0);\n    this._shadowMap.createDepthStencilTexture(engine.useReverseDepthBuffer ? 516 : 513, true);\n  };\n  CascadedShadowGenerator2.prototype._initializeShadowMap = function() {\n    var _this = this;\n    _super.prototype._initializeShadowMap.call(this);\n    if (this._shadowMap === null) {\n      return;\n    }\n    this._transformMatricesAsArray = new Float32Array(this._numCascades * 16);\n    this._viewSpaceFrustumsZ = new Array(this._numCascades);\n    this._frustumLengths = new Array(this._numCascades);\n    this._lightSizeUVCorrection = new Array(this._numCascades * 2);\n    this._depthCorrection = new Array(this._numCascades);\n    this._cascades = [];\n    this._viewMatrices = [];\n    this._projectionMatrices = [];\n    this._transformMatrices = [];\n    this._cascadeMinExtents = [];\n    this._cascadeMaxExtents = [];\n    this._frustumCenter = [];\n    this._shadowCameraPos = [];\n    this._frustumCornersWorldSpace = [];\n    for (var cascadeIndex = 0; cascadeIndex < this._numCascades; ++cascadeIndex) {\n      this._cascades[cascadeIndex] = {\n        prevBreakDistance: 0,\n        breakDistance: 0\n      };\n      this._viewMatrices[cascadeIndex] = Matrix.Zero();\n      this._projectionMatrices[cascadeIndex] = Matrix.Zero();\n      this._transformMatrices[cascadeIndex] = Matrix.Zero();\n      this._cascadeMinExtents[cascadeIndex] = new Vector3();\n      this._cascadeMaxExtents[cascadeIndex] = new Vector3();\n      this._frustumCenter[cascadeIndex] = new Vector3();\n      this._shadowCameraPos[cascadeIndex] = new Vector3();\n      this._frustumCornersWorldSpace[cascadeIndex] = new Array(CascadedShadowGenerator2._FrustumCornersNDCSpace.length);\n      for (var i = 0; i < CascadedShadowGenerator2._FrustumCornersNDCSpace.length; ++i) {\n        this._frustumCornersWorldSpace[cascadeIndex][i] = new Vector3();\n      }\n    }\n    var engine = this._scene.getEngine();\n    this._shadowMap.onBeforeBindObservable.clear();\n    this._shadowMap.onBeforeRenderObservable.clear();\n    this._shadowMap.onBeforeRenderObservable.add(function(layer) {\n      if (_this._sceneUBOs) {\n        _this._scene.setSceneUniformBuffer(_this._sceneUBOs[layer]);\n      }\n      _this._currentLayer = layer;\n      if (_this._filter === ShadowGenerator.FILTER_PCF) {\n        engine.setColorWrite(false);\n      }\n      _this._scene.setTransformMatrix(_this.getCascadeViewMatrix(layer), _this.getCascadeProjectionMatrix(layer));\n      if (_this._useUBO) {\n        _this._scene.getSceneUniformBuffer().unbindEffect();\n        _this._scene.finalizeSceneUbo();\n      }\n    });\n    this._shadowMap.onBeforeBindObservable.add(function() {\n      var _a;\n      _this._currentSceneUBO = _this._scene.getSceneUniformBuffer();\n      (_a = engine._debugPushGroup) === null || _a === void 0 ? void 0 : _a.call(engine, \"cascaded shadow map generation for pass id \".concat(engine.currentRenderPassId), 1);\n      if (_this._breaksAreDirty) {\n        _this._splitFrustum();\n      }\n      _this._computeMatrices();\n    });\n    this._splitFrustum();\n  };\n  CascadedShadowGenerator2.prototype._bindCustomEffectForRenderSubMeshForShadowMap = function(subMesh, effect) {\n    effect.setMatrix(\"viewProjection\", this.getCascadeTransformMatrix(this._currentLayer));\n  };\n  CascadedShadowGenerator2.prototype._isReadyCustomDefines = function(defines) {\n    defines.push(\"#define SM_DEPTHCLAMP \" + (this._depthClamp && this._filter !== ShadowGenerator.FILTER_PCSS ? \"1\" : \"0\"));\n  };\n  CascadedShadowGenerator2.prototype.prepareDefines = function(defines, lightIndex) {\n    _super.prototype.prepareDefines.call(this, defines, lightIndex);\n    var scene = this._scene;\n    var light = this._light;\n    if (!scene.shadowsEnabled || !light.shadowEnabled) {\n      return;\n    }\n    defines[\"SHADOWCSM\" + lightIndex] = true;\n    defines[\"SHADOWCSMDEBUG\" + lightIndex] = this.debug;\n    defines[\"SHADOWCSMNUM_CASCADES\" + lightIndex] = this.numCascades;\n    defines[\"SHADOWCSM_RIGHTHANDED\" + lightIndex] = scene.useRightHandedSystem;\n    var camera = scene.activeCamera;\n    if (camera && this._shadowMaxZ < camera.maxZ) {\n      defines[\"SHADOWCSMUSESHADOWMAXZ\" + lightIndex] = true;\n    }\n    if (this.cascadeBlendPercentage === 0) {\n      defines[\"SHADOWCSMNOBLEND\" + lightIndex] = true;\n    }\n  };\n  CascadedShadowGenerator2.prototype.bindShadowLight = function(lightIndex, effect) {\n    var light = this._light;\n    var scene = this._scene;\n    if (!scene.shadowsEnabled || !light.shadowEnabled) {\n      return;\n    }\n    var camera = scene.activeCamera;\n    if (!camera) {\n      return;\n    }\n    var shadowMap = this.getShadowMap();\n    if (!shadowMap) {\n      return;\n    }\n    var width = shadowMap.getSize().width;\n    effect.setMatrices(\"lightMatrix\" + lightIndex, this._transformMatricesAsArray);\n    effect.setArray(\"viewFrustumZ\" + lightIndex, this._viewSpaceFrustumsZ);\n    effect.setFloat(\"cascadeBlendFactor\" + lightIndex, this.cascadeBlendPercentage === 0 ? 1e4 : 1 / this.cascadeBlendPercentage);\n    effect.setArray(\"frustumLengths\" + lightIndex, this._frustumLengths);\n    if (this._filter === ShadowGenerator.FILTER_PCF) {\n      effect.setDepthStencilTexture(\"shadowSampler\" + lightIndex, shadowMap);\n      light._uniformBuffer.updateFloat4(\"shadowsInfo\", this.getDarkness(), width, 1 / width, this.frustumEdgeFalloff, lightIndex);\n    } else if (this._filter === ShadowGenerator.FILTER_PCSS) {\n      for (var cascadeIndex = 0; cascadeIndex < this._numCascades; ++cascadeIndex) {\n        this._lightSizeUVCorrection[cascadeIndex * 2 + 0] = cascadeIndex === 0 ? 1 : (this._cascadeMaxExtents[0].x - this._cascadeMinExtents[0].x) / (this._cascadeMaxExtents[cascadeIndex].x - this._cascadeMinExtents[cascadeIndex].x);\n        this._lightSizeUVCorrection[cascadeIndex * 2 + 1] = cascadeIndex === 0 ? 1 : (this._cascadeMaxExtents[0].y - this._cascadeMinExtents[0].y) / (this._cascadeMaxExtents[cascadeIndex].y - this._cascadeMinExtents[cascadeIndex].y);\n        this._depthCorrection[cascadeIndex] = cascadeIndex === 0 ? 1 : (this._cascadeMaxExtents[cascadeIndex].z - this._cascadeMinExtents[cascadeIndex].z) / (this._cascadeMaxExtents[0].z - this._cascadeMinExtents[0].z);\n      }\n      effect.setDepthStencilTexture(\"shadowSampler\" + lightIndex, shadowMap);\n      effect.setTexture(\"depthSampler\" + lightIndex, shadowMap);\n      effect.setArray2(\"lightSizeUVCorrection\" + lightIndex, this._lightSizeUVCorrection);\n      effect.setArray(\"depthCorrection\" + lightIndex, this._depthCorrection);\n      effect.setFloat(\"penumbraDarkness\" + lightIndex, this.penumbraDarkness);\n      light._uniformBuffer.updateFloat4(\"shadowsInfo\", this.getDarkness(), 1 / width, this._contactHardeningLightSizeUVRatio * width, this.frustumEdgeFalloff, lightIndex);\n    } else {\n      effect.setTexture(\"shadowSampler\" + lightIndex, shadowMap);\n      light._uniformBuffer.updateFloat4(\"shadowsInfo\", this.getDarkness(), width, 1 / width, this.frustumEdgeFalloff, lightIndex);\n    }\n    light._uniformBuffer.updateFloat2(\"depthValues\", this.getLight().getDepthMinZ(camera), this.getLight().getDepthMinZ(camera) + this.getLight().getDepthMaxZ(camera), lightIndex);\n  };\n  CascadedShadowGenerator2.prototype.getTransformMatrix = function() {\n    return this.getCascadeTransformMatrix(0);\n  };\n  CascadedShadowGenerator2.prototype.dispose = function() {\n    _super.prototype.dispose.call(this);\n    if (this._freezeShadowCastersBoundingInfoObservable) {\n      this._scene.onBeforeRenderObservable.remove(this._freezeShadowCastersBoundingInfoObservable);\n      this._freezeShadowCastersBoundingInfoObservable = null;\n    }\n    if (this._depthReducer) {\n      this._depthReducer.dispose();\n      this._depthReducer = null;\n    }\n  };\n  CascadedShadowGenerator2.prototype.serialize = function() {\n    var serializationObject = _super.prototype.serialize.call(this);\n    var shadowMap = this.getShadowMap();\n    if (!shadowMap) {\n      return serializationObject;\n    }\n    serializationObject.numCascades = this._numCascades;\n    serializationObject.debug = this._debug;\n    serializationObject.stabilizeCascades = this.stabilizeCascades;\n    serializationObject.lambda = this._lambda;\n    serializationObject.cascadeBlendPercentage = this.cascadeBlendPercentage;\n    serializationObject.depthClamp = this._depthClamp;\n    serializationObject.autoCalcDepthBounds = this.autoCalcDepthBounds;\n    serializationObject.shadowMaxZ = this._shadowMaxZ;\n    serializationObject.penumbraDarkness = this.penumbraDarkness;\n    serializationObject.freezeShadowCastersBoundingInfo = this._freezeShadowCastersBoundingInfo;\n    serializationObject.minDistance = this.minDistance;\n    serializationObject.maxDistance = this.maxDistance;\n    serializationObject.renderList = [];\n    if (shadowMap.renderList) {\n      for (var meshIndex = 0; meshIndex < shadowMap.renderList.length; meshIndex++) {\n        var mesh = shadowMap.renderList[meshIndex];\n        serializationObject.renderList.push(mesh.id);\n      }\n    }\n    return serializationObject;\n  };\n  CascadedShadowGenerator2.Parse = function(parsedShadowGenerator, scene) {\n    var shadowGenerator = ShadowGenerator.Parse(parsedShadowGenerator, scene, function(mapSize, light) {\n      return new CascadedShadowGenerator2(mapSize, light);\n    });\n    if (parsedShadowGenerator.numCascades !== void 0) {\n      shadowGenerator.numCascades = parsedShadowGenerator.numCascades;\n    }\n    if (parsedShadowGenerator.debug !== void 0) {\n      shadowGenerator.debug = parsedShadowGenerator.debug;\n    }\n    if (parsedShadowGenerator.stabilizeCascades !== void 0) {\n      shadowGenerator.stabilizeCascades = parsedShadowGenerator.stabilizeCascades;\n    }\n    if (parsedShadowGenerator.lambda !== void 0) {\n      shadowGenerator.lambda = parsedShadowGenerator.lambda;\n    }\n    if (parsedShadowGenerator.cascadeBlendPercentage !== void 0) {\n      shadowGenerator.cascadeBlendPercentage = parsedShadowGenerator.cascadeBlendPercentage;\n    }\n    if (parsedShadowGenerator.depthClamp !== void 0) {\n      shadowGenerator.depthClamp = parsedShadowGenerator.depthClamp;\n    }\n    if (parsedShadowGenerator.autoCalcDepthBounds !== void 0) {\n      shadowGenerator.autoCalcDepthBounds = parsedShadowGenerator.autoCalcDepthBounds;\n    }\n    if (parsedShadowGenerator.shadowMaxZ !== void 0) {\n      shadowGenerator.shadowMaxZ = parsedShadowGenerator.shadowMaxZ;\n    }\n    if (parsedShadowGenerator.penumbraDarkness !== void 0) {\n      shadowGenerator.penumbraDarkness = parsedShadowGenerator.penumbraDarkness;\n    }\n    if (parsedShadowGenerator.freezeShadowCastersBoundingInfo !== void 0) {\n      shadowGenerator.freezeShadowCastersBoundingInfo = parsedShadowGenerator.freezeShadowCastersBoundingInfo;\n    }\n    if (parsedShadowGenerator.minDistance !== void 0 && parsedShadowGenerator.maxDistance !== void 0) {\n      shadowGenerator.setMinMaxDistance(parsedShadowGenerator.minDistance, parsedShadowGenerator.maxDistance);\n    }\n    return shadowGenerator;\n  };\n  CascadedShadowGenerator2._FrustumCornersNDCSpace = [\n    new Vector3(-1, 1, -1),\n    new Vector3(1, 1, -1),\n    new Vector3(1, -1, -1),\n    new Vector3(-1, -1, -1),\n    new Vector3(-1, 1, 1),\n    new Vector3(1, 1, 1),\n    new Vector3(1, -1, 1),\n    new Vector3(-1, -1, 1)\n  ];\n  CascadedShadowGenerator2.CLASSNAME = \"CascadedShadowGenerator\";\n  CascadedShadowGenerator2.DEFAULT_CASCADES_COUNT = 4;\n  CascadedShadowGenerator2.MIN_CASCADES_COUNT = 2;\n  CascadedShadowGenerator2.MAX_CASCADES_COUNT = 4;\n  CascadedShadowGenerator2._SceneComponentInitialization = function(_) {\n    throw _WarnImport(\"ShadowGeneratorSceneComponent\");\n  };\n  return CascadedShadowGenerator2;\n}(ShadowGenerator);\nAbstractScene.AddParser(SceneComponentConstants.NAME_SHADOWGENERATOR, function(parsedData, scene) {\n  if (parsedData.shadowGenerators !== void 0 && parsedData.shadowGenerators !== null) {\n    for (var index = 0, cache = parsedData.shadowGenerators.length; index < cache; index++) {\n      var parsedShadowGenerator = parsedData.shadowGenerators[index];\n      if (parsedShadowGenerator.className === CascadedShadowGenerator.CLASSNAME) {\n        CascadedShadowGenerator.Parse(parsedShadowGenerator, scene);\n      } else {\n        ShadowGenerator.Parse(parsedShadowGenerator, scene);\n      }\n    }\n  }\n});\nvar ShadowGeneratorSceneComponent = function() {\n  function ShadowGeneratorSceneComponent2(scene) {\n    this.name = SceneComponentConstants.NAME_SHADOWGENERATOR;\n    this.scene = scene;\n  }\n  ShadowGeneratorSceneComponent2.prototype.register = function() {\n    this.scene._gatherRenderTargetsStage.registerStep(SceneComponentConstants.STEP_GATHERRENDERTARGETS_SHADOWGENERATOR, this, this._gatherRenderTargets);\n  };\n  ShadowGeneratorSceneComponent2.prototype.rebuild = function() {\n  };\n  ShadowGeneratorSceneComponent2.prototype.serialize = function(serializationObject) {\n    serializationObject.shadowGenerators = [];\n    var lights = this.scene.lights;\n    for (var _i = 0, lights_1 = lights; _i < lights_1.length; _i++) {\n      var light = lights_1[_i];\n      var shadowGenerator = light.getShadowGenerator();\n      if (shadowGenerator) {\n        serializationObject.shadowGenerators.push(shadowGenerator.serialize());\n      }\n    }\n  };\n  ShadowGeneratorSceneComponent2.prototype.addFromContainer = function(container) {\n  };\n  ShadowGeneratorSceneComponent2.prototype.removeFromContainer = function(container, dispose) {\n  };\n  ShadowGeneratorSceneComponent2.prototype.dispose = function() {\n  };\n  ShadowGeneratorSceneComponent2.prototype._gatherRenderTargets = function(renderTargets) {\n    var scene = this.scene;\n    if (this.scene.shadowsEnabled) {\n      for (var lightIndex = 0; lightIndex < scene.lights.length; lightIndex++) {\n        var light = scene.lights[lightIndex];\n        var shadowGenerator = light.getShadowGenerator();\n        if (light.isEnabled() && light.shadowEnabled && shadowGenerator) {\n          var shadowMap = shadowGenerator.getShadowMap();\n          if (scene.textures.indexOf(shadowMap) !== -1) {\n            renderTargets.push(shadowMap);\n          }\n        }\n      }\n    }\n  };\n  return ShadowGeneratorSceneComponent2;\n}();\nShadowGenerator._SceneComponentInitialization = function(scene) {\n  var component = scene._getComponent(SceneComponentConstants.NAME_SHADOWGENERATOR);\n  if (!component) {\n    component = new ShadowGeneratorSceneComponent(scene);\n    scene._addComponent(component);\n  }\n};\nconst defaultOptions$2 = {\n  enableShadows: true\n};\nfunction createLights(options = defaultOptions$2) {\n  const { enableShadows, shadowTransparency, intensity, scene } = options;\n  const d_light = new DirectionalLight(\"DirectionalLight\", new Vector3(-0.3, -1, 0.4), scene);\n  d_light.position = new Vector3(-50, 65, -50);\n  d_light.intensity = 0.65 * intensity;\n  const h_light = new HemisphericLight(\"HemisphericLight\", new Vector3(1, 1, 0), scene);\n  h_light.intensity = 0.4 * intensity;\n  if (enableShadows) {\n    d_light.shadowMinZ = 1;\n    d_light.shadowMaxZ = 70;\n    d_light.shadowGenerator = new ShadowGenerator(2048, d_light);\n    d_light.shadowGenerator.useCloseExponentialShadowMap = true;\n    d_light.shadowGenerator.darkness = shadowTransparency;\n  }\n  return { directional: d_light, hemispheric: h_light };\n}\nfunction CreateBoxVertexData(options) {\n  var nbFaces = 6;\n  var indices = [0, 1, 2, 0, 2, 3, 4, 5, 6, 4, 6, 7, 8, 9, 10, 8, 10, 11, 12, 13, 14, 12, 14, 15, 16, 17, 18, 16, 18, 19, 20, 21, 22, 20, 22, 23];\n  var normals = [\n    0,\n    0,\n    1,\n    0,\n    0,\n    1,\n    0,\n    0,\n    1,\n    0,\n    0,\n    1,\n    0,\n    0,\n    -1,\n    0,\n    0,\n    -1,\n    0,\n    0,\n    -1,\n    0,\n    0,\n    -1,\n    1,\n    0,\n    0,\n    1,\n    0,\n    0,\n    1,\n    0,\n    0,\n    1,\n    0,\n    0,\n    -1,\n    0,\n    0,\n    -1,\n    0,\n    0,\n    -1,\n    0,\n    0,\n    -1,\n    0,\n    0,\n    0,\n    1,\n    0,\n    0,\n    1,\n    0,\n    0,\n    1,\n    0,\n    0,\n    1,\n    0,\n    0,\n    -1,\n    0,\n    0,\n    -1,\n    0,\n    0,\n    -1,\n    0,\n    0,\n    -1,\n    0\n  ];\n  var uvs = [];\n  var positions = [];\n  var width = options.width || options.size || 1;\n  var height = options.height || options.size || 1;\n  var depth = options.depth || options.size || 1;\n  var wrap = options.wrap || false;\n  var topBaseAt = options.topBaseAt === void 0 ? 1 : options.topBaseAt;\n  var bottomBaseAt = options.bottomBaseAt === void 0 ? 0 : options.bottomBaseAt;\n  topBaseAt = (topBaseAt + 4) % 4;\n  bottomBaseAt = (bottomBaseAt + 4) % 4;\n  var topOrder = [2, 0, 3, 1];\n  var bottomOrder = [2, 0, 1, 3];\n  var topIndex = topOrder[topBaseAt];\n  var bottomIndex = bottomOrder[bottomBaseAt];\n  var basePositions = [\n    1,\n    -1,\n    1,\n    -1,\n    -1,\n    1,\n    -1,\n    1,\n    1,\n    1,\n    1,\n    1,\n    1,\n    1,\n    -1,\n    -1,\n    1,\n    -1,\n    -1,\n    -1,\n    -1,\n    1,\n    -1,\n    -1,\n    1,\n    1,\n    -1,\n    1,\n    -1,\n    -1,\n    1,\n    -1,\n    1,\n    1,\n    1,\n    1,\n    -1,\n    1,\n    1,\n    -1,\n    -1,\n    1,\n    -1,\n    -1,\n    -1,\n    -1,\n    1,\n    -1,\n    -1,\n    1,\n    1,\n    -1,\n    1,\n    -1,\n    1,\n    1,\n    -1,\n    1,\n    1,\n    1,\n    1,\n    -1,\n    1,\n    1,\n    -1,\n    -1,\n    -1,\n    -1,\n    -1,\n    -1,\n    -1,\n    1\n  ];\n  if (wrap) {\n    indices = [2, 3, 0, 2, 0, 1, 4, 5, 6, 4, 6, 7, 9, 10, 11, 9, 11, 8, 12, 14, 15, 12, 13, 14];\n    basePositions = [\n      -1,\n      1,\n      1,\n      1,\n      1,\n      1,\n      1,\n      -1,\n      1,\n      -1,\n      -1,\n      1,\n      1,\n      1,\n      -1,\n      -1,\n      1,\n      -1,\n      -1,\n      -1,\n      -1,\n      1,\n      -1,\n      -1,\n      1,\n      1,\n      1,\n      1,\n      1,\n      -1,\n      1,\n      -1,\n      -1,\n      1,\n      -1,\n      1,\n      -1,\n      1,\n      -1,\n      -1,\n      1,\n      1,\n      -1,\n      -1,\n      1,\n      -1,\n      -1,\n      -1\n    ];\n    var topFaceBase = [\n      [1, 1, 1],\n      [-1, 1, 1],\n      [-1, 1, -1],\n      [1, 1, -1]\n    ];\n    var bottomFaceBase = [\n      [-1, -1, 1],\n      [1, -1, 1],\n      [1, -1, -1],\n      [-1, -1, -1]\n    ];\n    var topFaceOrder = [17, 18, 19, 16];\n    var bottomFaceOrder = [22, 23, 20, 21];\n    while (topIndex > 0) {\n      topFaceBase.unshift(topFaceBase.pop());\n      topFaceOrder.unshift(topFaceOrder.pop());\n      topIndex--;\n    }\n    while (bottomIndex > 0) {\n      bottomFaceBase.unshift(bottomFaceBase.pop());\n      bottomFaceOrder.unshift(bottomFaceOrder.pop());\n      bottomIndex--;\n    }\n    topFaceBase = topFaceBase.flat();\n    bottomFaceBase = bottomFaceBase.flat();\n    basePositions = basePositions.concat(topFaceBase).concat(bottomFaceBase);\n    indices.push(topFaceOrder[0], topFaceOrder[2], topFaceOrder[3], topFaceOrder[0], topFaceOrder[1], topFaceOrder[2]);\n    indices.push(bottomFaceOrder[0], bottomFaceOrder[2], bottomFaceOrder[3], bottomFaceOrder[0], bottomFaceOrder[1], bottomFaceOrder[2]);\n  }\n  var scaleArray = [width / 2, height / 2, depth / 2];\n  positions = basePositions.reduce(function(accumulator, currentValue, currentIndex) {\n    return accumulator.concat(currentValue * scaleArray[currentIndex % 3]);\n  }, []);\n  var sideOrientation = options.sideOrientation === 0 ? 0 : options.sideOrientation || VertexData.DEFAULTSIDE;\n  var faceUV = options.faceUV || new Array(6);\n  var faceColors = options.faceColors;\n  var colors = [];\n  for (var f = 0; f < 6; f++) {\n    if (faceUV[f] === void 0) {\n      faceUV[f] = new Vector4(0, 0, 1, 1);\n    }\n    if (faceColors && faceColors[f] === void 0) {\n      faceColors[f] = new Color4$1(1, 1, 1, 1);\n    }\n  }\n  for (var index = 0; index < nbFaces; index++) {\n    uvs.push(faceUV[index].z, CompatibilityOptions.UseOpenGLOrientationForUV ? 1 - faceUV[index].w : faceUV[index].w);\n    uvs.push(faceUV[index].x, CompatibilityOptions.UseOpenGLOrientationForUV ? 1 - faceUV[index].w : faceUV[index].w);\n    uvs.push(faceUV[index].x, CompatibilityOptions.UseOpenGLOrientationForUV ? 1 - faceUV[index].y : faceUV[index].y);\n    uvs.push(faceUV[index].z, CompatibilityOptions.UseOpenGLOrientationForUV ? 1 - faceUV[index].y : faceUV[index].y);\n    if (faceColors) {\n      for (var c = 0; c < 4; c++) {\n        colors.push(faceColors[index].r, faceColors[index].g, faceColors[index].b, faceColors[index].a);\n      }\n    }\n  }\n  VertexData._ComputeSides(sideOrientation, positions, indices, normals, uvs, options.frontUVs, options.backUVs);\n  var vertexData = new VertexData();\n  vertexData.indices = indices;\n  vertexData.positions = positions;\n  vertexData.normals = normals;\n  vertexData.uvs = uvs;\n  if (faceColors) {\n    var totalColors = sideOrientation === VertexData.DOUBLESIDE ? colors.concat(colors) : colors;\n    vertexData.colors = totalColors;\n  }\n  return vertexData;\n}\nfunction CreateBox(name2, options, scene) {\n  if (options === void 0) {\n    options = {};\n  }\n  if (scene === void 0) {\n    scene = null;\n  }\n  var box = new Mesh(name2, scene);\n  options.sideOrientation = Mesh._GetDefaultSideOrientation(options.sideOrientation);\n  box._originalBuilderSideOrientation = options.sideOrientation;\n  var vertexData = CreateBoxVertexData(options);\n  vertexData.applyToMesh(box, options.updatable);\n  return box;\n}\nVertexData.CreateBox = CreateBoxVertexData;\nMesh.CreateBox = function(name2, size, scene, updatable, sideOrientation) {\n  if (scene === void 0) {\n    scene = null;\n  }\n  var options = {\n    size,\n    sideOrientation,\n    updatable\n  };\n  return CreateBox(name2, options, scene);\n};\nvar PrePassConfiguration = function() {\n  function PrePassConfiguration2() {\n    this.previousWorldMatrices = {};\n    this.previousBones = {};\n  }\n  PrePassConfiguration2.AddUniforms = function(uniforms) {\n    uniforms.push(\"previousWorld\", \"previousViewProjection\", \"mPreviousBones\");\n  };\n  PrePassConfiguration2.AddSamplers = function(samplers) {\n  };\n  PrePassConfiguration2.prototype.bindForSubMesh = function(effect, scene, mesh, world, isFrozen) {\n    if (scene.prePassRenderer && scene.prePassRenderer.enabled && scene.prePassRenderer.currentRTisSceneRT) {\n      if (scene.prePassRenderer.getIndex(2) !== -1) {\n        if (!this.previousWorldMatrices[mesh.uniqueId]) {\n          this.previousWorldMatrices[mesh.uniqueId] = world.clone();\n        }\n        if (!this.previousViewProjection) {\n          this.previousViewProjection = scene.getTransformMatrix().clone();\n          this.currentViewProjection = scene.getTransformMatrix().clone();\n        }\n        var engine = scene.getEngine();\n        if (this.currentViewProjection.updateFlag !== scene.getTransformMatrix().updateFlag) {\n          this._lastUpdateFrameId = engine.frameId;\n          this.previousViewProjection.copyFrom(this.currentViewProjection);\n          this.currentViewProjection.copyFrom(scene.getTransformMatrix());\n        } else if (this._lastUpdateFrameId !== engine.frameId) {\n          this._lastUpdateFrameId = engine.frameId;\n          this.previousViewProjection.copyFrom(this.currentViewProjection);\n        }\n        effect.setMatrix(\"previousWorld\", this.previousWorldMatrices[mesh.uniqueId]);\n        effect.setMatrix(\"previousViewProjection\", this.previousViewProjection);\n        this.previousWorldMatrices[mesh.uniqueId] = world.clone();\n      }\n    }\n  };\n  return PrePassConfiguration2;\n}();\nvar PushMaterial = function(_super) {\n  __extends(PushMaterial2, _super);\n  function PushMaterial2(name2, scene, storeEffectOnSubMeshes) {\n    if (storeEffectOnSubMeshes === void 0) {\n      storeEffectOnSubMeshes = true;\n    }\n    var _this = _super.call(this, name2, scene) || this;\n    _this._normalMatrix = new Matrix();\n    _this._storeEffectOnSubMeshes = storeEffectOnSubMeshes;\n    return _this;\n  }\n  PushMaterial2.prototype.getEffect = function() {\n    return this._storeEffectOnSubMeshes ? this._activeEffect : _super.prototype.getEffect.call(this);\n  };\n  PushMaterial2.prototype.isReady = function(mesh, useInstances) {\n    if (!mesh) {\n      return false;\n    }\n    if (!this._storeEffectOnSubMeshes) {\n      return true;\n    }\n    if (!mesh.subMeshes || mesh.subMeshes.length === 0) {\n      return true;\n    }\n    return this.isReadyForSubMesh(mesh, mesh.subMeshes[0], useInstances);\n  };\n  PushMaterial2.prototype._isReadyForSubMesh = function(subMesh) {\n    var defines = subMesh.materialDefines;\n    if (!this.checkReadyOnEveryCall && subMesh.effect && defines) {\n      if (defines._renderId === this.getScene().getRenderId()) {\n        return true;\n      }\n    }\n    return false;\n  };\n  PushMaterial2.prototype.bindOnlyWorldMatrix = function(world) {\n    this._activeEffect.setMatrix(\"world\", world);\n  };\n  PushMaterial2.prototype.bindOnlyNormalMatrix = function(normalMatrix) {\n    this._activeEffect.setMatrix(\"normalMatrix\", normalMatrix);\n  };\n  PushMaterial2.prototype.bind = function(world, mesh) {\n    if (!mesh) {\n      return;\n    }\n    this.bindForSubMesh(world, mesh, mesh.subMeshes[0]);\n  };\n  PushMaterial2.prototype._afterBind = function(mesh, effect) {\n    if (effect === void 0) {\n      effect = null;\n    }\n    _super.prototype._afterBind.call(this, mesh, effect);\n    this.getScene()._cachedEffect = effect;\n  };\n  PushMaterial2.prototype._mustRebind = function(scene, effect, visibility) {\n    if (visibility === void 0) {\n      visibility = 1;\n    }\n    return scene.isCachedMaterialInvalid(this, effect, visibility);\n  };\n  return PushMaterial2;\n}(Material);\nvar MaterialFlags = function() {\n  function MaterialFlags2() {\n  }\n  Object.defineProperty(MaterialFlags2, \"DiffuseTextureEnabled\", {\n    get: function() {\n      return this._DiffuseTextureEnabled;\n    },\n    set: function(value) {\n      if (this._DiffuseTextureEnabled === value) {\n        return;\n      }\n      this._DiffuseTextureEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialFlags2, \"DetailTextureEnabled\", {\n    get: function() {\n      return this._DetailTextureEnabled;\n    },\n    set: function(value) {\n      if (this._DetailTextureEnabled === value) {\n        return;\n      }\n      this._DetailTextureEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialFlags2, \"AmbientTextureEnabled\", {\n    get: function() {\n      return this._AmbientTextureEnabled;\n    },\n    set: function(value) {\n      if (this._AmbientTextureEnabled === value) {\n        return;\n      }\n      this._AmbientTextureEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialFlags2, \"OpacityTextureEnabled\", {\n    get: function() {\n      return this._OpacityTextureEnabled;\n    },\n    set: function(value) {\n      if (this._OpacityTextureEnabled === value) {\n        return;\n      }\n      this._OpacityTextureEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialFlags2, \"ReflectionTextureEnabled\", {\n    get: function() {\n      return this._ReflectionTextureEnabled;\n    },\n    set: function(value) {\n      if (this._ReflectionTextureEnabled === value) {\n        return;\n      }\n      this._ReflectionTextureEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialFlags2, \"EmissiveTextureEnabled\", {\n    get: function() {\n      return this._EmissiveTextureEnabled;\n    },\n    set: function(value) {\n      if (this._EmissiveTextureEnabled === value) {\n        return;\n      }\n      this._EmissiveTextureEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialFlags2, \"SpecularTextureEnabled\", {\n    get: function() {\n      return this._SpecularTextureEnabled;\n    },\n    set: function(value) {\n      if (this._SpecularTextureEnabled === value) {\n        return;\n      }\n      this._SpecularTextureEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialFlags2, \"BumpTextureEnabled\", {\n    get: function() {\n      return this._BumpTextureEnabled;\n    },\n    set: function(value) {\n      if (this._BumpTextureEnabled === value) {\n        return;\n      }\n      this._BumpTextureEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialFlags2, \"LightmapTextureEnabled\", {\n    get: function() {\n      return this._LightmapTextureEnabled;\n    },\n    set: function(value) {\n      if (this._LightmapTextureEnabled === value) {\n        return;\n      }\n      this._LightmapTextureEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialFlags2, \"RefractionTextureEnabled\", {\n    get: function() {\n      return this._RefractionTextureEnabled;\n    },\n    set: function(value) {\n      if (this._RefractionTextureEnabled === value) {\n        return;\n      }\n      this._RefractionTextureEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialFlags2, \"ColorGradingTextureEnabled\", {\n    get: function() {\n      return this._ColorGradingTextureEnabled;\n    },\n    set: function(value) {\n      if (this._ColorGradingTextureEnabled === value) {\n        return;\n      }\n      this._ColorGradingTextureEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialFlags2, \"FresnelEnabled\", {\n    get: function() {\n      return this._FresnelEnabled;\n    },\n    set: function(value) {\n      if (this._FresnelEnabled === value) {\n        return;\n      }\n      this._FresnelEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(4);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialFlags2, \"ClearCoatTextureEnabled\", {\n    get: function() {\n      return this._ClearCoatTextureEnabled;\n    },\n    set: function(value) {\n      if (this._ClearCoatTextureEnabled === value) {\n        return;\n      }\n      this._ClearCoatTextureEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialFlags2, \"ClearCoatBumpTextureEnabled\", {\n    get: function() {\n      return this._ClearCoatBumpTextureEnabled;\n    },\n    set: function(value) {\n      if (this._ClearCoatBumpTextureEnabled === value) {\n        return;\n      }\n      this._ClearCoatBumpTextureEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialFlags2, \"ClearCoatTintTextureEnabled\", {\n    get: function() {\n      return this._ClearCoatTintTextureEnabled;\n    },\n    set: function(value) {\n      if (this._ClearCoatTintTextureEnabled === value) {\n        return;\n      }\n      this._ClearCoatTintTextureEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialFlags2, \"SheenTextureEnabled\", {\n    get: function() {\n      return this._SheenTextureEnabled;\n    },\n    set: function(value) {\n      if (this._SheenTextureEnabled === value) {\n        return;\n      }\n      this._SheenTextureEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialFlags2, \"AnisotropicTextureEnabled\", {\n    get: function() {\n      return this._AnisotropicTextureEnabled;\n    },\n    set: function(value) {\n      if (this._AnisotropicTextureEnabled === value) {\n        return;\n      }\n      this._AnisotropicTextureEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialFlags2, \"ThicknessTextureEnabled\", {\n    get: function() {\n      return this._ThicknessTextureEnabled;\n    },\n    set: function(value) {\n      if (this._ThicknessTextureEnabled === value) {\n        return;\n      }\n      this._ThicknessTextureEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialFlags2, \"RefractionIntensityTextureEnabled\", {\n    get: function() {\n      return this._ThicknessTextureEnabled;\n    },\n    set: function(value) {\n      if (this._RefractionIntensityTextureEnabled === value) {\n        return;\n      }\n      this._RefractionIntensityTextureEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialFlags2, \"TranslucencyIntensityTextureEnabled\", {\n    get: function() {\n      return this._ThicknessTextureEnabled;\n    },\n    set: function(value) {\n      if (this._TranslucencyIntensityTextureEnabled === value) {\n        return;\n      }\n      this._TranslucencyIntensityTextureEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MaterialFlags2, \"IridescenceTextureEnabled\", {\n    get: function() {\n      return this._IridescenceTextureEnabled;\n    },\n    set: function(value) {\n      if (this._IridescenceTextureEnabled === value) {\n        return;\n      }\n      this._IridescenceTextureEnabled = value;\n      Engine.MarkAllMaterialsAsDirty(1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  MaterialFlags2._DiffuseTextureEnabled = true;\n  MaterialFlags2._DetailTextureEnabled = true;\n  MaterialFlags2._AmbientTextureEnabled = true;\n  MaterialFlags2._OpacityTextureEnabled = true;\n  MaterialFlags2._ReflectionTextureEnabled = true;\n  MaterialFlags2._EmissiveTextureEnabled = true;\n  MaterialFlags2._SpecularTextureEnabled = true;\n  MaterialFlags2._BumpTextureEnabled = true;\n  MaterialFlags2._LightmapTextureEnabled = true;\n  MaterialFlags2._RefractionTextureEnabled = true;\n  MaterialFlags2._ColorGradingTextureEnabled = true;\n  MaterialFlags2._FresnelEnabled = true;\n  MaterialFlags2._ClearCoatTextureEnabled = true;\n  MaterialFlags2._ClearCoatBumpTextureEnabled = true;\n  MaterialFlags2._ClearCoatTintTextureEnabled = true;\n  MaterialFlags2._SheenTextureEnabled = true;\n  MaterialFlags2._AnisotropicTextureEnabled = true;\n  MaterialFlags2._ThicknessTextureEnabled = true;\n  MaterialFlags2._RefractionIntensityTextureEnabled = true;\n  MaterialFlags2._TranslucencyIntensityTextureEnabled = true;\n  MaterialFlags2._IridescenceTextureEnabled = true;\n  return MaterialFlags2;\n}();\nvar name$J = \"defaultFragmentDeclaration\";\nvar shader$J = \"uniform vec4 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n#ifdef SPECULARTERM\\nuniform vec4 vSpecularColor;\\n#endif\\nuniform vec3 vEmissiveColor;\\nuniform vec3 vAmbientColor;\\nuniform float visibility;\\n#ifdef DIFFUSE\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#ifdef AMBIENT\\nuniform vec2 vAmbientInfos;\\n#endif\\n#ifdef OPACITY \\nuniform vec2 vOpacityInfos;\\n#endif\\n#ifdef EMISSIVE\\nuniform vec2 vEmissiveInfos;\\n#endif\\n#ifdef LIGHTMAP\\nuniform vec2 vLightmapInfos;\\n#endif\\n#ifdef BUMP\\nuniform vec3 vBumpInfos;\\nuniform vec2 vTangentSpaceParams;\\n#endif\\n#ifdef ALPHATEST\\nuniform float alphaCutOff;\\n#endif\\n#if defined(REFLECTIONMAP_SPHERICAL) || defined(REFLECTIONMAP_PROJECTION) || defined(REFRACTION) || defined(PREPASS)\\nuniform mat4 view;\\n#endif\\n#ifdef REFRACTION\\nuniform vec4 vRefractionInfos;\\n#ifndef REFRACTIONMAP_3D\\nuniform mat4 refractionMatrix;\\n#endif\\n#ifdef REFRACTIONFRESNEL\\nuniform vec4 refractionLeftColor;\\nuniform vec4 refractionRightColor;\\n#endif\\n#if defined(USE_LOCAL_REFRACTIONMAP_CUBIC) && defined(REFRACTIONMAP_3D)\\nuniform vec3 vRefractionPosition;\\nuniform vec3 vRefractionSize; \\n#endif\\n#endif\\n#if defined(SPECULAR) && defined(SPECULARTERM)\\nuniform vec2 vSpecularInfos;\\n#endif\\n#ifdef DIFFUSEFRESNEL\\nuniform vec4 diffuseLeftColor;\\nuniform vec4 diffuseRightColor;\\n#endif\\n#ifdef OPACITYFRESNEL\\nuniform vec4 opacityParts;\\n#endif\\n#ifdef EMISSIVEFRESNEL\\nuniform vec4 emissiveLeftColor;\\nuniform vec4 emissiveRightColor;\\n#endif\\n#ifdef REFLECTION\\nuniform vec2 vReflectionInfos;\\n#if defined(REFLECTIONMAP_PLANAR) || defined(REFLECTIONMAP_CUBIC) || defined(REFLECTIONMAP_PROJECTION) || defined(REFLECTIONMAP_EQUIRECTANGULAR) || defined(REFLECTIONMAP_SPHERICAL) || defined(REFLECTIONMAP_SKYBOX)\\nuniform mat4 reflectionMatrix;\\n#endif\\n#ifndef REFLECTIONMAP_SKYBOX\\n#if defined(USE_LOCAL_REFLECTIONMAP_CUBIC) && defined(REFLECTIONMAP_CUBIC)\\nuniform vec3 vReflectionPosition;\\nuniform vec3 vReflectionSize; \\n#endif\\n#endif\\n#ifdef REFLECTIONFRESNEL\\nuniform vec4 reflectionLeftColor;\\nuniform vec4 reflectionRightColor;\\n#endif\\n#endif\\n#ifdef DETAIL\\nuniform vec4 vDetailInfos;\\n#endif\\n#define ADDITIONAL_FRAGMENT_DECLARATION\\n\";\nShaderStore.IncludesShadersStore[name$J] = shader$J;\nvar name$I = \"defaultUboDeclaration\";\nvar shader$I = \"layout(std140,column_major) uniform;\\nuniform Material\\n{\\nvec4 diffuseLeftColor;\\nvec4 diffuseRightColor;\\nvec4 opacityParts;\\nvec4 reflectionLeftColor;\\nvec4 reflectionRightColor;\\nvec4 refractionLeftColor;\\nvec4 refractionRightColor;\\nvec4 emissiveLeftColor;\\nvec4 emissiveRightColor;\\nvec2 vDiffuseInfos;\\nvec2 vAmbientInfos;\\nvec2 vOpacityInfos;\\nvec2 vReflectionInfos;\\nvec3 vReflectionPosition;\\nvec3 vReflectionSize;\\nvec2 vEmissiveInfos;\\nvec2 vLightmapInfos;\\nvec2 vSpecularInfos;\\nvec3 vBumpInfos;\\nmat4 diffuseMatrix;\\nmat4 ambientMatrix;\\nmat4 opacityMatrix;\\nmat4 reflectionMatrix;\\nmat4 emissiveMatrix;\\nmat4 lightmapMatrix;\\nmat4 specularMatrix;\\nmat4 bumpMatrix;\\nvec2 vTangentSpaceParams;\\nfloat pointSize;\\nfloat alphaCutOff;\\nmat4 refractionMatrix;\\nvec4 vRefractionInfos;\\nvec3 vRefractionPosition;\\nvec3 vRefractionSize;\\nvec4 vSpecularColor;\\nvec3 vEmissiveColor;\\nvec4 vDiffuseColor;\\nvec3 vAmbientColor;\\n#define ADDITIONAL_UBO_DECLARATION\\n};\\n#include<sceneUboDeclaration>\\n#include<meshUboDeclaration>\\n\";\nShaderStore.IncludesShadersStore[name$I] = shader$I;\nvar name$H = \"prePassDeclaration\";\nvar shader$H = \"#ifdef PREPASS\\n#extension GL_EXT_draw_buffers : require\\nlayout(location=0) out highp vec4 glFragData[{X}];highp vec4 gl_FragColor;\\n#ifdef PREPASS_DEPTH\\nvarying highp vec3 vViewPos;\\n#endif\\n#ifdef PREPASS_VELOCITY\\nvarying highp vec4 vCurrentPosition;varying highp vec4 vPreviousPosition;\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$H] = shader$H;\nvar name$G = \"oitDeclaration\";\nvar shader$G = \"#ifdef ORDER_INDEPENDENT_TRANSPARENCY\\n#extension GL_EXT_draw_buffers : require\\nlayout(location=0) out vec2 depth; \\nlayout(location=1) out vec4 frontColor;\\nlayout(location=2) out vec4 backColor;\\n#define MAX_DEPTH 99999.0\\nhighp vec4 gl_FragColor;\\nuniform sampler2D oitDepthSampler;\\nuniform sampler2D oitFrontColorSampler;\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$G] = shader$G;\nvar name$F = \"mainUVVaryingDeclaration\";\nvar shader$F = \"#ifdef MAINUV{X}\\nvarying vec2 vMainUV{X};\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$F] = shader$F;\nvar name$E = \"lightFragmentDeclaration\";\nvar shader$E = \"#ifdef LIGHT{X}\\nuniform vec4 vLightData{X};\\nuniform vec4 vLightDiffuse{X};\\n#ifdef SPECULARTERM\\nuniform vec4 vLightSpecular{X};\\n#else\\nvec4 vLightSpecular{X}=vec4(0.);\\n#endif\\n#ifdef SHADOW{X}\\n#ifdef SHADOWCSM{X}\\nuniform mat4 lightMatrix{X}[SHADOWCSMNUM_CASCADES{X}];\\nuniform float viewFrustumZ{X}[SHADOWCSMNUM_CASCADES{X}];\\nuniform float frustumLengths{X}[SHADOWCSMNUM_CASCADES{X}];\\nuniform float cascadeBlendFactor{X};\\nvarying vec4 vPositionFromLight{X}[SHADOWCSMNUM_CASCADES{X}];\\nvarying float vDepthMetric{X}[SHADOWCSMNUM_CASCADES{X}];\\nvarying vec4 vPositionFromCamera{X};\\n#if defined(SHADOWPCSS{X})\\nuniform highp sampler2DArrayShadow shadowSampler{X};\\nuniform highp sampler2DArray depthSampler{X};\\nuniform vec2 lightSizeUVCorrection{X}[SHADOWCSMNUM_CASCADES{X}];\\nuniform float depthCorrection{X}[SHADOWCSMNUM_CASCADES{X}];\\nuniform float penumbraDarkness{X};\\n#elif defined(SHADOWPCF{X})\\nuniform highp sampler2DArrayShadow shadowSampler{X};\\n#else\\nuniform highp sampler2DArray shadowSampler{X};\\n#endif\\n#ifdef SHADOWCSMDEBUG{X}\\nconst vec3 vCascadeColorsMultiplier{X}[8]=vec3[8]\\n(\\nvec3 ( 1.5,0.0,0.0 ),\\nvec3 ( 0.0,1.5,0.0 ),\\nvec3 ( 0.0,0.0,5.5 ),\\nvec3 ( 1.5,0.0,5.5 ),\\nvec3 ( 1.5,1.5,0.0 ),\\nvec3 ( 1.0,1.0,1.0 ),\\nvec3 ( 0.0,1.0,5.5 ),\\nvec3 ( 0.5,3.5,0.75 )\\n);\\nvec3 shadowDebug{X};\\n#endif\\n#ifdef SHADOWCSMUSESHADOWMAXZ{X}\\nint index{X}=-1;\\n#else\\nint index{X}=SHADOWCSMNUM_CASCADES{X}-1;\\n#endif\\nfloat diff{X}=0.;\\n#elif defined(SHADOWCUBE{X})\\nuniform samplerCube shadowSampler{X};\\n#else\\nvarying vec4 vPositionFromLight{X};\\nvarying float vDepthMetric{X};\\n#if defined(SHADOWPCSS{X})\\nuniform highp sampler2DShadow shadowSampler{X};\\nuniform highp sampler2D depthSampler{X};\\n#elif defined(SHADOWPCF{X})\\nuniform highp sampler2DShadow shadowSampler{X};\\n#else\\nuniform sampler2D shadowSampler{X};\\n#endif\\nuniform mat4 lightMatrix{X};\\n#endif\\nuniform vec4 shadowsInfo{X};\\nuniform vec2 depthValues{X};\\n#endif\\n#ifdef SPOTLIGHT{X}\\nuniform vec4 vLightDirection{X};\\nuniform vec4 vLightFalloff{X};\\n#elif defined(POINTLIGHT{X})\\nuniform vec4 vLightFalloff{X};\\n#elif defined(HEMILIGHT{X})\\nuniform vec3 vLightGround{X};\\n#endif\\n#ifdef PROJECTEDLIGHTTEXTURE{X}\\nuniform mat4 textureProjectionMatrix{X};\\nuniform sampler2D projectionLightSampler{X};\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$E] = shader$E;\nvar name$D = \"lightUboDeclaration\";\nvar shader$D = \"#ifdef LIGHT{X}\\nuniform Light{X}\\n{\\nvec4 vLightData;\\nvec4 vLightDiffuse;\\nvec4 vLightSpecular;\\n#ifdef SPOTLIGHT{X}\\nvec4 vLightDirection;\\nvec4 vLightFalloff;\\n#elif defined(POINTLIGHT{X})\\nvec4 vLightFalloff;\\n#elif defined(HEMILIGHT{X})\\nvec3 vLightGround;\\n#endif\\nvec4 shadowsInfo;\\nvec2 depthValues;\\n} light{X};\\n#ifdef PROJECTEDLIGHTTEXTURE{X}\\nuniform mat4 textureProjectionMatrix{X};\\nuniform sampler2D projectionLightSampler{X};\\n#endif\\n#ifdef SHADOW{X}\\n#ifdef SHADOWCSM{X}\\nuniform mat4 lightMatrix{X}[SHADOWCSMNUM_CASCADES{X}];\\nuniform float viewFrustumZ{X}[SHADOWCSMNUM_CASCADES{X}];\\nuniform float frustumLengths{X}[SHADOWCSMNUM_CASCADES{X}];\\nuniform float cascadeBlendFactor{X};\\nvarying vec4 vPositionFromLight{X}[SHADOWCSMNUM_CASCADES{X}];\\nvarying float vDepthMetric{X}[SHADOWCSMNUM_CASCADES{X}];\\nvarying vec4 vPositionFromCamera{X};\\n#if defined(SHADOWPCSS{X})\\nuniform highp sampler2DArrayShadow shadowSampler{X};\\nuniform highp sampler2DArray depthSampler{X};\\nuniform vec2 lightSizeUVCorrection{X}[SHADOWCSMNUM_CASCADES{X}];\\nuniform float depthCorrection{X}[SHADOWCSMNUM_CASCADES{X}];\\nuniform float penumbraDarkness{X};\\n#elif defined(SHADOWPCF{X})\\nuniform highp sampler2DArrayShadow shadowSampler{X};\\n#else\\nuniform highp sampler2DArray shadowSampler{X};\\n#endif\\n#ifdef SHADOWCSMDEBUG{X}\\nconst vec3 vCascadeColorsMultiplier{X}[8]=vec3[8]\\n(\\nvec3 ( 1.5,0.0,0.0 ),\\nvec3 ( 0.0,1.5,0.0 ),\\nvec3 ( 0.0,0.0,5.5 ),\\nvec3 ( 1.5,0.0,5.5 ),\\nvec3 ( 1.5,1.5,0.0 ),\\nvec3 ( 1.0,1.0,1.0 ),\\nvec3 ( 0.0,1.0,5.5 ),\\nvec3 ( 0.5,3.5,0.75 )\\n);\\nvec3 shadowDebug{X};\\n#endif\\n#ifdef SHADOWCSMUSESHADOWMAXZ{X}\\nint index{X}=-1;\\n#else\\nint index{X}=SHADOWCSMNUM_CASCADES{X}-1;\\n#endif\\nfloat diff{X}=0.;\\n#elif defined(SHADOWCUBE{X})\\nuniform samplerCube shadowSampler{X}; \\n#else\\nvarying vec4 vPositionFromLight{X};\\nvarying float vDepthMetric{X};\\n#if defined(SHADOWPCSS{X})\\nuniform highp sampler2DShadow shadowSampler{X};\\nuniform highp sampler2D depthSampler{X};\\n#elif defined(SHADOWPCF{X})\\nuniform highp sampler2DShadow shadowSampler{X};\\n#else\\nuniform sampler2D shadowSampler{X};\\n#endif\\nuniform mat4 lightMatrix{X};\\n#endif\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$D] = shader$D;\nvar name$C = \"lightsFragmentFunctions\";\nvar shader$C = \"struct lightingInfo\\n{\\nvec3 diffuse;\\n#ifdef SPECULARTERM\\nvec3 specular;\\n#endif\\n#ifdef NDOTL\\nfloat ndl;\\n#endif\\n};\\nlightingInfo computeLighting(vec3 viewDirectionW,vec3 vNormal,vec4 lightData,vec3 diffuseColor,vec3 specularColor,float range,float glossiness) {\\nlightingInfo result;\\nvec3 lightVectorW;\\nfloat attenuation=1.0;\\nif (lightData.w==0.)\\n{\\nvec3 direction=lightData.xyz-vPositionW;\\nattenuation=max(0.,1.0-length(direction)/range);\\nlightVectorW=normalize(direction);\\n}\\nelse\\n{\\nlightVectorW=normalize(-lightData.xyz);\\n}\\nfloat ndl=max(0.,dot(vNormal,lightVectorW));\\n#ifdef NDOTL\\nresult.ndl=ndl;\\n#endif\\nresult.diffuse=ndl*diffuseColor*attenuation;\\n#ifdef SPECULARTERM\\nvec3 angleW=normalize(viewDirectionW+lightVectorW);\\nfloat specComp=max(0.,dot(vNormal,angleW));\\nspecComp=pow(specComp,max(1.,glossiness));\\nresult.specular=specComp*specularColor*attenuation;\\n#endif\\nreturn result;\\n}\\nlightingInfo computeSpotLighting(vec3 viewDirectionW,vec3 vNormal,vec4 lightData,vec4 lightDirection,vec3 diffuseColor,vec3 specularColor,float range,float glossiness) {\\nlightingInfo result;\\nvec3 direction=lightData.xyz-vPositionW;\\nvec3 lightVectorW=normalize(direction);\\nfloat attenuation=max(0.,1.0-length(direction)/range);\\nfloat cosAngle=max(0.,dot(lightDirection.xyz,-lightVectorW));\\nif (cosAngle>=lightDirection.w)\\n{\\ncosAngle=max(0.,pow(cosAngle,lightData.w));\\nattenuation*=cosAngle;\\nfloat ndl=max(0.,dot(vNormal,lightVectorW));\\n#ifdef NDOTL\\nresult.ndl=ndl;\\n#endif\\nresult.diffuse=ndl*diffuseColor*attenuation;\\n#ifdef SPECULARTERM\\nvec3 angleW=normalize(viewDirectionW+lightVectorW);\\nfloat specComp=max(0.,dot(vNormal,angleW));\\nspecComp=pow(specComp,max(1.,glossiness));\\nresult.specular=specComp*specularColor*attenuation;\\n#endif\\nreturn result;\\n}\\nresult.diffuse=vec3(0.);\\n#ifdef SPECULARTERM\\nresult.specular=vec3(0.);\\n#endif\\n#ifdef NDOTL\\nresult.ndl=0.;\\n#endif\\nreturn result;\\n}\\nlightingInfo computeHemisphericLighting(vec3 viewDirectionW,vec3 vNormal,vec4 lightData,vec3 diffuseColor,vec3 specularColor,vec3 groundColor,float glossiness) {\\nlightingInfo result;\\nfloat ndl=dot(vNormal,lightData.xyz)*0.5+0.5;\\n#ifdef NDOTL\\nresult.ndl=ndl;\\n#endif\\nresult.diffuse=mix(groundColor,diffuseColor,ndl);\\n#ifdef SPECULARTERM\\nvec3 angleW=normalize(viewDirectionW+lightData.xyz);\\nfloat specComp=max(0.,dot(vNormal,angleW));\\nspecComp=pow(specComp,max(1.,glossiness));\\nresult.specular=specComp*specularColor;\\n#endif\\nreturn result;\\n}\\n#define inline\\nvec3 computeProjectionTextureDiffuseLighting(sampler2D projectionLightSampler,mat4 textureProjectionMatrix){\\nvec4 strq=textureProjectionMatrix*vec4(vPositionW,1.0);\\nstrq/=strq.w;\\nvec3 textureColor=texture2D(projectionLightSampler,strq.xy).rgb;\\nreturn textureColor;\\n}\";\nShaderStore.IncludesShadersStore[name$C] = shader$C;\nvar name$B = \"shadowsFragmentFunctions\";\nvar shader$B = \"#ifdef SHADOWS\\n#ifndef SHADOWFLOAT\\nfloat unpack(vec4 color)\\n{\\nconst vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);\\nreturn dot(color,bit_shift);\\n}\\n#endif\\nfloat computeFallOff(float value,vec2 clipSpace,float frustumEdgeFalloff)\\n{\\nfloat mask=smoothstep(1.0-frustumEdgeFalloff,1.00000012,clamp(dot(clipSpace,clipSpace),0.,1.));\\nreturn mix(value,1.0,mask);\\n}\\n#define inline\\nfloat computeShadowCube(vec3 lightPosition,samplerCube shadowSampler,float darkness,vec2 depthValues)\\n{\\nvec3 directionToLight=vPositionW-lightPosition;\\nfloat depth=length(directionToLight);\\ndepth=(depth+depthValues.x)/(depthValues.y);\\ndepth=clamp(depth,0.,1.0);\\ndirectionToLight=normalize(directionToLight);\\ndirectionToLight.y=-directionToLight.y;\\n#ifndef SHADOWFLOAT\\nfloat shadow=unpack(textureCube(shadowSampler,directionToLight));\\n#else\\nfloat shadow=textureCube(shadowSampler,directionToLight).x;\\n#endif\\nreturn depth>shadow ? darkness : 1.0;\\n}\\n#define inline\\nfloat computeShadowWithPoissonSamplingCube(vec3 lightPosition,samplerCube shadowSampler,float mapSize,float darkness,vec2 depthValues)\\n{\\nvec3 directionToLight=vPositionW-lightPosition;\\nfloat depth=length(directionToLight);\\ndepth=(depth+depthValues.x)/(depthValues.y);\\ndepth=clamp(depth,0.,1.0);\\ndirectionToLight=normalize(directionToLight);\\ndirectionToLight.y=-directionToLight.y;\\nfloat visibility=1.;\\nvec3 poissonDisk[4];\\npoissonDisk[0]=vec3(-1.0,1.0,-1.0);\\npoissonDisk[1]=vec3(1.0,-1.0,-1.0);\\npoissonDisk[2]=vec3(-1.0,-1.0,-1.0);\\npoissonDisk[3]=vec3(1.0,-1.0,1.0);\\n#ifndef SHADOWFLOAT\\nif (unpack(textureCube(shadowSampler,directionToLight+poissonDisk[0]*mapSize))<depth) visibility-=0.25;\\nif (unpack(textureCube(shadowSampler,directionToLight+poissonDisk[1]*mapSize))<depth) visibility-=0.25;\\nif (unpack(textureCube(shadowSampler,directionToLight+poissonDisk[2]*mapSize))<depth) visibility-=0.25;\\nif (unpack(textureCube(shadowSampler,directionToLight+poissonDisk[3]*mapSize))<depth) visibility-=0.25;\\n#else\\nif (textureCube(shadowSampler,directionToLight+poissonDisk[0]*mapSize).x<depth) visibility-=0.25;\\nif (textureCube(shadowSampler,directionToLight+poissonDisk[1]*mapSize).x<depth) visibility-=0.25;\\nif (textureCube(shadowSampler,directionToLight+poissonDisk[2]*mapSize).x<depth) visibility-=0.25;\\nif (textureCube(shadowSampler,directionToLight+poissonDisk[3]*mapSize).x<depth) visibility-=0.25;\\n#endif\\nreturn min(1.0,visibility+darkness);\\n}\\n#define inline\\nfloat computeShadowWithESMCube(vec3 lightPosition,samplerCube shadowSampler,float darkness,float depthScale,vec2 depthValues)\\n{\\nvec3 directionToLight=vPositionW-lightPosition;\\nfloat depth=length(directionToLight);\\ndepth=(depth+depthValues.x)/(depthValues.y);\\nfloat shadowPixelDepth=clamp(depth,0.,1.0);\\ndirectionToLight=normalize(directionToLight);\\ndirectionToLight.y=-directionToLight.y;\\n#ifndef SHADOWFLOAT\\nfloat shadowMapSample=unpack(textureCube(shadowSampler,directionToLight));\\n#else\\nfloat shadowMapSample=textureCube(shadowSampler,directionToLight).x;\\n#endif\\nfloat esm=1.0-clamp(exp(min(87.,depthScale*shadowPixelDepth))*shadowMapSample,0.,1.-darkness); \\nreturn esm;\\n}\\n#define inline\\nfloat computeShadowWithCloseESMCube(vec3 lightPosition,samplerCube shadowSampler,float darkness,float depthScale,vec2 depthValues)\\n{\\nvec3 directionToLight=vPositionW-lightPosition;\\nfloat depth=length(directionToLight);\\ndepth=(depth+depthValues.x)/(depthValues.y);\\nfloat shadowPixelDepth=clamp(depth,0.,1.0);\\ndirectionToLight=normalize(directionToLight);\\ndirectionToLight.y=-directionToLight.y;\\n#ifndef SHADOWFLOAT\\nfloat shadowMapSample=unpack(textureCube(shadowSampler,directionToLight));\\n#else\\nfloat shadowMapSample=textureCube(shadowSampler,directionToLight).x;\\n#endif\\nfloat esm=clamp(exp(min(87.,-depthScale*(shadowPixelDepth-shadowMapSample))),darkness,1.);\\nreturn esm;\\n}\\n#if defined(WEBGL2) || defined(WEBGPU)\\n#define inline\\nfloat computeShadowCSM(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArray shadowSampler,float darkness,float frustumEdgeFalloff)\\n{\\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\\nvec2 uv=0.5*clipSpace.xy+vec2(0.5);\\nvec3 uvLayer=vec3(uv.x,uv.y,layer);\\nfloat shadowPixelDepth=clamp(depthMetric,0.,1.0);\\n#ifndef SHADOWFLOAT\\nfloat shadow=unpack(texture2D(shadowSampler,uvLayer));\\n#else\\nfloat shadow=texture2D(shadowSampler,uvLayer).x;\\n#endif\\nreturn shadowPixelDepth>shadow ? computeFallOff(darkness,clipSpace.xy,frustumEdgeFalloff) : 1.;\\n}\\n#endif\\n#define inline\\nfloat computeShadow(vec4 vPositionFromLight,float depthMetric,sampler2D shadowSampler,float darkness,float frustumEdgeFalloff)\\n{\\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\\nvec2 uv=0.5*clipSpace.xy+vec2(0.5);\\nif (uv.x<0. || uv.x>1.0 || uv.y<0. || uv.y>1.0)\\n{\\nreturn 1.0;\\n}\\nelse\\n{\\nfloat shadowPixelDepth=clamp(depthMetric,0.,1.0);\\n#ifndef SHADOWFLOAT\\nfloat shadow=unpack(texture2D(shadowSampler,uv));\\n#else\\nfloat shadow=texture2D(shadowSampler,uv).x;\\n#endif\\nreturn shadowPixelDepth>shadow ? computeFallOff(darkness,clipSpace.xy,frustumEdgeFalloff) : 1.;\\n}\\n}\\n#define inline\\nfloat computeShadowWithPoissonSampling(vec4 vPositionFromLight,float depthMetric,sampler2D shadowSampler,float mapSize,float darkness,float frustumEdgeFalloff)\\n{\\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\\nvec2 uv=0.5*clipSpace.xy+vec2(0.5);\\nif (uv.x<0. || uv.x>1.0 || uv.y<0. || uv.y>1.0)\\n{\\nreturn 1.0;\\n}\\nelse\\n{\\nfloat shadowPixelDepth=clamp(depthMetric,0.,1.0);\\nfloat visibility=1.;\\nvec2 poissonDisk[4];\\npoissonDisk[0]=vec2(-0.94201624,-0.39906216);\\npoissonDisk[1]=vec2(0.94558609,-0.76890725);\\npoissonDisk[2]=vec2(-0.094184101,-0.92938870);\\npoissonDisk[3]=vec2(0.34495938,0.29387760);\\n#ifndef SHADOWFLOAT\\nif (unpack(texture2D(shadowSampler,uv+poissonDisk[0]*mapSize))<shadowPixelDepth) visibility-=0.25;\\nif (unpack(texture2D(shadowSampler,uv+poissonDisk[1]*mapSize))<shadowPixelDepth) visibility-=0.25;\\nif (unpack(texture2D(shadowSampler,uv+poissonDisk[2]*mapSize))<shadowPixelDepth) visibility-=0.25;\\nif (unpack(texture2D(shadowSampler,uv+poissonDisk[3]*mapSize))<shadowPixelDepth) visibility-=0.25;\\n#else\\nif (texture2D(shadowSampler,uv+poissonDisk[0]*mapSize).x<shadowPixelDepth) visibility-=0.25;\\nif (texture2D(shadowSampler,uv+poissonDisk[1]*mapSize).x<shadowPixelDepth) visibility-=0.25;\\nif (texture2D(shadowSampler,uv+poissonDisk[2]*mapSize).x<shadowPixelDepth) visibility-=0.25;\\nif (texture2D(shadowSampler,uv+poissonDisk[3]*mapSize).x<shadowPixelDepth) visibility-=0.25;\\n#endif\\nreturn computeFallOff(min(1.0,visibility+darkness),clipSpace.xy,frustumEdgeFalloff);\\n}\\n}\\n#define inline\\nfloat computeShadowWithESM(vec4 vPositionFromLight,float depthMetric,sampler2D shadowSampler,float darkness,float depthScale,float frustumEdgeFalloff)\\n{\\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\\nvec2 uv=0.5*clipSpace.xy+vec2(0.5);\\nif (uv.x<0. || uv.x>1.0 || uv.y<0. || uv.y>1.0)\\n{\\nreturn 1.0;\\n}\\nelse\\n{\\nfloat shadowPixelDepth=clamp(depthMetric,0.,1.0);\\n#ifndef SHADOWFLOAT\\nfloat shadowMapSample=unpack(texture2D(shadowSampler,uv));\\n#else\\nfloat shadowMapSample=texture2D(shadowSampler,uv).x;\\n#endif\\nfloat esm=1.0-clamp(exp(min(87.,depthScale*shadowPixelDepth))*shadowMapSample,0.,1.-darkness);\\nreturn computeFallOff(esm,clipSpace.xy,frustumEdgeFalloff);\\n}\\n}\\n#define inline\\nfloat computeShadowWithCloseESM(vec4 vPositionFromLight,float depthMetric,sampler2D shadowSampler,float darkness,float depthScale,float frustumEdgeFalloff)\\n{\\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\\nvec2 uv=0.5*clipSpace.xy+vec2(0.5);\\nif (uv.x<0. || uv.x>1.0 || uv.y<0. || uv.y>1.0)\\n{\\nreturn 1.0;\\n}\\nelse\\n{\\nfloat shadowPixelDepth=clamp(depthMetric,0.,1.0); \\n#ifndef SHADOWFLOAT\\nfloat shadowMapSample=unpack(texture2D(shadowSampler,uv));\\n#else\\nfloat shadowMapSample=texture2D(shadowSampler,uv).x;\\n#endif\\nfloat esm=clamp(exp(min(87.,-depthScale*(shadowPixelDepth-shadowMapSample))),darkness,1.);\\nreturn computeFallOff(esm,clipSpace.xy,frustumEdgeFalloff);\\n}\\n}\\n#ifdef IS_NDC_HALF_ZRANGE\\n#define ZINCLIP clipSpace.z\\n#else\\n#define ZINCLIP uvDepth.z\\n#endif\\n#if defined(WEBGL2) || defined(WEBGPU)\\n#define GREATEST_LESS_THAN_ONE 0.99999994\\n#define inline\\nfloat computeShadowWithCSMPCF1(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArrayShadow shadowSampler,float darkness,float frustumEdgeFalloff)\\n{\\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\\nuvDepth.z=clamp(ZINCLIP,0.,GREATEST_LESS_THAN_ONE);\\nvec4 uvDepthLayer=vec4(uvDepth.x,uvDepth.y,layer,uvDepth.z);\\nfloat shadow=texture2D(shadowSampler,uvDepthLayer);\\nshadow=mix(darkness,1.,shadow);\\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\\n}\\n#define inline\\nfloat computeShadowWithCSMPCF3(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArrayShadow shadowSampler,vec2 shadowMapSizeAndInverse,float darkness,float frustumEdgeFalloff)\\n{\\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\\nuvDepth.z=clamp(ZINCLIP,0.,GREATEST_LESS_THAN_ONE);\\nvec2 uv=uvDepth.xy*shadowMapSizeAndInverse.x; \\nuv+=0.5; \\nvec2 st=fract(uv); \\nvec2 base_uv=floor(uv)-0.5; \\nbase_uv*=shadowMapSizeAndInverse.y; \\nvec2 uvw0=3.-2.*st;\\nvec2 uvw1=1.+2.*st;\\nvec2 u=vec2((2.-st.x)/uvw0.x-1.,st.x/uvw1.x+1.)*shadowMapSizeAndInverse.y;\\nvec2 v=vec2((2.-st.y)/uvw0.y-1.,st.y/uvw1.y+1.)*shadowMapSizeAndInverse.y;\\nfloat shadow=0.;\\nshadow+=uvw0.x*uvw0.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[0],v[0]),layer,uvDepth.z));\\nshadow+=uvw1.x*uvw0.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[1],v[0]),layer,uvDepth.z));\\nshadow+=uvw0.x*uvw1.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[0],v[1]),layer,uvDepth.z));\\nshadow+=uvw1.x*uvw1.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[1],v[1]),layer,uvDepth.z));\\nshadow=shadow/16.;\\nshadow=mix(darkness,1.,shadow);\\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\\n}\\n#define inline\\nfloat computeShadowWithCSMPCF5(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArrayShadow shadowSampler,vec2 shadowMapSizeAndInverse,float darkness,float frustumEdgeFalloff)\\n{\\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\\nuvDepth.z=clamp(ZINCLIP,0.,GREATEST_LESS_THAN_ONE);\\nvec2 uv=uvDepth.xy*shadowMapSizeAndInverse.x; \\nuv+=0.5; \\nvec2 st=fract(uv); \\nvec2 base_uv=floor(uv)-0.5; \\nbase_uv*=shadowMapSizeAndInverse.y; \\nvec2 uvw0=4.-3.*st;\\nvec2 uvw1=vec2(7.);\\nvec2 uvw2=1.+3.*st;\\nvec3 u=vec3((3.-2.*st.x)/uvw0.x-2.,(3.+st.x)/uvw1.x,st.x/uvw2.x+2.)*shadowMapSizeAndInverse.y;\\nvec3 v=vec3((3.-2.*st.y)/uvw0.y-2.,(3.+st.y)/uvw1.y,st.y/uvw2.y+2.)*shadowMapSizeAndInverse.y;\\nfloat shadow=0.;\\nshadow+=uvw0.x*uvw0.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[0],v[0]),layer,uvDepth.z));\\nshadow+=uvw1.x*uvw0.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[1],v[0]),layer,uvDepth.z));\\nshadow+=uvw2.x*uvw0.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[2],v[0]),layer,uvDepth.z));\\nshadow+=uvw0.x*uvw1.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[0],v[1]),layer,uvDepth.z));\\nshadow+=uvw1.x*uvw1.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[1],v[1]),layer,uvDepth.z));\\nshadow+=uvw2.x*uvw1.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[2],v[1]),layer,uvDepth.z));\\nshadow+=uvw0.x*uvw2.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[0],v[2]),layer,uvDepth.z));\\nshadow+=uvw1.x*uvw2.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[1],v[2]),layer,uvDepth.z));\\nshadow+=uvw2.x*uvw2.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[2],v[2]),layer,uvDepth.z));\\nshadow=shadow/144.;\\nshadow=mix(darkness,1.,shadow);\\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\\n}\\n#define inline\\nfloat computeShadowWithPCF1(vec4 vPositionFromLight,float depthMetric,highp sampler2DShadow shadowSampler,float darkness,float frustumEdgeFalloff)\\n{\\nif (depthMetric>1.0 || depthMetric<0.0) {\\nreturn 1.0;\\n}\\nelse\\n{\\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\\nuvDepth.z=ZINCLIP;\\nfloat shadow=texture2D(shadowSampler,uvDepth);\\nshadow=mix(darkness,1.,shadow);\\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\\n}\\n}\\n#define inline\\nfloat computeShadowWithPCF3(vec4 vPositionFromLight,float depthMetric,highp sampler2DShadow shadowSampler,vec2 shadowMapSizeAndInverse,float darkness,float frustumEdgeFalloff)\\n{\\nif (depthMetric>1.0 || depthMetric<0.0) {\\nreturn 1.0;\\n}\\nelse\\n{\\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\\nuvDepth.z=ZINCLIP;\\nvec2 uv=uvDepth.xy*shadowMapSizeAndInverse.x; \\nuv+=0.5; \\nvec2 st=fract(uv); \\nvec2 base_uv=floor(uv)-0.5; \\nbase_uv*=shadowMapSizeAndInverse.y; \\nvec2 uvw0=3.-2.*st;\\nvec2 uvw1=1.+2.*st;\\nvec2 u=vec2((2.-st.x)/uvw0.x-1.,st.x/uvw1.x+1.)*shadowMapSizeAndInverse.y;\\nvec2 v=vec2((2.-st.y)/uvw0.y-1.,st.y/uvw1.y+1.)*shadowMapSizeAndInverse.y;\\nfloat shadow=0.;\\nshadow+=uvw0.x*uvw0.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[0],v[0]),uvDepth.z));\\nshadow+=uvw1.x*uvw0.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[1],v[0]),uvDepth.z));\\nshadow+=uvw0.x*uvw1.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[0],v[1]),uvDepth.z));\\nshadow+=uvw1.x*uvw1.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[1],v[1]),uvDepth.z));\\nshadow=shadow/16.;\\nshadow=mix(darkness,1.,shadow);\\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\\n}\\n}\\n#define inline\\nfloat computeShadowWithPCF5(vec4 vPositionFromLight,float depthMetric,highp sampler2DShadow shadowSampler,vec2 shadowMapSizeAndInverse,float darkness,float frustumEdgeFalloff)\\n{\\nif (depthMetric>1.0 || depthMetric<0.0) {\\nreturn 1.0;\\n}\\nelse\\n{\\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\\nuvDepth.z=ZINCLIP;\\nvec2 uv=uvDepth.xy*shadowMapSizeAndInverse.x; \\nuv+=0.5; \\nvec2 st=fract(uv); \\nvec2 base_uv=floor(uv)-0.5; \\nbase_uv*=shadowMapSizeAndInverse.y; \\nvec2 uvw0=4.-3.*st;\\nvec2 uvw1=vec2(7.);\\nvec2 uvw2=1.+3.*st;\\nvec3 u=vec3((3.-2.*st.x)/uvw0.x-2.,(3.+st.x)/uvw1.x,st.x/uvw2.x+2.)*shadowMapSizeAndInverse.y;\\nvec3 v=vec3((3.-2.*st.y)/uvw0.y-2.,(3.+st.y)/uvw1.y,st.y/uvw2.y+2.)*shadowMapSizeAndInverse.y;\\nfloat shadow=0.;\\nshadow+=uvw0.x*uvw0.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[0],v[0]),uvDepth.z));\\nshadow+=uvw1.x*uvw0.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[1],v[0]),uvDepth.z));\\nshadow+=uvw2.x*uvw0.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[2],v[0]),uvDepth.z));\\nshadow+=uvw0.x*uvw1.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[0],v[1]),uvDepth.z));\\nshadow+=uvw1.x*uvw1.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[1],v[1]),uvDepth.z));\\nshadow+=uvw2.x*uvw1.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[2],v[1]),uvDepth.z));\\nshadow+=uvw0.x*uvw2.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[0],v[2]),uvDepth.z));\\nshadow+=uvw1.x*uvw2.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[1],v[2]),uvDepth.z));\\nshadow+=uvw2.x*uvw2.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[2],v[2]),uvDepth.z));\\nshadow=shadow/144.;\\nshadow=mix(darkness,1.,shadow);\\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\\n}\\n}\\nconst vec3 PoissonSamplers32[64]=vec3[64](\\nvec3(0.06407013,0.05409927,0.),\\nvec3(0.7366577,0.5789394,0.),\\nvec3(-0.6270542,-0.5320278,0.),\\nvec3(-0.4096107,0.8411095,0.),\\nvec3(0.6849564,-0.4990818,0.),\\nvec3(-0.874181,-0.04579735,0.),\\nvec3(0.9989998,0.0009880066,0.),\\nvec3(-0.004920578,-0.9151649,0.),\\nvec3(0.1805763,0.9747483,0.),\\nvec3(-0.2138451,0.2635818,0.),\\nvec3(0.109845,0.3884785,0.),\\nvec3(0.06876755,-0.3581074,0.),\\nvec3(0.374073,-0.7661266,0.),\\nvec3(0.3079132,-0.1216763,0.),\\nvec3(-0.3794335,-0.8271583,0.),\\nvec3(-0.203878,-0.07715034,0.),\\nvec3(0.5912697,0.1469799,0.),\\nvec3(-0.88069,0.3031784,0.),\\nvec3(0.5040108,0.8283722,0.),\\nvec3(-0.5844124,0.5494877,0.),\\nvec3(0.6017799,-0.1726654,0.),\\nvec3(-0.5554981,0.1559997,0.),\\nvec3(-0.3016369,-0.3900928,0.),\\nvec3(-0.5550632,-0.1723762,0.),\\nvec3(0.925029,0.2995041,0.),\\nvec3(-0.2473137,0.5538505,0.),\\nvec3(0.9183037,-0.2862392,0.),\\nvec3(0.2469421,0.6718712,0.),\\nvec3(0.3916397,-0.4328209,0.),\\nvec3(-0.03576927,-0.6220032,0.),\\nvec3(-0.04661255,0.7995201,0.),\\nvec3(0.4402924,0.3640312,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.),\\nvec3(0.,0.,0.)\\n);\\nconst vec3 PoissonSamplers64[64]=vec3[64](\\nvec3(-0.613392,0.617481,0.),\\nvec3(0.170019,-0.040254,0.),\\nvec3(-0.299417,0.791925,0.),\\nvec3(0.645680,0.493210,0.),\\nvec3(-0.651784,0.717887,0.),\\nvec3(0.421003,0.027070,0.),\\nvec3(-0.817194,-0.271096,0.),\\nvec3(-0.705374,-0.668203,0.),\\nvec3(0.977050,-0.108615,0.),\\nvec3(0.063326,0.142369,0.),\\nvec3(0.203528,0.214331,0.),\\nvec3(-0.667531,0.326090,0.),\\nvec3(-0.098422,-0.295755,0.),\\nvec3(-0.885922,0.215369,0.),\\nvec3(0.566637,0.605213,0.),\\nvec3(0.039766,-0.396100,0.),\\nvec3(0.751946,0.453352,0.),\\nvec3(0.078707,-0.715323,0.),\\nvec3(-0.075838,-0.529344,0.),\\nvec3(0.724479,-0.580798,0.),\\nvec3(0.222999,-0.215125,0.),\\nvec3(-0.467574,-0.405438,0.),\\nvec3(-0.248268,-0.814753,0.),\\nvec3(0.354411,-0.887570,0.),\\nvec3(0.175817,0.382366,0.),\\nvec3(0.487472,-0.063082,0.),\\nvec3(-0.084078,0.898312,0.),\\nvec3(0.488876,-0.783441,0.),\\nvec3(0.470016,0.217933,0.),\\nvec3(-0.696890,-0.549791,0.),\\nvec3(-0.149693,0.605762,0.),\\nvec3(0.034211,0.979980,0.),\\nvec3(0.503098,-0.308878,0.),\\nvec3(-0.016205,-0.872921,0.),\\nvec3(0.385784,-0.393902,0.),\\nvec3(-0.146886,-0.859249,0.),\\nvec3(0.643361,0.164098,0.),\\nvec3(0.634388,-0.049471,0.),\\nvec3(-0.688894,0.007843,0.),\\nvec3(0.464034,-0.188818,0.),\\nvec3(-0.440840,0.137486,0.),\\nvec3(0.364483,0.511704,0.),\\nvec3(0.034028,0.325968,0.),\\nvec3(0.099094,-0.308023,0.),\\nvec3(0.693960,-0.366253,0.),\\nvec3(0.678884,-0.204688,0.),\\nvec3(0.001801,0.780328,0.),\\nvec3(0.145177,-0.898984,0.),\\nvec3(0.062655,-0.611866,0.),\\nvec3(0.315226,-0.604297,0.),\\nvec3(-0.780145,0.486251,0.),\\nvec3(-0.371868,0.882138,0.),\\nvec3(0.200476,0.494430,0.),\\nvec3(-0.494552,-0.711051,0.),\\nvec3(0.612476,0.705252,0.),\\nvec3(-0.578845,-0.768792,0.),\\nvec3(-0.772454,-0.090976,0.),\\nvec3(0.504440,0.372295,0.),\\nvec3(0.155736,0.065157,0.),\\nvec3(0.391522,0.849605,0.),\\nvec3(-0.620106,-0.328104,0.),\\nvec3(0.789239,-0.419965,0.),\\nvec3(-0.545396,0.538133,0.),\\nvec3(-0.178564,-0.596057,0.)\\n);\\n#define inline\\nfloat computeShadowWithCSMPCSS(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArray depthSampler,highp sampler2DArrayShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff,int searchTapCount,int pcfTapCount,vec3[64] poissonSamplers,vec2 lightSizeUVCorrection,float depthCorrection,float penumbraDarkness)\\n{\\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\\nuvDepth.z=clamp(ZINCLIP,0.,GREATEST_LESS_THAN_ONE);\\nvec4 uvDepthLayer=vec4(uvDepth.x,uvDepth.y,layer,uvDepth.z);\\nfloat blockerDepth=0.0;\\nfloat sumBlockerDepth=0.0;\\nfloat numBlocker=0.0;\\nfor (int i=0; i<searchTapCount; i ++) {\\nblockerDepth=texture2D(depthSampler,vec3(uvDepth.xy+(lightSizeUV*lightSizeUVCorrection*shadowMapSizeInverse*PoissonSamplers32[i].xy),layer)).r;\\nif (blockerDepth<depthMetric) {\\nsumBlockerDepth+=blockerDepth;\\nnumBlocker++;\\n}\\n}\\nif (numBlocker<1.0) {\\nreturn 1.0;\\n}\\nelse\\n{\\nfloat avgBlockerDepth=sumBlockerDepth/numBlocker;\\nfloat AAOffset=shadowMapSizeInverse*10.;\\nfloat penumbraRatio=((depthMetric-avgBlockerDepth)*depthCorrection+AAOffset);\\nvec4 filterRadius=vec4(penumbraRatio*lightSizeUV*lightSizeUVCorrection*shadowMapSizeInverse,0.,0.);\\nfloat random=getRand(vPositionFromLight.xy);\\nfloat rotationAngle=random*3.1415926;\\nvec2 rotationVector=vec2(cos(rotationAngle),sin(rotationAngle));\\nfloat shadow=0.;\\nfor (int i=0; i<pcfTapCount; i++) {\\nvec4 offset=vec4(poissonSamplers[i],0.);\\noffset=vec4(offset.x*rotationVector.x-offset.y*rotationVector.y,offset.y*rotationVector.x+offset.x*rotationVector.y,0.,0.);\\nshadow+=texture2D(shadowSampler,uvDepthLayer+offset*filterRadius);\\n}\\nshadow/=float(pcfTapCount);\\nshadow=mix(shadow,1.,min((depthMetric-avgBlockerDepth)*depthCorrection*penumbraDarkness,1.));\\nshadow=mix(darkness,1.,shadow);\\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\\n}\\n}\\n#define inline\\nfloat computeShadowWithPCSS(vec4 vPositionFromLight,float depthMetric,sampler2D depthSampler,highp sampler2DShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff,int searchTapCount,int pcfTapCount,vec3[64] poissonSamplers)\\n{\\nif (depthMetric>1.0 || depthMetric<0.0) {\\nreturn 1.0;\\n}\\nelse\\n{\\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\\nuvDepth.z=ZINCLIP;\\nfloat blockerDepth=0.0;\\nfloat sumBlockerDepth=0.0;\\nfloat numBlocker=0.0;\\nfor (int i=0; i<searchTapCount; i ++) {\\nblockerDepth=texture2D(depthSampler,uvDepth.xy+(lightSizeUV*shadowMapSizeInverse*PoissonSamplers32[i].xy)).r;\\nif (blockerDepth<depthMetric) {\\nsumBlockerDepth+=blockerDepth;\\nnumBlocker++;\\n}\\n}\\nif (numBlocker<1.0) {\\nreturn 1.0;\\n}\\nelse\\n{\\nfloat avgBlockerDepth=sumBlockerDepth/numBlocker;\\nfloat AAOffset=shadowMapSizeInverse*10.;\\nfloat penumbraRatio=((depthMetric-avgBlockerDepth)+AAOffset);\\nfloat filterRadius=penumbraRatio*lightSizeUV*shadowMapSizeInverse;\\nfloat random=getRand(vPositionFromLight.xy);\\nfloat rotationAngle=random*3.1415926;\\nvec2 rotationVector=vec2(cos(rotationAngle),sin(rotationAngle));\\nfloat shadow=0.;\\nfor (int i=0; i<pcfTapCount; i++) {\\nvec3 offset=poissonSamplers[i];\\noffset=vec3(offset.x*rotationVector.x-offset.y*rotationVector.y,offset.y*rotationVector.x+offset.x*rotationVector.y,0.);\\nshadow+=texture2D(shadowSampler,uvDepth+offset*filterRadius);\\n}\\nshadow/=float(pcfTapCount);\\nshadow=mix(shadow,1.,depthMetric-avgBlockerDepth);\\nshadow=mix(darkness,1.,shadow);\\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\\n}\\n}\\n}\\n#define inline\\nfloat computeShadowWithPCSS16(vec4 vPositionFromLight,float depthMetric,sampler2D depthSampler,highp sampler2DShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff)\\n{\\nreturn computeShadowWithPCSS(vPositionFromLight,depthMetric,depthSampler,shadowSampler,shadowMapSizeInverse,lightSizeUV,darkness,frustumEdgeFalloff,16,16,PoissonSamplers32);\\n}\\n#define inline\\nfloat computeShadowWithPCSS32(vec4 vPositionFromLight,float depthMetric,sampler2D depthSampler,highp sampler2DShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff)\\n{\\nreturn computeShadowWithPCSS(vPositionFromLight,depthMetric,depthSampler,shadowSampler,shadowMapSizeInverse,lightSizeUV,darkness,frustumEdgeFalloff,16,32,PoissonSamplers32);\\n}\\n#define inline\\nfloat computeShadowWithPCSS64(vec4 vPositionFromLight,float depthMetric,sampler2D depthSampler,highp sampler2DShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff)\\n{\\nreturn computeShadowWithPCSS(vPositionFromLight,depthMetric,depthSampler,shadowSampler,shadowMapSizeInverse,lightSizeUV,darkness,frustumEdgeFalloff,32,64,PoissonSamplers64);\\n}\\n#define inline\\nfloat computeShadowWithCSMPCSS16(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArray depthSampler,highp sampler2DArrayShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff,vec2 lightSizeUVCorrection,float depthCorrection,float penumbraDarkness)\\n{\\nreturn computeShadowWithCSMPCSS(layer,vPositionFromLight,depthMetric,depthSampler,shadowSampler,shadowMapSizeInverse,lightSizeUV,darkness,frustumEdgeFalloff,16,16,PoissonSamplers32,lightSizeUVCorrection,depthCorrection,penumbraDarkness);\\n}\\n#define inline\\nfloat computeShadowWithCSMPCSS32(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArray depthSampler,highp sampler2DArrayShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff,vec2 lightSizeUVCorrection,float depthCorrection,float penumbraDarkness)\\n{\\nreturn computeShadowWithCSMPCSS(layer,vPositionFromLight,depthMetric,depthSampler,shadowSampler,shadowMapSizeInverse,lightSizeUV,darkness,frustumEdgeFalloff,16,32,PoissonSamplers32,lightSizeUVCorrection,depthCorrection,penumbraDarkness);\\n}\\n#define inline\\nfloat computeShadowWithCSMPCSS64(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArray depthSampler,highp sampler2DArrayShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff,vec2 lightSizeUVCorrection,float depthCorrection,float penumbraDarkness)\\n{\\nreturn computeShadowWithCSMPCSS(layer,vPositionFromLight,depthMetric,depthSampler,shadowSampler,shadowMapSizeInverse,lightSizeUV,darkness,frustumEdgeFalloff,32,64,PoissonSamplers64,lightSizeUVCorrection,depthCorrection,penumbraDarkness);\\n}\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$B] = shader$B;\nvar name$A = \"samplerFragmentDeclaration\";\nvar shader$A = \"#ifdef _DEFINENAME_\\n#if _DEFINENAME_DIRECTUV==1\\n#define v_VARYINGNAME_UV vMainUV1\\n#elif _DEFINENAME_DIRECTUV==2\\n#define v_VARYINGNAME_UV vMainUV2\\n#elif _DEFINENAME_DIRECTUV==3\\n#define v_VARYINGNAME_UV vMainUV3\\n#elif _DEFINENAME_DIRECTUV==4\\n#define v_VARYINGNAME_UV vMainUV4\\n#elif _DEFINENAME_DIRECTUV==5\\n#define v_VARYINGNAME_UV vMainUV5\\n#elif _DEFINENAME_DIRECTUV==6\\n#define v_VARYINGNAME_UV vMainUV6\\n#else\\nvarying vec2 v_VARYINGNAME_UV;\\n#endif\\nuniform sampler2D _SAMPLERNAME_Sampler;\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$A] = shader$A;\nvar name$z = \"fresnelFunction\";\nvar shader$z = \"#ifdef FRESNEL\\nfloat computeFresnelTerm(vec3 viewDirection,vec3 worldNormal,float bias,float power)\\n{\\nfloat fresnelTerm=pow(bias+abs(dot(viewDirection,worldNormal)),power);\\nreturn clamp(fresnelTerm,0.,1.);\\n}\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$z] = shader$z;\nvar name$y = \"reflectionFunction\";\nvar shader$y = \"vec3 computeFixedEquirectangularCoords(vec4 worldPos,vec3 worldNormal,vec3 direction)\\n{\\nfloat lon=atan(direction.z,direction.x);\\nfloat lat=acos(direction.y);\\nvec2 sphereCoords=vec2(lon,lat)*RECIPROCAL_PI2*2.0;\\nfloat s=sphereCoords.x*0.5+0.5;\\nfloat t=sphereCoords.y;\\nreturn vec3(s,t,0); \\n}\\nvec3 computeMirroredFixedEquirectangularCoords(vec4 worldPos,vec3 worldNormal,vec3 direction)\\n{\\nfloat lon=atan(direction.z,direction.x);\\nfloat lat=acos(direction.y);\\nvec2 sphereCoords=vec2(lon,lat)*RECIPROCAL_PI2*2.0;\\nfloat s=sphereCoords.x*0.5+0.5;\\nfloat t=sphereCoords.y;\\nreturn vec3(1.0-s,t,0); \\n}\\nvec3 computeEquirectangularCoords(vec4 worldPos,vec3 worldNormal,vec3 eyePosition,mat4 reflectionMatrix)\\n{\\nvec3 cameraToVertex=normalize(worldPos.xyz-eyePosition);\\nvec3 r=normalize(reflect(cameraToVertex,worldNormal));\\nr=vec3(reflectionMatrix*vec4(r,0));\\nfloat lon=atan(r.z,r.x);\\nfloat lat=acos(r.y);\\nvec2 sphereCoords=vec2(lon,lat)*RECIPROCAL_PI2*2.0;\\nfloat s=sphereCoords.x*0.5+0.5;\\nfloat t=sphereCoords.y;\\nreturn vec3(s,t,0);\\n}\\nvec3 computeSphericalCoords(vec4 worldPos,vec3 worldNormal,mat4 view,mat4 reflectionMatrix)\\n{\\nvec3 viewDir=normalize(vec3(view*worldPos));\\nvec3 viewNormal=normalize(vec3(view*vec4(worldNormal,0.0)));\\nvec3 r=reflect(viewDir,viewNormal);\\nr=vec3(reflectionMatrix*vec4(r,0));\\nr.z=r.z-1.0;\\nfloat m=2.0*length(r);\\nreturn vec3(r.x/m+0.5,1.0-r.y/m-0.5,0);\\n}\\nvec3 computePlanarCoords(vec4 worldPos,vec3 worldNormal,vec3 eyePosition,mat4 reflectionMatrix)\\n{\\nvec3 viewDir=worldPos.xyz-eyePosition;\\nvec3 coords=normalize(reflect(viewDir,worldNormal));\\nreturn vec3(reflectionMatrix*vec4(coords,1));\\n}\\nvec3 computeCubicCoords(vec4 worldPos,vec3 worldNormal,vec3 eyePosition,mat4 reflectionMatrix)\\n{\\nvec3 viewDir=normalize(worldPos.xyz-eyePosition);\\nvec3 coords=reflect(viewDir,worldNormal);\\ncoords=vec3(reflectionMatrix*vec4(coords,0));\\n#ifdef INVERTCUBICMAP\\ncoords.y*=-1.0;\\n#endif\\nreturn coords;\\n}\\nvec3 computeCubicLocalCoords(vec4 worldPos,vec3 worldNormal,vec3 eyePosition,mat4 reflectionMatrix,vec3 reflectionSize,vec3 reflectionPosition)\\n{\\nvec3 viewDir=normalize(worldPos.xyz-eyePosition);\\nvec3 coords=reflect(viewDir,worldNormal);\\ncoords=parallaxCorrectNormal(worldPos.xyz,coords,reflectionSize,reflectionPosition);\\ncoords=vec3(reflectionMatrix*vec4(coords,0));\\n#ifdef INVERTCUBICMAP\\ncoords.y*=-1.0;\\n#endif\\nreturn coords;\\n}\\nvec3 computeProjectionCoords(vec4 worldPos,mat4 view,mat4 reflectionMatrix)\\n{\\nreturn vec3(reflectionMatrix*(view*worldPos));\\n}\\nvec3 computeSkyBoxCoords(vec3 positionW,mat4 reflectionMatrix)\\n{\\nreturn vec3(reflectionMatrix*vec4(positionW,1.));\\n}\\n#ifdef REFLECTION\\nvec3 computeReflectionCoords(vec4 worldPos,vec3 worldNormal)\\n{\\n#ifdef REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED\\nvec3 direction=normalize(vDirectionW);\\nreturn computeMirroredFixedEquirectangularCoords(worldPos,worldNormal,direction);\\n#endif\\n#ifdef REFLECTIONMAP_EQUIRECTANGULAR_FIXED\\nvec3 direction=normalize(vDirectionW);\\nreturn computeFixedEquirectangularCoords(worldPos,worldNormal,direction);\\n#endif\\n#ifdef REFLECTIONMAP_EQUIRECTANGULAR\\nreturn computeEquirectangularCoords(worldPos,worldNormal,vEyePosition.xyz,reflectionMatrix);\\n#endif\\n#ifdef REFLECTIONMAP_SPHERICAL\\nreturn computeSphericalCoords(worldPos,worldNormal,view,reflectionMatrix);\\n#endif\\n#ifdef REFLECTIONMAP_PLANAR\\nreturn computePlanarCoords(worldPos,worldNormal,vEyePosition.xyz,reflectionMatrix);\\n#endif\\n#ifdef REFLECTIONMAP_CUBIC\\n#ifdef USE_LOCAL_REFLECTIONMAP_CUBIC\\nreturn computeCubicLocalCoords(worldPos,worldNormal,vEyePosition.xyz,reflectionMatrix,vReflectionSize,vReflectionPosition);\\n#else\\nreturn computeCubicCoords(worldPos,worldNormal,vEyePosition.xyz,reflectionMatrix);\\n#endif\\n#endif\\n#ifdef REFLECTIONMAP_PROJECTION\\nreturn computeProjectionCoords(worldPos,view,reflectionMatrix);\\n#endif\\n#ifdef REFLECTIONMAP_SKYBOX\\nreturn computeSkyBoxCoords(vPositionUVW,reflectionMatrix);\\n#endif\\n#ifdef REFLECTIONMAP_EXPLICIT\\nreturn vec3(0,0,0);\\n#endif\\n}\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$y] = shader$y;\nvar name$x = \"imageProcessingDeclaration\";\nvar shader$x = \"#ifdef EXPOSURE\\nuniform float exposureLinear;\\n#endif\\n#ifdef CONTRAST\\nuniform float contrast;\\n#endif\\n#ifdef VIGNETTE\\nuniform vec2 vInverseScreenSize;\\nuniform vec4 vignetteSettings1;\\nuniform vec4 vignetteSettings2;\\n#endif\\n#ifdef COLORCURVES\\nuniform vec4 vCameraColorCurveNegative;\\nuniform vec4 vCameraColorCurveNeutral;\\nuniform vec4 vCameraColorCurvePositive;\\n#endif\\n#ifdef COLORGRADING\\n#ifdef COLORGRADING3D\\nuniform highp sampler3D txColorTransform;\\n#else\\nuniform sampler2D txColorTransform;\\n#endif\\nuniform vec4 colorTransformSettings;\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$x] = shader$x;\nvar name$w = \"imageProcessingFunctions\";\nvar shader$w = \"#if defined(COLORGRADING) && !defined(COLORGRADING3D)\\n/** \\n* Polyfill for SAMPLE_TEXTURE_3D,which is unsupported in WebGL.\\n* sampler3dSetting.x=textureOffset (0.5/textureSize).\\n* sampler3dSetting.y=textureSize.\\n*/\\n#define inline\\nvec3 sampleTexture3D(sampler2D colorTransform,vec3 color,vec2 sampler3dSetting)\\n{\\nfloat sliceSize=2.0*sampler3dSetting.x; \\n#ifdef SAMPLER3DGREENDEPTH\\nfloat sliceContinuous=(color.g-sampler3dSetting.x)*sampler3dSetting.y;\\n#else\\nfloat sliceContinuous=(color.b-sampler3dSetting.x)*sampler3dSetting.y;\\n#endif\\nfloat sliceInteger=floor(sliceContinuous);\\nfloat sliceFraction=sliceContinuous-sliceInteger;\\n#ifdef SAMPLER3DGREENDEPTH\\nvec2 sliceUV=color.rb;\\n#else\\nvec2 sliceUV=color.rg;\\n#endif\\nsliceUV.x*=sliceSize;\\nsliceUV.x+=sliceInteger*sliceSize;\\nsliceUV=saturate(sliceUV);\\nvec4 slice0Color=texture2D(colorTransform,sliceUV);\\nsliceUV.x+=sliceSize;\\nsliceUV=saturate(sliceUV);\\nvec4 slice1Color=texture2D(colorTransform,sliceUV);\\nvec3 result=mix(slice0Color.rgb,slice1Color.rgb,sliceFraction);\\n#ifdef SAMPLER3DBGRMAP\\ncolor.rgb=result.rgb;\\n#else\\ncolor.rgb=result.bgr;\\n#endif\\nreturn color;\\n}\\n#endif\\n#ifdef TONEMAPPING_ACES\\nconst mat3 ACESInputMat=mat3(\\nvec3(0.59719,0.07600,0.02840),\\nvec3(0.35458,0.90834,0.13383),\\nvec3(0.04823,0.01566,0.83777)\\n);\\nconst mat3 ACESOutputMat=mat3(\\nvec3( 1.60475,-0.10208,-0.00327),\\nvec3(-0.53108, 1.10813,-0.07276),\\nvec3(-0.07367,-0.00605, 1.07602)\\n);\\nvec3 RRTAndODTFit(vec3 v)\\n{\\nvec3 a=v*(v+0.0245786)-0.000090537;\\nvec3 b=v*(0.983729*v+0.4329510)+0.238081;\\nreturn a/b;\\n}\\nvec3 ACESFitted(vec3 color)\\n{\\ncolor=ACESInputMat*color;\\ncolor=RRTAndODTFit(color);\\ncolor=ACESOutputMat*color;\\ncolor=saturate(color);\\nreturn color;\\n}\\n#endif\\nvec4 applyImageProcessing(vec4 result) {\\n#ifdef EXPOSURE\\nresult.rgb*=exposureLinear;\\n#endif\\n#ifdef VIGNETTE\\nvec2 viewportXY=gl_FragCoord.xy*vInverseScreenSize;\\nviewportXY=viewportXY*2.0-1.0;\\nvec3 vignetteXY1=vec3(viewportXY*vignetteSettings1.xy+vignetteSettings1.zw,1.0);\\nfloat vignetteTerm=dot(vignetteXY1,vignetteXY1);\\nfloat vignette=pow(vignetteTerm,vignetteSettings2.w);\\nvec3 vignetteColor=vignetteSettings2.rgb;\\n#ifdef VIGNETTEBLENDMODEMULTIPLY\\nvec3 vignetteColorMultiplier=mix(vignetteColor,vec3(1,1,1),vignette);\\nresult.rgb*=vignetteColorMultiplier;\\n#endif\\n#ifdef VIGNETTEBLENDMODEOPAQUE\\nresult.rgb=mix(vignetteColor,result.rgb,vignette);\\n#endif\\n#endif\\n#ifdef TONEMAPPING\\n#ifdef TONEMAPPING_ACES\\nresult.rgb=ACESFitted(result.rgb);\\n#else\\nconst float tonemappingCalibration=1.590579;\\nresult.rgb=1.0-exp2(-tonemappingCalibration*result.rgb);\\n#endif\\n#endif\\nresult.rgb=toGammaSpace(result.rgb);\\nresult.rgb=saturate(result.rgb);\\n#ifdef CONTRAST\\nvec3 resultHighContrast=result.rgb*result.rgb*(3.0-2.0*result.rgb);\\nif (contrast<1.0) {\\nresult.rgb=mix(vec3(0.5,0.5,0.5),result.rgb,contrast);\\n} else {\\nresult.rgb=mix(result.rgb,resultHighContrast,contrast-1.0);\\n}\\n#endif\\n#ifdef COLORGRADING\\nvec3 colorTransformInput=result.rgb*colorTransformSettings.xxx+colorTransformSettings.yyy;\\n#ifdef COLORGRADING3D\\nvec3 colorTransformOutput=texture(txColorTransform,colorTransformInput).rgb;\\n#else\\nvec3 colorTransformOutput=sampleTexture3D(txColorTransform,colorTransformInput,colorTransformSettings.yz).rgb;\\n#endif\\nresult.rgb=mix(result.rgb,colorTransformOutput,colorTransformSettings.www);\\n#endif\\n#ifdef COLORCURVES\\nfloat luma=getLuminance(result.rgb);\\nvec2 curveMix=clamp(vec2(luma*3.0-1.5,luma*-3.0+1.5),vec2(0.0),vec2(1.0));\\nvec4 colorCurve=vCameraColorCurveNeutral+curveMix.x*vCameraColorCurvePositive-curveMix.y*vCameraColorCurveNegative;\\nresult.rgb*=colorCurve.rgb;\\nresult.rgb=mix(vec3(luma),result.rgb,colorCurve.a);\\n#endif\\nreturn result;\\n}\";\nShaderStore.IncludesShadersStore[name$w] = shader$w;\nvar name$v = \"bumpFragmentMainFunctions\";\nvar shader$v = \"#if defined(BUMP) || defined(CLEARCOAT_BUMP) || defined(ANISOTROPIC) || defined(DETAIL)\\n#if defined(TANGENT) && defined(NORMAL) \\nvarying mat3 vTBN;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\nuniform mat4 normalMatrix;\\n#endif\\nvec3 perturbNormalBase(mat3 cotangentFrame,vec3 normal,float scale)\\n{\\n#ifdef NORMALXYSCALE\\nnormal=normalize(normal*vec3(scale,scale,1.0));\\n#endif\\nreturn normalize(cotangentFrame*normal);\\n}\\nvec3 perturbNormal(mat3 cotangentFrame,vec3 textureSample,float scale)\\n{\\nreturn perturbNormalBase(cotangentFrame,textureSample*2.0-1.0,scale);\\n}\\nmat3 cotangent_frame(vec3 normal,vec3 p,vec2 uv,vec2 tangentSpaceParams)\\n{\\nvec3 dp1=dFdx(p);\\nvec3 dp2=dFdy(p);\\nvec2 duv1=dFdx(uv);\\nvec2 duv2=dFdy(uv);\\nvec3 dp2perp=cross(dp2,normal);\\nvec3 dp1perp=cross(normal,dp1);\\nvec3 tangent=dp2perp*duv1.x+dp1perp*duv2.x;\\nvec3 bitangent=dp2perp*duv1.y+dp1perp*duv2.y;\\ntangent*=tangentSpaceParams.x;\\nbitangent*=tangentSpaceParams.y;\\nfloat invmax=inversesqrt(max(dot(tangent,tangent),dot(bitangent,bitangent)));\\nreturn mat3(tangent*invmax,bitangent*invmax,normal);\\n}\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$v] = shader$v;\nvar name$u = \"bumpFragmentFunctions\";\nvar shader$u = \"#if defined(BUMP)\\n#include<samplerFragmentDeclaration>(_DEFINENAME_,BUMP,_VARYINGNAME_,Bump,_SAMPLERNAME_,bump)\\n#endif\\n#if defined(DETAIL)\\n#include<samplerFragmentDeclaration>(_DEFINENAME_,DETAIL,_VARYINGNAME_,Detail,_SAMPLERNAME_,detail)\\n#endif\\n#if defined(BUMP) && defined(PARALLAX)\\nconst float minSamples=4.;\\nconst float maxSamples=15.;\\nconst int iMaxSamples=15;\\nvec2 parallaxOcclusion(vec3 vViewDirCoT,vec3 vNormalCoT,vec2 texCoord,float parallaxScale) {\\nfloat parallaxLimit=length(vViewDirCoT.xy)/vViewDirCoT.z;\\nparallaxLimit*=parallaxScale;\\nvec2 vOffsetDir=normalize(vViewDirCoT.xy);\\nvec2 vMaxOffset=vOffsetDir*parallaxLimit;\\nfloat numSamples=maxSamples+(dot(vViewDirCoT,vNormalCoT)*(minSamples-maxSamples));\\nfloat stepSize=1.0/numSamples;\\nfloat currRayHeight=1.0;\\nvec2 vCurrOffset=vec2(0,0);\\nvec2 vLastOffset=vec2(0,0);\\nfloat lastSampledHeight=1.0;\\nfloat currSampledHeight=1.0;\\nfor (int i=0; i<iMaxSamples; i++)\\n{\\ncurrSampledHeight=texture2D(bumpSampler,texCoord+vCurrOffset).w;\\nif (currSampledHeight>currRayHeight)\\n{\\nfloat delta1=currSampledHeight-currRayHeight;\\nfloat delta2=(currRayHeight+stepSize)-lastSampledHeight;\\nfloat ratio=delta1/(delta1+delta2);\\nvCurrOffset=(ratio)* vLastOffset+(1.0-ratio)*vCurrOffset;\\nbreak;\\n}\\nelse\\n{\\ncurrRayHeight-=stepSize;\\nvLastOffset=vCurrOffset;\\nvCurrOffset+=stepSize*vMaxOffset;\\nlastSampledHeight=currSampledHeight;\\n}\\n}\\nreturn vCurrOffset;\\n}\\nvec2 parallaxOffset(vec3 viewDir,float heightScale)\\n{\\nfloat height=texture2D(bumpSampler,vBumpUV).w;\\nvec2 texCoordOffset=heightScale*viewDir.xy*height;\\nreturn -texCoordOffset;\\n}\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$u] = shader$u;\nvar name$t = \"logDepthDeclaration\";\nvar shader$t = \"#ifdef LOGARITHMICDEPTH\\nuniform float logarithmicDepthConstant;\\nvarying float vFragmentDepth;\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$t] = shader$t;\nvar name$s = \"fogFragmentDeclaration\";\nvar shader$s = \"#ifdef FOG\\n#define FOGMODE_NONE 0.\\n#define FOGMODE_EXP 1.\\n#define FOGMODE_EXP2 2.\\n#define FOGMODE_LINEAR 3.\\n#define E 2.71828\\nuniform vec4 vFogInfos;\\nuniform vec3 vFogColor;\\nvarying vec3 vFogDistance;\\nfloat CalcFogFactor()\\n{\\nfloat fogCoeff=1.0;\\nfloat fogStart=vFogInfos.y;\\nfloat fogEnd=vFogInfos.z;\\nfloat fogDensity=vFogInfos.w;\\nfloat fogDistance=length(vFogDistance);\\nif (FOGMODE_LINEAR==vFogInfos.x)\\n{\\nfogCoeff=(fogEnd-fogDistance)/(fogEnd-fogStart);\\n}\\nelse if (FOGMODE_EXP==vFogInfos.x)\\n{\\nfogCoeff=1.0/pow(E,fogDistance*fogDensity);\\n}\\nelse if (FOGMODE_EXP2==vFogInfos.x)\\n{\\nfogCoeff=1.0/pow(E,fogDistance*fogDistance*fogDensity*fogDensity);\\n}\\nreturn clamp(fogCoeff,0.0,1.0);\\n}\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$s] = shader$s;\nvar name$r = \"oitFragment\";\nvar shader$r = \"#ifdef ORDER_INDEPENDENT_TRANSPARENCY\\nfloat fragDepth=gl_FragCoord.z; \\n#ifdef ORDER_INDEPENDENT_TRANSPARENCY_16BITS\\nuint halfFloat=packHalf2x16(vec2(fragDepth));\\nvec2 full=unpackHalf2x16(halfFloat);\\nfragDepth=full.x;\\n#endif\\nivec2 fragCoord=ivec2(gl_FragCoord.xy);\\nvec2 lastDepth=texelFetch(oitDepthSampler,fragCoord,0).rg;\\nvec4 lastFrontColor=texelFetch(oitFrontColorSampler,fragCoord,0);\\ndepth.rg=vec2(-MAX_DEPTH);\\nfrontColor=lastFrontColor;\\nbackColor=vec4(0.0);\\n#ifdef USE_REVERSE_DEPTHBUFFER\\nfloat furthestDepth=-lastDepth.x;\\nfloat nearestDepth=lastDepth.y;\\n#else\\nfloat nearestDepth=-lastDepth.x;\\nfloat furthestDepth=lastDepth.y;\\n#endif\\nfloat alphaMultiplier=1.0-lastFrontColor.a;\\n#ifdef USE_REVERSE_DEPTHBUFFER\\nif (fragDepth>nearestDepth || fragDepth<furthestDepth) {\\n#else\\nif (fragDepth<nearestDepth || fragDepth>furthestDepth) {\\n#endif\\nreturn;\\n}\\n#ifdef USE_REVERSE_DEPTHBUFFER\\nif (fragDepth<nearestDepth && fragDepth>furthestDepth) {\\n#else\\nif (fragDepth>nearestDepth && fragDepth<furthestDepth) {\\n#endif\\ndepth.rg=vec2(-fragDepth,fragDepth);\\nreturn;\\n}\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$r] = shader$r;\nvar name$q = \"bumpFragment\";\nvar shader$q = \"vec2 uvOffset=vec2(0.0,0.0);\\n#if defined(BUMP) || defined(PARALLAX) || defined(DETAIL)\\n#ifdef NORMALXYSCALE\\nfloat normalScale=1.0;\\n#elif defined(BUMP)\\nfloat normalScale=vBumpInfos.y;\\n#else\\nfloat normalScale=1.0;\\n#endif\\n#if defined(TANGENT) && defined(NORMAL)\\nmat3 TBN=vTBN;\\n#elif defined(BUMP)\\nvec2 TBNUV=gl_FrontFacing ? vBumpUV : -vBumpUV;\\nmat3 TBN=cotangent_frame(normalW*normalScale,vPositionW,TBNUV,vTangentSpaceParams);\\n#else\\nvec2 TBNUV=gl_FrontFacing ? vDetailUV : -vDetailUV;\\nmat3 TBN=cotangent_frame(normalW*normalScale,vPositionW,TBNUV,vec2(1.,1.));\\n#endif\\n#elif defined(ANISOTROPIC)\\n#if defined(TANGENT) && defined(NORMAL)\\nmat3 TBN=vTBN;\\n#else\\nvec2 TBNUV=gl_FrontFacing ? vMainUV1 : -vMainUV1;\\nmat3 TBN=cotangent_frame(normalW,vPositionW,TBNUV,vec2(1.,1.));\\n#endif\\n#endif\\n#ifdef PARALLAX\\nmat3 invTBN=transposeMat3(TBN);\\n#ifdef PARALLAXOCCLUSION\\nuvOffset=parallaxOcclusion(invTBN*-viewDirectionW,invTBN*normalW,vBumpUV,vBumpInfos.z);\\n#else\\nuvOffset=parallaxOffset(invTBN*viewDirectionW,vBumpInfos.z);\\n#endif\\n#endif\\n#ifdef DETAIL\\nvec4 detailColor=texture2D(detailSampler,vDetailUV+uvOffset);\\nvec2 detailNormalRG=detailColor.wy*2.0-1.0;\\nfloat detailNormalB=sqrt(1.-saturate(dot(detailNormalRG,detailNormalRG)));\\nvec3 detailNormal=vec3(detailNormalRG,detailNormalB);\\n#endif\\n#ifdef BUMP\\n#ifdef OBJECTSPACE_NORMALMAP\\nnormalW=normalize(texture2D(bumpSampler,vBumpUV).xyz *2.0-1.0);\\nnormalW=normalize(mat3(normalMatrix)*normalW);\\n#elif !defined(DETAIL)\\nnormalW=perturbNormal(TBN,texture2D(bumpSampler,vBumpUV+uvOffset).xyz,vBumpInfos.y);\\n#else\\nvec3 bumpNormal=texture2D(bumpSampler,vBumpUV+uvOffset).xyz*2.0-1.0;\\n#if DETAIL_NORMALBLENDMETHOD==0 \\ndetailNormal.xy*=vDetailInfos.z;\\nvec3 blendedNormal=normalize(vec3(bumpNormal.xy+detailNormal.xy,bumpNormal.z*detailNormal.z));\\n#elif DETAIL_NORMALBLENDMETHOD==1 \\ndetailNormal.xy*=vDetailInfos.z;\\nbumpNormal+=vec3(0.0,0.0,1.0);\\ndetailNormal*=vec3(-1.0,-1.0,1.0);\\nvec3 blendedNormal=bumpNormal*dot(bumpNormal,detailNormal)/bumpNormal.z-detailNormal;\\n#endif\\nnormalW=perturbNormalBase(TBN,blendedNormal,vBumpInfos.y);\\n#endif\\n#elif defined(DETAIL)\\ndetailNormal.xy*=vDetailInfos.z;\\nnormalW=perturbNormalBase(TBN,detailNormal,vDetailInfos.z);\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$q] = shader$q;\nvar name$p = \"depthPrePass\";\nvar shader$p = \"#ifdef DEPTHPREPASS\\ngl_FragColor=vec4(0.,0.,0.,1.0);\\nreturn;\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$p] = shader$p;\nvar name$o = \"lightFragment\";\nvar shader$o = \"#ifdef LIGHT{X}\\n#if defined(SHADOWONLY) || defined(LIGHTMAP) && defined(LIGHTMAPEXCLUDED{X}) && defined(LIGHTMAPNOSPECULAR{X})\\n#else\\n#ifdef PBR\\n#ifdef SPOTLIGHT{X}\\npreInfo=computePointAndSpotPreLightingInfo(light{X}.vLightData,viewDirectionW,normalW);\\n#elif defined(POINTLIGHT{X})\\npreInfo=computePointAndSpotPreLightingInfo(light{X}.vLightData,viewDirectionW,normalW);\\n#elif defined(HEMILIGHT{X})\\npreInfo=computeHemisphericPreLightingInfo(light{X}.vLightData,viewDirectionW,normalW);\\n#elif defined(DIRLIGHT{X})\\npreInfo=computeDirectionalPreLightingInfo(light{X}.vLightData,viewDirectionW,normalW);\\n#endif\\npreInfo.NdotV=NdotV;\\n#ifdef SPOTLIGHT{X}\\n#ifdef LIGHT_FALLOFF_GLTF{X}\\npreInfo.attenuation=computeDistanceLightFalloff_GLTF(preInfo.lightDistanceSquared,light{X}.vLightFalloff.y);\\npreInfo.attenuation*=computeDirectionalLightFalloff_GLTF(light{X}.vLightDirection.xyz,preInfo.L,light{X}.vLightFalloff.z,light{X}.vLightFalloff.w);\\n#elif defined(LIGHT_FALLOFF_PHYSICAL{X})\\npreInfo.attenuation=computeDistanceLightFalloff_Physical(preInfo.lightDistanceSquared);\\npreInfo.attenuation*=computeDirectionalLightFalloff_Physical(light{X}.vLightDirection.xyz,preInfo.L,light{X}.vLightDirection.w);\\n#elif defined(LIGHT_FALLOFF_STANDARD{X})\\npreInfo.attenuation=computeDistanceLightFalloff_Standard(preInfo.lightOffset,light{X}.vLightFalloff.x);\\npreInfo.attenuation*=computeDirectionalLightFalloff_Standard(light{X}.vLightDirection.xyz,preInfo.L,light{X}.vLightDirection.w,light{X}.vLightData.w);\\n#else\\npreInfo.attenuation=computeDistanceLightFalloff(preInfo.lightOffset,preInfo.lightDistanceSquared,light{X}.vLightFalloff.x,light{X}.vLightFalloff.y);\\npreInfo.attenuation*=computeDirectionalLightFalloff(light{X}.vLightDirection.xyz,preInfo.L,light{X}.vLightDirection.w,light{X}.vLightData.w,light{X}.vLightFalloff.z,light{X}.vLightFalloff.w);\\n#endif\\n#elif defined(POINTLIGHT{X})\\n#ifdef LIGHT_FALLOFF_GLTF{X}\\npreInfo.attenuation=computeDistanceLightFalloff_GLTF(preInfo.lightDistanceSquared,light{X}.vLightFalloff.y);\\n#elif defined(LIGHT_FALLOFF_PHYSICAL{X})\\npreInfo.attenuation=computeDistanceLightFalloff_Physical(preInfo.lightDistanceSquared);\\n#elif defined(LIGHT_FALLOFF_STANDARD{X})\\npreInfo.attenuation=computeDistanceLightFalloff_Standard(preInfo.lightOffset,light{X}.vLightFalloff.x);\\n#else\\npreInfo.attenuation=computeDistanceLightFalloff(preInfo.lightOffset,preInfo.lightDistanceSquared,light{X}.vLightFalloff.x,light{X}.vLightFalloff.y);\\n#endif\\n#else\\npreInfo.attenuation=1.0;\\n#endif\\n#ifdef HEMILIGHT{X}\\npreInfo.roughness=roughness;\\n#else\\npreInfo.roughness=adjustRoughnessFromLightProperties(roughness,light{X}.vLightSpecular.a,preInfo.lightDistance);\\n#endif\\n#ifdef IRIDESCENCE\\npreInfo.iridescenceIntensity=iridescenceIntensity;\\n#endif\\n#ifdef HEMILIGHT{X}\\ninfo.diffuse=computeHemisphericDiffuseLighting(preInfo,light{X}.vLightDiffuse.rgb,light{X}.vLightGround);\\n#elif defined(SS_TRANSLUCENCY)\\ninfo.diffuse=computeDiffuseAndTransmittedLighting(preInfo,light{X}.vLightDiffuse.rgb,subSurfaceOut.transmittance);\\n#else\\ninfo.diffuse=computeDiffuseLighting(preInfo,light{X}.vLightDiffuse.rgb);\\n#endif\\n#ifdef SPECULARTERM\\n#ifdef ANISOTROPIC\\ninfo.specular=computeAnisotropicSpecularLighting(preInfo,viewDirectionW,normalW,anisotropicOut.anisotropicTangent,anisotropicOut.anisotropicBitangent,anisotropicOut.anisotropy,clearcoatOut.specularEnvironmentR0,specularEnvironmentR90,AARoughnessFactors.x,light{X}.vLightDiffuse.rgb);\\n#else\\ninfo.specular=computeSpecularLighting(preInfo,normalW,clearcoatOut.specularEnvironmentR0,specularEnvironmentR90,AARoughnessFactors.x,light{X}.vLightDiffuse.rgb);\\n#endif\\n#endif\\n#ifdef SHEEN\\n#ifdef SHEEN_LINKWITHALBEDO\\npreInfo.roughness=sheenOut.sheenIntensity;\\n#else\\n#ifdef HEMILIGHT{X}\\npreInfo.roughness=sheenOut.sheenRoughness;\\n#else\\npreInfo.roughness=adjustRoughnessFromLightProperties(sheenOut.sheenRoughness,light{X}.vLightSpecular.a,preInfo.lightDistance);\\n#endif\\n#endif\\ninfo.sheen=computeSheenLighting(preInfo,normalW,sheenOut.sheenColor,specularEnvironmentR90,AARoughnessFactors.x,light{X}.vLightDiffuse.rgb);\\n#endif\\n#ifdef CLEARCOAT\\n#ifdef HEMILIGHT{X}\\npreInfo.roughness=clearcoatOut.clearCoatRoughness;\\n#else\\npreInfo.roughness=adjustRoughnessFromLightProperties(clearcoatOut.clearCoatRoughness,light{X}.vLightSpecular.a,preInfo.lightDistance);\\n#endif\\ninfo.clearCoat=computeClearCoatLighting(preInfo,clearcoatOut.clearCoatNormalW,clearcoatOut.clearCoatAARoughnessFactors.x,clearcoatOut.clearCoatIntensity,light{X}.vLightDiffuse.rgb);\\n#ifdef CLEARCOAT_TINT\\nabsorption=computeClearCoatLightingAbsorption(clearcoatOut.clearCoatNdotVRefract,preInfo.L,clearcoatOut.clearCoatNormalW,clearcoatOut.clearCoatColor,clearcoatOut.clearCoatThickness,clearcoatOut.clearCoatIntensity);\\ninfo.diffuse*=absorption;\\n#ifdef SPECULARTERM\\ninfo.specular*=absorption;\\n#endif\\n#endif\\ninfo.diffuse*=info.clearCoat.w;\\n#ifdef SPECULARTERM\\ninfo.specular*=info.clearCoat.w;\\n#endif\\n#ifdef SHEEN\\ninfo.sheen*=info.clearCoat.w;\\n#endif\\n#endif\\n#else\\n#ifdef SPOTLIGHT{X}\\ninfo=computeSpotLighting(viewDirectionW,normalW,light{X}.vLightData,light{X}.vLightDirection,light{X}.vLightDiffuse.rgb,light{X}.vLightSpecular.rgb,light{X}.vLightDiffuse.a,glossiness);\\n#elif defined(HEMILIGHT{X})\\ninfo=computeHemisphericLighting(viewDirectionW,normalW,light{X}.vLightData,light{X}.vLightDiffuse.rgb,light{X}.vLightSpecular.rgb,light{X}.vLightGround,glossiness);\\n#elif defined(POINTLIGHT{X}) || defined(DIRLIGHT{X})\\ninfo=computeLighting(viewDirectionW,normalW,light{X}.vLightData,light{X}.vLightDiffuse.rgb,light{X}.vLightSpecular.rgb,light{X}.vLightDiffuse.a,glossiness);\\n#endif\\n#endif\\n#ifdef PROJECTEDLIGHTTEXTURE{X}\\ninfo.diffuse*=computeProjectionTextureDiffuseLighting(projectionLightSampler{X},textureProjectionMatrix{X});\\n#endif\\n#endif\\n#ifdef SHADOW{X}\\n#ifdef SHADOWCSM{X}\\nfor (int i=0; i<SHADOWCSMNUM_CASCADES{X}; i++) \\n{\\n#ifdef SHADOWCSM_RIGHTHANDED{X}\\ndiff{X}=viewFrustumZ{X}[i]+vPositionFromCamera{X}.z;\\n#else\\ndiff{X}=viewFrustumZ{X}[i]-vPositionFromCamera{X}.z;\\n#endif\\nif (diff{X}>=0.) {\\nindex{X}=i;\\nbreak;\\n}\\n}\\n#ifdef SHADOWCSMUSESHADOWMAXZ{X}\\nif (index{X}>=0)\\n#endif\\n{\\n#if defined(SHADOWPCF{X})\\n#if defined(SHADOWLOWQUALITY{X})\\nshadow=computeShadowWithCSMPCF1(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\\n#elif defined(SHADOWMEDIUMQUALITY{X})\\nshadow=computeShadowWithCSMPCF3(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.yz,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\\n#else\\nshadow=computeShadowWithCSMPCF5(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.yz,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\\n#endif\\n#elif defined(SHADOWPCSS{X})\\n#if defined(SHADOWLOWQUALITY{X})\\nshadow=computeShadowWithCSMPCSS16(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w,lightSizeUVCorrection{X}[index{X}],depthCorrection{X}[index{X}],penumbraDarkness{X});\\n#elif defined(SHADOWMEDIUMQUALITY{X})\\nshadow=computeShadowWithCSMPCSS32(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w,lightSizeUVCorrection{X}[index{X}],depthCorrection{X}[index{X}],penumbraDarkness{X});\\n#else\\nshadow=computeShadowWithCSMPCSS64(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w,lightSizeUVCorrection{X}[index{X}],depthCorrection{X}[index{X}],penumbraDarkness{X});\\n#endif\\n#else\\nshadow=computeShadowCSM(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\\n#endif\\n#ifdef SHADOWCSMDEBUG{X}\\nshadowDebug{X}=vec3(shadow)*vCascadeColorsMultiplier{X}[index{X}];\\n#endif\\n#ifndef SHADOWCSMNOBLEND{X}\\nfloat frustumLength=frustumLengths{X}[index{X}];\\nfloat diffRatio=clamp(diff{X}/frustumLength,0.,1.)*cascadeBlendFactor{X};\\nif (index{X}<(SHADOWCSMNUM_CASCADES{X}-1) && diffRatio<1.)\\n{\\nindex{X}+=1;\\nfloat nextShadow=0.;\\n#if defined(SHADOWPCF{X})\\n#if defined(SHADOWLOWQUALITY{X})\\nnextShadow=computeShadowWithCSMPCF1(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\\n#elif defined(SHADOWMEDIUMQUALITY{X})\\nnextShadow=computeShadowWithCSMPCF3(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.yz,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\\n#else\\nnextShadow=computeShadowWithCSMPCF5(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.yz,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\\n#endif\\n#elif defined(SHADOWPCSS{X})\\n#if defined(SHADOWLOWQUALITY{X})\\nnextShadow=computeShadowWithCSMPCSS16(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w,lightSizeUVCorrection{X}[index{X}],depthCorrection{X}[index{X}],penumbraDarkness{X});\\n#elif defined(SHADOWMEDIUMQUALITY{X})\\nnextShadow=computeShadowWithCSMPCSS32(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w,lightSizeUVCorrection{X}[index{X}],depthCorrection{X}[index{X}],penumbraDarkness{X});\\n#else\\nnextShadow=computeShadowWithCSMPCSS64(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w,lightSizeUVCorrection{X}[index{X}],depthCorrection{X}[index{X}],penumbraDarkness{X});\\n#endif\\n#else\\nnextShadow=computeShadowCSM(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\\n#endif\\nshadow=mix(nextShadow,shadow,diffRatio);\\n#ifdef SHADOWCSMDEBUG{X}\\nshadowDebug{X}=mix(vec3(nextShadow)*vCascadeColorsMultiplier{X}[index{X}],shadowDebug{X},diffRatio);\\n#endif\\n}\\n#endif\\n}\\n#elif defined(SHADOWCLOSEESM{X})\\n#if defined(SHADOWCUBE{X})\\nshadow=computeShadowWithCloseESMCube(light{X}.vLightData.xyz,shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.z,light{X}.depthValues);\\n#else\\nshadow=computeShadowWithCloseESM(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.z,light{X}.shadowsInfo.w);\\n#endif\\n#elif defined(SHADOWESM{X})\\n#if defined(SHADOWCUBE{X})\\nshadow=computeShadowWithESMCube(light{X}.vLightData.xyz,shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.z,light{X}.depthValues);\\n#else\\nshadow=computeShadowWithESM(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.z,light{X}.shadowsInfo.w);\\n#endif\\n#elif defined(SHADOWPOISSON{X})\\n#if defined(SHADOWCUBE{X})\\nshadow=computeShadowWithPoissonSamplingCube(light{X}.vLightData.xyz,shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.x,light{X}.depthValues);\\n#else\\nshadow=computeShadowWithPoissonSampling(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\\n#endif\\n#elif defined(SHADOWPCF{X})\\n#if defined(SHADOWLOWQUALITY{X})\\nshadow=computeShadowWithPCF1(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\\n#elif defined(SHADOWMEDIUMQUALITY{X})\\nshadow=computeShadowWithPCF3(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.yz,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\\n#else\\nshadow=computeShadowWithPCF5(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.yz,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\\n#endif\\n#elif defined(SHADOWPCSS{X})\\n#if defined(SHADOWLOWQUALITY{X})\\nshadow=computeShadowWithPCSS16(vPositionFromLight{X},vDepthMetric{X},depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\\n#elif defined(SHADOWMEDIUMQUALITY{X})\\nshadow=computeShadowWithPCSS32(vPositionFromLight{X},vDepthMetric{X},depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\\n#else\\nshadow=computeShadowWithPCSS64(vPositionFromLight{X},vDepthMetric{X},depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\\n#endif\\n#else\\n#if defined(SHADOWCUBE{X})\\nshadow=computeShadowCube(light{X}.vLightData.xyz,shadowSampler{X},light{X}.shadowsInfo.x,light{X}.depthValues);\\n#else\\nshadow=computeShadow(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\\n#endif\\n#endif\\n#ifdef SHADOWONLY\\n#ifndef SHADOWINUSE\\n#define SHADOWINUSE\\n#endif\\nglobalShadow+=shadow;\\nshadowLightCount+=1.0;\\n#endif\\n#else\\nshadow=1.;\\n#endif\\n#ifndef SHADOWONLY\\n#ifdef CUSTOMUSERLIGHTING\\ndiffuseBase+=computeCustomDiffuseLighting(info,diffuseBase,shadow);\\n#ifdef SPECULARTERM\\nspecularBase+=computeCustomSpecularLighting(info,specularBase,shadow);\\n#endif\\n#elif defined(LIGHTMAP) && defined(LIGHTMAPEXCLUDED{X})\\ndiffuseBase+=lightmapColor.rgb*shadow;\\n#ifdef SPECULARTERM\\n#ifndef LIGHTMAPNOSPECULAR{X}\\nspecularBase+=info.specular*shadow*lightmapColor.rgb;\\n#endif\\n#endif\\n#ifdef CLEARCOAT\\n#ifndef LIGHTMAPNOSPECULAR{X}\\nclearCoatBase+=info.clearCoat.rgb*shadow*lightmapColor.rgb;\\n#endif\\n#endif\\n#ifdef SHEEN\\n#ifndef LIGHTMAPNOSPECULAR{X}\\nsheenBase+=info.sheen.rgb*shadow;\\n#endif\\n#endif\\n#else\\n#ifdef SHADOWCSMDEBUG{X}\\ndiffuseBase+=info.diffuse*shadowDebug{X};\\n#else \\ndiffuseBase+=info.diffuse*shadow;\\n#endif\\n#ifdef SPECULARTERM\\nspecularBase+=info.specular*shadow;\\n#endif\\n#ifdef CLEARCOAT\\nclearCoatBase+=info.clearCoat.rgb*shadow;\\n#endif\\n#ifdef SHEEN\\nsheenBase+=info.sheen.rgb*shadow;\\n#endif\\n#endif\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$o] = shader$o;\nvar name$n = \"logDepthFragment\";\nvar shader$n = \"#ifdef LOGARITHMICDEPTH\\ngl_FragDepthEXT=log2(vFragmentDepth)*logarithmicDepthConstant*0.5;\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$n] = shader$n;\nvar name$m = \"fogFragment\";\nvar shader$m = \"#ifdef FOG\\nfloat fog=CalcFogFactor();\\n#ifdef PBR\\nfog=toLinearSpace(fog);\\n#endif\\ncolor.rgb=mix(vFogColor,color.rgb,fog);\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$m] = shader$m;\nvar name$l = \"defaultPixelShader\";\nvar shader$l = \"#include<__decl__defaultFragment>\\n#if defined(BUMP) || !defined(NORMAL)\\n#extension GL_OES_standard_derivatives : enable\\n#endif\\n#include<prePassDeclaration>[SCENE_MRT_COUNT]\\n#include<oitDeclaration>\\n#define CUSTOM_FRAGMENT_BEGIN\\n#ifdef LOGARITHMICDEPTH\\n#extension GL_EXT_frag_depth : enable\\n#endif\\n#define RECIPROCAL_PI2 0.15915494\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#if defined(VERTEXCOLOR) || defined(INSTANCESCOLOR)\\nvarying vec4 vColor;\\n#endif\\n#include<mainUVVaryingDeclaration>[1..7]\\n#include<helperFunctions>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#include<samplerFragmentDeclaration>(_DEFINENAME_,DIFFUSE,_VARYINGNAME_,Diffuse,_SAMPLERNAME_,diffuse)\\n#include<samplerFragmentDeclaration>(_DEFINENAME_,AMBIENT,_VARYINGNAME_,Ambient,_SAMPLERNAME_,ambient)\\n#include<samplerFragmentDeclaration>(_DEFINENAME_,OPACITY,_VARYINGNAME_,Opacity,_SAMPLERNAME_,opacity)\\n#include<samplerFragmentDeclaration>(_DEFINENAME_,EMISSIVE,_VARYINGNAME_,Emissive,_SAMPLERNAME_,emissive)\\n#include<samplerFragmentDeclaration>(_DEFINENAME_,LIGHTMAP,_VARYINGNAME_,Lightmap,_SAMPLERNAME_,lightmap)\\n#ifdef REFRACTION\\n#ifdef REFRACTIONMAP_3D\\nuniform samplerCube refractionCubeSampler;\\n#else\\nuniform sampler2D refraction2DSampler;\\n#endif\\n#endif\\n#if defined(SPECULARTERM)\\n#include<samplerFragmentDeclaration>(_DEFINENAME_,SPECULAR,_VARYINGNAME_,Specular,_SAMPLERNAME_,specular)\\n#endif\\n#include<fresnelFunction>\\n#ifdef REFLECTION\\n#ifdef REFLECTIONMAP_3D\\nuniform samplerCube reflectionCubeSampler;\\n#else\\nuniform sampler2D reflection2DSampler;\\n#endif\\n#ifdef REFLECTIONMAP_SKYBOX\\nvarying vec3 vPositionUVW;\\n#else\\n#if defined(REFLECTIONMAP_EQUIRECTANGULAR_FIXED) || defined(REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED)\\nvarying vec3 vDirectionW;\\n#endif\\n#endif\\n#include<reflectionFunction>\\n#endif\\n#include<imageProcessingDeclaration>\\n#include<imageProcessingFunctions>\\n#include<bumpFragmentMainFunctions>\\n#include<bumpFragmentFunctions>\\n#include<clipPlaneFragmentDeclaration>\\n#include<logDepthDeclaration>\\n#include<fogFragmentDeclaration>\\n#define CUSTOM_FRAGMENT_DEFINITIONS\\nvoid main(void) {\\n#define CUSTOM_FRAGMENT_MAIN_BEGIN\\n#include<oitFragment>\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition.xyz-vPositionW);\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\nfloat alpha=vDiffuseColor.a;\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=normalize(-cross(dFdx(vPositionW),dFdy(vPositionW)));\\n#endif\\n#include<bumpFragment>\\n#ifdef TWOSIDEDLIGHTING\\nnormalW=gl_FrontFacing ? normalW : -normalW;\\n#endif\\n#ifdef DIFFUSE\\nbaseColor=texture2D(diffuseSampler,vDiffuseUV+uvOffset);\\n#if defined(ALPHATEST) && !defined(ALPHATEST_AFTERALLALPHACOMPUTATIONS)\\nif (baseColor.a<alphaCutOff)\\ndiscard;\\n#endif\\n#ifdef ALPHAFROMDIFFUSE\\nalpha*=baseColor.a;\\n#endif\\n#define CUSTOM_FRAGMENT_UPDATE_ALPHA\\nbaseColor.rgb*=vDiffuseInfos.y;\\n#endif\\n#include<depthPrePass>\\n#if defined(VERTEXCOLOR) || defined(INSTANCESCOLOR)\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n#ifdef DETAIL\\nbaseColor.rgb=baseColor.rgb*2.0*mix(0.5,detailColor.r,vDetailInfos.y);\\n#endif\\n#define CUSTOM_FRAGMENT_UPDATE_DIFFUSE\\nvec3 baseAmbientColor=vec3(1.,1.,1.);\\n#ifdef AMBIENT\\nbaseAmbientColor=texture2D(ambientSampler,vAmbientUV+uvOffset).rgb*vAmbientInfos.y;\\n#endif\\n#define CUSTOM_FRAGMENT_BEFORE_LIGHTS\\n#ifdef SPECULARTERM\\nfloat glossiness=vSpecularColor.a;\\nvec3 specularColor=vSpecularColor.rgb;\\n#ifdef SPECULAR\\nvec4 specularMapColor=texture2D(specularSampler,vSpecularUV+uvOffset);\\nspecularColor=specularMapColor.rgb;\\n#ifdef GLOSSINESS\\nglossiness=glossiness*specularMapColor.a;\\n#endif\\n#endif\\n#else\\nfloat glossiness=0.;\\n#endif\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\n#ifdef SPECULARTERM\\nvec3 specularBase=vec3(0.,0.,0.);\\n#endif\\nfloat shadow=1.;\\n#ifdef LIGHTMAP\\nvec4 lightmapColor=texture2D(lightmapSampler,vLightmapUV+uvOffset);\\n#ifdef RGBDLIGHTMAP\\nlightmapColor.rgb=fromRGBD(lightmapColor);\\n#endif\\nlightmapColor.rgb*=vLightmapInfos.y;\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\nvec4 refractionColor=vec4(0.,0.,0.,1.);\\n#ifdef REFRACTION\\nvec3 refractionVector=normalize(refract(-viewDirectionW,normalW,vRefractionInfos.y));\\n#ifdef REFRACTIONMAP_3D\\n#ifdef USE_LOCAL_REFRACTIONMAP_CUBIC\\nrefractionVector=parallaxCorrectNormal(vPositionW,refractionVector,vRefractionSize,vRefractionPosition);\\n#endif\\nrefractionVector.y=refractionVector.y*vRefractionInfos.w;\\nif (dot(refractionVector,viewDirectionW)<1.0) {\\nrefractionColor=textureCube(refractionCubeSampler,refractionVector);\\n}\\n#else\\nvec3 vRefractionUVW=vec3(refractionMatrix*(view*vec4(vPositionW+refractionVector*vRefractionInfos.z,1.0)));\\nvec2 refractionCoords=vRefractionUVW.xy/vRefractionUVW.z;\\nrefractionCoords.y=1.0-refractionCoords.y;\\nrefractionColor=texture2D(refraction2DSampler,refractionCoords);\\n#endif\\n#ifdef RGBDREFRACTION\\nrefractionColor.rgb=fromRGBD(refractionColor);\\n#endif\\n#ifdef IS_REFRACTION_LINEAR\\nrefractionColor.rgb=toGammaSpace(refractionColor.rgb);\\n#endif\\nrefractionColor.rgb*=vRefractionInfos.x;\\n#endif\\nvec4 reflectionColor=vec4(0.,0.,0.,1.);\\n#ifdef REFLECTION\\nvec3 vReflectionUVW=computeReflectionCoords(vec4(vPositionW,1.0),normalW);\\n#ifdef REFLECTIONMAP_OPPOSITEZ\\nvReflectionUVW.z*=-1.0;\\n#endif\\n#ifdef REFLECTIONMAP_3D\\n#ifdef ROUGHNESS\\nfloat bias=vReflectionInfos.y;\\n#ifdef SPECULARTERM\\n#ifdef SPECULAR\\n#ifdef GLOSSINESS\\nbias*=(1.0-specularMapColor.a);\\n#endif\\n#endif\\n#endif\\nreflectionColor=textureCube(reflectionCubeSampler,vReflectionUVW,bias);\\n#else\\nreflectionColor=textureCube(reflectionCubeSampler,vReflectionUVW);\\n#endif\\n#else\\nvec2 coords=vReflectionUVW.xy;\\n#ifdef REFLECTIONMAP_PROJECTION\\ncoords/=vReflectionUVW.z;\\n#endif\\ncoords.y=1.0-coords.y;\\nreflectionColor=texture2D(reflection2DSampler,coords);\\n#endif\\n#ifdef RGBDREFLECTION\\nreflectionColor.rgb=fromRGBD(reflectionColor);\\n#endif\\n#ifdef IS_REFLECTION_LINEAR\\nreflectionColor.rgb=toGammaSpace(reflectionColor.rgb);\\n#endif\\nreflectionColor.rgb*=vReflectionInfos.x;\\n#ifdef REFLECTIONFRESNEL\\nfloat reflectionFresnelTerm=computeFresnelTerm(viewDirectionW,normalW,reflectionRightColor.a,reflectionLeftColor.a);\\n#ifdef REFLECTIONFRESNELFROMSPECULAR\\n#ifdef SPECULARTERM\\nreflectionColor.rgb*=specularColor.rgb*(1.0-reflectionFresnelTerm)+reflectionFresnelTerm*reflectionRightColor.rgb;\\n#else\\nreflectionColor.rgb*=reflectionLeftColor.rgb*(1.0-reflectionFresnelTerm)+reflectionFresnelTerm*reflectionRightColor.rgb;\\n#endif\\n#else\\nreflectionColor.rgb*=reflectionLeftColor.rgb*(1.0-reflectionFresnelTerm)+reflectionFresnelTerm*reflectionRightColor.rgb;\\n#endif\\n#endif\\n#endif\\n#ifdef REFRACTIONFRESNEL\\nfloat refractionFresnelTerm=computeFresnelTerm(viewDirectionW,normalW,refractionRightColor.a,refractionLeftColor.a);\\nrefractionColor.rgb*=refractionLeftColor.rgb*(1.0-refractionFresnelTerm)+refractionFresnelTerm*refractionRightColor.rgb;\\n#endif\\n#ifdef OPACITY\\nvec4 opacityMap=texture2D(opacitySampler,vOpacityUV+uvOffset);\\n#ifdef OPACITYRGB\\nopacityMap.rgb=opacityMap.rgb*vec3(0.3,0.59,0.11);\\nalpha*=(opacityMap.x+opacityMap.y+opacityMap.z)* vOpacityInfos.y;\\n#else\\nalpha*=opacityMap.a*vOpacityInfos.y;\\n#endif\\n#endif\\n#if defined(VERTEXALPHA) || defined(INSTANCESCOLOR)\\nalpha*=vColor.a;\\n#endif\\n#ifdef OPACITYFRESNEL\\nfloat opacityFresnelTerm=computeFresnelTerm(viewDirectionW,normalW,opacityParts.z,opacityParts.w);\\nalpha+=opacityParts.x*(1.0-opacityFresnelTerm)+opacityFresnelTerm*opacityParts.y;\\n#endif\\n#ifdef ALPHATEST\\n#ifdef ALPHATEST_AFTERALLALPHACOMPUTATIONS\\nif (alpha<alphaCutOff)\\ndiscard;\\n#endif\\n#ifndef ALPHABLEND\\nalpha=1.0;\\n#endif\\n#endif\\nvec3 emissiveColor=vEmissiveColor;\\n#ifdef EMISSIVE\\nemissiveColor+=texture2D(emissiveSampler,vEmissiveUV+uvOffset).rgb*vEmissiveInfos.y;\\n#endif\\n#ifdef EMISSIVEFRESNEL\\nfloat emissiveFresnelTerm=computeFresnelTerm(viewDirectionW,normalW,emissiveRightColor.a,emissiveLeftColor.a);\\nemissiveColor*=emissiveLeftColor.rgb*(1.0-emissiveFresnelTerm)+emissiveFresnelTerm*emissiveRightColor.rgb;\\n#endif\\n#ifdef DIFFUSEFRESNEL\\nfloat diffuseFresnelTerm=computeFresnelTerm(viewDirectionW,normalW,diffuseRightColor.a,diffuseLeftColor.a);\\ndiffuseBase*=diffuseLeftColor.rgb*(1.0-diffuseFresnelTerm)+diffuseFresnelTerm*diffuseRightColor.rgb;\\n#endif\\n#ifdef EMISSIVEASILLUMINATION\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor+vAmbientColor,0.0,1.0)*baseColor.rgb;\\n#else\\n#ifdef LINKEMISSIVEWITHDIFFUSE\\nvec3 finalDiffuse=clamp((diffuseBase+emissiveColor)*diffuseColor+vAmbientColor,0.0,1.0)*baseColor.rgb;\\n#else\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor+emissiveColor+vAmbientColor,0.0,1.0)*baseColor.rgb;\\n#endif\\n#endif\\n#ifdef SPECULARTERM\\nvec3 finalSpecular=specularBase*specularColor;\\n#ifdef SPECULAROVERALPHA\\nalpha=clamp(alpha+dot(finalSpecular,vec3(0.3,0.59,0.11)),0.,1.);\\n#endif\\n#else\\nvec3 finalSpecular=vec3(0.0);\\n#endif\\n#ifdef REFLECTIONOVERALPHA\\nalpha=clamp(alpha+dot(reflectionColor.rgb,vec3(0.3,0.59,0.11)),0.,1.);\\n#endif\\n#ifdef EMISSIVEASILLUMINATION\\nvec4 color=vec4(clamp(finalDiffuse*baseAmbientColor+finalSpecular+reflectionColor.rgb+emissiveColor+refractionColor.rgb,0.0,1.0),alpha);\\n#else\\nvec4 color=vec4(finalDiffuse*baseAmbientColor+finalSpecular+reflectionColor.rgb+refractionColor.rgb,alpha);\\n#endif\\n#ifdef LIGHTMAP\\n#ifndef LIGHTMAPEXCLUDED\\n#ifdef USELIGHTMAPASSHADOWMAP\\ncolor.rgb*=lightmapColor.rgb;\\n#else\\ncolor.rgb+=lightmapColor.rgb;\\n#endif\\n#endif\\n#endif\\n#define CUSTOM_FRAGMENT_BEFORE_FOG\\ncolor.rgb=max(color.rgb,0.);\\n#include<logDepthFragment>\\n#include<fogFragment>\\n#ifdef IMAGEPROCESSINGPOSTPROCESS\\ncolor.rgb=toLinearSpace(color.rgb);\\n#else\\n#ifdef IMAGEPROCESSING\\ncolor.rgb=toLinearSpace(color.rgb);\\ncolor=applyImageProcessing(color);\\n#endif\\n#endif\\ncolor.a*=visibility;\\n#ifdef PREMULTIPLYALPHA\\ncolor.rgb*=color.a;\\n#endif\\n#define CUSTOM_FRAGMENT_BEFORE_FRAGCOLOR\\n#ifdef PREPASS\\nfloat writeGeometryInfo=color.a>0.4 ? 1.0 : 0.0;\\ngl_FragData[0]=color; \\n#ifdef PREPASS_POSITION\\ngl_FragData[PREPASS_POSITION_INDEX]=vec4(vPositionW,writeGeometryInfo);\\n#endif\\n#ifdef PREPASS_VELOCITY\\nvec2 a=(vCurrentPosition.xy/vCurrentPosition.w)*0.5+0.5;\\nvec2 b=(vPreviousPosition.xy/vPreviousPosition.w)*0.5+0.5;\\nvec2 velocity=abs(a-b);\\nvelocity=vec2(pow(velocity.x,1.0/3.0),pow(velocity.y,1.0/3.0))*sign(a-b)*0.5+0.5;\\ngl_FragData[PREPASS_VELOCITY_INDEX]=vec4(velocity,0.0,writeGeometryInfo);\\n#endif\\n#ifdef PREPASS_IRRADIANCE\\ngl_FragData[PREPASS_IRRADIANCE_INDEX]=vec4(0.0,0.0,0.0,writeGeometryInfo); \\n#endif\\n#ifdef PREPASS_DEPTH\\ngl_FragData[PREPASS_DEPTH_INDEX]=vec4(vViewPos.z,0.0,0.0,writeGeometryInfo); \\n#endif\\n#ifdef PREPASS_NORMAL\\ngl_FragData[PREPASS_NORMAL_INDEX]=vec4((view*vec4(normalW,0.0)).rgb,writeGeometryInfo); \\n#endif\\n#ifdef PREPASS_ALBEDO_SQRT\\ngl_FragData[PREPASS_ALBEDO_SQRT_INDEX]=vec4(0.0,0.0,0.0,writeGeometryInfo); \\n#endif\\n#ifdef PREPASS_REFLECTIVITY\\n#if defined(SPECULARTERM)\\n#if defined(SPECULAR)\\ngl_FragData[PREPASS_REFLECTIVITY_INDEX]=vec4(specularMapColor)*writeGeometryInfo; \\n#else\\ngl_FragData[PREPASS_REFLECTIVITY_INDEX]=vec4(specularColor,1.0)*writeGeometryInfo;\\n#endif\\n#else\\ngl_FragData[PREPASS_REFLECTIVITY_INDEX]=vec4(0.0,0.0,0.0,1.0)*writeGeometryInfo;\\n#endif\\n#endif\\n#endif\\n#if !defined(PREPASS) || defined(WEBGL2)\\ngl_FragColor=color;\\n#endif\\n#if ORDER_INDEPENDENT_TRANSPARENCY\\nif (fragDepth==nearestDepth) {\\nfrontColor.rgb+=color.rgb*color.a*alphaMultiplier;\\nfrontColor.a=1.0-alphaMultiplier*(1.0-color.a);\\n} else {\\nbackColor+=color;\\n}\\n#endif\\n#define CUSTOM_FRAGMENT_MAIN_END\\n}\\n\";\nShaderStore.ShadersStore[name$l] = shader$l;\nvar name$k = \"defaultVertexDeclaration\";\nvar shader$k = \"uniform mat4 viewProjection;\\nuniform mat4 view;\\n#ifdef DIFFUSE\\nuniform mat4 diffuseMatrix;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#ifdef AMBIENT\\nuniform mat4 ambientMatrix;\\nuniform vec2 vAmbientInfos;\\n#endif\\n#ifdef OPACITY\\nuniform mat4 opacityMatrix;\\nuniform vec2 vOpacityInfos;\\n#endif\\n#ifdef EMISSIVE\\nuniform vec2 vEmissiveInfos;\\nuniform mat4 emissiveMatrix;\\n#endif\\n#ifdef LIGHTMAP\\nuniform vec2 vLightmapInfos;\\nuniform mat4 lightmapMatrix;\\n#endif\\n#if defined(SPECULAR) && defined(SPECULARTERM)\\nuniform vec2 vSpecularInfos;\\nuniform mat4 specularMatrix;\\n#endif\\n#ifdef BUMP\\nuniform vec3 vBumpInfos;\\nuniform mat4 bumpMatrix;\\n#endif\\n#ifdef REFLECTION\\nuniform mat4 reflectionMatrix;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n#ifdef DETAIL\\nuniform vec4 vDetailInfos;\\nuniform mat4 detailMatrix;\\n#endif\\n#define ADDITIONAL_VERTEX_DECLARATION\\n\";\nShaderStore.IncludesShadersStore[name$k] = shader$k;\nvar name$j = \"uvAttributeDeclaration\";\nvar shader$j = \"#ifdef UV{X}\\nattribute vec2 uv{X};\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$j] = shader$j;\nvar name$i = \"prePassVertexDeclaration\";\nvar shader$i = \"#ifdef PREPASS\\n#ifdef PREPASS_DEPTH\\nvarying vec3 vViewPos;\\n#endif\\n#ifdef PREPASS_VELOCITY\\nuniform mat4 previousViewProjection;\\nvarying vec4 vCurrentPosition;\\nvarying vec4 vPreviousPosition;\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$i] = shader$i;\nvar name$h = \"samplerVertexDeclaration\";\nvar shader$h = \"#if defined(_DEFINENAME_) && _DEFINENAME_DIRECTUV==0\\nvarying vec2 v_VARYINGNAME_UV;\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$h] = shader$h;\nvar name$g = \"bumpVertexDeclaration\";\nvar shader$g = \"#if defined(BUMP) || defined(PARALLAX) || defined(CLEARCOAT_BUMP) || defined(ANISOTROPIC)\\n#if defined(TANGENT) && defined(NORMAL) \\nvarying mat3 vTBN;\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$g] = shader$g;\nvar name$f = \"fogVertexDeclaration\";\nvar shader$f = \"#ifdef FOG\\nvarying vec3 vFogDistance;\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$f] = shader$f;\nvar name$e = \"lightVxFragmentDeclaration\";\nvar shader$e = \"#ifdef LIGHT{X}\\nuniform vec4 vLightData{X};\\nuniform vec4 vLightDiffuse{X};\\n#ifdef SPECULARTERM\\nuniform vec4 vLightSpecular{X};\\n#else\\nvec4 vLightSpecular{X}=vec4(0.);\\n#endif\\n#ifdef SHADOW{X}\\n#ifdef SHADOWCSM{X}\\nuniform mat4 lightMatrix{X}[SHADOWCSMNUM_CASCADES{X}];\\nvarying vec4 vPositionFromLight{X}[SHADOWCSMNUM_CASCADES{X}];\\nvarying float vDepthMetric{X}[SHADOWCSMNUM_CASCADES{X}];\\nvarying vec4 vPositionFromCamera{X};\\n#elif defined(SHADOWCUBE{X})\\n#else\\nvarying vec4 vPositionFromLight{X};\\nvarying float vDepthMetric{X};\\nuniform mat4 lightMatrix{X};\\n#endif\\nuniform vec4 shadowsInfo{X};\\nuniform vec2 depthValues{X};\\n#endif\\n#ifdef SPOTLIGHT{X}\\nuniform vec4 vLightDirection{X};\\nuniform vec4 vLightFalloff{X};\\n#elif defined(POINTLIGHT{X})\\nuniform vec4 vLightFalloff{X};\\n#elif defined(HEMILIGHT{X})\\nuniform vec3 vLightGround{X};\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$e] = shader$e;\nvar name$d = \"lightVxUboDeclaration\";\nvar shader$d = \"#ifdef LIGHT{X}\\nuniform Light{X}\\n{\\nvec4 vLightData;\\nvec4 vLightDiffuse;\\nvec4 vLightSpecular;\\n#ifdef SPOTLIGHT{X}\\nvec4 vLightDirection;\\nvec4 vLightFalloff;\\n#elif defined(POINTLIGHT{X})\\nvec4 vLightFalloff;\\n#elif defined(HEMILIGHT{X})\\nvec3 vLightGround;\\n#endif\\nvec4 shadowsInfo;\\nvec2 depthValues;\\n} light{X};\\n#ifdef SHADOW{X}\\n#ifdef SHADOWCSM{X}\\nuniform mat4 lightMatrix{X}[SHADOWCSMNUM_CASCADES{X}];\\nvarying vec4 vPositionFromLight{X}[SHADOWCSMNUM_CASCADES{X}];\\nvarying float vDepthMetric{X}[SHADOWCSMNUM_CASCADES{X}];\\nvarying vec4 vPositionFromCamera{X};\\n#elif defined(SHADOWCUBE{X})\\n#else\\nvarying vec4 vPositionFromLight{X};\\nvarying float vDepthMetric{X};\\nuniform mat4 lightMatrix{X};\\n#endif\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$d] = shader$d;\nvar name$c = \"prePassVertex\";\nvar shader$c = \"#ifdef PREPASS_DEPTH\\nvViewPos=(view*worldPos).rgb;\\n#endif\\n#if defined(PREPASS_VELOCITY) && defined(BONES_VELOCITY_ENABLED)\\nvCurrentPosition=viewProjection*worldPos;\\n#if NUM_BONE_INFLUENCERS>0\\nmat4 previousInfluence;\\npreviousInfluence=mPreviousBones[int(matricesIndices[0])]*matricesWeights[0];\\n#if NUM_BONE_INFLUENCERS>1\\npreviousInfluence+=mPreviousBones[int(matricesIndices[1])]*matricesWeights[1];\\n#endif \\n#if NUM_BONE_INFLUENCERS>2\\npreviousInfluence+=mPreviousBones[int(matricesIndices[2])]*matricesWeights[2];\\n#endif \\n#if NUM_BONE_INFLUENCERS>3\\npreviousInfluence+=mPreviousBones[int(matricesIndices[3])]*matricesWeights[3];\\n#endif\\n#if NUM_BONE_INFLUENCERS>4\\npreviousInfluence+=mPreviousBones[int(matricesIndicesExtra[0])]*matricesWeightsExtra[0];\\n#endif \\n#if NUM_BONE_INFLUENCERS>5\\npreviousInfluence+=mPreviousBones[int(matricesIndicesExtra[1])]*matricesWeightsExtra[1];\\n#endif \\n#if NUM_BONE_INFLUENCERS>6\\npreviousInfluence+=mPreviousBones[int(matricesIndicesExtra[2])]*matricesWeightsExtra[2];\\n#endif \\n#if NUM_BONE_INFLUENCERS>7\\npreviousInfluence+=mPreviousBones[int(matricesIndicesExtra[3])]*matricesWeightsExtra[3];\\n#endif\\nvPreviousPosition=previousViewProjection*finalPreviousWorld*previousInfluence*vec4(positionUpdated,1.0);\\n#else\\nvPreviousPosition=previousViewProjection*finalPreviousWorld*vec4(positionUpdated,1.0);\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$c] = shader$c;\nvar name$b = \"uvVariableDeclaration\";\nvar shader$b = \"#if !defined(UV{X}) && defined(MAINUV{X})\\nvec2 uv{X}=vec2(0.,0.);\\n#endif\\n#ifdef MAINUV{X}\\nvMainUV{X}=uv{X};\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$b] = shader$b;\nvar name$a = \"samplerVertexImplementation\";\nvar shader$a = \"#if defined(_DEFINENAME_) && _DEFINENAME_DIRECTUV==0\\nif (v_INFONAME_==0.)\\n{\\nv_VARYINGNAME_UV=vec2(_MATRIXNAME_Matrix*vec4(uvUpdated,1.0,0.0));\\n}\\n#ifdef UV2\\nelse if (v_INFONAME_==1.)\\n{\\nv_VARYINGNAME_UV=vec2(_MATRIXNAME_Matrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\n#ifdef UV3\\nelse if (v_INFONAME_==2.)\\n{\\nv_VARYINGNAME_UV=vec2(_MATRIXNAME_Matrix*vec4(uv3,1.0,0.0));\\n}\\n#endif\\n#ifdef UV4\\nelse if (v_INFONAME_==3.)\\n{\\nv_VARYINGNAME_UV=vec2(_MATRIXNAME_Matrix*vec4(uv4,1.0,0.0));\\n}\\n#endif\\n#ifdef UV5\\nelse if (v_INFONAME_==4.)\\n{\\nv_VARYINGNAME_UV=vec2(_MATRIXNAME_Matrix*vec4(uv5,1.0,0.0));\\n}\\n#endif\\n#ifdef UV6\\nelse if (v_INFONAME_==5.)\\n{\\nv_VARYINGNAME_UV=vec2(_MATRIXNAME_Matrix*vec4(uv6,1.0,0.0));\\n}\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$a] = shader$a;\nvar name$9 = \"bumpVertex\";\nvar shader$9 = \"#if defined(BUMP) || defined(PARALLAX) || defined(CLEARCOAT_BUMP) || defined(ANISOTROPIC)\\n#if defined(TANGENT) && defined(NORMAL)\\nvec3 tbnNormal=normalize(normalUpdated);\\nvec3 tbnTangent=normalize(tangentUpdated.xyz);\\nvec3 tbnBitangent=cross(tbnNormal,tbnTangent)*tangentUpdated.w;\\nvTBN=mat3(finalWorld)*mat3(tbnTangent,tbnBitangent,tbnNormal);\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$9] = shader$9;\nvar name$8 = \"fogVertex\";\nvar shader$8 = \"#ifdef FOG\\nvFogDistance=(view*worldPos).xyz;\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$8] = shader$8;\nvar name$7 = \"shadowsVertex\";\nvar shader$7 = \"#ifdef SHADOWS\\n#if defined(SHADOWCSM{X})\\nvPositionFromCamera{X}=view*worldPos;\\nfor (int i=0; i<SHADOWCSMNUM_CASCADES{X}; i++) {\\nvPositionFromLight{X}[i]=lightMatrix{X}[i]*worldPos;\\n#ifdef USE_REVERSE_DEPTHBUFFER\\nvDepthMetric{X}[i]=(-vPositionFromLight{X}[i].z+light{X}.depthValues.x)/light{X}.depthValues.y;\\n#else\\nvDepthMetric{X}[i]=(vPositionFromLight{X}[i].z+light{X}.depthValues.x)/light{X}.depthValues.y;\\n#endif\\n}\\n#elif defined(SHADOW{X}) && !defined(SHADOWCUBE{X})\\nvPositionFromLight{X}=lightMatrix{X}*worldPos;\\n#ifdef USE_REVERSE_DEPTHBUFFER\\nvDepthMetric{X}=(-vPositionFromLight{X}.z+light{X}.depthValues.x)/light{X}.depthValues.y;\\n#else\\nvDepthMetric{X}=(vPositionFromLight{X}.z+light{X}.depthValues.x)/light{X}.depthValues.y;\\n#endif\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$7] = shader$7;\nvar name$6 = \"vertexColorMixing\";\nvar shader$6 = \"#if defined(VERTEXCOLOR) || defined(INSTANCESCOLOR)\\nvColor=vec4(1.0);\\n#ifdef VERTEXCOLOR\\n#ifdef VERTEXALPHA\\nvColor*=color;\\n#else\\nvColor.rgb*=color.rgb;\\n#endif\\n#endif\\n#ifdef INSTANCESCOLOR\\nvColor*=instanceColor;\\n#endif\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$6] = shader$6;\nvar name$5 = \"pointCloudVertex\";\nvar shader$5 = \"#if defined(POINTSIZE) && !defined(WEBGPU)\\ngl_PointSize=pointSize;\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$5] = shader$5;\nvar name$4 = \"logDepthVertex\";\nvar shader$4 = \"#ifdef LOGARITHMICDEPTH\\nvFragmentDepth=1.0+gl_Position.w;\\ngl_Position.z=log2(max(0.000001,vFragmentDepth))*logarithmicDepthConstant;\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$4] = shader$4;\nvar name$3 = \"defaultVertexShader\";\nvar shader$3 = \"#include<__decl__defaultVertex>\\n#define CUSTOM_VERTEX_BEGIN\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef TANGENT\\nattribute vec4 tangent;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#include<uvAttributeDeclaration>[2..7]\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<helperFunctions>\\n#include<bonesDeclaration>\\n#include<bakedVertexAnimationDeclaration>\\n#include<instancesDeclaration>\\n#include<prePassVertexDeclaration>\\n#include<mainUVVaryingDeclaration>[1..7]\\n#include<samplerVertexDeclaration>(_DEFINENAME_,DIFFUSE,_VARYINGNAME_,Diffuse)\\n#include<samplerVertexDeclaration>(_DEFINENAME_,DETAIL,_VARYINGNAME_,Detail)\\n#include<samplerVertexDeclaration>(_DEFINENAME_,AMBIENT,_VARYINGNAME_,Ambient)\\n#include<samplerVertexDeclaration>(_DEFINENAME_,OPACITY,_VARYINGNAME_,Opacity)\\n#include<samplerVertexDeclaration>(_DEFINENAME_,EMISSIVE,_VARYINGNAME_,Emissive)\\n#include<samplerVertexDeclaration>(_DEFINENAME_,LIGHTMAP,_VARYINGNAME_,Lightmap)\\n#if defined(SPECULARTERM)\\n#include<samplerVertexDeclaration>(_DEFINENAME_,SPECULAR,_VARYINGNAME_,Specular)\\n#endif\\n#include<samplerVertexDeclaration>(_DEFINENAME_,BUMP,_VARYINGNAME_,Bump)\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#if defined(VERTEXCOLOR) || defined(INSTANCESCOLOR)\\nvarying vec4 vColor;\\n#endif\\n#include<bumpVertexDeclaration>\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightVxFragment>[0..maxSimultaneousLights]\\n#include<morphTargetsVertexGlobalDeclaration>\\n#include<morphTargetsVertexDeclaration>[0..maxSimultaneousMorphTargets]\\n#ifdef REFLECTIONMAP_SKYBOX\\nvarying vec3 vPositionUVW;\\n#endif\\n#if defined(REFLECTIONMAP_EQUIRECTANGULAR_FIXED) || defined(REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED)\\nvarying vec3 vDirectionW;\\n#endif\\n#include<logDepthDeclaration>\\n#define CUSTOM_VERTEX_DEFINITIONS\\nvoid main(void) {\\n#define CUSTOM_VERTEX_MAIN_BEGIN\\nvec3 positionUpdated=position;\\n#ifdef NORMAL\\nvec3 normalUpdated=normal;\\n#endif\\n#ifdef TANGENT\\nvec4 tangentUpdated=tangent;\\n#endif\\n#ifdef UV1\\nvec2 uvUpdated=uv;\\n#endif\\n#include<morphTargetsVertexGlobal>\\n#include<morphTargetsVertex>[0..maxSimultaneousMorphTargets]\\n#ifdef REFLECTIONMAP_SKYBOX\\nvPositionUVW=positionUpdated;\\n#endif\\n#define CUSTOM_VERTEX_UPDATE_POSITION\\n#define CUSTOM_VERTEX_UPDATE_NORMAL\\n#include<instancesVertex>\\n#if defined(PREPASS) && defined(PREPASS_VELOCITY) && !defined(BONES_VELOCITY_ENABLED)\\nvCurrentPosition=viewProjection*finalWorld*vec4(positionUpdated,1.0);\\nvPreviousPosition=previousViewProjection*finalPreviousWorld*vec4(positionUpdated,1.0);\\n#endif\\n#include<bonesVertex>\\n#include<bakedVertexAnimation>\\nvec4 worldPos=finalWorld*vec4(positionUpdated,1.0);\\n#ifdef NORMAL\\nmat3 normalWorld=mat3(finalWorld);\\n#if defined(INSTANCES) && defined(THIN_INSTANCES)\\nvNormalW=normalUpdated/vec3(dot(normalWorld[0],normalWorld[0]),dot(normalWorld[1],normalWorld[1]),dot(normalWorld[2],normalWorld[2]));\\nvNormalW=normalize(normalWorld*vNormalW);\\n#else\\n#ifdef NONUNIFORMSCALING\\nnormalWorld=transposeMat3(inverseMat3(normalWorld));\\n#endif\\nvNormalW=normalize(normalWorld*normalUpdated);\\n#endif\\n#endif\\n#define CUSTOM_VERTEX_UPDATE_WORLDPOS\\n#ifdef MULTIVIEW\\nif (gl_ViewID_OVR==0u) {\\ngl_Position=viewProjection*worldPos;\\n} else {\\ngl_Position=viewProjectionR*worldPos;\\n}\\n#else\\ngl_Position=viewProjection*worldPos;\\n#endif\\nvPositionW=vec3(worldPos);\\n#include<prePassVertex>\\n#if defined(REFLECTIONMAP_EQUIRECTANGULAR_FIXED) || defined(REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED)\\nvDirectionW=normalize(vec3(finalWorld*vec4(positionUpdated,0.0)));\\n#endif\\n#ifndef UV1\\nvec2 uvUpdated=vec2(0.,0.);\\n#endif\\n#ifdef MAINUV1\\nvMainUV1=uvUpdated;\\n#endif\\n#include<uvVariableDeclaration>[2..7]\\n#include<samplerVertexImplementation>(_DEFINENAME_,DIFFUSE,_VARYINGNAME_,Diffuse,_MATRIXNAME_,diffuse,_INFONAME_,DiffuseInfos.x)\\n#include<samplerVertexImplementation>(_DEFINENAME_,DETAIL,_VARYINGNAME_,Detail,_MATRIXNAME_,detail,_INFONAME_,DetailInfos.x)\\n#include<samplerVertexImplementation>(_DEFINENAME_,AMBIENT,_VARYINGNAME_,Ambient,_MATRIXNAME_,ambient,_INFONAME_,AmbientInfos.x)\\n#include<samplerVertexImplementation>(_DEFINENAME_,OPACITY,_VARYINGNAME_,Opacity,_MATRIXNAME_,opacity,_INFONAME_,OpacityInfos.x)\\n#include<samplerVertexImplementation>(_DEFINENAME_,EMISSIVE,_VARYINGNAME_,Emissive,_MATRIXNAME_,emissive,_INFONAME_,EmissiveInfos.x)\\n#include<samplerVertexImplementation>(_DEFINENAME_,LIGHTMAP,_VARYINGNAME_,Lightmap,_MATRIXNAME_,lightmap,_INFONAME_,LightmapInfos.x)\\n#if defined(SPECULARTERM)\\n#include<samplerVertexImplementation>(_DEFINENAME_,SPECULAR,_VARYINGNAME_,Specular,_MATRIXNAME_,specular,_INFONAME_,SpecularInfos.x)\\n#endif\\n#include<samplerVertexImplementation>(_DEFINENAME_,BUMP,_VARYINGNAME_,Bump,_MATRIXNAME_,bump,_INFONAME_,BumpInfos.x)\\n#include<bumpVertex>\\n#include<clipPlaneVertex>\\n#include<fogVertex>\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n#include<vertexColorMixing>\\n#include<pointCloudVertex>\\n#include<logDepthVertex>\\n#define CUSTOM_VERTEX_MAIN_END\\n}\\n\";\nShaderStore.ShadersStore[name$3] = shader$3;\nvar MaterialPluginManager = function() {\n  function MaterialPluginManager2(material) {\n    this._plugins = [];\n    this._activePlugins = [];\n    this._activePluginsForExtraEvents = [];\n    this._material = material;\n    this._scene = material.getScene();\n    this._engine = this._scene.getEngine();\n  }\n  MaterialPluginManager2.prototype._addPlugin = function(plugin) {\n    for (var i = 0; i < this._plugins.length; ++i) {\n      if (this._plugins[i].name === plugin.name) {\n        throw 'Plugin \"'.concat(plugin.name, '\" already added to the material \"').concat(this._material.name, '\"!');\n      }\n    }\n    if (this._material._uniformBufferLayoutBuilt) {\n      throw 'The plugin \"'.concat(plugin.name, `\" can't be added to the material \"`).concat(this._material.name, '\" because this material has already been used for rendering! Please add plugins to materials before any rendering with this material occurs.');\n    }\n    var pluginClassName = plugin.getClassName();\n    if (!MaterialPluginManager2._MaterialPluginClassToMainDefine[pluginClassName]) {\n      MaterialPluginManager2._MaterialPluginClassToMainDefine[pluginClassName] = \"MATERIALPLUGIN_\" + ++MaterialPluginManager2._MaterialPluginCounter;\n    }\n    this._material._callbackPluginEventGeneric = this._handlePluginEvent.bind(this);\n    this._plugins.push(plugin);\n    this._plugins.sort(function(a, b) {\n      return a.priority - b.priority;\n    });\n    this._codeInjectionPoints = {};\n    var defineNamesFromPlugins = {};\n    defineNamesFromPlugins[MaterialPluginManager2._MaterialPluginClassToMainDefine[pluginClassName]] = {\n      type: \"boolean\",\n      default: true\n    };\n    for (var _i = 0, _a = this._plugins; _i < _a.length; _i++) {\n      var plugin_1 = _a[_i];\n      plugin_1.collectDefines(defineNamesFromPlugins);\n      this._collectPointNames(\"vertex\", plugin_1.getCustomCode(\"vertex\"));\n      this._collectPointNames(\"fragment\", plugin_1.getCustomCode(\"fragment\"));\n    }\n    this._defineNamesFromPlugins = defineNamesFromPlugins;\n  };\n  MaterialPluginManager2.prototype._activatePlugin = function(plugin) {\n    if (this._activePlugins.indexOf(plugin) === -1) {\n      this._activePlugins.push(plugin);\n      this._activePlugins.sort(function(a, b) {\n        return a.priority - b.priority;\n      });\n      this._material._callbackPluginEventIsReadyForSubMesh = this._handlePluginEventIsReadyForSubMesh.bind(this);\n      this._material._callbackPluginEventPrepareDefines = this._handlePluginEventPrepareDefines.bind(this);\n      this._material._callbackPluginEventBindForSubMesh = this._handlePluginEventBindForSubMesh.bind(this);\n      if (plugin.registerForExtraEvents) {\n        this._activePluginsForExtraEvents.push(plugin);\n        this._activePluginsForExtraEvents.sort(function(a, b) {\n          return a.priority - b.priority;\n        });\n        this._material._callbackPluginEventHasRenderTargetTextures = this._handlePluginEventHasRenderTargetTextures.bind(this);\n        this._material._callbackPluginEventFillRenderTargetTextures = this._handlePluginEventFillRenderTargetTextures.bind(this);\n        this._material._callbackPluginEventHardBindForSubMesh = this._handlePluginEventHardBindForSubMesh.bind(this);\n      }\n    }\n  };\n  MaterialPluginManager2.prototype.getPlugin = function(name2) {\n    for (var i = 0; i < this._plugins.length; ++i) {\n      if (this._plugins[i].name === name2) {\n        return this._plugins[i];\n      }\n    }\n    return null;\n  };\n  MaterialPluginManager2.prototype._handlePluginEventIsReadyForSubMesh = function(eventData) {\n    var isReady = true;\n    for (var _i = 0, _a = this._activePlugins; _i < _a.length; _i++) {\n      var plugin = _a[_i];\n      isReady = isReady && plugin.isReadyForSubMesh(eventData.defines, this._scene, this._engine, eventData.subMesh);\n    }\n    eventData.isReadyForSubMesh = isReady;\n  };\n  MaterialPluginManager2.prototype._handlePluginEventPrepareDefines = function(eventData) {\n    for (var _i = 0, _a = this._activePlugins; _i < _a.length; _i++) {\n      var plugin = _a[_i];\n      plugin.prepareDefines(eventData.defines, this._scene, eventData.mesh);\n    }\n  };\n  MaterialPluginManager2.prototype._handlePluginEventHardBindForSubMesh = function(eventData) {\n    for (var _i = 0, _a = this._activePluginsForExtraEvents; _i < _a.length; _i++) {\n      var plugin = _a[_i];\n      plugin.hardBindForSubMesh(this._material._uniformBuffer, this._scene, this._engine, eventData.subMesh);\n    }\n  };\n  MaterialPluginManager2.prototype._handlePluginEventBindForSubMesh = function(eventData) {\n    for (var _i = 0, _a = this._activePlugins; _i < _a.length; _i++) {\n      var plugin = _a[_i];\n      plugin.bindForSubMesh(this._material._uniformBuffer, this._scene, this._engine, eventData.subMesh);\n    }\n  };\n  MaterialPluginManager2.prototype._handlePluginEventHasRenderTargetTextures = function(eventData) {\n    var hasRenderTargetTextures = false;\n    for (var _i = 0, _a = this._activePluginsForExtraEvents; _i < _a.length; _i++) {\n      var plugin = _a[_i];\n      hasRenderTargetTextures = plugin.hasRenderTargetTextures();\n      if (hasRenderTargetTextures) {\n        break;\n      }\n    }\n    eventData.hasRenderTargetTextures = hasRenderTargetTextures;\n  };\n  MaterialPluginManager2.prototype._handlePluginEventFillRenderTargetTextures = function(eventData) {\n    for (var _i = 0, _a = this._activePluginsForExtraEvents; _i < _a.length; _i++) {\n      var plugin = _a[_i];\n      plugin.fillRenderTargetTextures(eventData.renderTargets);\n    }\n  };\n  MaterialPluginManager2.prototype._handlePluginEvent = function(id, info) {\n    var _a, _b, _c;\n    switch (id) {\n      case MaterialPluginEvent.GetActiveTextures: {\n        var eventData = info;\n        for (var _i = 0, _d = this._activePlugins; _i < _d.length; _i++) {\n          var plugin = _d[_i];\n          plugin.getActiveTextures(eventData.activeTextures);\n        }\n        break;\n      }\n      case MaterialPluginEvent.GetAnimatables: {\n        var eventData = info;\n        for (var _e = 0, _f = this._activePlugins; _e < _f.length; _e++) {\n          var plugin = _f[_e];\n          plugin.getAnimatables(eventData.animatables);\n        }\n        break;\n      }\n      case MaterialPluginEvent.HasTexture: {\n        var eventData = info;\n        var hasTexture = false;\n        for (var _g = 0, _h = this._activePlugins; _g < _h.length; _g++) {\n          var plugin = _h[_g];\n          hasTexture = plugin.hasTexture(eventData.texture);\n          if (hasTexture) {\n            break;\n          }\n        }\n        eventData.hasTexture = hasTexture;\n        break;\n      }\n      case MaterialPluginEvent.Disposed: {\n        var eventData = info;\n        for (var _j = 0, _k = this._plugins; _j < _k.length; _j++) {\n          var plugin = _k[_j];\n          plugin.dispose(eventData.forceDisposeTextures);\n        }\n        break;\n      }\n      case MaterialPluginEvent.GetDefineNames: {\n        var eventData = info;\n        eventData.defineNames = this._defineNamesFromPlugins;\n        break;\n      }\n      case MaterialPluginEvent.PrepareEffect: {\n        var eventData = info;\n        for (var _l = 0, _m = this._activePlugins; _l < _m.length; _l++) {\n          var plugin = _m[_l];\n          eventData.fallbackRank = plugin.addFallbacks(eventData.defines, eventData.fallbacks, eventData.fallbackRank);\n        }\n        if (this._uniformList.length > 0) {\n          (_a = eventData.uniforms).push.apply(_a, this._uniformList);\n        }\n        if (this._samplerList.length > 0) {\n          (_b = eventData.samplers).push.apply(_b, this._samplerList);\n        }\n        if (this._uboList.length > 0) {\n          (_c = eventData.uniformBuffersNames).push.apply(_c, this._uboList);\n        }\n        eventData.customCode = this._injectCustomCode(eventData.customCode);\n        break;\n      }\n      case MaterialPluginEvent.PrepareUniformBuffer: {\n        var eventData = info;\n        this._uboDeclaration = \"\";\n        this._vertexDeclaration = \"\";\n        this._fragmentDeclaration = \"\";\n        this._uniformList = [];\n        this._samplerList = [];\n        this._uboList = [];\n        for (var _o = 0, _p = this._plugins; _o < _p.length; _o++) {\n          var plugin = _p[_o];\n          var uniforms = plugin.getUniforms();\n          if (uniforms) {\n            if (uniforms.ubo) {\n              for (var _q = 0, _r = uniforms.ubo; _q < _r.length; _q++) {\n                var uniform = _r[_q];\n                eventData.ubo.addUniform(uniform.name, uniform.size);\n                this._uboDeclaration += \"\".concat(uniform.type, \" \").concat(uniform.name, \";\\r\\n\");\n                this._uniformList.push(uniform.name);\n              }\n            }\n            if (uniforms.vertex) {\n              this._vertexDeclaration += uniforms.vertex + \"\\r\\n\";\n            }\n            if (uniforms.fragment) {\n              this._fragmentDeclaration += uniforms.fragment + \"\\r\\n\";\n            }\n          }\n          plugin.getSamplers(this._samplerList);\n          plugin.getUniformBuffersNames(this._uboList);\n        }\n        break;\n      }\n    }\n  };\n  MaterialPluginManager2.prototype._collectPointNames = function(shaderType, customCode) {\n    if (!customCode) {\n      return;\n    }\n    for (var pointName in customCode) {\n      if (!this._codeInjectionPoints[shaderType]) {\n        this._codeInjectionPoints[shaderType] = {};\n      }\n      this._codeInjectionPoints[shaderType][pointName] = true;\n    }\n  };\n  MaterialPluginManager2.prototype._injectCustomCode = function(existingCallback) {\n    var _this = this;\n    return function(shaderType, code) {\n      var _a;\n      if (existingCallback) {\n        code = existingCallback(shaderType, code);\n      }\n      if (_this._uboDeclaration) {\n        code = code.replace(\"#define ADDITIONAL_UBO_DECLARATION\", _this._uboDeclaration);\n      }\n      if (_this._vertexDeclaration) {\n        code = code.replace(\"#define ADDITIONAL_VERTEX_DECLARATION\", _this._vertexDeclaration);\n      }\n      if (_this._fragmentDeclaration) {\n        code = code.replace(\"#define ADDITIONAL_FRAGMENT_DECLARATION\", _this._fragmentDeclaration);\n      }\n      var points = (_a = _this._codeInjectionPoints) === null || _a === void 0 ? void 0 : _a[shaderType];\n      if (!points) {\n        return code;\n      }\n      for (var pointName in points) {\n        var injectedCode = \"\";\n        for (var _i = 0, _b = _this._activePlugins; _i < _b.length; _i++) {\n          var plugin = _b[_i];\n          var customCode = plugin.getCustomCode(shaderType);\n          if (customCode === null || customCode === void 0 ? void 0 : customCode[pointName]) {\n            injectedCode += customCode[pointName] + \"\\r\\n\";\n          }\n        }\n        if (injectedCode.length > 0) {\n          if (pointName.charAt(0) === \"!\") {\n            var rx = new RegExp(pointName.substring(1), \"g\");\n            var match = rx.exec(code);\n            while (match !== null) {\n              code = code.replace(match[0], injectedCode);\n              match = rx.exec(code);\n            }\n          } else {\n            var fullPointName = \"#define \" + pointName;\n            code = code.replace(fullPointName, \"\\r\\n\" + injectedCode + \"\\r\\n\" + fullPointName);\n          }\n        }\n      }\n      return code;\n    };\n  };\n  MaterialPluginManager2._MaterialPluginClassToMainDefine = {};\n  MaterialPluginManager2._MaterialPluginCounter = 0;\n  return MaterialPluginManager2;\n}();\nvar MaterialPluginBase = function() {\n  function MaterialPluginBase2(material, name2, priority, defines, addToPluginList, enable) {\n    if (addToPluginList === void 0) {\n      addToPluginList = true;\n    }\n    if (enable === void 0) {\n      enable = false;\n    }\n    this.priority = 500;\n    this.registerForExtraEvents = false;\n    this._material = material;\n    this.name = name2;\n    this.priority = priority;\n    if (!material.pluginManager) {\n      material.pluginManager = new MaterialPluginManager(material);\n    }\n    this._pluginDefineNames = defines;\n    this._pluginManager = material.pluginManager;\n    if (addToPluginList) {\n      this._pluginManager._addPlugin(this);\n    }\n    if (enable) {\n      this._enable(true);\n    }\n    this.markAllDefinesAsDirty = material._dirtyCallbacks[63];\n  }\n  MaterialPluginBase2.prototype._enable = function(enable) {\n    if (enable) {\n      this._pluginManager._activatePlugin(this);\n    }\n  };\n  MaterialPluginBase2.prototype.getClassName = function() {\n    return \"MaterialPluginBase\";\n  };\n  MaterialPluginBase2.prototype.isReadyForSubMesh = function(defines, scene, engine, subMesh) {\n    return true;\n  };\n  MaterialPluginBase2.prototype.hardBindForSubMesh = function(uniformBuffer, scene, engine, subMesh) {\n  };\n  MaterialPluginBase2.prototype.bindForSubMesh = function(uniformBuffer, scene, engine, subMesh) {\n  };\n  MaterialPluginBase2.prototype.dispose = function(forceDisposeTextures) {\n  };\n  MaterialPluginBase2.prototype.getCustomCode = function(shaderType) {\n    return null;\n  };\n  MaterialPluginBase2.prototype.collectDefines = function(defines) {\n    if (!this._pluginDefineNames) {\n      return;\n    }\n    for (var _i = 0, _a = Object.keys(this._pluginDefineNames); _i < _a.length; _i++) {\n      var key = _a[_i];\n      if (key[0] === \"_\") {\n        continue;\n      }\n      var type = typeof this._pluginDefineNames[key];\n      defines[key] = {\n        type: type === \"number\" ? \"number\" : type === \"string\" ? \"string\" : type === \"boolean\" ? \"boolean\" : \"object\",\n        default: this._pluginDefineNames[key]\n      };\n    }\n  };\n  MaterialPluginBase2.prototype.prepareDefines = function(defines, scene, mesh) {\n  };\n  MaterialPluginBase2.prototype.hasTexture = function(texture) {\n    return false;\n  };\n  MaterialPluginBase2.prototype.hasRenderTargetTextures = function() {\n    return false;\n  };\n  MaterialPluginBase2.prototype.fillRenderTargetTextures = function(renderTargets) {\n  };\n  MaterialPluginBase2.prototype.getActiveTextures = function(activeTextures) {\n  };\n  MaterialPluginBase2.prototype.getAnimatables = function(animatables) {\n  };\n  MaterialPluginBase2.prototype.addFallbacks = function(defines, fallbacks, currentRank) {\n    return currentRank;\n  };\n  MaterialPluginBase2.prototype.getSamplers = function(samplers) {\n  };\n  MaterialPluginBase2.prototype.getUniformBuffersNames = function(ubos) {\n  };\n  MaterialPluginBase2.prototype.getUniforms = function() {\n    return {};\n  };\n  MaterialPluginBase2.prototype.copyTo = function(plugin) {\n    SerializationHelper.Clone(function() {\n      return plugin;\n    }, this);\n  };\n  MaterialPluginBase2.prototype.serialize = function() {\n    return SerializationHelper.Serialize(this);\n  };\n  MaterialPluginBase2.prototype.parse = function(source, scene, rootUrl) {\n    var _this = this;\n    SerializationHelper.Parse(function() {\n      return _this;\n    }, source, scene, rootUrl);\n  };\n  __decorate([\n    serialize()\n  ], MaterialPluginBase2.prototype, \"name\", void 0);\n  __decorate([\n    serialize()\n  ], MaterialPluginBase2.prototype, \"priority\", void 0);\n  __decorate([\n    serialize()\n  ], MaterialPluginBase2.prototype, \"registerForExtraEvents\", void 0);\n  return MaterialPluginBase2;\n}();\nvar MaterialDetailMapDefines = function(_super) {\n  __extends(MaterialDetailMapDefines2, _super);\n  function MaterialDetailMapDefines2() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.DETAIL = false;\n    _this.DETAILDIRECTUV = 0;\n    _this.DETAIL_NORMALBLENDMETHOD = 0;\n    return _this;\n  }\n  return MaterialDetailMapDefines2;\n}(MaterialDefines);\nvar DetailMapConfiguration = function(_super) {\n  __extends(DetailMapConfiguration2, _super);\n  function DetailMapConfiguration2(material, addToPluginList) {\n    if (addToPluginList === void 0) {\n      addToPluginList = true;\n    }\n    var _this = _super.call(this, material, \"DetailMap\", 140, new MaterialDetailMapDefines(), addToPluginList) || this;\n    _this._texture = null;\n    _this.diffuseBlendLevel = 1;\n    _this.roughnessBlendLevel = 1;\n    _this.bumpLevel = 1;\n    _this._normalBlendMethod = Material.MATERIAL_NORMALBLENDMETHOD_WHITEOUT;\n    _this._isEnabled = false;\n    _this.isEnabled = false;\n    _this._internalMarkAllSubMeshesAsTexturesDirty = material._dirtyCallbacks[1];\n    return _this;\n  }\n  DetailMapConfiguration2.prototype._markAllSubMeshesAsTexturesDirty = function() {\n    this._enable(this._isEnabled);\n    this._internalMarkAllSubMeshesAsTexturesDirty();\n  };\n  DetailMapConfiguration2.prototype.isReadyForSubMesh = function(defines, scene, engine) {\n    if (!this._isEnabled) {\n      return true;\n    }\n    if (defines._areTexturesDirty && scene.texturesEnabled) {\n      if (engine.getCaps().standardDerivatives && this._texture && MaterialFlags.DetailTextureEnabled) {\n        if (!this._texture.isReady()) {\n          return false;\n        }\n      }\n    }\n    return true;\n  };\n  DetailMapConfiguration2.prototype.prepareDefines = function(defines, scene) {\n    if (this._isEnabled) {\n      defines.DETAIL_NORMALBLENDMETHOD = this._normalBlendMethod;\n      var engine = scene.getEngine();\n      if (defines._areTexturesDirty) {\n        if (engine.getCaps().standardDerivatives && this._texture && MaterialFlags.DetailTextureEnabled && this._isEnabled) {\n          MaterialHelper.PrepareDefinesForMergedUV(this._texture, defines, \"DETAIL\");\n          defines.DETAIL_NORMALBLENDMETHOD = this._normalBlendMethod;\n        } else {\n          defines.DETAIL = false;\n        }\n      }\n    } else {\n      defines.DETAIL = false;\n    }\n  };\n  DetailMapConfiguration2.prototype.bindForSubMesh = function(uniformBuffer, scene) {\n    if (!this._isEnabled) {\n      return;\n    }\n    var isFrozen = this._material.isFrozen;\n    if (!uniformBuffer.useUbo || !isFrozen || !uniformBuffer.isSync) {\n      if (this._texture && MaterialFlags.DetailTextureEnabled) {\n        uniformBuffer.updateFloat4(\"vDetailInfos\", this._texture.coordinatesIndex, this.diffuseBlendLevel, this.bumpLevel, this.roughnessBlendLevel);\n        MaterialHelper.BindTextureMatrix(this._texture, uniformBuffer, \"detail\");\n      }\n    }\n    if (scene.texturesEnabled) {\n      if (this._texture && MaterialFlags.DetailTextureEnabled) {\n        uniformBuffer.setTexture(\"detailSampler\", this._texture);\n      }\n    }\n  };\n  DetailMapConfiguration2.prototype.hasTexture = function(texture) {\n    if (this._texture === texture) {\n      return true;\n    }\n    return false;\n  };\n  DetailMapConfiguration2.prototype.getActiveTextures = function(activeTextures) {\n    if (this._texture) {\n      activeTextures.push(this._texture);\n    }\n  };\n  DetailMapConfiguration2.prototype.getAnimatables = function(animatables) {\n    if (this._texture && this._texture.animations && this._texture.animations.length > 0) {\n      animatables.push(this._texture);\n    }\n  };\n  DetailMapConfiguration2.prototype.dispose = function(forceDisposeTextures) {\n    var _a;\n    if (forceDisposeTextures) {\n      (_a = this._texture) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n  };\n  DetailMapConfiguration2.prototype.getClassName = function() {\n    return \"DetailMapConfiguration\";\n  };\n  DetailMapConfiguration2.prototype.getSamplers = function(samplers) {\n    samplers.push(\"detailSampler\");\n  };\n  DetailMapConfiguration2.prototype.getUniforms = function() {\n    return {\n      ubo: [\n        { name: \"vDetailInfos\", size: 4, type: \"vec4\" },\n        { name: \"detailMatrix\", size: 16, type: \"mat4\" }\n      ]\n    };\n  };\n  __decorate([\n    serializeAsTexture(\"detailTexture\"),\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], DetailMapConfiguration2.prototype, \"texture\", void 0);\n  __decorate([\n    serialize()\n  ], DetailMapConfiguration2.prototype, \"diffuseBlendLevel\", void 0);\n  __decorate([\n    serialize()\n  ], DetailMapConfiguration2.prototype, \"roughnessBlendLevel\", void 0);\n  __decorate([\n    serialize()\n  ], DetailMapConfiguration2.prototype, \"bumpLevel\", void 0);\n  __decorate([\n    serialize(),\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], DetailMapConfiguration2.prototype, \"normalBlendMethod\", void 0);\n  __decorate([\n    serialize(),\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], DetailMapConfiguration2.prototype, \"isEnabled\", void 0);\n  return DetailMapConfiguration2;\n}(MaterialPluginBase);\nvar onCreatedEffectParameters = { effect: null, subMesh: null };\nvar StandardMaterialDefines = function(_super) {\n  __extends(StandardMaterialDefines2, _super);\n  function StandardMaterialDefines2(externalProperties) {\n    var _this = _super.call(this, externalProperties) || this;\n    _this.MAINUV1 = false;\n    _this.MAINUV2 = false;\n    _this.MAINUV3 = false;\n    _this.MAINUV4 = false;\n    _this.MAINUV5 = false;\n    _this.MAINUV6 = false;\n    _this.DIFFUSE = false;\n    _this.DIFFUSEDIRECTUV = 0;\n    _this.BAKED_VERTEX_ANIMATION_TEXTURE = false;\n    _this.AMBIENT = false;\n    _this.AMBIENTDIRECTUV = 0;\n    _this.OPACITY = false;\n    _this.OPACITYDIRECTUV = 0;\n    _this.OPACITYRGB = false;\n    _this.REFLECTION = false;\n    _this.EMISSIVE = false;\n    _this.EMISSIVEDIRECTUV = 0;\n    _this.SPECULAR = false;\n    _this.SPECULARDIRECTUV = 0;\n    _this.BUMP = false;\n    _this.BUMPDIRECTUV = 0;\n    _this.PARALLAX = false;\n    _this.PARALLAXOCCLUSION = false;\n    _this.SPECULAROVERALPHA = false;\n    _this.CLIPPLANE = false;\n    _this.CLIPPLANE2 = false;\n    _this.CLIPPLANE3 = false;\n    _this.CLIPPLANE4 = false;\n    _this.CLIPPLANE5 = false;\n    _this.CLIPPLANE6 = false;\n    _this.ALPHATEST = false;\n    _this.DEPTHPREPASS = false;\n    _this.ALPHAFROMDIFFUSE = false;\n    _this.POINTSIZE = false;\n    _this.FOG = false;\n    _this.SPECULARTERM = false;\n    _this.DIFFUSEFRESNEL = false;\n    _this.OPACITYFRESNEL = false;\n    _this.REFLECTIONFRESNEL = false;\n    _this.REFRACTIONFRESNEL = false;\n    _this.EMISSIVEFRESNEL = false;\n    _this.FRESNEL = false;\n    _this.NORMAL = false;\n    _this.TANGENT = false;\n    _this.UV1 = false;\n    _this.UV2 = false;\n    _this.UV3 = false;\n    _this.UV4 = false;\n    _this.UV5 = false;\n    _this.UV6 = false;\n    _this.VERTEXCOLOR = false;\n    _this.VERTEXALPHA = false;\n    _this.NUM_BONE_INFLUENCERS = 0;\n    _this.BonesPerMesh = 0;\n    _this.BONETEXTURE = false;\n    _this.BONES_VELOCITY_ENABLED = false;\n    _this.INSTANCES = false;\n    _this.THIN_INSTANCES = false;\n    _this.INSTANCESCOLOR = false;\n    _this.GLOSSINESS = false;\n    _this.ROUGHNESS = false;\n    _this.EMISSIVEASILLUMINATION = false;\n    _this.LINKEMISSIVEWITHDIFFUSE = false;\n    _this.REFLECTIONFRESNELFROMSPECULAR = false;\n    _this.LIGHTMAP = false;\n    _this.LIGHTMAPDIRECTUV = 0;\n    _this.OBJECTSPACE_NORMALMAP = false;\n    _this.USELIGHTMAPASSHADOWMAP = false;\n    _this.REFLECTIONMAP_3D = false;\n    _this.REFLECTIONMAP_SPHERICAL = false;\n    _this.REFLECTIONMAP_PLANAR = false;\n    _this.REFLECTIONMAP_CUBIC = false;\n    _this.USE_LOCAL_REFLECTIONMAP_CUBIC = false;\n    _this.USE_LOCAL_REFRACTIONMAP_CUBIC = false;\n    _this.REFLECTIONMAP_PROJECTION = false;\n    _this.REFLECTIONMAP_SKYBOX = false;\n    _this.REFLECTIONMAP_EXPLICIT = false;\n    _this.REFLECTIONMAP_EQUIRECTANGULAR = false;\n    _this.REFLECTIONMAP_EQUIRECTANGULAR_FIXED = false;\n    _this.REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED = false;\n    _this.REFLECTIONMAP_OPPOSITEZ = false;\n    _this.INVERTCUBICMAP = false;\n    _this.LOGARITHMICDEPTH = false;\n    _this.REFRACTION = false;\n    _this.REFRACTIONMAP_3D = false;\n    _this.REFLECTIONOVERALPHA = false;\n    _this.TWOSIDEDLIGHTING = false;\n    _this.SHADOWFLOAT = false;\n    _this.MORPHTARGETS = false;\n    _this.MORPHTARGETS_NORMAL = false;\n    _this.MORPHTARGETS_TANGENT = false;\n    _this.MORPHTARGETS_UV = false;\n    _this.NUM_MORPH_INFLUENCERS = 0;\n    _this.MORPHTARGETS_TEXTURE = false;\n    _this.NONUNIFORMSCALING = false;\n    _this.PREMULTIPLYALPHA = false;\n    _this.ALPHATEST_AFTERALLALPHACOMPUTATIONS = false;\n    _this.ALPHABLEND = true;\n    _this.PREPASS = false;\n    _this.PREPASS_IRRADIANCE = false;\n    _this.PREPASS_IRRADIANCE_INDEX = -1;\n    _this.PREPASS_ALBEDO_SQRT = false;\n    _this.PREPASS_ALBEDO_SQRT_INDEX = -1;\n    _this.PREPASS_DEPTH = false;\n    _this.PREPASS_DEPTH_INDEX = -1;\n    _this.PREPASS_NORMAL = false;\n    _this.PREPASS_NORMAL_INDEX = -1;\n    _this.PREPASS_POSITION = false;\n    _this.PREPASS_POSITION_INDEX = -1;\n    _this.PREPASS_VELOCITY = false;\n    _this.PREPASS_VELOCITY_INDEX = -1;\n    _this.PREPASS_REFLECTIVITY = false;\n    _this.PREPASS_REFLECTIVITY_INDEX = -1;\n    _this.SCENE_MRT_COUNT = 0;\n    _this.RGBDLIGHTMAP = false;\n    _this.RGBDREFLECTION = false;\n    _this.RGBDREFRACTION = false;\n    _this.IMAGEPROCESSING = false;\n    _this.VIGNETTE = false;\n    _this.VIGNETTEBLENDMODEMULTIPLY = false;\n    _this.VIGNETTEBLENDMODEOPAQUE = false;\n    _this.TONEMAPPING = false;\n    _this.TONEMAPPING_ACES = false;\n    _this.CONTRAST = false;\n    _this.COLORCURVES = false;\n    _this.COLORGRADING = false;\n    _this.COLORGRADING3D = false;\n    _this.SAMPLER3DGREENDEPTH = false;\n    _this.SAMPLER3DBGRMAP = false;\n    _this.IMAGEPROCESSINGPOSTPROCESS = false;\n    _this.SKIPFINALCOLORCLAMP = false;\n    _this.MULTIVIEW = false;\n    _this.ORDER_INDEPENDENT_TRANSPARENCY = false;\n    _this.ORDER_INDEPENDENT_TRANSPARENCY_16BITS = false;\n    _this.IS_REFLECTION_LINEAR = false;\n    _this.IS_REFRACTION_LINEAR = false;\n    _this.EXPOSURE = false;\n    _this.rebuild();\n    return _this;\n  }\n  StandardMaterialDefines2.prototype.setReflectionMode = function(modeToEnable) {\n    var modes = [\n      \"REFLECTIONMAP_CUBIC\",\n      \"REFLECTIONMAP_EXPLICIT\",\n      \"REFLECTIONMAP_PLANAR\",\n      \"REFLECTIONMAP_PROJECTION\",\n      \"REFLECTIONMAP_PROJECTION\",\n      \"REFLECTIONMAP_SKYBOX\",\n      \"REFLECTIONMAP_SPHERICAL\",\n      \"REFLECTIONMAP_EQUIRECTANGULAR\",\n      \"REFLECTIONMAP_EQUIRECTANGULAR_FIXED\",\n      \"REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED\"\n    ];\n    for (var _i = 0, modes_1 = modes; _i < modes_1.length; _i++) {\n      var mode = modes_1[_i];\n      this[mode] = mode === modeToEnable;\n    }\n  };\n  return StandardMaterialDefines2;\n}(MaterialDefines);\nvar StandardMaterial = function(_super) {\n  __extends(StandardMaterial2, _super);\n  function StandardMaterial2(name2, scene) {\n    var _this = _super.call(this, name2, scene) || this;\n    _this._diffuseTexture = null;\n    _this._ambientTexture = null;\n    _this._opacityTexture = null;\n    _this._reflectionTexture = null;\n    _this._emissiveTexture = null;\n    _this._specularTexture = null;\n    _this._bumpTexture = null;\n    _this._lightmapTexture = null;\n    _this._refractionTexture = null;\n    _this.ambientColor = new Color3(0, 0, 0);\n    _this.diffuseColor = new Color3(1, 1, 1);\n    _this.specularColor = new Color3(1, 1, 1);\n    _this.emissiveColor = new Color3(0, 0, 0);\n    _this.specularPower = 64;\n    _this._useAlphaFromDiffuseTexture = false;\n    _this._useEmissiveAsIllumination = false;\n    _this._linkEmissiveWithDiffuse = false;\n    _this._useSpecularOverAlpha = false;\n    _this._useReflectionOverAlpha = false;\n    _this._disableLighting = false;\n    _this._useObjectSpaceNormalMap = false;\n    _this._useParallax = false;\n    _this._useParallaxOcclusion = false;\n    _this.parallaxScaleBias = 0.05;\n    _this._roughness = 0;\n    _this.indexOfRefraction = 0.98;\n    _this.invertRefractionY = true;\n    _this.alphaCutOff = 0.4;\n    _this._useLightmapAsShadowmap = false;\n    _this._useReflectionFresnelFromSpecular = false;\n    _this._useGlossinessFromSpecularMapAlpha = false;\n    _this._maxSimultaneousLights = 4;\n    _this._invertNormalMapX = false;\n    _this._invertNormalMapY = false;\n    _this._twoSidedLighting = false;\n    _this._renderTargets = new SmartArray(16);\n    _this._worldViewProjectionMatrix = Matrix.Zero();\n    _this._globalAmbientColor = new Color3(0, 0, 0);\n    _this._cacheHasRenderTargetTextures = false;\n    _this.detailMap = new DetailMapConfiguration(_this);\n    _this._attachImageProcessingConfiguration(null);\n    _this.prePassConfiguration = new PrePassConfiguration();\n    _this.getRenderTargetTextures = function() {\n      _this._renderTargets.reset();\n      if (StandardMaterial2.ReflectionTextureEnabled && _this._reflectionTexture && _this._reflectionTexture.isRenderTarget) {\n        _this._renderTargets.push(_this._reflectionTexture);\n      }\n      if (StandardMaterial2.RefractionTextureEnabled && _this._refractionTexture && _this._refractionTexture.isRenderTarget) {\n        _this._renderTargets.push(_this._refractionTexture);\n      }\n      _this._eventInfo.renderTargets = _this._renderTargets;\n      _this._callbackPluginEventFillRenderTargetTextures(_this._eventInfo);\n      return _this._renderTargets;\n    };\n    return _this;\n  }\n  Object.defineProperty(StandardMaterial2.prototype, \"imageProcessingConfiguration\", {\n    get: function() {\n      return this._imageProcessingConfiguration;\n    },\n    set: function(value) {\n      this._attachImageProcessingConfiguration(value);\n      this._markAllSubMeshesAsTexturesDirty();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  StandardMaterial2.prototype._attachImageProcessingConfiguration = function(configuration) {\n    var _this = this;\n    if (configuration === this._imageProcessingConfiguration) {\n      return;\n    }\n    if (this._imageProcessingConfiguration && this._imageProcessingObserver) {\n      this._imageProcessingConfiguration.onUpdateParameters.remove(this._imageProcessingObserver);\n    }\n    if (!configuration) {\n      this._imageProcessingConfiguration = this.getScene().imageProcessingConfiguration;\n    } else {\n      this._imageProcessingConfiguration = configuration;\n    }\n    if (this._imageProcessingConfiguration) {\n      this._imageProcessingObserver = this._imageProcessingConfiguration.onUpdateParameters.add(function() {\n        _this._markAllSubMeshesAsImageProcessingDirty();\n      });\n    }\n  };\n  Object.defineProperty(StandardMaterial2.prototype, \"isPrePassCapable\", {\n    get: function() {\n      return !this.disableDepthWrite;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StandardMaterial2.prototype, \"cameraColorCurvesEnabled\", {\n    get: function() {\n      return this.imageProcessingConfiguration.colorCurvesEnabled;\n    },\n    set: function(value) {\n      this.imageProcessingConfiguration.colorCurvesEnabled = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StandardMaterial2.prototype, \"cameraColorGradingEnabled\", {\n    get: function() {\n      return this.imageProcessingConfiguration.colorGradingEnabled;\n    },\n    set: function(value) {\n      this.imageProcessingConfiguration.colorGradingEnabled = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StandardMaterial2.prototype, \"cameraToneMappingEnabled\", {\n    get: function() {\n      return this._imageProcessingConfiguration.toneMappingEnabled;\n    },\n    set: function(value) {\n      this._imageProcessingConfiguration.toneMappingEnabled = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StandardMaterial2.prototype, \"cameraExposure\", {\n    get: function() {\n      return this._imageProcessingConfiguration.exposure;\n    },\n    set: function(value) {\n      this._imageProcessingConfiguration.exposure = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StandardMaterial2.prototype, \"cameraContrast\", {\n    get: function() {\n      return this._imageProcessingConfiguration.contrast;\n    },\n    set: function(value) {\n      this._imageProcessingConfiguration.contrast = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StandardMaterial2.prototype, \"cameraColorGradingTexture\", {\n    get: function() {\n      return this._imageProcessingConfiguration.colorGradingTexture;\n    },\n    set: function(value) {\n      this._imageProcessingConfiguration.colorGradingTexture = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StandardMaterial2.prototype, \"cameraColorCurves\", {\n    get: function() {\n      return this._imageProcessingConfiguration.colorCurves;\n    },\n    set: function(value) {\n      this._imageProcessingConfiguration.colorCurves = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StandardMaterial2.prototype, \"canRenderToMRT\", {\n    get: function() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StandardMaterial2.prototype, \"hasRenderTargetTextures\", {\n    get: function() {\n      if (StandardMaterial2.ReflectionTextureEnabled && this._reflectionTexture && this._reflectionTexture.isRenderTarget) {\n        return true;\n      }\n      if (StandardMaterial2.RefractionTextureEnabled && this._refractionTexture && this._refractionTexture.isRenderTarget) {\n        return true;\n      }\n      return this._cacheHasRenderTargetTextures;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  StandardMaterial2.prototype.getClassName = function() {\n    return \"StandardMaterial\";\n  };\n  Object.defineProperty(StandardMaterial2.prototype, \"useLogarithmicDepth\", {\n    get: function() {\n      return this._useLogarithmicDepth;\n    },\n    set: function(value) {\n      this._useLogarithmicDepth = value && this.getScene().getEngine().getCaps().fragmentDepthSupported;\n      this._markAllSubMeshesAsMiscDirty();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  StandardMaterial2.prototype.needAlphaBlending = function() {\n    if (this._disableAlphaBlending) {\n      return false;\n    }\n    return this.alpha < 1 || this._opacityTexture != null || this._shouldUseAlphaFromDiffuseTexture() || this._opacityFresnelParameters && this._opacityFresnelParameters.isEnabled;\n  };\n  StandardMaterial2.prototype.needAlphaTesting = function() {\n    if (this._forceAlphaTest) {\n      return true;\n    }\n    return this._hasAlphaChannel() && (this._transparencyMode == null || this._transparencyMode === Material.MATERIAL_ALPHATEST);\n  };\n  StandardMaterial2.prototype._shouldUseAlphaFromDiffuseTexture = function() {\n    return this._diffuseTexture != null && this._diffuseTexture.hasAlpha && this._useAlphaFromDiffuseTexture && this._transparencyMode !== Material.MATERIAL_OPAQUE;\n  };\n  StandardMaterial2.prototype._hasAlphaChannel = function() {\n    return this._diffuseTexture != null && this._diffuseTexture.hasAlpha || this._opacityTexture != null;\n  };\n  StandardMaterial2.prototype.getAlphaTestTexture = function() {\n    return this._diffuseTexture;\n  };\n  StandardMaterial2.prototype.isReadyForSubMesh = function(mesh, subMesh, useInstances) {\n    if (useInstances === void 0) {\n      useInstances = false;\n    }\n    if (!this._uniformBufferLayoutBuilt) {\n      this.buildUniformLayout();\n    }\n    if (subMesh.effect && this.isFrozen) {\n      if (subMesh.effect._wasPreviouslyReady) {\n        return true;\n      }\n    }\n    if (!subMesh.materialDefines) {\n      this._callbackPluginEventGeneric(MaterialPluginEvent.GetDefineNames, this._eventInfo);\n      subMesh.materialDefines = new StandardMaterialDefines(this._eventInfo.defineNames);\n    }\n    var scene = this.getScene();\n    var defines = subMesh.materialDefines;\n    if (this._isReadyForSubMesh(subMesh)) {\n      return true;\n    }\n    var engine = scene.getEngine();\n    defines._needNormals = MaterialHelper.PrepareDefinesForLights(scene, mesh, defines, true, this._maxSimultaneousLights, this._disableLighting);\n    MaterialHelper.PrepareDefinesForMultiview(scene, defines);\n    var oit = this.needAlphaBlendingForMesh(mesh) && this.getScene().useOrderIndependentTransparency;\n    MaterialHelper.PrepareDefinesForPrePass(scene, defines, this.canRenderToMRT && !oit);\n    MaterialHelper.PrepareDefinesForOIT(scene, defines, oit);\n    if (defines._areTexturesDirty) {\n      this._eventInfo.hasRenderTargetTextures = false;\n      this._callbackPluginEventHasRenderTargetTextures(this._eventInfo);\n      this._cacheHasRenderTargetTextures = this._eventInfo.hasRenderTargetTextures;\n      defines._needUVs = false;\n      for (var i = 1; i <= 6; ++i) {\n        defines[\"MAINUV\" + i] = false;\n      }\n      if (scene.texturesEnabled) {\n        if (this._diffuseTexture && StandardMaterial2.DiffuseTextureEnabled) {\n          if (!this._diffuseTexture.isReadyOrNotBlocking()) {\n            return false;\n          } else {\n            MaterialHelper.PrepareDefinesForMergedUV(this._diffuseTexture, defines, \"DIFFUSE\");\n          }\n        } else {\n          defines.DIFFUSE = false;\n        }\n        if (this._ambientTexture && StandardMaterial2.AmbientTextureEnabled) {\n          if (!this._ambientTexture.isReadyOrNotBlocking()) {\n            return false;\n          } else {\n            MaterialHelper.PrepareDefinesForMergedUV(this._ambientTexture, defines, \"AMBIENT\");\n          }\n        } else {\n          defines.AMBIENT = false;\n        }\n        if (this._opacityTexture && StandardMaterial2.OpacityTextureEnabled) {\n          if (!this._opacityTexture.isReadyOrNotBlocking()) {\n            return false;\n          } else {\n            MaterialHelper.PrepareDefinesForMergedUV(this._opacityTexture, defines, \"OPACITY\");\n            defines.OPACITYRGB = this._opacityTexture.getAlphaFromRGB;\n          }\n        } else {\n          defines.OPACITY = false;\n        }\n        if (this._reflectionTexture && StandardMaterial2.ReflectionTextureEnabled) {\n          if (!this._reflectionTexture.isReadyOrNotBlocking()) {\n            return false;\n          } else {\n            defines._needNormals = true;\n            defines.REFLECTION = true;\n            defines.ROUGHNESS = this._roughness > 0;\n            defines.REFLECTIONOVERALPHA = this._useReflectionOverAlpha;\n            defines.INVERTCUBICMAP = this._reflectionTexture.coordinatesMode === Texture.INVCUBIC_MODE;\n            defines.REFLECTIONMAP_3D = this._reflectionTexture.isCube;\n            defines.REFLECTIONMAP_OPPOSITEZ = defines.REFLECTIONMAP_3D && this.getScene().useRightHandedSystem ? !this._reflectionTexture.invertZ : this._reflectionTexture.invertZ;\n            defines.RGBDREFLECTION = this._reflectionTexture.isRGBD;\n            switch (this._reflectionTexture.coordinatesMode) {\n              case Texture.EXPLICIT_MODE:\n                defines.setReflectionMode(\"REFLECTIONMAP_EXPLICIT\");\n                break;\n              case Texture.PLANAR_MODE:\n                defines.setReflectionMode(\"REFLECTIONMAP_PLANAR\");\n                break;\n              case Texture.PROJECTION_MODE:\n                defines.setReflectionMode(\"REFLECTIONMAP_PROJECTION\");\n                break;\n              case Texture.SKYBOX_MODE:\n                defines.setReflectionMode(\"REFLECTIONMAP_SKYBOX\");\n                break;\n              case Texture.SPHERICAL_MODE:\n                defines.setReflectionMode(\"REFLECTIONMAP_SPHERICAL\");\n                break;\n              case Texture.EQUIRECTANGULAR_MODE:\n                defines.setReflectionMode(\"REFLECTIONMAP_EQUIRECTANGULAR\");\n                break;\n              case Texture.FIXED_EQUIRECTANGULAR_MODE:\n                defines.setReflectionMode(\"REFLECTIONMAP_EQUIRECTANGULAR_FIXED\");\n                break;\n              case Texture.FIXED_EQUIRECTANGULAR_MIRRORED_MODE:\n                defines.setReflectionMode(\"REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED\");\n                break;\n              case Texture.CUBIC_MODE:\n              case Texture.INVCUBIC_MODE:\n              default:\n                defines.setReflectionMode(\"REFLECTIONMAP_CUBIC\");\n                break;\n            }\n            defines.USE_LOCAL_REFLECTIONMAP_CUBIC = this._reflectionTexture.boundingBoxSize ? true : false;\n          }\n        } else {\n          defines.REFLECTION = false;\n          defines.REFLECTIONMAP_OPPOSITEZ = false;\n        }\n        if (this._emissiveTexture && StandardMaterial2.EmissiveTextureEnabled) {\n          if (!this._emissiveTexture.isReadyOrNotBlocking()) {\n            return false;\n          } else {\n            MaterialHelper.PrepareDefinesForMergedUV(this._emissiveTexture, defines, \"EMISSIVE\");\n          }\n        } else {\n          defines.EMISSIVE = false;\n        }\n        if (this._lightmapTexture && StandardMaterial2.LightmapTextureEnabled) {\n          if (!this._lightmapTexture.isReadyOrNotBlocking()) {\n            return false;\n          } else {\n            MaterialHelper.PrepareDefinesForMergedUV(this._lightmapTexture, defines, \"LIGHTMAP\");\n            defines.USELIGHTMAPASSHADOWMAP = this._useLightmapAsShadowmap;\n            defines.RGBDLIGHTMAP = this._lightmapTexture.isRGBD;\n          }\n        } else {\n          defines.LIGHTMAP = false;\n        }\n        if (this._specularTexture && StandardMaterial2.SpecularTextureEnabled) {\n          if (!this._specularTexture.isReadyOrNotBlocking()) {\n            return false;\n          } else {\n            MaterialHelper.PrepareDefinesForMergedUV(this._specularTexture, defines, \"SPECULAR\");\n            defines.GLOSSINESS = this._useGlossinessFromSpecularMapAlpha;\n          }\n        } else {\n          defines.SPECULAR = false;\n        }\n        if (scene.getEngine().getCaps().standardDerivatives && this._bumpTexture && StandardMaterial2.BumpTextureEnabled) {\n          if (!this._bumpTexture.isReady()) {\n            return false;\n          } else {\n            MaterialHelper.PrepareDefinesForMergedUV(this._bumpTexture, defines, \"BUMP\");\n            defines.PARALLAX = this._useParallax;\n            defines.PARALLAXOCCLUSION = this._useParallaxOcclusion;\n          }\n          defines.OBJECTSPACE_NORMALMAP = this._useObjectSpaceNormalMap;\n        } else {\n          defines.BUMP = false;\n        }\n        if (this._refractionTexture && StandardMaterial2.RefractionTextureEnabled) {\n          if (!this._refractionTexture.isReadyOrNotBlocking()) {\n            return false;\n          } else {\n            defines._needUVs = true;\n            defines.REFRACTION = true;\n            defines.REFRACTIONMAP_3D = this._refractionTexture.isCube;\n            defines.RGBDREFRACTION = this._refractionTexture.isRGBD;\n            defines.USE_LOCAL_REFRACTIONMAP_CUBIC = this._refractionTexture.boundingBoxSize ? true : false;\n          }\n        } else {\n          defines.REFRACTION = false;\n        }\n        defines.TWOSIDEDLIGHTING = !this._backFaceCulling && this._twoSidedLighting;\n      } else {\n        defines.DIFFUSE = false;\n        defines.AMBIENT = false;\n        defines.OPACITY = false;\n        defines.REFLECTION = false;\n        defines.EMISSIVE = false;\n        defines.LIGHTMAP = false;\n        defines.BUMP = false;\n        defines.REFRACTION = false;\n      }\n      defines.ALPHAFROMDIFFUSE = this._shouldUseAlphaFromDiffuseTexture();\n      defines.EMISSIVEASILLUMINATION = this._useEmissiveAsIllumination;\n      defines.LINKEMISSIVEWITHDIFFUSE = this._linkEmissiveWithDiffuse;\n      defines.SPECULAROVERALPHA = this._useSpecularOverAlpha;\n      defines.PREMULTIPLYALPHA = this.alphaMode === 7 || this.alphaMode === 8;\n      defines.ALPHATEST_AFTERALLALPHACOMPUTATIONS = this.transparencyMode !== null;\n      defines.ALPHABLEND = this.transparencyMode === null || this.needAlphaBlendingForMesh(mesh);\n    }\n    this._eventInfo.isReadyForSubMesh = true;\n    this._eventInfo.defines = defines;\n    this._callbackPluginEventIsReadyForSubMesh(this._eventInfo);\n    if (!this._eventInfo.isReadyForSubMesh) {\n      return false;\n    }\n    if (defines._areImageProcessingDirty && this._imageProcessingConfiguration) {\n      if (!this._imageProcessingConfiguration.isReady()) {\n        return false;\n      }\n      this._imageProcessingConfiguration.prepareDefines(defines);\n      defines.IS_REFLECTION_LINEAR = this.reflectionTexture != null && !this.reflectionTexture.gammaSpace;\n      defines.IS_REFRACTION_LINEAR = this.refractionTexture != null && !this.refractionTexture.gammaSpace;\n    }\n    if (defines._areFresnelDirty) {\n      if (StandardMaterial2.FresnelEnabled) {\n        if (this._diffuseFresnelParameters || this._opacityFresnelParameters || this._emissiveFresnelParameters || this._refractionFresnelParameters || this._reflectionFresnelParameters) {\n          defines.DIFFUSEFRESNEL = this._diffuseFresnelParameters && this._diffuseFresnelParameters.isEnabled;\n          defines.OPACITYFRESNEL = this._opacityFresnelParameters && this._opacityFresnelParameters.isEnabled;\n          defines.REFLECTIONFRESNEL = this._reflectionFresnelParameters && this._reflectionFresnelParameters.isEnabled;\n          defines.REFLECTIONFRESNELFROMSPECULAR = this._useReflectionFresnelFromSpecular;\n          defines.REFRACTIONFRESNEL = this._refractionFresnelParameters && this._refractionFresnelParameters.isEnabled;\n          defines.EMISSIVEFRESNEL = this._emissiveFresnelParameters && this._emissiveFresnelParameters.isEnabled;\n          defines._needNormals = true;\n          defines.FRESNEL = true;\n        }\n      } else {\n        defines.FRESNEL = false;\n      }\n    }\n    MaterialHelper.PrepareDefinesForMisc(mesh, scene, this._useLogarithmicDepth, this.pointsCloud, this.fogEnabled, this._shouldTurnAlphaTestOn(mesh) || this._forceAlphaTest, defines);\n    MaterialHelper.PrepareDefinesForAttributes(mesh, defines, true, true, true);\n    MaterialHelper.PrepareDefinesForFrameBoundValues(scene, engine, defines, useInstances, null, subMesh.getRenderingMesh().hasThinInstances);\n    this._eventInfo.defines = defines;\n    this._eventInfo.mesh = mesh;\n    this._callbackPluginEventPrepareDefines(this._eventInfo);\n    if (defines.isDirty) {\n      var lightDisposed = defines._areLightsDisposed;\n      defines.markAsProcessed();\n      var fallbacks = new EffectFallbacks();\n      if (defines.REFLECTION) {\n        fallbacks.addFallback(0, \"REFLECTION\");\n      }\n      if (defines.SPECULAR) {\n        fallbacks.addFallback(0, \"SPECULAR\");\n      }\n      if (defines.BUMP) {\n        fallbacks.addFallback(0, \"BUMP\");\n      }\n      if (defines.PARALLAX) {\n        fallbacks.addFallback(1, \"PARALLAX\");\n      }\n      if (defines.PARALLAXOCCLUSION) {\n        fallbacks.addFallback(0, \"PARALLAXOCCLUSION\");\n      }\n      if (defines.SPECULAROVERALPHA) {\n        fallbacks.addFallback(0, \"SPECULAROVERALPHA\");\n      }\n      if (defines.FOG) {\n        fallbacks.addFallback(1, \"FOG\");\n      }\n      if (defines.POINTSIZE) {\n        fallbacks.addFallback(0, \"POINTSIZE\");\n      }\n      if (defines.LOGARITHMICDEPTH) {\n        fallbacks.addFallback(0, \"LOGARITHMICDEPTH\");\n      }\n      MaterialHelper.HandleFallbacksForShadows(defines, fallbacks, this._maxSimultaneousLights);\n      if (defines.SPECULARTERM) {\n        fallbacks.addFallback(0, \"SPECULARTERM\");\n      }\n      if (defines.DIFFUSEFRESNEL) {\n        fallbacks.addFallback(1, \"DIFFUSEFRESNEL\");\n      }\n      if (defines.OPACITYFRESNEL) {\n        fallbacks.addFallback(2, \"OPACITYFRESNEL\");\n      }\n      if (defines.REFLECTIONFRESNEL) {\n        fallbacks.addFallback(3, \"REFLECTIONFRESNEL\");\n      }\n      if (defines.EMISSIVEFRESNEL) {\n        fallbacks.addFallback(4, \"EMISSIVEFRESNEL\");\n      }\n      if (defines.FRESNEL) {\n        fallbacks.addFallback(4, \"FRESNEL\");\n      }\n      if (defines.MULTIVIEW) {\n        fallbacks.addFallback(0, \"MULTIVIEW\");\n      }\n      var attribs = [VertexBuffer.PositionKind];\n      if (defines.NORMAL) {\n        attribs.push(VertexBuffer.NormalKind);\n      }\n      if (defines.TANGENT) {\n        attribs.push(VertexBuffer.TangentKind);\n      }\n      for (var i = 1; i <= 6; ++i) {\n        if (defines[\"UV\" + i]) {\n          attribs.push(\"uv\".concat(i === 1 ? \"\" : i));\n        }\n      }\n      if (defines.VERTEXCOLOR) {\n        attribs.push(VertexBuffer.ColorKind);\n      }\n      MaterialHelper.PrepareAttributesForBones(attribs, mesh, defines, fallbacks);\n      MaterialHelper.PrepareAttributesForInstances(attribs, defines);\n      MaterialHelper.PrepareAttributesForMorphTargets(attribs, mesh, defines);\n      MaterialHelper.PrepareAttributesForBakedVertexAnimation(attribs, mesh, defines);\n      var shaderName = \"default\";\n      var uniforms = [\n        \"world\",\n        \"view\",\n        \"viewProjection\",\n        \"vEyePosition\",\n        \"vLightsType\",\n        \"vAmbientColor\",\n        \"vDiffuseColor\",\n        \"vSpecularColor\",\n        \"vEmissiveColor\",\n        \"visibility\",\n        \"vFogInfos\",\n        \"vFogColor\",\n        \"pointSize\",\n        \"vDiffuseInfos\",\n        \"vAmbientInfos\",\n        \"vOpacityInfos\",\n        \"vReflectionInfos\",\n        \"vEmissiveInfos\",\n        \"vSpecularInfos\",\n        \"vBumpInfos\",\n        \"vLightmapInfos\",\n        \"vRefractionInfos\",\n        \"mBones\",\n        \"vClipPlane\",\n        \"vClipPlane2\",\n        \"vClipPlane3\",\n        \"vClipPlane4\",\n        \"vClipPlane5\",\n        \"vClipPlane6\",\n        \"diffuseMatrix\",\n        \"ambientMatrix\",\n        \"opacityMatrix\",\n        \"reflectionMatrix\",\n        \"emissiveMatrix\",\n        \"specularMatrix\",\n        \"bumpMatrix\",\n        \"normalMatrix\",\n        \"lightmapMatrix\",\n        \"refractionMatrix\",\n        \"diffuseLeftColor\",\n        \"diffuseRightColor\",\n        \"opacityParts\",\n        \"reflectionLeftColor\",\n        \"reflectionRightColor\",\n        \"emissiveLeftColor\",\n        \"emissiveRightColor\",\n        \"refractionLeftColor\",\n        \"refractionRightColor\",\n        \"vReflectionPosition\",\n        \"vReflectionSize\",\n        \"vRefractionPosition\",\n        \"vRefractionSize\",\n        \"logarithmicDepthConstant\",\n        \"vTangentSpaceParams\",\n        \"alphaCutOff\",\n        \"boneTextureWidth\",\n        \"morphTargetTextureInfo\",\n        \"morphTargetTextureIndices\"\n      ];\n      var samplers = [\n        \"diffuseSampler\",\n        \"ambientSampler\",\n        \"opacitySampler\",\n        \"reflectionCubeSampler\",\n        \"reflection2DSampler\",\n        \"emissiveSampler\",\n        \"specularSampler\",\n        \"bumpSampler\",\n        \"lightmapSampler\",\n        \"refractionCubeSampler\",\n        \"refraction2DSampler\",\n        \"boneSampler\",\n        \"morphTargets\",\n        \"oitDepthSampler\",\n        \"oitFrontColorSampler\"\n      ];\n      var uniformBuffers = [\"Material\", \"Scene\", \"Mesh\"];\n      this._eventInfo.fallbacks = fallbacks;\n      this._eventInfo.fallbackRank = 0;\n      this._eventInfo.defines = defines;\n      this._eventInfo.uniforms = uniforms;\n      this._eventInfo.samplers = samplers;\n      this._eventInfo.uniformBuffersNames = uniformBuffers;\n      this._eventInfo.customCode = void 0;\n      this._callbackPluginEventGeneric(MaterialPluginEvent.PrepareEffect, this._eventInfo);\n      PrePassConfiguration.AddUniforms(uniforms);\n      PrePassConfiguration.AddSamplers(samplers);\n      if (ImageProcessingConfiguration) {\n        ImageProcessingConfiguration.PrepareUniforms(uniforms, defines);\n        ImageProcessingConfiguration.PrepareSamplers(samplers, defines);\n      }\n      MaterialHelper.PrepareUniformsAndSamplersList({\n        uniformsNames: uniforms,\n        uniformBuffersNames: uniformBuffers,\n        samplers,\n        defines,\n        maxSimultaneousLights: this._maxSimultaneousLights\n      });\n      var csnrOptions = {};\n      if (this.customShaderNameResolve) {\n        shaderName = this.customShaderNameResolve(shaderName, uniforms, uniformBuffers, samplers, defines, attribs, csnrOptions);\n      }\n      var join = defines.toString();\n      var previousEffect = subMesh.effect;\n      var effect = scene.getEngine().createEffect(shaderName, {\n        attributes: attribs,\n        uniformsNames: uniforms,\n        uniformBuffersNames: uniformBuffers,\n        samplers,\n        defines: join,\n        fallbacks,\n        onCompiled: this.onCompiled,\n        onError: this.onError,\n        indexParameters: { maxSimultaneousLights: this._maxSimultaneousLights, maxSimultaneousMorphTargets: defines.NUM_MORPH_INFLUENCERS },\n        processFinalCode: csnrOptions.processFinalCode,\n        processCodeAfterIncludes: this._eventInfo.customCode,\n        multiTarget: defines.PREPASS\n      }, engine);\n      if (effect) {\n        if (this._onEffectCreatedObservable) {\n          onCreatedEffectParameters.effect = effect;\n          onCreatedEffectParameters.subMesh = subMesh;\n          this._onEffectCreatedObservable.notifyObservers(onCreatedEffectParameters);\n        }\n        if (this.allowShaderHotSwapping && previousEffect && !effect.isReady()) {\n          effect = previousEffect;\n          defines.markAsUnprocessed();\n          if (lightDisposed) {\n            defines._areLightsDisposed = true;\n            return false;\n          }\n        } else {\n          scene.resetCachedMaterial();\n          subMesh.setEffect(effect, defines, this._materialContext);\n        }\n      }\n    }\n    if (!subMesh.effect || !subMesh.effect.isReady()) {\n      return false;\n    }\n    defines._renderId = scene.getRenderId();\n    subMesh.effect._wasPreviouslyReady = true;\n    return true;\n  };\n  StandardMaterial2.prototype.buildUniformLayout = function() {\n    var ubo = this._uniformBuffer;\n    ubo.addUniform(\"diffuseLeftColor\", 4);\n    ubo.addUniform(\"diffuseRightColor\", 4);\n    ubo.addUniform(\"opacityParts\", 4);\n    ubo.addUniform(\"reflectionLeftColor\", 4);\n    ubo.addUniform(\"reflectionRightColor\", 4);\n    ubo.addUniform(\"refractionLeftColor\", 4);\n    ubo.addUniform(\"refractionRightColor\", 4);\n    ubo.addUniform(\"emissiveLeftColor\", 4);\n    ubo.addUniform(\"emissiveRightColor\", 4);\n    ubo.addUniform(\"vDiffuseInfos\", 2);\n    ubo.addUniform(\"vAmbientInfos\", 2);\n    ubo.addUniform(\"vOpacityInfos\", 2);\n    ubo.addUniform(\"vReflectionInfos\", 2);\n    ubo.addUniform(\"vReflectionPosition\", 3);\n    ubo.addUniform(\"vReflectionSize\", 3);\n    ubo.addUniform(\"vEmissiveInfos\", 2);\n    ubo.addUniform(\"vLightmapInfos\", 2);\n    ubo.addUniform(\"vSpecularInfos\", 2);\n    ubo.addUniform(\"vBumpInfos\", 3);\n    ubo.addUniform(\"diffuseMatrix\", 16);\n    ubo.addUniform(\"ambientMatrix\", 16);\n    ubo.addUniform(\"opacityMatrix\", 16);\n    ubo.addUniform(\"reflectionMatrix\", 16);\n    ubo.addUniform(\"emissiveMatrix\", 16);\n    ubo.addUniform(\"lightmapMatrix\", 16);\n    ubo.addUniform(\"specularMatrix\", 16);\n    ubo.addUniform(\"bumpMatrix\", 16);\n    ubo.addUniform(\"vTangentSpaceParams\", 2);\n    ubo.addUniform(\"pointSize\", 1);\n    ubo.addUniform(\"alphaCutOff\", 1);\n    ubo.addUniform(\"refractionMatrix\", 16);\n    ubo.addUniform(\"vRefractionInfos\", 4);\n    ubo.addUniform(\"vRefractionPosition\", 3);\n    ubo.addUniform(\"vRefractionSize\", 3);\n    ubo.addUniform(\"vSpecularColor\", 4);\n    ubo.addUniform(\"vEmissiveColor\", 3);\n    ubo.addUniform(\"vDiffuseColor\", 4);\n    ubo.addUniform(\"vAmbientColor\", 3);\n    _super.prototype.buildUniformLayout.call(this);\n  };\n  StandardMaterial2.prototype.bindForSubMesh = function(world, mesh, subMesh) {\n    var _a;\n    var scene = this.getScene();\n    var defines = subMesh.materialDefines;\n    if (!defines) {\n      return;\n    }\n    var effect = subMesh.effect;\n    if (!effect) {\n      return;\n    }\n    this._activeEffect = effect;\n    mesh.getMeshUniformBuffer().bindToEffect(effect, \"Mesh\");\n    mesh.transferToEffect(world);\n    this._uniformBuffer.bindToEffect(effect, \"Material\");\n    this.prePassConfiguration.bindForSubMesh(this._activeEffect, scene, mesh, world, this.isFrozen);\n    this._eventInfo.subMesh = subMesh;\n    this._callbackPluginEventHardBindForSubMesh(this._eventInfo);\n    if (defines.OBJECTSPACE_NORMALMAP) {\n      world.toNormalMatrix(this._normalMatrix);\n      this.bindOnlyNormalMatrix(this._normalMatrix);\n    }\n    var mustRebind = this._mustRebind(scene, effect, mesh.visibility);\n    MaterialHelper.BindBonesParameters(mesh, effect);\n    var ubo = this._uniformBuffer;\n    if (mustRebind) {\n      this.bindViewProjection(effect);\n      if (!ubo.useUbo || !this.isFrozen || !ubo.isSync) {\n        if (StandardMaterial2.FresnelEnabled && defines.FRESNEL) {\n          if (this.diffuseFresnelParameters && this.diffuseFresnelParameters.isEnabled) {\n            ubo.updateColor4(\"diffuseLeftColor\", this.diffuseFresnelParameters.leftColor, this.diffuseFresnelParameters.power);\n            ubo.updateColor4(\"diffuseRightColor\", this.diffuseFresnelParameters.rightColor, this.diffuseFresnelParameters.bias);\n          }\n          if (this.opacityFresnelParameters && this.opacityFresnelParameters.isEnabled) {\n            ubo.updateColor4(\"opacityParts\", new Color3(this.opacityFresnelParameters.leftColor.toLuminance(), this.opacityFresnelParameters.rightColor.toLuminance(), this.opacityFresnelParameters.bias), this.opacityFresnelParameters.power);\n          }\n          if (this.reflectionFresnelParameters && this.reflectionFresnelParameters.isEnabled) {\n            ubo.updateColor4(\"reflectionLeftColor\", this.reflectionFresnelParameters.leftColor, this.reflectionFresnelParameters.power);\n            ubo.updateColor4(\"reflectionRightColor\", this.reflectionFresnelParameters.rightColor, this.reflectionFresnelParameters.bias);\n          }\n          if (this.refractionFresnelParameters && this.refractionFresnelParameters.isEnabled) {\n            ubo.updateColor4(\"refractionLeftColor\", this.refractionFresnelParameters.leftColor, this.refractionFresnelParameters.power);\n            ubo.updateColor4(\"refractionRightColor\", this.refractionFresnelParameters.rightColor, this.refractionFresnelParameters.bias);\n          }\n          if (this.emissiveFresnelParameters && this.emissiveFresnelParameters.isEnabled) {\n            ubo.updateColor4(\"emissiveLeftColor\", this.emissiveFresnelParameters.leftColor, this.emissiveFresnelParameters.power);\n            ubo.updateColor4(\"emissiveRightColor\", this.emissiveFresnelParameters.rightColor, this.emissiveFresnelParameters.bias);\n          }\n        }\n        if (scene.texturesEnabled) {\n          if (this._diffuseTexture && StandardMaterial2.DiffuseTextureEnabled) {\n            ubo.updateFloat2(\"vDiffuseInfos\", this._diffuseTexture.coordinatesIndex, this._diffuseTexture.level);\n            MaterialHelper.BindTextureMatrix(this._diffuseTexture, ubo, \"diffuse\");\n          }\n          if (this._ambientTexture && StandardMaterial2.AmbientTextureEnabled) {\n            ubo.updateFloat2(\"vAmbientInfos\", this._ambientTexture.coordinatesIndex, this._ambientTexture.level);\n            MaterialHelper.BindTextureMatrix(this._ambientTexture, ubo, \"ambient\");\n          }\n          if (this._opacityTexture && StandardMaterial2.OpacityTextureEnabled) {\n            ubo.updateFloat2(\"vOpacityInfos\", this._opacityTexture.coordinatesIndex, this._opacityTexture.level);\n            MaterialHelper.BindTextureMatrix(this._opacityTexture, ubo, \"opacity\");\n          }\n          if (this._hasAlphaChannel()) {\n            ubo.updateFloat(\"alphaCutOff\", this.alphaCutOff);\n          }\n          if (this._reflectionTexture && StandardMaterial2.ReflectionTextureEnabled) {\n            ubo.updateFloat2(\"vReflectionInfos\", this._reflectionTexture.level, this.roughness);\n            ubo.updateMatrix(\"reflectionMatrix\", this._reflectionTexture.getReflectionTextureMatrix());\n            if (this._reflectionTexture.boundingBoxSize) {\n              var cubeTexture = this._reflectionTexture;\n              ubo.updateVector3(\"vReflectionPosition\", cubeTexture.boundingBoxPosition);\n              ubo.updateVector3(\"vReflectionSize\", cubeTexture.boundingBoxSize);\n            }\n          }\n          if (this._emissiveTexture && StandardMaterial2.EmissiveTextureEnabled) {\n            ubo.updateFloat2(\"vEmissiveInfos\", this._emissiveTexture.coordinatesIndex, this._emissiveTexture.level);\n            MaterialHelper.BindTextureMatrix(this._emissiveTexture, ubo, \"emissive\");\n          }\n          if (this._lightmapTexture && StandardMaterial2.LightmapTextureEnabled) {\n            ubo.updateFloat2(\"vLightmapInfos\", this._lightmapTexture.coordinatesIndex, this._lightmapTexture.level);\n            MaterialHelper.BindTextureMatrix(this._lightmapTexture, ubo, \"lightmap\");\n          }\n          if (this._specularTexture && StandardMaterial2.SpecularTextureEnabled) {\n            ubo.updateFloat2(\"vSpecularInfos\", this._specularTexture.coordinatesIndex, this._specularTexture.level);\n            MaterialHelper.BindTextureMatrix(this._specularTexture, ubo, \"specular\");\n          }\n          if (this._bumpTexture && scene.getEngine().getCaps().standardDerivatives && StandardMaterial2.BumpTextureEnabled) {\n            ubo.updateFloat3(\"vBumpInfos\", this._bumpTexture.coordinatesIndex, 1 / this._bumpTexture.level, this.parallaxScaleBias);\n            MaterialHelper.BindTextureMatrix(this._bumpTexture, ubo, \"bump\");\n            if (scene._mirroredCameraPosition) {\n              ubo.updateFloat2(\"vTangentSpaceParams\", this._invertNormalMapX ? 1 : -1, this._invertNormalMapY ? 1 : -1);\n            } else {\n              ubo.updateFloat2(\"vTangentSpaceParams\", this._invertNormalMapX ? -1 : 1, this._invertNormalMapY ? -1 : 1);\n            }\n          }\n          if (this._refractionTexture && StandardMaterial2.RefractionTextureEnabled) {\n            var depth = 1;\n            if (!this._refractionTexture.isCube) {\n              ubo.updateMatrix(\"refractionMatrix\", this._refractionTexture.getReflectionTextureMatrix());\n              if (this._refractionTexture.depth) {\n                depth = this._refractionTexture.depth;\n              }\n            }\n            ubo.updateFloat4(\"vRefractionInfos\", this._refractionTexture.level, this.indexOfRefraction, depth, this.invertRefractionY ? -1 : 1);\n            if (this._refractionTexture.boundingBoxSize) {\n              var cubeTexture = this._refractionTexture;\n              ubo.updateVector3(\"vRefractionPosition\", cubeTexture.boundingBoxPosition);\n              ubo.updateVector3(\"vRefractionSize\", cubeTexture.boundingBoxSize);\n            }\n          }\n        }\n        if (this.pointsCloud) {\n          ubo.updateFloat(\"pointSize\", this.pointSize);\n        }\n        if (defines.SPECULARTERM) {\n          ubo.updateColor4(\"vSpecularColor\", this.specularColor, this.specularPower);\n        }\n        ubo.updateColor3(\"vEmissiveColor\", StandardMaterial2.EmissiveTextureEnabled ? this.emissiveColor : Color3.BlackReadOnly);\n        ubo.updateColor4(\"vDiffuseColor\", this.diffuseColor, this.alpha);\n        scene.ambientColor.multiplyToRef(this.ambientColor, this._globalAmbientColor);\n        ubo.updateColor3(\"vAmbientColor\", this._globalAmbientColor);\n      }\n      if (scene.texturesEnabled) {\n        if (this._diffuseTexture && StandardMaterial2.DiffuseTextureEnabled) {\n          effect.setTexture(\"diffuseSampler\", this._diffuseTexture);\n        }\n        if (this._ambientTexture && StandardMaterial2.AmbientTextureEnabled) {\n          effect.setTexture(\"ambientSampler\", this._ambientTexture);\n        }\n        if (this._opacityTexture && StandardMaterial2.OpacityTextureEnabled) {\n          effect.setTexture(\"opacitySampler\", this._opacityTexture);\n        }\n        if (this._reflectionTexture && StandardMaterial2.ReflectionTextureEnabled) {\n          if (this._reflectionTexture.isCube) {\n            effect.setTexture(\"reflectionCubeSampler\", this._reflectionTexture);\n          } else {\n            effect.setTexture(\"reflection2DSampler\", this._reflectionTexture);\n          }\n        }\n        if (this._emissiveTexture && StandardMaterial2.EmissiveTextureEnabled) {\n          effect.setTexture(\"emissiveSampler\", this._emissiveTexture);\n        }\n        if (this._lightmapTexture && StandardMaterial2.LightmapTextureEnabled) {\n          effect.setTexture(\"lightmapSampler\", this._lightmapTexture);\n        }\n        if (this._specularTexture && StandardMaterial2.SpecularTextureEnabled) {\n          effect.setTexture(\"specularSampler\", this._specularTexture);\n        }\n        if (this._bumpTexture && scene.getEngine().getCaps().standardDerivatives && StandardMaterial2.BumpTextureEnabled) {\n          effect.setTexture(\"bumpSampler\", this._bumpTexture);\n        }\n        if (this._refractionTexture && StandardMaterial2.RefractionTextureEnabled) {\n          if (this._refractionTexture.isCube) {\n            effect.setTexture(\"refractionCubeSampler\", this._refractionTexture);\n          } else {\n            effect.setTexture(\"refraction2DSampler\", this._refractionTexture);\n          }\n        }\n      }\n      if (this.getScene().useOrderIndependentTransparency && this.needAlphaBlendingForMesh(mesh)) {\n        this.getScene().depthPeelingRenderer.bind(effect);\n      }\n      this._eventInfo.subMesh = subMesh;\n      this._callbackPluginEventBindForSubMesh(this._eventInfo);\n      MaterialHelper.BindClipPlane(effect, scene);\n      this.bindEyePosition(effect);\n    } else if (scene.getEngine()._features.needToAlwaysBindUniformBuffers) {\n      this._needToBindSceneUbo = true;\n    }\n    if (mustRebind || !this.isFrozen) {\n      if (scene.lightsEnabled && !this._disableLighting) {\n        MaterialHelper.BindLights(scene, mesh, effect, defines, this._maxSimultaneousLights);\n      }\n      if (scene.fogEnabled && mesh.applyFog && scene.fogMode !== Scene.FOGMODE_NONE || this._reflectionTexture || this._refractionTexture || mesh.receiveShadows || defines.PREPASS) {\n        this.bindView(effect);\n      }\n      MaterialHelper.BindFogParameters(scene, mesh, effect);\n      if (defines.NUM_MORPH_INFLUENCERS) {\n        MaterialHelper.BindMorphTargetParameters(mesh, effect);\n      }\n      if (defines.BAKED_VERTEX_ANIMATION_TEXTURE) {\n        (_a = mesh.bakedVertexAnimationManager) === null || _a === void 0 ? void 0 : _a.bind(effect, defines.INSTANCES);\n      }\n      if (this.useLogarithmicDepth) {\n        MaterialHelper.BindLogDepth(defines, effect, scene);\n      }\n      if (this._imageProcessingConfiguration && !this._imageProcessingConfiguration.applyByPostProcess) {\n        this._imageProcessingConfiguration.bind(this._activeEffect);\n      }\n    }\n    this._afterBind(mesh, this._activeEffect);\n    ubo.update();\n  };\n  StandardMaterial2.prototype.getAnimatables = function() {\n    var results = _super.prototype.getAnimatables.call(this);\n    if (this._diffuseTexture && this._diffuseTexture.animations && this._diffuseTexture.animations.length > 0) {\n      results.push(this._diffuseTexture);\n    }\n    if (this._ambientTexture && this._ambientTexture.animations && this._ambientTexture.animations.length > 0) {\n      results.push(this._ambientTexture);\n    }\n    if (this._opacityTexture && this._opacityTexture.animations && this._opacityTexture.animations.length > 0) {\n      results.push(this._opacityTexture);\n    }\n    if (this._reflectionTexture && this._reflectionTexture.animations && this._reflectionTexture.animations.length > 0) {\n      results.push(this._reflectionTexture);\n    }\n    if (this._emissiveTexture && this._emissiveTexture.animations && this._emissiveTexture.animations.length > 0) {\n      results.push(this._emissiveTexture);\n    }\n    if (this._specularTexture && this._specularTexture.animations && this._specularTexture.animations.length > 0) {\n      results.push(this._specularTexture);\n    }\n    if (this._bumpTexture && this._bumpTexture.animations && this._bumpTexture.animations.length > 0) {\n      results.push(this._bumpTexture);\n    }\n    if (this._lightmapTexture && this._lightmapTexture.animations && this._lightmapTexture.animations.length > 0) {\n      results.push(this._lightmapTexture);\n    }\n    if (this._refractionTexture && this._refractionTexture.animations && this._refractionTexture.animations.length > 0) {\n      results.push(this._refractionTexture);\n    }\n    return results;\n  };\n  StandardMaterial2.prototype.getActiveTextures = function() {\n    var activeTextures = _super.prototype.getActiveTextures.call(this);\n    if (this._diffuseTexture) {\n      activeTextures.push(this._diffuseTexture);\n    }\n    if (this._ambientTexture) {\n      activeTextures.push(this._ambientTexture);\n    }\n    if (this._opacityTexture) {\n      activeTextures.push(this._opacityTexture);\n    }\n    if (this._reflectionTexture) {\n      activeTextures.push(this._reflectionTexture);\n    }\n    if (this._emissiveTexture) {\n      activeTextures.push(this._emissiveTexture);\n    }\n    if (this._specularTexture) {\n      activeTextures.push(this._specularTexture);\n    }\n    if (this._bumpTexture) {\n      activeTextures.push(this._bumpTexture);\n    }\n    if (this._lightmapTexture) {\n      activeTextures.push(this._lightmapTexture);\n    }\n    if (this._refractionTexture) {\n      activeTextures.push(this._refractionTexture);\n    }\n    return activeTextures;\n  };\n  StandardMaterial2.prototype.hasTexture = function(texture) {\n    if (_super.prototype.hasTexture.call(this, texture)) {\n      return true;\n    }\n    if (this._diffuseTexture === texture) {\n      return true;\n    }\n    if (this._ambientTexture === texture) {\n      return true;\n    }\n    if (this._opacityTexture === texture) {\n      return true;\n    }\n    if (this._reflectionTexture === texture) {\n      return true;\n    }\n    if (this._emissiveTexture === texture) {\n      return true;\n    }\n    if (this._specularTexture === texture) {\n      return true;\n    }\n    if (this._bumpTexture === texture) {\n      return true;\n    }\n    if (this._lightmapTexture === texture) {\n      return true;\n    }\n    if (this._refractionTexture === texture) {\n      return true;\n    }\n    return false;\n  };\n  StandardMaterial2.prototype.dispose = function(forceDisposeEffect, forceDisposeTextures) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n    if (forceDisposeTextures) {\n      (_a = this._diffuseTexture) === null || _a === void 0 ? void 0 : _a.dispose();\n      (_b = this._ambientTexture) === null || _b === void 0 ? void 0 : _b.dispose();\n      (_c = this._opacityTexture) === null || _c === void 0 ? void 0 : _c.dispose();\n      (_d = this._reflectionTexture) === null || _d === void 0 ? void 0 : _d.dispose();\n      (_e = this._emissiveTexture) === null || _e === void 0 ? void 0 : _e.dispose();\n      (_f = this._specularTexture) === null || _f === void 0 ? void 0 : _f.dispose();\n      (_g = this._bumpTexture) === null || _g === void 0 ? void 0 : _g.dispose();\n      (_h = this._lightmapTexture) === null || _h === void 0 ? void 0 : _h.dispose();\n      (_j = this._refractionTexture) === null || _j === void 0 ? void 0 : _j.dispose();\n    }\n    if (this._imageProcessingConfiguration && this._imageProcessingObserver) {\n      this._imageProcessingConfiguration.onUpdateParameters.remove(this._imageProcessingObserver);\n    }\n    _super.prototype.dispose.call(this, forceDisposeEffect, forceDisposeTextures);\n  };\n  StandardMaterial2.prototype.clone = function(name2) {\n    var _this = this;\n    var result = SerializationHelper.Clone(function() {\n      return new StandardMaterial2(name2, _this.getScene());\n    }, this);\n    result.name = name2;\n    result.id = name2;\n    this.stencil.copyTo(result.stencil);\n    return result;\n  };\n  StandardMaterial2.Parse = function(source, scene, rootUrl) {\n    var material = SerializationHelper.Parse(function() {\n      return new StandardMaterial2(source.name, scene);\n    }, source, scene, rootUrl);\n    if (source.stencil) {\n      material.stencil.parse(source.stencil, scene, rootUrl);\n    }\n    return material;\n  };\n  Object.defineProperty(StandardMaterial2, \"DiffuseTextureEnabled\", {\n    get: function() {\n      return MaterialFlags.DiffuseTextureEnabled;\n    },\n    set: function(value) {\n      MaterialFlags.DiffuseTextureEnabled = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StandardMaterial2, \"DetailTextureEnabled\", {\n    get: function() {\n      return MaterialFlags.DetailTextureEnabled;\n    },\n    set: function(value) {\n      MaterialFlags.DetailTextureEnabled = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StandardMaterial2, \"AmbientTextureEnabled\", {\n    get: function() {\n      return MaterialFlags.AmbientTextureEnabled;\n    },\n    set: function(value) {\n      MaterialFlags.AmbientTextureEnabled = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StandardMaterial2, \"OpacityTextureEnabled\", {\n    get: function() {\n      return MaterialFlags.OpacityTextureEnabled;\n    },\n    set: function(value) {\n      MaterialFlags.OpacityTextureEnabled = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StandardMaterial2, \"ReflectionTextureEnabled\", {\n    get: function() {\n      return MaterialFlags.ReflectionTextureEnabled;\n    },\n    set: function(value) {\n      MaterialFlags.ReflectionTextureEnabled = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StandardMaterial2, \"EmissiveTextureEnabled\", {\n    get: function() {\n      return MaterialFlags.EmissiveTextureEnabled;\n    },\n    set: function(value) {\n      MaterialFlags.EmissiveTextureEnabled = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StandardMaterial2, \"SpecularTextureEnabled\", {\n    get: function() {\n      return MaterialFlags.SpecularTextureEnabled;\n    },\n    set: function(value) {\n      MaterialFlags.SpecularTextureEnabled = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StandardMaterial2, \"BumpTextureEnabled\", {\n    get: function() {\n      return MaterialFlags.BumpTextureEnabled;\n    },\n    set: function(value) {\n      MaterialFlags.BumpTextureEnabled = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StandardMaterial2, \"LightmapTextureEnabled\", {\n    get: function() {\n      return MaterialFlags.LightmapTextureEnabled;\n    },\n    set: function(value) {\n      MaterialFlags.LightmapTextureEnabled = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StandardMaterial2, \"RefractionTextureEnabled\", {\n    get: function() {\n      return MaterialFlags.RefractionTextureEnabled;\n    },\n    set: function(value) {\n      MaterialFlags.RefractionTextureEnabled = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StandardMaterial2, \"ColorGradingTextureEnabled\", {\n    get: function() {\n      return MaterialFlags.ColorGradingTextureEnabled;\n    },\n    set: function(value) {\n      MaterialFlags.ColorGradingTextureEnabled = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StandardMaterial2, \"FresnelEnabled\", {\n    get: function() {\n      return MaterialFlags.FresnelEnabled;\n    },\n    set: function(value) {\n      MaterialFlags.FresnelEnabled = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  __decorate([\n    serializeAsTexture(\"diffuseTexture\")\n  ], StandardMaterial2.prototype, \"_diffuseTexture\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesAndMiscDirty\")\n  ], StandardMaterial2.prototype, \"diffuseTexture\", void 0);\n  __decorate([\n    serializeAsTexture(\"ambientTexture\")\n  ], StandardMaterial2.prototype, \"_ambientTexture\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], StandardMaterial2.prototype, \"ambientTexture\", void 0);\n  __decorate([\n    serializeAsTexture(\"opacityTexture\")\n  ], StandardMaterial2.prototype, \"_opacityTexture\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesAndMiscDirty\")\n  ], StandardMaterial2.prototype, \"opacityTexture\", void 0);\n  __decorate([\n    serializeAsTexture(\"reflectionTexture\")\n  ], StandardMaterial2.prototype, \"_reflectionTexture\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], StandardMaterial2.prototype, \"reflectionTexture\", void 0);\n  __decorate([\n    serializeAsTexture(\"emissiveTexture\")\n  ], StandardMaterial2.prototype, \"_emissiveTexture\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], StandardMaterial2.prototype, \"emissiveTexture\", void 0);\n  __decorate([\n    serializeAsTexture(\"specularTexture\")\n  ], StandardMaterial2.prototype, \"_specularTexture\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], StandardMaterial2.prototype, \"specularTexture\", void 0);\n  __decorate([\n    serializeAsTexture(\"bumpTexture\")\n  ], StandardMaterial2.prototype, \"_bumpTexture\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], StandardMaterial2.prototype, \"bumpTexture\", void 0);\n  __decorate([\n    serializeAsTexture(\"lightmapTexture\")\n  ], StandardMaterial2.prototype, \"_lightmapTexture\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], StandardMaterial2.prototype, \"lightmapTexture\", void 0);\n  __decorate([\n    serializeAsTexture(\"refractionTexture\")\n  ], StandardMaterial2.prototype, \"_refractionTexture\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], StandardMaterial2.prototype, \"refractionTexture\", void 0);\n  __decorate([\n    serializeAsColor3(\"ambient\")\n  ], StandardMaterial2.prototype, \"ambientColor\", void 0);\n  __decorate([\n    serializeAsColor3(\"diffuse\")\n  ], StandardMaterial2.prototype, \"diffuseColor\", void 0);\n  __decorate([\n    serializeAsColor3(\"specular\")\n  ], StandardMaterial2.prototype, \"specularColor\", void 0);\n  __decorate([\n    serializeAsColor3(\"emissive\")\n  ], StandardMaterial2.prototype, \"emissiveColor\", void 0);\n  __decorate([\n    serialize()\n  ], StandardMaterial2.prototype, \"specularPower\", void 0);\n  __decorate([\n    serialize(\"useAlphaFromDiffuseTexture\")\n  ], StandardMaterial2.prototype, \"_useAlphaFromDiffuseTexture\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesAndMiscDirty\")\n  ], StandardMaterial2.prototype, \"useAlphaFromDiffuseTexture\", void 0);\n  __decorate([\n    serialize(\"useEmissiveAsIllumination\")\n  ], StandardMaterial2.prototype, \"_useEmissiveAsIllumination\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], StandardMaterial2.prototype, \"useEmissiveAsIllumination\", void 0);\n  __decorate([\n    serialize(\"linkEmissiveWithDiffuse\")\n  ], StandardMaterial2.prototype, \"_linkEmissiveWithDiffuse\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], StandardMaterial2.prototype, \"linkEmissiveWithDiffuse\", void 0);\n  __decorate([\n    serialize(\"useSpecularOverAlpha\")\n  ], StandardMaterial2.prototype, \"_useSpecularOverAlpha\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], StandardMaterial2.prototype, \"useSpecularOverAlpha\", void 0);\n  __decorate([\n    serialize(\"useReflectionOverAlpha\")\n  ], StandardMaterial2.prototype, \"_useReflectionOverAlpha\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], StandardMaterial2.prototype, \"useReflectionOverAlpha\", void 0);\n  __decorate([\n    serialize(\"disableLighting\")\n  ], StandardMaterial2.prototype, \"_disableLighting\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsLightsDirty\")\n  ], StandardMaterial2.prototype, \"disableLighting\", void 0);\n  __decorate([\n    serialize(\"useObjectSpaceNormalMap\")\n  ], StandardMaterial2.prototype, \"_useObjectSpaceNormalMap\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], StandardMaterial2.prototype, \"useObjectSpaceNormalMap\", void 0);\n  __decorate([\n    serialize(\"useParallax\")\n  ], StandardMaterial2.prototype, \"_useParallax\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], StandardMaterial2.prototype, \"useParallax\", void 0);\n  __decorate([\n    serialize(\"useParallaxOcclusion\")\n  ], StandardMaterial2.prototype, \"_useParallaxOcclusion\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], StandardMaterial2.prototype, \"useParallaxOcclusion\", void 0);\n  __decorate([\n    serialize()\n  ], StandardMaterial2.prototype, \"parallaxScaleBias\", void 0);\n  __decorate([\n    serialize(\"roughness\")\n  ], StandardMaterial2.prototype, \"_roughness\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], StandardMaterial2.prototype, \"roughness\", void 0);\n  __decorate([\n    serialize()\n  ], StandardMaterial2.prototype, \"indexOfRefraction\", void 0);\n  __decorate([\n    serialize()\n  ], StandardMaterial2.prototype, \"invertRefractionY\", void 0);\n  __decorate([\n    serialize()\n  ], StandardMaterial2.prototype, \"alphaCutOff\", void 0);\n  __decorate([\n    serialize(\"useLightmapAsShadowmap\")\n  ], StandardMaterial2.prototype, \"_useLightmapAsShadowmap\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], StandardMaterial2.prototype, \"useLightmapAsShadowmap\", void 0);\n  __decorate([\n    serializeAsFresnelParameters(\"diffuseFresnelParameters\")\n  ], StandardMaterial2.prototype, \"_diffuseFresnelParameters\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsFresnelDirty\")\n  ], StandardMaterial2.prototype, \"diffuseFresnelParameters\", void 0);\n  __decorate([\n    serializeAsFresnelParameters(\"opacityFresnelParameters\")\n  ], StandardMaterial2.prototype, \"_opacityFresnelParameters\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsFresnelAndMiscDirty\")\n  ], StandardMaterial2.prototype, \"opacityFresnelParameters\", void 0);\n  __decorate([\n    serializeAsFresnelParameters(\"reflectionFresnelParameters\")\n  ], StandardMaterial2.prototype, \"_reflectionFresnelParameters\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsFresnelDirty\")\n  ], StandardMaterial2.prototype, \"reflectionFresnelParameters\", void 0);\n  __decorate([\n    serializeAsFresnelParameters(\"refractionFresnelParameters\")\n  ], StandardMaterial2.prototype, \"_refractionFresnelParameters\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsFresnelDirty\")\n  ], StandardMaterial2.prototype, \"refractionFresnelParameters\", void 0);\n  __decorate([\n    serializeAsFresnelParameters(\"emissiveFresnelParameters\")\n  ], StandardMaterial2.prototype, \"_emissiveFresnelParameters\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsFresnelDirty\")\n  ], StandardMaterial2.prototype, \"emissiveFresnelParameters\", void 0);\n  __decorate([\n    serialize(\"useReflectionFresnelFromSpecular\")\n  ], StandardMaterial2.prototype, \"_useReflectionFresnelFromSpecular\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsFresnelDirty\")\n  ], StandardMaterial2.prototype, \"useReflectionFresnelFromSpecular\", void 0);\n  __decorate([\n    serialize(\"useGlossinessFromSpecularMapAlpha\")\n  ], StandardMaterial2.prototype, \"_useGlossinessFromSpecularMapAlpha\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], StandardMaterial2.prototype, \"useGlossinessFromSpecularMapAlpha\", void 0);\n  __decorate([\n    serialize(\"maxSimultaneousLights\")\n  ], StandardMaterial2.prototype, \"_maxSimultaneousLights\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsLightsDirty\")\n  ], StandardMaterial2.prototype, \"maxSimultaneousLights\", void 0);\n  __decorate([\n    serialize(\"invertNormalMapX\")\n  ], StandardMaterial2.prototype, \"_invertNormalMapX\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], StandardMaterial2.prototype, \"invertNormalMapX\", void 0);\n  __decorate([\n    serialize(\"invertNormalMapY\")\n  ], StandardMaterial2.prototype, \"_invertNormalMapY\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], StandardMaterial2.prototype, \"invertNormalMapY\", void 0);\n  __decorate([\n    serialize(\"twoSidedLighting\")\n  ], StandardMaterial2.prototype, \"_twoSidedLighting\", void 0);\n  __decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n  ], StandardMaterial2.prototype, \"twoSidedLighting\", void 0);\n  __decorate([\n    serialize()\n  ], StandardMaterial2.prototype, \"useLogarithmicDepth\", null);\n  return StandardMaterial2;\n}(PushMaterial);\nRegisterClass(\"BABYLON.StandardMaterial\", StandardMaterial);\nScene.DefaultMaterialFactory = function(scene) {\n  return new StandardMaterial(\"default material\", scene);\n};\nvar name$2 = \"imageProcessingCompatibility\";\nvar shader$2 = \"#ifdef IMAGEPROCESSINGPOSTPROCESS\\ngl_FragColor.rgb=pow(gl_FragColor.rgb,vec3(2.2));\\n#endif\\n\";\nShaderStore.IncludesShadersStore[name$2] = shader$2;\nvar name$1 = \"shadowOnlyPixelShader\";\nvar shader$1 = \"precision highp float;\\nuniform vec4 vEyePosition;\\nuniform float alpha;\\nuniform vec3 shadowColor;\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#include<helperFunctions>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#include<clipPlaneFragmentDeclaration>\\n#include<fogFragmentDeclaration>\\n#define CUSTOM_FRAGMENT_DEFINITIONS\\nvoid main(void) {\\n#define CUSTOM_FRAGMENT_MAIN_BEGIN\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition.xyz-vPositionW);\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#include<lightFragment>[0..1]\\nvec4 color=vec4(shadowColor,(1.0-clamp(shadow,0.,1.))*alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n#define CUSTOM_FRAGMENT_MAIN_END\\n}\";\nShaderStore.ShadersStore[name$1] = shader$1;\nvar name = \"shadowOnlyVertexShader\";\nvar shader = \"precision highp float;\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#include<bonesDeclaration>\\n#include<bakedVertexAnimationDeclaration>\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n#define CUSTOM_VERTEX_DEFINITIONS\\nvoid main(void) {\\n#define CUSTOM_VERTEX_MAIN_BEGIN\\n#include<instancesVertex>\\n#include<bonesVertex>\\n#include<bakedVertexAnimation>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n#include<clipPlaneVertex>\\n#include<fogVertex>\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n#if defined(POINTSIZE) && !defined(WEBGPU)\\ngl_PointSize=pointSize;\\n#endif\\n#define CUSTOM_VERTEX_MAIN_END\\n}\\n\";\nShaderStore.ShadersStore[name] = shader;\nvar ShadowOnlyMaterialDefines = function(_super) {\n  __extends(ShadowOnlyMaterialDefines2, _super);\n  function ShadowOnlyMaterialDefines2() {\n    var _this = _super.call(this) || this;\n    _this.CLIPPLANE = false;\n    _this.CLIPPLANE2 = false;\n    _this.CLIPPLANE3 = false;\n    _this.CLIPPLANE4 = false;\n    _this.CLIPPLANE5 = false;\n    _this.CLIPPLANE6 = false;\n    _this.POINTSIZE = false;\n    _this.FOG = false;\n    _this.NORMAL = false;\n    _this.NUM_BONE_INFLUENCERS = 0;\n    _this.BonesPerMesh = 0;\n    _this.INSTANCES = false;\n    _this.IMAGEPROCESSINGPOSTPROCESS = false;\n    _this.SKIPFINALCOLORCLAMP = false;\n    _this.rebuild();\n    return _this;\n  }\n  return ShadowOnlyMaterialDefines2;\n}(MaterialDefines);\nvar ShadowOnlyMaterial = function(_super) {\n  __extends(ShadowOnlyMaterial2, _super);\n  function ShadowOnlyMaterial2(name2, scene) {\n    var _this = _super.call(this, name2, scene) || this;\n    _this._needAlphaBlending = true;\n    _this.shadowColor = Color3.Black();\n    return _this;\n  }\n  ShadowOnlyMaterial2.prototype.needAlphaBlending = function() {\n    return this._needAlphaBlending;\n  };\n  ShadowOnlyMaterial2.prototype.needAlphaTesting = function() {\n    return false;\n  };\n  ShadowOnlyMaterial2.prototype.getAlphaTestTexture = function() {\n    return null;\n  };\n  Object.defineProperty(ShadowOnlyMaterial2.prototype, \"activeLight\", {\n    get: function() {\n      return this._activeLight;\n    },\n    set: function(light) {\n      this._activeLight = light;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ShadowOnlyMaterial2.prototype._getFirstShadowLightForMesh = function(mesh) {\n    for (var _i = 0, _a = mesh.lightSources; _i < _a.length; _i++) {\n      var light = _a[_i];\n      if (light.shadowEnabled) {\n        return light;\n      }\n    }\n    return null;\n  };\n  ShadowOnlyMaterial2.prototype.isReadyForSubMesh = function(mesh, subMesh, useInstances) {\n    var _a;\n    if (this.isFrozen) {\n      if (subMesh.effect && subMesh.effect._wasPreviouslyReady) {\n        return true;\n      }\n    }\n    if (!subMesh.materialDefines) {\n      subMesh.materialDefines = new ShadowOnlyMaterialDefines();\n    }\n    var defines = subMesh.materialDefines;\n    var scene = this.getScene();\n    if (this._isReadyForSubMesh(subMesh)) {\n      return true;\n    }\n    var engine = scene.getEngine();\n    if (this._activeLight) {\n      for (var _i = 0, _b = mesh.lightSources; _i < _b.length; _i++) {\n        var light = _b[_i];\n        if (light.shadowEnabled) {\n          if (this._activeLight === light) {\n            break;\n          }\n          var lightPosition = mesh.lightSources.indexOf(this._activeLight);\n          if (lightPosition !== -1) {\n            mesh.lightSources.splice(lightPosition, 1);\n            mesh.lightSources.splice(0, 0, this._activeLight);\n          }\n          break;\n        }\n      }\n    }\n    MaterialHelper.PrepareDefinesForFrameBoundValues(scene, engine, defines, useInstances ? true : false);\n    MaterialHelper.PrepareDefinesForMisc(mesh, scene, false, this.pointsCloud, this.fogEnabled, this._shouldTurnAlphaTestOn(mesh), defines);\n    defines._needNormals = MaterialHelper.PrepareDefinesForLights(scene, mesh, defines, false, 1);\n    var shadowGenerator = (_a = this._getFirstShadowLightForMesh(mesh)) === null || _a === void 0 ? void 0 : _a.getShadowGenerator();\n    this._needAlphaBlending = true;\n    if (shadowGenerator && shadowGenerator.getClassName && shadowGenerator.getClassName() === \"CascadedShadowGenerator\") {\n      var csg = shadowGenerator;\n      this._needAlphaBlending = !csg.autoCalcDepthBounds;\n    }\n    MaterialHelper.PrepareDefinesForAttributes(mesh, defines, false, true);\n    if (defines.isDirty) {\n      defines.markAsProcessed();\n      scene.resetCachedMaterial();\n      var fallbacks = new EffectFallbacks();\n      if (defines.FOG) {\n        fallbacks.addFallback(1, \"FOG\");\n      }\n      MaterialHelper.HandleFallbacksForShadows(defines, fallbacks, 1);\n      if (defines.NUM_BONE_INFLUENCERS > 0) {\n        fallbacks.addCPUSkinningFallback(0, mesh);\n      }\n      defines.IMAGEPROCESSINGPOSTPROCESS = scene.imageProcessingConfiguration.applyByPostProcess;\n      var attribs = [VertexBuffer.PositionKind];\n      if (defines.NORMAL) {\n        attribs.push(VertexBuffer.NormalKind);\n      }\n      MaterialHelper.PrepareAttributesForBones(attribs, mesh, defines, fallbacks);\n      MaterialHelper.PrepareAttributesForInstances(attribs, defines);\n      var shaderName = \"shadowOnly\";\n      var join = defines.toString();\n      var uniforms = [\n        \"world\",\n        \"view\",\n        \"viewProjection\",\n        \"vEyePosition\",\n        \"vLightsType\",\n        \"vFogInfos\",\n        \"vFogColor\",\n        \"pointSize\",\n        \"alpha\",\n        \"shadowColor\",\n        \"mBones\",\n        \"vClipPlane\",\n        \"vClipPlane2\",\n        \"vClipPlane3\",\n        \"vClipPlane4\",\n        \"vClipPlane5\",\n        \"vClipPlane6\"\n      ];\n      var samplers = new Array();\n      var uniformBuffers = new Array();\n      MaterialHelper.PrepareUniformsAndSamplersList({\n        uniformsNames: uniforms,\n        uniformBuffersNames: uniformBuffers,\n        samplers,\n        defines,\n        maxSimultaneousLights: 1\n      });\n      subMesh.setEffect(scene.getEngine().createEffect(shaderName, {\n        attributes: attribs,\n        uniformsNames: uniforms,\n        uniformBuffersNames: uniformBuffers,\n        samplers,\n        defines: join,\n        fallbacks,\n        onCompiled: this.onCompiled,\n        onError: this.onError,\n        indexParameters: { maxSimultaneousLights: 1 }\n      }, engine), defines, this._materialContext);\n    }\n    if (!subMesh.effect || !subMesh.effect.isReady()) {\n      return false;\n    }\n    defines._renderId = scene.getRenderId();\n    subMesh.effect._wasPreviouslyReady = true;\n    return true;\n  };\n  ShadowOnlyMaterial2.prototype.bindForSubMesh = function(world, mesh, subMesh) {\n    var scene = this.getScene();\n    var defines = subMesh.materialDefines;\n    if (!defines) {\n      return;\n    }\n    var effect = subMesh.effect;\n    if (!effect) {\n      return;\n    }\n    this._activeEffect = effect;\n    this.bindOnlyWorldMatrix(world);\n    this._activeEffect.setMatrix(\"viewProjection\", scene.getTransformMatrix());\n    MaterialHelper.BindBonesParameters(mesh, this._activeEffect);\n    if (this._mustRebind(scene, effect)) {\n      MaterialHelper.BindClipPlane(this._activeEffect, scene);\n      if (this.pointsCloud) {\n        this._activeEffect.setFloat(\"pointSize\", this.pointSize);\n      }\n      this._activeEffect.setFloat(\"alpha\", this.alpha);\n      this._activeEffect.setColor3(\"shadowColor\", this.shadowColor);\n      scene.bindEyePosition(effect);\n    }\n    if (scene.lightsEnabled) {\n      MaterialHelper.BindLights(scene, mesh, this._activeEffect, defines, 1);\n      var light = this._getFirstShadowLightForMesh(mesh);\n      if (light) {\n        light._renderId = -1;\n      }\n    }\n    if (scene.fogEnabled && mesh.applyFog && scene.fogMode !== Scene.FOGMODE_NONE || defines[\"SHADOWCSM0\"]) {\n      this._activeEffect.setMatrix(\"view\", scene.getViewMatrix());\n    }\n    MaterialHelper.BindFogParameters(scene, mesh, this._activeEffect);\n    this._afterBind(mesh, this._activeEffect);\n  };\n  ShadowOnlyMaterial2.prototype.clone = function(name2) {\n    var _this = this;\n    return SerializationHelper.Clone(function() {\n      return new ShadowOnlyMaterial2(name2, _this.getScene());\n    }, this);\n  };\n  ShadowOnlyMaterial2.prototype.serialize = function() {\n    var serializationObject = _super.prototype.serialize.call(this);\n    serializationObject.customType = \"BABYLON.ShadowOnlyMaterial\";\n    return serializationObject;\n  };\n  ShadowOnlyMaterial2.prototype.getClassName = function() {\n    return \"ShadowOnlyMaterial\";\n  };\n  ShadowOnlyMaterial2.Parse = function(source, scene, rootUrl) {\n    return SerializationHelper.Parse(function() {\n      return new ShadowOnlyMaterial2(source.name, scene);\n    }, source, scene, rootUrl);\n  };\n  return ShadowOnlyMaterial2;\n}(PushMaterial);\nRegisterClass(\"BABYLON.ShadowOnlyMaterial\", ShadowOnlyMaterial);\nconst defaultOptions$1 = {\n  aspect: 300 / 150,\n  enableDebugging: false,\n  enableShadows: true\n};\nclass Container {\n  constructor(options) {\n    __publicField(this, \"size\", 9.5);\n    this.config = __spreadValues(__spreadValues({}, defaultOptions$1), options);\n    this.create();\n  }\n  create(options) {\n    this.destroy();\n    Object.assign(this.config, options);\n    const { aspect, enableDebugging = true, enableShadows } = this.config;\n    const wallHeight = 30;\n    let boxMaterial;\n    this.box = new TransformNode(\"diceBox\");\n    if (enableDebugging) {\n      boxMaterial = new StandardMaterial(\"diceBox_material\");\n      boxMaterial.alpha = 0.7;\n      boxMaterial.diffuseColor = new Color3(1, 1, 0);\n    } else {\n      if (enableShadows) {\n        boxMaterial = new ShadowOnlyMaterial(\"shadowOnly\", this.config.scene);\n      }\n    }\n    const ground = CreateBox(\"ground\", {\n      width: this.size * 2,\n      height: 1,\n      depth: this.size * 2\n    }, this.config.scene);\n    ground.scaling = new Vector3(aspect, 1, 1);\n    ground.material = boxMaterial;\n    ground.receiveShadows = true;\n    ground.setParent(this.box);\n    if (enableDebugging) {\n      const wallTop = CreateBox(\"wallTop\", {\n        width: this.size,\n        height: wallHeight,\n        depth: 1\n      }, this.config.scene);\n      wallTop.position.y = wallHeight / 2;\n      wallTop.position.z = this.size / -2;\n      wallTop.scaling = new Vector3(aspect, 1, 1);\n      wallTop.material = boxMaterial;\n      wallTop.setParent(this.box);\n      const wallRight = CreateBox(\"wallRight\", {\n        width: 1,\n        height: wallHeight,\n        depth: this.size\n      }, this.config.scene);\n      wallRight.position.x = this.size * aspect / 2;\n      wallRight.position.y = wallHeight / 2;\n      wallRight.material = boxMaterial;\n      wallRight.setParent(this.box);\n      const wallBottom = CreateBox(\"wallBottom\", {\n        width: this.size,\n        height: wallHeight,\n        depth: 1\n      }, this.config.scene);\n      wallBottom.position.y = wallHeight / 2;\n      wallBottom.position.z = this.size / 2;\n      wallBottom.scaling = new Vector3(aspect, 1, 1);\n      wallBottom.material = boxMaterial;\n      wallBottom.setParent(this.box);\n      const wallLeft = CreateBox(\"wallLeft\", {\n        width: 1,\n        height: wallHeight,\n        depth: this.size\n      }, this.config.scene);\n      wallLeft.position.x = this.size * aspect / -2;\n      wallLeft.position.y = wallHeight / 2;\n      wallLeft.material = boxMaterial;\n      wallLeft.setParent(this.box);\n    }\n  }\n  destroy() {\n    if (this.box) {\n      this.box.dispose();\n    }\n  }\n}\nvar SceneLoaderAnimationGroupLoadingMode;\n(function(SceneLoaderAnimationGroupLoadingMode2) {\n  SceneLoaderAnimationGroupLoadingMode2[SceneLoaderAnimationGroupLoadingMode2[\"Clean\"] = 0] = \"Clean\";\n  SceneLoaderAnimationGroupLoadingMode2[SceneLoaderAnimationGroupLoadingMode2[\"Stop\"] = 1] = \"Stop\";\n  SceneLoaderAnimationGroupLoadingMode2[SceneLoaderAnimationGroupLoadingMode2[\"Sync\"] = 2] = \"Sync\";\n  SceneLoaderAnimationGroupLoadingMode2[SceneLoaderAnimationGroupLoadingMode2[\"NoSync\"] = 3] = \"NoSync\";\n})(SceneLoaderAnimationGroupLoadingMode || (SceneLoaderAnimationGroupLoadingMode = {}));\nvar SceneLoader = function() {\n  function SceneLoader2() {\n  }\n  Object.defineProperty(SceneLoader2, \"ForceFullSceneLoadingForIncremental\", {\n    get: function() {\n      return SceneLoaderFlags.ForceFullSceneLoadingForIncremental;\n    },\n    set: function(value) {\n      SceneLoaderFlags.ForceFullSceneLoadingForIncremental = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SceneLoader2, \"ShowLoadingScreen\", {\n    get: function() {\n      return SceneLoaderFlags.ShowLoadingScreen;\n    },\n    set: function(value) {\n      SceneLoaderFlags.ShowLoadingScreen = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SceneLoader2, \"loggingLevel\", {\n    get: function() {\n      return SceneLoaderFlags.loggingLevel;\n    },\n    set: function(value) {\n      SceneLoaderFlags.loggingLevel = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SceneLoader2, \"CleanBoneMatrixWeights\", {\n    get: function() {\n      return SceneLoaderFlags.CleanBoneMatrixWeights;\n    },\n    set: function(value) {\n      SceneLoaderFlags.CleanBoneMatrixWeights = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  SceneLoader2.GetDefaultPlugin = function() {\n    return SceneLoader2._RegisteredPlugins[\".babylon\"];\n  };\n  SceneLoader2._GetPluginForExtension = function(extension) {\n    var registeredPlugin = SceneLoader2._RegisteredPlugins[extension];\n    if (registeredPlugin) {\n      return registeredPlugin;\n    }\n    Logger.Warn(\"Unable to find a plugin to load \" + extension + \" files. Trying to use .babylon default plugin. To load from a specific filetype (eg. gltf) see: https://doc.babylonjs.com/how_to/load_from_any_file_type\");\n    return SceneLoader2.GetDefaultPlugin();\n  };\n  SceneLoader2._GetPluginForDirectLoad = function(data) {\n    for (var extension in SceneLoader2._RegisteredPlugins) {\n      var plugin = SceneLoader2._RegisteredPlugins[extension].plugin;\n      if (plugin.canDirectLoad && plugin.canDirectLoad(data)) {\n        return SceneLoader2._RegisteredPlugins[extension];\n      }\n    }\n    return SceneLoader2.GetDefaultPlugin();\n  };\n  SceneLoader2._GetPluginForFilename = function(sceneFilename) {\n    var queryStringPosition = sceneFilename.indexOf(\"?\");\n    if (queryStringPosition !== -1) {\n      sceneFilename = sceneFilename.substring(0, queryStringPosition);\n    }\n    var dotPosition = sceneFilename.lastIndexOf(\".\");\n    var extension = sceneFilename.substring(dotPosition, sceneFilename.length).toLowerCase();\n    return SceneLoader2._GetPluginForExtension(extension);\n  };\n  SceneLoader2._GetDirectLoad = function(sceneFilename) {\n    if (sceneFilename.substr(0, 5) === \"data:\") {\n      return sceneFilename.substr(5);\n    }\n    return null;\n  };\n  SceneLoader2._FormatErrorMessage = function(fileInfo, message, exception) {\n    var errorMessage = \"Unable to load from \" + fileInfo.url;\n    if (message) {\n      errorMessage += \": \".concat(message);\n    } else if (exception) {\n      errorMessage += \": \".concat(exception);\n    }\n    return errorMessage;\n  };\n  SceneLoader2._LoadData = function(fileInfo, scene, onSuccess, onProgress, onError, onDispose, pluginExtension) {\n    var directLoad = SceneLoader2._GetDirectLoad(fileInfo.url);\n    var registeredPlugin = pluginExtension ? SceneLoader2._GetPluginForExtension(pluginExtension) : directLoad ? SceneLoader2._GetPluginForDirectLoad(fileInfo.url) : SceneLoader2._GetPluginForFilename(fileInfo.url);\n    var plugin;\n    if (registeredPlugin.plugin.createPlugin !== void 0) {\n      plugin = registeredPlugin.plugin.createPlugin();\n    } else {\n      plugin = registeredPlugin.plugin;\n    }\n    if (!plugin) {\n      throw \"The loader plugin corresponding to the file type you are trying to load has not been found. If using es6, please import the plugin you wish to use before.\";\n    }\n    SceneLoader2.OnPluginActivatedObservable.notifyObservers(plugin);\n    if (directLoad && (plugin.canDirectLoad && plugin.canDirectLoad(fileInfo.url) || !IsBase64DataUrl(fileInfo.url))) {\n      if (plugin.directLoad) {\n        var result = plugin.directLoad(scene, directLoad);\n        if (result.then) {\n          result.then(function(data) {\n            onSuccess(plugin, data);\n          }).catch(function(error) {\n            onError(\"Error in directLoad of _loadData: \" + error, error);\n          });\n        } else {\n          onSuccess(plugin, result);\n        }\n      } else {\n        onSuccess(plugin, directLoad);\n      }\n      return plugin;\n    }\n    var useArrayBuffer = registeredPlugin.isBinary;\n    var dataCallback = function(data, responseURL) {\n      if (scene.isDisposed) {\n        onError(\"Scene has been disposed\");\n        return;\n      }\n      onSuccess(plugin, data, responseURL);\n    };\n    var request = null;\n    var pluginDisposed = false;\n    var onDisposeObservable = plugin.onDisposeObservable;\n    if (onDisposeObservable) {\n      onDisposeObservable.add(function() {\n        pluginDisposed = true;\n        if (request) {\n          request.abort();\n          request = null;\n        }\n        onDispose();\n      });\n    }\n    var manifestChecked = function() {\n      if (pluginDisposed) {\n        return;\n      }\n      var errorCallback = function(request2, exception) {\n        onError(request2 === null || request2 === void 0 ? void 0 : request2.statusText, exception);\n      };\n      var fileOrUrl = fileInfo.file || fileInfo.url;\n      request = plugin.loadFile ? plugin.loadFile(scene, fileOrUrl, dataCallback, onProgress, useArrayBuffer, errorCallback) : scene._loadFile(fileOrUrl, dataCallback, onProgress, true, useArrayBuffer, errorCallback);\n    };\n    var engine = scene.getEngine();\n    var canUseOfflineSupport = engine.enableOfflineSupport;\n    if (canUseOfflineSupport) {\n      var exceptionFound = false;\n      for (var _i = 0, _a = scene.disableOfflineSupportExceptionRules; _i < _a.length; _i++) {\n        var regex = _a[_i];\n        if (regex.test(fileInfo.url)) {\n          exceptionFound = true;\n          break;\n        }\n      }\n      canUseOfflineSupport = !exceptionFound;\n    }\n    if (canUseOfflineSupport && Engine.OfflineProviderFactory) {\n      scene.offlineProvider = Engine.OfflineProviderFactory(fileInfo.url, manifestChecked, engine.disableManifestCheck);\n    } else {\n      manifestChecked();\n    }\n    return plugin;\n  };\n  SceneLoader2._GetFileInfo = function(rootUrl, sceneFilename) {\n    var url;\n    var name2;\n    var file = null;\n    if (!sceneFilename) {\n      url = rootUrl;\n      name2 = Tools.GetFilename(rootUrl);\n      rootUrl = Tools.GetFolderPath(rootUrl);\n    } else if (sceneFilename.name) {\n      var sceneFile = sceneFilename;\n      url = \"file:\".concat(sceneFile.name);\n      name2 = sceneFile.name;\n      file = sceneFile;\n    } else if (typeof sceneFilename === \"string\" && sceneFilename.startsWith(\"data:\")) {\n      url = sceneFilename;\n      name2 = \"\";\n    } else {\n      var filename = sceneFilename;\n      if (filename.substr(0, 1) === \"/\") {\n        Tools.Error(\"Wrong sceneFilename parameter\");\n        return null;\n      }\n      url = rootUrl + filename;\n      name2 = filename;\n    }\n    return {\n      url,\n      rootUrl,\n      name: name2,\n      file\n    };\n  };\n  SceneLoader2.GetPluginForExtension = function(extension) {\n    return SceneLoader2._GetPluginForExtension(extension).plugin;\n  };\n  SceneLoader2.IsPluginForExtensionAvailable = function(extension) {\n    return !!SceneLoader2._RegisteredPlugins[extension];\n  };\n  SceneLoader2.RegisterPlugin = function(plugin) {\n    if (typeof plugin.extensions === \"string\") {\n      var extension = plugin.extensions;\n      SceneLoader2._RegisteredPlugins[extension.toLowerCase()] = {\n        plugin,\n        isBinary: false\n      };\n    } else {\n      var extensions_1 = plugin.extensions;\n      Object.keys(extensions_1).forEach(function(extension2) {\n        SceneLoader2._RegisteredPlugins[extension2.toLowerCase()] = {\n          plugin,\n          isBinary: extensions_1[extension2].isBinary\n        };\n      });\n    }\n  };\n  SceneLoader2.ImportMesh = function(meshNames, rootUrl, sceneFilename, scene, onSuccess, onProgress, onError, pluginExtension) {\n    if (sceneFilename === void 0) {\n      sceneFilename = \"\";\n    }\n    if (scene === void 0) {\n      scene = EngineStore.LastCreatedScene;\n    }\n    if (onSuccess === void 0) {\n      onSuccess = null;\n    }\n    if (onProgress === void 0) {\n      onProgress = null;\n    }\n    if (onError === void 0) {\n      onError = null;\n    }\n    if (pluginExtension === void 0) {\n      pluginExtension = null;\n    }\n    if (!scene) {\n      Logger.Error(\"No scene available to import mesh to\");\n      return null;\n    }\n    var fileInfo = SceneLoader2._GetFileInfo(rootUrl, sceneFilename);\n    if (!fileInfo) {\n      return null;\n    }\n    var loadingToken = {};\n    scene._addPendingData(loadingToken);\n    var disposeHandler = function() {\n      scene._removePendingData(loadingToken);\n    };\n    var errorHandler = function(message, exception) {\n      var errorMessage = SceneLoader2._FormatErrorMessage(fileInfo, message, exception);\n      if (onError) {\n        onError(scene, errorMessage, new RuntimeError(errorMessage, ErrorCodes.SceneLoaderError, exception));\n      } else {\n        Logger.Error(errorMessage);\n      }\n      disposeHandler();\n    };\n    var progressHandler = onProgress ? function(event) {\n      try {\n        onProgress(event);\n      } catch (e) {\n        errorHandler(\"Error in onProgress callback: \" + e, e);\n      }\n    } : void 0;\n    var successHandler = function(meshes, particleSystems, skeletons, animationGroups, transformNodes, geometries, lights) {\n      scene.importedMeshesFiles.push(fileInfo.url);\n      if (onSuccess) {\n        try {\n          onSuccess(meshes, particleSystems, skeletons, animationGroups, transformNodes, geometries, lights);\n        } catch (e) {\n          errorHandler(\"Error in onSuccess callback: \" + e, e);\n        }\n      }\n      scene._removePendingData(loadingToken);\n    };\n    return SceneLoader2._LoadData(fileInfo, scene, function(plugin, data, responseURL) {\n      if (plugin.rewriteRootURL) {\n        fileInfo.rootUrl = plugin.rewriteRootURL(fileInfo.rootUrl, responseURL);\n      }\n      if (plugin.importMesh) {\n        var syncedPlugin = plugin;\n        var meshes = new Array();\n        var particleSystems = new Array();\n        var skeletons = new Array();\n        if (!syncedPlugin.importMesh(meshNames, scene, data, fileInfo.rootUrl, meshes, particleSystems, skeletons, errorHandler)) {\n          return;\n        }\n        scene.loadingPluginName = plugin.name;\n        successHandler(meshes, particleSystems, skeletons, [], [], [], []);\n      } else {\n        var asyncedPlugin = plugin;\n        asyncedPlugin.importMeshAsync(meshNames, scene, data, fileInfo.rootUrl, progressHandler, fileInfo.name).then(function(result) {\n          scene.loadingPluginName = plugin.name;\n          successHandler(result.meshes, result.particleSystems, result.skeletons, result.animationGroups, result.transformNodes, result.geometries, result.lights);\n        }).catch(function(error) {\n          errorHandler(error.message, error);\n        });\n      }\n    }, progressHandler, errorHandler, disposeHandler, pluginExtension);\n  };\n  SceneLoader2.ImportMeshAsync = function(meshNames, rootUrl, sceneFilename, scene, onProgress, pluginExtension) {\n    if (sceneFilename === void 0) {\n      sceneFilename = \"\";\n    }\n    if (scene === void 0) {\n      scene = EngineStore.LastCreatedScene;\n    }\n    if (onProgress === void 0) {\n      onProgress = null;\n    }\n    if (pluginExtension === void 0) {\n      pluginExtension = null;\n    }\n    return new Promise(function(resolve, reject) {\n      SceneLoader2.ImportMesh(meshNames, rootUrl, sceneFilename, scene, function(meshes, particleSystems, skeletons, animationGroups, transformNodes, geometries, lights) {\n        resolve({\n          meshes,\n          particleSystems,\n          skeletons,\n          animationGroups,\n          transformNodes,\n          geometries,\n          lights\n        });\n      }, onProgress, function(scene2, message, exception) {\n        reject(exception || new Error(message));\n      }, pluginExtension);\n    });\n  };\n  SceneLoader2.Load = function(rootUrl, sceneFilename, engine, onSuccess, onProgress, onError, pluginExtension) {\n    if (sceneFilename === void 0) {\n      sceneFilename = \"\";\n    }\n    if (engine === void 0) {\n      engine = EngineStore.LastCreatedEngine;\n    }\n    if (onSuccess === void 0) {\n      onSuccess = null;\n    }\n    if (onProgress === void 0) {\n      onProgress = null;\n    }\n    if (onError === void 0) {\n      onError = null;\n    }\n    if (pluginExtension === void 0) {\n      pluginExtension = null;\n    }\n    if (!engine) {\n      Tools.Error(\"No engine available\");\n      return null;\n    }\n    return SceneLoader2.Append(rootUrl, sceneFilename, new Scene(engine), onSuccess, onProgress, onError, pluginExtension);\n  };\n  SceneLoader2.LoadAsync = function(rootUrl, sceneFilename, engine, onProgress, pluginExtension) {\n    if (sceneFilename === void 0) {\n      sceneFilename = \"\";\n    }\n    if (engine === void 0) {\n      engine = EngineStore.LastCreatedEngine;\n    }\n    if (onProgress === void 0) {\n      onProgress = null;\n    }\n    if (pluginExtension === void 0) {\n      pluginExtension = null;\n    }\n    return new Promise(function(resolve, reject) {\n      SceneLoader2.Load(rootUrl, sceneFilename, engine, function(scene) {\n        resolve(scene);\n      }, onProgress, function(scene, message, exception) {\n        reject(exception || new Error(message));\n      }, pluginExtension);\n    });\n  };\n  SceneLoader2.Append = function(rootUrl, sceneFilename, scene, onSuccess, onProgress, onError, pluginExtension) {\n    var _this = this;\n    if (sceneFilename === void 0) {\n      sceneFilename = \"\";\n    }\n    if (scene === void 0) {\n      scene = EngineStore.LastCreatedScene;\n    }\n    if (onSuccess === void 0) {\n      onSuccess = null;\n    }\n    if (onProgress === void 0) {\n      onProgress = null;\n    }\n    if (onError === void 0) {\n      onError = null;\n    }\n    if (pluginExtension === void 0) {\n      pluginExtension = null;\n    }\n    if (!scene) {\n      Logger.Error(\"No scene available to append to\");\n      return null;\n    }\n    var fileInfo = SceneLoader2._GetFileInfo(rootUrl, sceneFilename);\n    if (!fileInfo) {\n      return null;\n    }\n    if (SceneLoader2.ShowLoadingScreen && !this._ShowingLoadingScreen) {\n      this._ShowingLoadingScreen = true;\n      scene.getEngine().displayLoadingUI();\n      scene.executeWhenReady(function() {\n        scene.getEngine().hideLoadingUI();\n        _this._ShowingLoadingScreen = false;\n      });\n    }\n    var loadingToken = {};\n    scene._addPendingData(loadingToken);\n    var disposeHandler = function() {\n      scene._removePendingData(loadingToken);\n    };\n    var errorHandler = function(message, exception) {\n      var errorMessage = SceneLoader2._FormatErrorMessage(fileInfo, message, exception);\n      if (onError) {\n        onError(scene, errorMessage, new RuntimeError(errorMessage, ErrorCodes.SceneLoaderError, exception));\n      } else {\n        Logger.Error(errorMessage);\n      }\n      disposeHandler();\n    };\n    var progressHandler = onProgress ? function(event) {\n      try {\n        onProgress(event);\n      } catch (e) {\n        errorHandler(\"Error in onProgress callback\", e);\n      }\n    } : void 0;\n    var successHandler = function() {\n      if (onSuccess) {\n        try {\n          onSuccess(scene);\n        } catch (e) {\n          errorHandler(\"Error in onSuccess callback\", e);\n        }\n      }\n      scene._removePendingData(loadingToken);\n    };\n    return SceneLoader2._LoadData(fileInfo, scene, function(plugin, data) {\n      if (plugin.load) {\n        var syncedPlugin = plugin;\n        if (!syncedPlugin.load(scene, data, fileInfo.rootUrl, errorHandler)) {\n          return;\n        }\n        scene.loadingPluginName = plugin.name;\n        successHandler();\n      } else {\n        var asyncedPlugin = plugin;\n        asyncedPlugin.loadAsync(scene, data, fileInfo.rootUrl, progressHandler, fileInfo.name).then(function() {\n          scene.loadingPluginName = plugin.name;\n          successHandler();\n        }).catch(function(error) {\n          errorHandler(error.message, error);\n        });\n      }\n    }, progressHandler, errorHandler, disposeHandler, pluginExtension);\n  };\n  SceneLoader2.AppendAsync = function(rootUrl, sceneFilename, scene, onProgress, pluginExtension) {\n    if (sceneFilename === void 0) {\n      sceneFilename = \"\";\n    }\n    if (scene === void 0) {\n      scene = EngineStore.LastCreatedScene;\n    }\n    if (onProgress === void 0) {\n      onProgress = null;\n    }\n    if (pluginExtension === void 0) {\n      pluginExtension = null;\n    }\n    return new Promise(function(resolve, reject) {\n      SceneLoader2.Append(rootUrl, sceneFilename, scene, function(scene2) {\n        resolve(scene2);\n      }, onProgress, function(scene2, message, exception) {\n        reject(exception || new Error(message));\n      }, pluginExtension);\n    });\n  };\n  SceneLoader2.LoadAssetContainer = function(rootUrl, sceneFilename, scene, onSuccess, onProgress, onError, pluginExtension) {\n    if (sceneFilename === void 0) {\n      sceneFilename = \"\";\n    }\n    if (scene === void 0) {\n      scene = EngineStore.LastCreatedScene;\n    }\n    if (onSuccess === void 0) {\n      onSuccess = null;\n    }\n    if (onProgress === void 0) {\n      onProgress = null;\n    }\n    if (onError === void 0) {\n      onError = null;\n    }\n    if (pluginExtension === void 0) {\n      pluginExtension = null;\n    }\n    if (!scene) {\n      Logger.Error(\"No scene available to load asset container to\");\n      return null;\n    }\n    var fileInfo = SceneLoader2._GetFileInfo(rootUrl, sceneFilename);\n    if (!fileInfo) {\n      return null;\n    }\n    var loadingToken = {};\n    scene._addPendingData(loadingToken);\n    var disposeHandler = function() {\n      scene._removePendingData(loadingToken);\n    };\n    var errorHandler = function(message, exception) {\n      var errorMessage = SceneLoader2._FormatErrorMessage(fileInfo, message, exception);\n      if (onError) {\n        onError(scene, errorMessage, new RuntimeError(errorMessage, ErrorCodes.SceneLoaderError, exception));\n      } else {\n        Logger.Error(errorMessage);\n      }\n      disposeHandler();\n    };\n    var progressHandler = onProgress ? function(event) {\n      try {\n        onProgress(event);\n      } catch (e) {\n        errorHandler(\"Error in onProgress callback\", e);\n      }\n    } : void 0;\n    var successHandler = function(assets) {\n      if (onSuccess) {\n        try {\n          onSuccess(assets);\n        } catch (e) {\n          errorHandler(\"Error in onSuccess callback\", e);\n        }\n      }\n      scene._removePendingData(loadingToken);\n    };\n    return SceneLoader2._LoadData(fileInfo, scene, function(plugin, data) {\n      if (plugin.loadAssetContainer) {\n        var syncedPlugin = plugin;\n        var assetContainer = syncedPlugin.loadAssetContainer(scene, data, fileInfo.rootUrl, errorHandler);\n        if (!assetContainer) {\n          return;\n        }\n        scene.loadingPluginName = plugin.name;\n        successHandler(assetContainer);\n      } else if (plugin.loadAssetContainerAsync) {\n        var asyncedPlugin = plugin;\n        asyncedPlugin.loadAssetContainerAsync(scene, data, fileInfo.rootUrl, progressHandler, fileInfo.name).then(function(assetContainer2) {\n          scene.loadingPluginName = plugin.name;\n          successHandler(assetContainer2);\n        }).catch(function(error) {\n          errorHandler(error.message, error);\n        });\n      } else {\n        errorHandler(\"LoadAssetContainer is not supported by this plugin. Plugin did not provide a loadAssetContainer or loadAssetContainerAsync method.\");\n      }\n    }, progressHandler, errorHandler, disposeHandler, pluginExtension);\n  };\n  SceneLoader2.LoadAssetContainerAsync = function(rootUrl, sceneFilename, scene, onProgress, pluginExtension) {\n    if (sceneFilename === void 0) {\n      sceneFilename = \"\";\n    }\n    if (scene === void 0) {\n      scene = EngineStore.LastCreatedScene;\n    }\n    if (onProgress === void 0) {\n      onProgress = null;\n    }\n    if (pluginExtension === void 0) {\n      pluginExtension = null;\n    }\n    return new Promise(function(resolve, reject) {\n      SceneLoader2.LoadAssetContainer(rootUrl, sceneFilename, scene, function(assetContainer) {\n        resolve(assetContainer);\n      }, onProgress, function(scene2, message, exception) {\n        reject(exception || new Error(message));\n      }, pluginExtension);\n    });\n  };\n  SceneLoader2.ImportAnimations = function(rootUrl, sceneFilename, scene, overwriteAnimations, animationGroupLoadingMode, targetConverter, onSuccess, onProgress, onError, pluginExtension) {\n    if (sceneFilename === void 0) {\n      sceneFilename = \"\";\n    }\n    if (scene === void 0) {\n      scene = EngineStore.LastCreatedScene;\n    }\n    if (overwriteAnimations === void 0) {\n      overwriteAnimations = true;\n    }\n    if (animationGroupLoadingMode === void 0) {\n      animationGroupLoadingMode = SceneLoaderAnimationGroupLoadingMode.Clean;\n    }\n    if (targetConverter === void 0) {\n      targetConverter = null;\n    }\n    if (onSuccess === void 0) {\n      onSuccess = null;\n    }\n    if (onProgress === void 0) {\n      onProgress = null;\n    }\n    if (onError === void 0) {\n      onError = null;\n    }\n    if (pluginExtension === void 0) {\n      pluginExtension = null;\n    }\n    if (!scene) {\n      Logger.Error(\"No scene available to load animations to\");\n      return;\n    }\n    if (overwriteAnimations) {\n      for (var _i = 0, _a = scene.animatables; _i < _a.length; _i++) {\n        var animatable = _a[_i];\n        animatable.reset();\n      }\n      scene.stopAllAnimations();\n      scene.animationGroups.slice().forEach(function(animationGroup) {\n        animationGroup.dispose();\n      });\n      var nodes = scene.getNodes();\n      nodes.forEach(function(node) {\n        if (node.animations) {\n          node.animations = [];\n        }\n      });\n    } else {\n      switch (animationGroupLoadingMode) {\n        case SceneLoaderAnimationGroupLoadingMode.Clean:\n          scene.animationGroups.slice().forEach(function(animationGroup) {\n            animationGroup.dispose();\n          });\n          break;\n        case SceneLoaderAnimationGroupLoadingMode.Stop:\n          scene.animationGroups.forEach(function(animationGroup) {\n            animationGroup.stop();\n          });\n          break;\n        case SceneLoaderAnimationGroupLoadingMode.Sync:\n          scene.animationGroups.forEach(function(animationGroup) {\n            animationGroup.reset();\n            animationGroup.restart();\n          });\n          break;\n        case SceneLoaderAnimationGroupLoadingMode.NoSync:\n          break;\n        default:\n          Logger.Error(\"Unknown animation group loading mode value '\" + animationGroupLoadingMode + \"'\");\n          return;\n      }\n    }\n    var startingIndexForNewAnimatables = scene.animatables.length;\n    var onAssetContainerLoaded = function(container) {\n      container.mergeAnimationsTo(scene, scene.animatables.slice(startingIndexForNewAnimatables), targetConverter);\n      container.dispose();\n      scene.onAnimationFileImportedObservable.notifyObservers(scene);\n      if (onSuccess) {\n        onSuccess(scene);\n      }\n    };\n    this.LoadAssetContainer(rootUrl, sceneFilename, scene, onAssetContainerLoaded, onProgress, onError, pluginExtension);\n  };\n  SceneLoader2.ImportAnimationsAsync = function(rootUrl, sceneFilename, scene, overwriteAnimations, animationGroupLoadingMode, targetConverter, onSuccess, onProgress, onError, pluginExtension) {\n    if (sceneFilename === void 0) {\n      sceneFilename = \"\";\n    }\n    if (scene === void 0) {\n      scene = EngineStore.LastCreatedScene;\n    }\n    if (overwriteAnimations === void 0) {\n      overwriteAnimations = true;\n    }\n    if (animationGroupLoadingMode === void 0) {\n      animationGroupLoadingMode = SceneLoaderAnimationGroupLoadingMode.Clean;\n    }\n    if (targetConverter === void 0) {\n      targetConverter = null;\n    }\n    if (onProgress === void 0) {\n      onProgress = null;\n    }\n    if (pluginExtension === void 0) {\n      pluginExtension = null;\n    }\n    return new Promise(function(resolve, reject) {\n      SceneLoader2.ImportAnimations(rootUrl, sceneFilename, scene, overwriteAnimations, animationGroupLoadingMode, targetConverter, function(_scene2) {\n        resolve(_scene2);\n      }, onProgress, function(_scene2, message, exception) {\n        reject(exception || new Error(message));\n      }, pluginExtension);\n    });\n  };\n  SceneLoader2.NO_LOGGING = 0;\n  SceneLoader2.MINIMAL_LOGGING = 1;\n  SceneLoader2.SUMMARY_LOGGING = 2;\n  SceneLoader2.DETAILED_LOGGING = 3;\n  SceneLoader2.OnPluginActivatedObservable = new Observable();\n  SceneLoader2._RegisteredPlugins = {};\n  SceneLoader2._ShowingLoadingScreen = false;\n  return SceneLoader2;\n}();\nvar Ray = function() {\n  function Ray2(origin, direction, length) {\n    if (length === void 0) {\n      length = Number.MAX_VALUE;\n    }\n    this.origin = origin;\n    this.direction = direction;\n    this.length = length;\n  }\n  Ray2.prototype.clone = function() {\n    return new Ray2(this.origin.clone(), this.direction.clone(), this.length);\n  };\n  Ray2.prototype.intersectsBoxMinMax = function(minimum, maximum, intersectionTreshold) {\n    if (intersectionTreshold === void 0) {\n      intersectionTreshold = 0;\n    }\n    var newMinimum = Ray2._TmpVector3[0].copyFromFloats(minimum.x - intersectionTreshold, minimum.y - intersectionTreshold, minimum.z - intersectionTreshold);\n    var newMaximum = Ray2._TmpVector3[1].copyFromFloats(maximum.x + intersectionTreshold, maximum.y + intersectionTreshold, maximum.z + intersectionTreshold);\n    var d = 0;\n    var maxValue = Number.MAX_VALUE;\n    var inv;\n    var min;\n    var max;\n    var temp;\n    if (Math.abs(this.direction.x) < 1e-7) {\n      if (this.origin.x < newMinimum.x || this.origin.x > newMaximum.x) {\n        return false;\n      }\n    } else {\n      inv = 1 / this.direction.x;\n      min = (newMinimum.x - this.origin.x) * inv;\n      max = (newMaximum.x - this.origin.x) * inv;\n      if (max === -Infinity) {\n        max = Infinity;\n      }\n      if (min > max) {\n        temp = min;\n        min = max;\n        max = temp;\n      }\n      d = Math.max(min, d);\n      maxValue = Math.min(max, maxValue);\n      if (d > maxValue) {\n        return false;\n      }\n    }\n    if (Math.abs(this.direction.y) < 1e-7) {\n      if (this.origin.y < newMinimum.y || this.origin.y > newMaximum.y) {\n        return false;\n      }\n    } else {\n      inv = 1 / this.direction.y;\n      min = (newMinimum.y - this.origin.y) * inv;\n      max = (newMaximum.y - this.origin.y) * inv;\n      if (max === -Infinity) {\n        max = Infinity;\n      }\n      if (min > max) {\n        temp = min;\n        min = max;\n        max = temp;\n      }\n      d = Math.max(min, d);\n      maxValue = Math.min(max, maxValue);\n      if (d > maxValue) {\n        return false;\n      }\n    }\n    if (Math.abs(this.direction.z) < 1e-7) {\n      if (this.origin.z < newMinimum.z || this.origin.z > newMaximum.z) {\n        return false;\n      }\n    } else {\n      inv = 1 / this.direction.z;\n      min = (newMinimum.z - this.origin.z) * inv;\n      max = (newMaximum.z - this.origin.z) * inv;\n      if (max === -Infinity) {\n        max = Infinity;\n      }\n      if (min > max) {\n        temp = min;\n        min = max;\n        max = temp;\n      }\n      d = Math.max(min, d);\n      maxValue = Math.min(max, maxValue);\n      if (d > maxValue) {\n        return false;\n      }\n    }\n    return true;\n  };\n  Ray2.prototype.intersectsBox = function(box, intersectionTreshold) {\n    if (intersectionTreshold === void 0) {\n      intersectionTreshold = 0;\n    }\n    return this.intersectsBoxMinMax(box.minimum, box.maximum, intersectionTreshold);\n  };\n  Ray2.prototype.intersectsSphere = function(sphere, intersectionTreshold) {\n    if (intersectionTreshold === void 0) {\n      intersectionTreshold = 0;\n    }\n    var x = sphere.center.x - this.origin.x;\n    var y = sphere.center.y - this.origin.y;\n    var z = sphere.center.z - this.origin.z;\n    var pyth = x * x + y * y + z * z;\n    var radius = sphere.radius + intersectionTreshold;\n    var rr = radius * radius;\n    if (pyth <= rr) {\n      return true;\n    }\n    var dot = x * this.direction.x + y * this.direction.y + z * this.direction.z;\n    if (dot < 0) {\n      return false;\n    }\n    var temp = pyth - dot * dot;\n    return temp <= rr;\n  };\n  Ray2.prototype.intersectsTriangle = function(vertex0, vertex1, vertex2) {\n    var edge1 = Ray2._TmpVector3[0];\n    var edge2 = Ray2._TmpVector3[1];\n    var pvec = Ray2._TmpVector3[2];\n    var tvec = Ray2._TmpVector3[3];\n    var qvec = Ray2._TmpVector3[4];\n    vertex1.subtractToRef(vertex0, edge1);\n    vertex2.subtractToRef(vertex0, edge2);\n    Vector3.CrossToRef(this.direction, edge2, pvec);\n    var det = Vector3.Dot(edge1, pvec);\n    if (det === 0) {\n      return null;\n    }\n    var invdet = 1 / det;\n    this.origin.subtractToRef(vertex0, tvec);\n    var bv = Vector3.Dot(tvec, pvec) * invdet;\n    if (bv < 0 || bv > 1) {\n      return null;\n    }\n    Vector3.CrossToRef(tvec, edge1, qvec);\n    var bw = Vector3.Dot(this.direction, qvec) * invdet;\n    if (bw < 0 || bv + bw > 1) {\n      return null;\n    }\n    var distance = Vector3.Dot(edge2, qvec) * invdet;\n    if (distance > this.length) {\n      return null;\n    }\n    return new IntersectionInfo(1 - bv - bw, bv, distance);\n  };\n  Ray2.prototype.intersectsPlane = function(plane) {\n    var distance;\n    var result1 = Vector3.Dot(plane.normal, this.direction);\n    if (Math.abs(result1) < 999999997475243e-21) {\n      return null;\n    } else {\n      var result2 = Vector3.Dot(plane.normal, this.origin);\n      distance = (-plane.d - result2) / result1;\n      if (distance < 0) {\n        if (distance < -999999997475243e-21) {\n          return null;\n        } else {\n          return 0;\n        }\n      }\n      return distance;\n    }\n  };\n  Ray2.prototype.intersectsAxis = function(axis, offset) {\n    if (offset === void 0) {\n      offset = 0;\n    }\n    switch (axis) {\n      case \"y\": {\n        var t = (this.origin.y - offset) / this.direction.y;\n        if (t > 0) {\n          return null;\n        }\n        return new Vector3(this.origin.x + this.direction.x * -t, offset, this.origin.z + this.direction.z * -t);\n      }\n      case \"x\": {\n        var t = (this.origin.x - offset) / this.direction.x;\n        if (t > 0) {\n          return null;\n        }\n        return new Vector3(offset, this.origin.y + this.direction.y * -t, this.origin.z + this.direction.z * -t);\n      }\n      case \"z\": {\n        var t = (this.origin.z - offset) / this.direction.z;\n        if (t > 0) {\n          return null;\n        }\n        return new Vector3(this.origin.x + this.direction.x * -t, this.origin.y + this.direction.y * -t, offset);\n      }\n      default:\n        return null;\n    }\n  };\n  Ray2.prototype.intersectsMesh = function(mesh, fastCheck) {\n    var tm = TmpVectors.Matrix[0];\n    mesh.getWorldMatrix().invertToRef(tm);\n    if (this._tmpRay) {\n      Ray2.TransformToRef(this, tm, this._tmpRay);\n    } else {\n      this._tmpRay = Ray2.Transform(this, tm);\n    }\n    return mesh.intersects(this._tmpRay, fastCheck);\n  };\n  Ray2.prototype.intersectsMeshes = function(meshes, fastCheck, results) {\n    if (results) {\n      results.length = 0;\n    } else {\n      results = [];\n    }\n    for (var i = 0; i < meshes.length; i++) {\n      var pickInfo = this.intersectsMesh(meshes[i], fastCheck);\n      if (pickInfo.hit) {\n        results.push(pickInfo);\n      }\n    }\n    results.sort(this._comparePickingInfo);\n    return results;\n  };\n  Ray2.prototype._comparePickingInfo = function(pickingInfoA, pickingInfoB) {\n    if (pickingInfoA.distance < pickingInfoB.distance) {\n      return -1;\n    } else if (pickingInfoA.distance > pickingInfoB.distance) {\n      return 1;\n    } else {\n      return 0;\n    }\n  };\n  Ray2.prototype.intersectionSegment = function(sega, segb, threshold) {\n    var o = this.origin;\n    var u = TmpVectors.Vector3[0];\n    var rsegb = TmpVectors.Vector3[1];\n    var v = TmpVectors.Vector3[2];\n    var w = TmpVectors.Vector3[3];\n    segb.subtractToRef(sega, u);\n    this.direction.scaleToRef(Ray2._Rayl, v);\n    o.addToRef(v, rsegb);\n    sega.subtractToRef(o, w);\n    var a = Vector3.Dot(u, u);\n    var b = Vector3.Dot(u, v);\n    var c = Vector3.Dot(v, v);\n    var d = Vector3.Dot(u, w);\n    var e = Vector3.Dot(v, w);\n    var D = a * c - b * b;\n    var sN, sD = D;\n    var tN, tD = D;\n    if (D < Ray2._Smallnum) {\n      sN = 0;\n      sD = 1;\n      tN = e;\n      tD = c;\n    } else {\n      sN = b * e - c * d;\n      tN = a * e - b * d;\n      if (sN < 0) {\n        sN = 0;\n        tN = e;\n        tD = c;\n      } else if (sN > sD) {\n        sN = sD;\n        tN = e + b;\n        tD = c;\n      }\n    }\n    if (tN < 0) {\n      tN = 0;\n      if (-d < 0) {\n        sN = 0;\n      } else if (-d > a) {\n        sN = sD;\n      } else {\n        sN = -d;\n        sD = a;\n      }\n    } else if (tN > tD) {\n      tN = tD;\n      if (-d + b < 0) {\n        sN = 0;\n      } else if (-d + b > a) {\n        sN = sD;\n      } else {\n        sN = -d + b;\n        sD = a;\n      }\n    }\n    var sc = Math.abs(sN) < Ray2._Smallnum ? 0 : sN / sD;\n    var tc = Math.abs(tN) < Ray2._Smallnum ? 0 : tN / tD;\n    var qtc = TmpVectors.Vector3[4];\n    v.scaleToRef(tc, qtc);\n    var qsc = TmpVectors.Vector3[5];\n    u.scaleToRef(sc, qsc);\n    qsc.addInPlace(w);\n    var dP = TmpVectors.Vector3[6];\n    qsc.subtractToRef(qtc, dP);\n    var isIntersected = tc > 0 && tc <= this.length && dP.lengthSquared() < threshold * threshold;\n    if (isIntersected) {\n      return qsc.length();\n    }\n    return -1;\n  };\n  Ray2.prototype.update = function(x, y, viewportWidth, viewportHeight, world, view, projection, enableDistantPicking) {\n    if (enableDistantPicking === void 0) {\n      enableDistantPicking = false;\n    }\n    if (enableDistantPicking) {\n      if (!Ray2._RayDistant) {\n        Ray2._RayDistant = Ray2.Zero();\n      }\n      Ray2._RayDistant.unprojectRayToRef(x, y, viewportWidth, viewportHeight, Matrix.IdentityReadOnly, view, projection);\n      var tm = TmpVectors.Matrix[0];\n      world.invertToRef(tm);\n      Ray2.TransformToRef(Ray2._RayDistant, tm, this);\n    } else {\n      this.unprojectRayToRef(x, y, viewportWidth, viewportHeight, world, view, projection);\n    }\n    return this;\n  };\n  Ray2.Zero = function() {\n    return new Ray2(Vector3.Zero(), Vector3.Zero());\n  };\n  Ray2.CreateNew = function(x, y, viewportWidth, viewportHeight, world, view, projection) {\n    var result = Ray2.Zero();\n    return result.update(x, y, viewportWidth, viewportHeight, world, view, projection);\n  };\n  Ray2.CreateNewFromTo = function(origin, end, world) {\n    if (world === void 0) {\n      world = Matrix.IdentityReadOnly;\n    }\n    var direction = end.subtract(origin);\n    var length = Math.sqrt(direction.x * direction.x + direction.y * direction.y + direction.z * direction.z);\n    direction.normalize();\n    return Ray2.Transform(new Ray2(origin, direction, length), world);\n  };\n  Ray2.Transform = function(ray, matrix) {\n    var result = new Ray2(new Vector3(0, 0, 0), new Vector3(0, 0, 0));\n    Ray2.TransformToRef(ray, matrix, result);\n    return result;\n  };\n  Ray2.TransformToRef = function(ray, matrix, result) {\n    Vector3.TransformCoordinatesToRef(ray.origin, matrix, result.origin);\n    Vector3.TransformNormalToRef(ray.direction, matrix, result.direction);\n    result.length = ray.length;\n    var dir = result.direction;\n    var len = dir.length();\n    if (!(len === 0 || len === 1)) {\n      var num = 1 / len;\n      dir.x *= num;\n      dir.y *= num;\n      dir.z *= num;\n      result.length *= len;\n    }\n  };\n  Ray2.prototype.unprojectRayToRef = function(sourceX, sourceY, viewportWidth, viewportHeight, world, view, projection) {\n    var _a;\n    var matrix = TmpVectors.Matrix[0];\n    world.multiplyToRef(view, matrix);\n    matrix.multiplyToRef(projection, matrix);\n    matrix.invert();\n    var nearScreenSource = TmpVectors.Vector3[0];\n    nearScreenSource.x = sourceX / viewportWidth * 2 - 1;\n    nearScreenSource.y = -(sourceY / viewportHeight * 2 - 1);\n    nearScreenSource.z = ((_a = EngineStore.LastCreatedEngine) === null || _a === void 0 ? void 0 : _a.isNDCHalfZRange) ? 0 : -1;\n    var farScreenSource = TmpVectors.Vector3[1].copyFromFloats(nearScreenSource.x, nearScreenSource.y, 1 - 1e-8);\n    var nearVec3 = TmpVectors.Vector3[2];\n    var farVec3 = TmpVectors.Vector3[3];\n    Vector3._UnprojectFromInvertedMatrixToRef(nearScreenSource, matrix, nearVec3);\n    Vector3._UnprojectFromInvertedMatrixToRef(farScreenSource, matrix, farVec3);\n    this.origin.copyFrom(nearVec3);\n    farVec3.subtractToRef(nearVec3, this.direction);\n    this.direction.normalize();\n  };\n  Ray2._TmpVector3 = ArrayTools.BuildArray(6, Vector3.Zero);\n  Ray2._RayDistant = Ray2.Zero();\n  Ray2._Smallnum = 1e-8;\n  Ray2._Rayl = 1e9;\n  return Ray2;\n}();\nScene.prototype.createPickingRay = function(x, y, world, camera, cameraViewSpace) {\n  if (cameraViewSpace === void 0) {\n    cameraViewSpace = false;\n  }\n  var result = Ray.Zero();\n  this.createPickingRayToRef(x, y, world, result, camera, cameraViewSpace);\n  return result;\n};\nScene.prototype.createPickingRayToRef = function(x, y, world, result, camera, cameraViewSpace, enableDistantPicking) {\n  if (cameraViewSpace === void 0) {\n    cameraViewSpace = false;\n  }\n  if (enableDistantPicking === void 0) {\n    enableDistantPicking = false;\n  }\n  var engine = this.getEngine();\n  if (!camera) {\n    if (!this.activeCamera) {\n      return this;\n    }\n    camera = this.activeCamera;\n  }\n  var cameraViewport = camera.viewport;\n  var viewport = cameraViewport.toGlobal(engine.getRenderWidth(), engine.getRenderHeight());\n  x = x / engine.getHardwareScalingLevel() - viewport.x;\n  y = y / engine.getHardwareScalingLevel() - (engine.getRenderHeight() - viewport.y - viewport.height);\n  result.update(x, y, viewport.width, viewport.height, world ? world : Matrix.IdentityReadOnly, cameraViewSpace ? Matrix.IdentityReadOnly : camera.getViewMatrix(), camera.getProjectionMatrix(), enableDistantPicking);\n  return this;\n};\nScene.prototype.createPickingRayInCameraSpace = function(x, y, camera) {\n  var result = Ray.Zero();\n  this.createPickingRayInCameraSpaceToRef(x, y, result, camera);\n  return result;\n};\nScene.prototype.createPickingRayInCameraSpaceToRef = function(x, y, result, camera) {\n  if (!PickingInfo) {\n    return this;\n  }\n  var engine = this.getEngine();\n  if (!camera) {\n    if (!this.activeCamera) {\n      throw new Error(\"Active camera not set\");\n    }\n    camera = this.activeCamera;\n  }\n  var cameraViewport = camera.viewport;\n  var viewport = cameraViewport.toGlobal(engine.getRenderWidth(), engine.getRenderHeight());\n  var identity = Matrix.Identity();\n  x = x / engine.getHardwareScalingLevel() - viewport.x;\n  y = y / engine.getHardwareScalingLevel() - (engine.getRenderHeight() - viewport.y - viewport.height);\n  result.update(x, y, viewport.width, viewport.height, identity, identity, camera.getProjectionMatrix());\n  return this;\n};\nScene.prototype._internalPickForMesh = function(pickingInfo, rayFunction, mesh, world, fastCheck, onlyBoundingInfo, trianglePredicate, skipBoundingInfo) {\n  var ray = rayFunction(world, mesh.enableDistantPicking);\n  var result = mesh.intersects(ray, fastCheck, trianglePredicate, onlyBoundingInfo, world, skipBoundingInfo);\n  if (!result || !result.hit) {\n    return null;\n  }\n  if (!fastCheck && pickingInfo != null && result.distance >= pickingInfo.distance) {\n    return null;\n  }\n  return result;\n};\nScene.prototype._internalPick = function(rayFunction, predicate, fastCheck, onlyBoundingInfo, trianglePredicate) {\n  if (!PickingInfo) {\n    return null;\n  }\n  var pickingInfo = null;\n  for (var meshIndex = 0; meshIndex < this.meshes.length; meshIndex++) {\n    var mesh = this.meshes[meshIndex];\n    if (predicate) {\n      if (!predicate(mesh)) {\n        continue;\n      }\n    } else if (!mesh.isEnabled() || !mesh.isVisible || !mesh.isPickable) {\n      continue;\n    }\n    var world = mesh.getWorldMatrix();\n    if (mesh.hasThinInstances && mesh.thinInstanceEnablePicking) {\n      var result = this._internalPickForMesh(pickingInfo, rayFunction, mesh, world, true, true, trianglePredicate);\n      if (result) {\n        if (onlyBoundingInfo) {\n          return result;\n        }\n        var tmpMatrix2 = TmpVectors.Matrix[1];\n        var thinMatrices = mesh.thinInstanceGetWorldMatrices();\n        for (var index = 0; index < thinMatrices.length; index++) {\n          var thinMatrix = thinMatrices[index];\n          thinMatrix.multiplyToRef(world, tmpMatrix2);\n          var result_1 = this._internalPickForMesh(pickingInfo, rayFunction, mesh, tmpMatrix2, fastCheck, onlyBoundingInfo, trianglePredicate, true);\n          if (result_1) {\n            pickingInfo = result_1;\n            pickingInfo.thinInstanceIndex = index;\n            if (fastCheck) {\n              return pickingInfo;\n            }\n          }\n        }\n      }\n    } else {\n      var result = this._internalPickForMesh(pickingInfo, rayFunction, mesh, world, fastCheck, onlyBoundingInfo, trianglePredicate);\n      if (result) {\n        pickingInfo = result;\n        if (fastCheck) {\n          return pickingInfo;\n        }\n      }\n    }\n  }\n  return pickingInfo || new PickingInfo();\n};\nScene.prototype._internalMultiPick = function(rayFunction, predicate, trianglePredicate) {\n  if (!PickingInfo) {\n    return null;\n  }\n  var pickingInfos = new Array();\n  for (var meshIndex = 0; meshIndex < this.meshes.length; meshIndex++) {\n    var mesh = this.meshes[meshIndex];\n    if (predicate) {\n      if (!predicate(mesh)) {\n        continue;\n      }\n    } else if (!mesh.isEnabled() || !mesh.isVisible || !mesh.isPickable) {\n      continue;\n    }\n    var world = mesh.getWorldMatrix();\n    if (mesh.hasThinInstances && mesh.thinInstanceEnablePicking) {\n      var result = this._internalPickForMesh(null, rayFunction, mesh, world, true, true, trianglePredicate);\n      if (result) {\n        var tmpMatrix2 = TmpVectors.Matrix[1];\n        var thinMatrices = mesh.thinInstanceGetWorldMatrices();\n        for (var index = 0; index < thinMatrices.length; index++) {\n          var thinMatrix = thinMatrices[index];\n          thinMatrix.multiplyToRef(world, tmpMatrix2);\n          var result_2 = this._internalPickForMesh(null, rayFunction, mesh, tmpMatrix2, false, false, trianglePredicate, true);\n          if (result_2) {\n            result_2.thinInstanceIndex = index;\n            pickingInfos.push(result_2);\n          }\n        }\n      }\n    } else {\n      var result = this._internalPickForMesh(null, rayFunction, mesh, world, false, false, trianglePredicate);\n      if (result) {\n        pickingInfos.push(result);\n      }\n    }\n  }\n  return pickingInfos;\n};\nScene.prototype.pickWithBoundingInfo = function(x, y, predicate, fastCheck, camera) {\n  var _this = this;\n  if (!PickingInfo) {\n    return null;\n  }\n  var result = this._internalPick(function(world) {\n    if (!_this._tempPickingRay) {\n      _this._tempPickingRay = Ray.Zero();\n    }\n    _this.createPickingRayToRef(x, y, world, _this._tempPickingRay, camera || null);\n    return _this._tempPickingRay;\n  }, predicate, fastCheck, true);\n  if (result) {\n    result.ray = this.createPickingRay(x, y, Matrix.Identity(), camera || null);\n  }\n  return result;\n};\nScene.prototype.pick = function(x, y, predicate, fastCheck, camera, trianglePredicate, _enableDistantPicking) {\n  var _this = this;\n  if (!PickingInfo) {\n    return null;\n  }\n  var result = this._internalPick(function(world, enableDistantPicking) {\n    if (!_this._tempPickingRay) {\n      _this._tempPickingRay = Ray.Zero();\n    }\n    _this.createPickingRayToRef(x, y, world, _this._tempPickingRay, camera || null, false, enableDistantPicking);\n    return _this._tempPickingRay;\n  }, predicate, fastCheck, false, trianglePredicate);\n  if (result) {\n    result.ray = this.createPickingRay(x, y, Matrix.Identity(), camera || null);\n  }\n  return result;\n};\nScene.prototype.pickWithRay = function(ray, predicate, fastCheck, trianglePredicate) {\n  var _this = this;\n  var result = this._internalPick(function(world) {\n    if (!_this._pickWithRayInverseMatrix) {\n      _this._pickWithRayInverseMatrix = Matrix.Identity();\n    }\n    world.invertToRef(_this._pickWithRayInverseMatrix);\n    if (!_this._cachedRayForTransform) {\n      _this._cachedRayForTransform = Ray.Zero();\n    }\n    Ray.TransformToRef(ray, _this._pickWithRayInverseMatrix, _this._cachedRayForTransform);\n    return _this._cachedRayForTransform;\n  }, predicate, fastCheck, false, trianglePredicate);\n  if (result) {\n    result.ray = ray;\n  }\n  return result;\n};\nScene.prototype.multiPick = function(x, y, predicate, camera, trianglePredicate) {\n  var _this = this;\n  return this._internalMultiPick(function(world) {\n    return _this.createPickingRay(x, y, world, camera || null);\n  }, predicate, trianglePredicate);\n};\nScene.prototype.multiPickWithRay = function(ray, predicate, trianglePredicate) {\n  var _this = this;\n  return this._internalMultiPick(function(world) {\n    if (!_this._pickWithRayInverseMatrix) {\n      _this._pickWithRayInverseMatrix = Matrix.Identity();\n    }\n    world.invertToRef(_this._pickWithRayInverseMatrix);\n    if (!_this._cachedRayForTransform) {\n      _this._cachedRayForTransform = Ray.Zero();\n    }\n    Ray.TransformToRef(ray, _this._pickWithRayInverseMatrix, _this._cachedRayForTransform);\n    return _this._cachedRayForTransform;\n  }, predicate, trianglePredicate);\n};\nCamera.prototype.getForwardRay = function(length, transform, origin) {\n  if (length === void 0) {\n    length = 100;\n  }\n  return this.getForwardRayToRef(new Ray(Vector3.Zero(), Vector3.Zero(), length), length, transform, origin);\n};\nCamera.prototype.getForwardRayToRef = function(refRay, length, transform, origin) {\n  if (length === void 0) {\n    length = 100;\n  }\n  if (!transform) {\n    transform = this.getWorldMatrix();\n  }\n  refRay.length = length;\n  if (!origin) {\n    refRay.origin.copyFrom(this.position);\n  } else {\n    refRay.origin.copyFrom(origin);\n  }\n  TmpVectors.Vector3[2].set(0, 0, this._scene.useRightHandedSystem ? -1 : 1);\n  Vector3.TransformNormalToRef(TmpVectors.Vector3[2], transform, TmpVectors.Vector3[3]);\n  Vector3.NormalizeToRef(TmpVectors.Vector3[3], refRay.direction);\n  return refRay;\n};\nvar isDescendantOf = function(mesh, names, hierarchyIds) {\n  for (var i in names) {\n    if (mesh.name === names[i]) {\n      hierarchyIds.push(mesh.id);\n      return true;\n    }\n  }\n  if (mesh.parentId && hierarchyIds.indexOf(mesh.parentId) !== -1) {\n    hierarchyIds.push(mesh.id);\n    return true;\n  }\n  return false;\n};\nvar logOperation = function(operation, producer) {\n  return operation + \" of \" + (producer ? producer.file + \" from \" + producer.name + \" version: \" + producer.version + \", exporter version: \" + producer.exporter_version : \"unknown\");\n};\nSceneLoader.RegisterPlugin({\n  name: \"babylon.js\",\n  extensions: \".json\",\n  canDirectLoad: function(data) {\n    if (data.indexOf(\"json\") !== -1) {\n      return true;\n    }\n    return true;\n  },\n  importMesh: function(meshesNames, scene, data, rootUrl, meshes, particleSystems, skeletons, onError) {\n    var log = \"importMesh has failed JSON parse\";\n    try {\n      var parsedData = JSON.parse(data);\n      parsedData.physicsEnabled = false;\n      parsedData == null ? void 0 : parsedData.meshes.map((mesh2) => delete mesh2.physicsImpostor);\n      log = \"\";\n      var fullDetails = SceneLoader.loggingLevel === SceneLoader.DETAILED_LOGGING;\n      if (!meshesNames) {\n        meshesNames = null;\n      } else if (!Array.isArray(meshesNames)) {\n        meshesNames = [meshesNames];\n      }\n      var hierarchyIds = new Array();\n      if (parsedData.meshes !== void 0 && parsedData.meshes !== null) {\n        var index;\n        var cache;\n        for (index = 0, cache = parsedData.meshes.length; index < cache; index++) {\n          var parsedMesh = parsedData.meshes[index];\n          if (meshesNames === null || isDescendantOf(parsedMesh, meshesNames, hierarchyIds)) {\n            if (meshesNames !== null) {\n              delete meshesNames[meshesNames.indexOf(parsedMesh.name)];\n            }\n            var mesh = Mesh.Parse(parsedMesh, scene, rootUrl);\n            meshes.push(mesh);\n            log += \"\\n\tMesh \" + mesh.toString(fullDetails);\n          }\n        }\n        var currentMesh;\n        for (index = 0, cache = scene.meshes.length; index < cache; index++) {\n          currentMesh = scene.meshes[index];\n          if (currentMesh._waitingParentId) {\n            currentMesh.parent = scene.getLastEntryByID(currentMesh._waitingParentId);\n            currentMesh._waitingParentId = null;\n          }\n          currentMesh.computeWorldMatrix(true);\n        }\n      }\n      return true;\n    } catch (err) {\n      var msg = logOperation(\"importMesh\", parsedData ? parsedData.producer : \"Unknown\") + log;\n      if (onError) {\n        onError(msg, err);\n      } else {\n        Logger.Log(msg);\n        throw err;\n      }\n    } finally {\n      if (log !== null && SceneLoader.loggingLevel !== SceneLoader.NO_LOGGING) {\n        Logger.Log(logOperation(\"importMesh\", parsedData ? parsedData.producer : \"Unknown\") + (SceneLoader.loggingLevel !== SceneLoader.MINIMAL_LOGGING ? log : \"\"));\n      }\n    }\n    return false;\n  },\n  load: function(scene, data, rootUrl, onError) {\n    var log = \"importScene has failed JSON parse\";\n    try {\n      var parsedData = JSON.parse(data);\n      log = \"\";\n      if (parsedData.clearColor !== void 0 && parsedData.clearColor !== null) {\n        scene.clearColor = Color4.FromArray(parsedData.clearColor);\n      }\n      var container = loadAssetContainer(scene, data, rootUrl, onError, true);\n      if (!container) {\n        return false;\n      }\n      return true;\n    } catch (err) {\n      var msg = logOperation(\"importScene\", parsedData ? parsedData.producer : \"Unknown\") + log;\n      if (onError) {\n        onError(msg, err);\n      } else {\n        Logger.Log(msg);\n        throw err;\n      }\n    } finally {\n      if (log !== null && SceneLoader.loggingLevel !== SceneLoader.NO_LOGGING) {\n        Logger.Log(logOperation(\"importScene\", parsedData ? parsedData.producer : \"Unknown\") + (SceneLoader.loggingLevel !== SceneLoader.MINIMAL_LOGGING ? log : \"\"));\n      }\n    }\n    return false;\n  },\n  loadAssetContainer: function(scene, data, rootUrl, onError) {\n    var container = loadAssetContainer(scene, data, rootUrl, onError);\n    return container;\n  }\n});\nMesh._instancedMeshFactory = function(name2, mesh) {\n  var instance = new InstancedMesh(name2, mesh);\n  if (mesh.instancedBuffers) {\n    instance.instancedBuffers = {};\n    for (var key in mesh.instancedBuffers) {\n      instance.instancedBuffers[key] = mesh.instancedBuffers[key];\n    }\n  }\n  return instance;\n};\nvar InstancedMesh = function(_super) {\n  __extends(InstancedMesh2, _super);\n  function InstancedMesh2(name2, source) {\n    var _this = _super.call(this, name2, source.getScene()) || this;\n    _this._indexInSourceMeshInstanceArray = -1;\n    _this._distanceToCamera = 0;\n    source.addInstance(_this);\n    _this._sourceMesh = source;\n    _this._unIndexed = source._unIndexed;\n    _this.position.copyFrom(source.position);\n    _this.rotation.copyFrom(source.rotation);\n    _this.scaling.copyFrom(source.scaling);\n    if (source.rotationQuaternion) {\n      _this.rotationQuaternion = source.rotationQuaternion.clone();\n    }\n    _this.animations = source.animations.slice();\n    for (var _i = 0, _a = source.getAnimationRanges(); _i < _a.length; _i++) {\n      var range = _a[_i];\n      if (range != null) {\n        _this.createAnimationRange(range.name, range.from, range.to);\n      }\n    }\n    _this.infiniteDistance = source.infiniteDistance;\n    _this.setPivotMatrix(source.getPivotMatrix());\n    _this.refreshBoundingInfo(true, true);\n    _this._syncSubMeshes();\n    return _this;\n  }\n  InstancedMesh2.prototype.getClassName = function() {\n    return \"InstancedMesh\";\n  };\n  Object.defineProperty(InstancedMesh2.prototype, \"lightSources\", {\n    get: function() {\n      return this._sourceMesh._lightSources;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  InstancedMesh2.prototype._resyncLightSources = function() {\n  };\n  InstancedMesh2.prototype._resyncLightSource = function() {\n  };\n  InstancedMesh2.prototype._removeLightSource = function() {\n  };\n  Object.defineProperty(InstancedMesh2.prototype, \"receiveShadows\", {\n    get: function() {\n      return this._sourceMesh.receiveShadows;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(InstancedMesh2.prototype, \"material\", {\n    get: function() {\n      return this._sourceMesh.material;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(InstancedMesh2.prototype, \"visibility\", {\n    get: function() {\n      return this._sourceMesh.visibility;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(InstancedMesh2.prototype, \"skeleton\", {\n    get: function() {\n      return this._sourceMesh.skeleton;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(InstancedMesh2.prototype, \"renderingGroupId\", {\n    get: function() {\n      return this._sourceMesh.renderingGroupId;\n    },\n    set: function(value) {\n      if (!this._sourceMesh || value === this._sourceMesh.renderingGroupId) {\n        return;\n      }\n      Logger.Warn(\"Note - setting renderingGroupId of an instanced mesh has no effect on the scene\");\n    },\n    enumerable: false,\n    configurable: true\n  });\n  InstancedMesh2.prototype.getTotalVertices = function() {\n    return this._sourceMesh ? this._sourceMesh.getTotalVertices() : 0;\n  };\n  InstancedMesh2.prototype.getTotalIndices = function() {\n    return this._sourceMesh.getTotalIndices();\n  };\n  Object.defineProperty(InstancedMesh2.prototype, \"sourceMesh\", {\n    get: function() {\n      return this._sourceMesh;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  InstancedMesh2.prototype.createInstance = function(name2) {\n    return this._sourceMesh.createInstance(name2);\n  };\n  InstancedMesh2.prototype.isReady = function(completeCheck) {\n    if (completeCheck === void 0) {\n      completeCheck = false;\n    }\n    return this._sourceMesh.isReady(completeCheck, true);\n  };\n  InstancedMesh2.prototype.getVerticesData = function(kind, copyWhenShared) {\n    return this._sourceMesh.getVerticesData(kind, copyWhenShared);\n  };\n  InstancedMesh2.prototype.setVerticesData = function(kind, data, updatable, stride) {\n    if (this.sourceMesh) {\n      this.sourceMesh.setVerticesData(kind, data, updatable, stride);\n    }\n    return this.sourceMesh;\n  };\n  InstancedMesh2.prototype.updateVerticesData = function(kind, data, updateExtends, makeItUnique) {\n    if (this.sourceMesh) {\n      this.sourceMesh.updateVerticesData(kind, data, updateExtends, makeItUnique);\n    }\n    return this.sourceMesh;\n  };\n  InstancedMesh2.prototype.setIndices = function(indices, totalVertices) {\n    if (totalVertices === void 0) {\n      totalVertices = null;\n    }\n    if (this.sourceMesh) {\n      this.sourceMesh.setIndices(indices, totalVertices);\n    }\n    return this.sourceMesh;\n  };\n  InstancedMesh2.prototype.isVerticesDataPresent = function(kind) {\n    return this._sourceMesh.isVerticesDataPresent(kind);\n  };\n  InstancedMesh2.prototype.getIndices = function() {\n    return this._sourceMesh.getIndices();\n  };\n  Object.defineProperty(InstancedMesh2.prototype, \"_positions\", {\n    get: function() {\n      return this._sourceMesh._positions;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  InstancedMesh2.prototype.refreshBoundingInfo = function(applySkeleton, applyMorph) {\n    if (applySkeleton === void 0) {\n      applySkeleton = false;\n    }\n    if (applyMorph === void 0) {\n      applyMorph = false;\n    }\n    if (this.hasBoundingInfo && this.getBoundingInfo().isLocked) {\n      return this;\n    }\n    var bias = this._sourceMesh.geometry ? this._sourceMesh.geometry.boundingBias : null;\n    this._refreshBoundingInfo(this._sourceMesh._getPositionData(applySkeleton, applyMorph), bias);\n    return this;\n  };\n  InstancedMesh2.prototype._preActivate = function() {\n    if (this._currentLOD) {\n      this._currentLOD._preActivate();\n    }\n    return this;\n  };\n  InstancedMesh2.prototype._activate = function(renderId, intermediateRendering) {\n    _super.prototype._activate.call(this, renderId, intermediateRendering);\n    if (!this._sourceMesh.subMeshes) {\n      Logger.Warn(\"Instances should only be created for meshes with geometry.\");\n    }\n    if (this._currentLOD) {\n      var differentSign = this._currentLOD._getWorldMatrixDeterminant() >= 0 !== this._getWorldMatrixDeterminant() >= 0;\n      if (differentSign) {\n        this._internalAbstractMeshDataInfo._actAsRegularMesh = true;\n        return true;\n      }\n      this._internalAbstractMeshDataInfo._actAsRegularMesh = false;\n      this._currentLOD._registerInstanceForRenderId(this, renderId);\n      if (intermediateRendering) {\n        if (!this._currentLOD._internalAbstractMeshDataInfo._isActiveIntermediate) {\n          this._currentLOD._internalAbstractMeshDataInfo._onlyForInstancesIntermediate = true;\n          return true;\n        }\n      } else {\n        if (!this._currentLOD._internalAbstractMeshDataInfo._isActive) {\n          this._currentLOD._internalAbstractMeshDataInfo._onlyForInstances = true;\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n  InstancedMesh2.prototype._postActivate = function() {\n    if (this._sourceMesh.edgesShareWithInstances && this._sourceMesh._edgesRenderer && this._sourceMesh._edgesRenderer.isEnabled && this._sourceMesh._renderingGroup) {\n      this._sourceMesh._renderingGroup._edgesRenderers.pushNoDuplicate(this._sourceMesh._edgesRenderer);\n      this._sourceMesh._edgesRenderer.customInstances.push(this.getWorldMatrix());\n    } else if (this._edgesRenderer && this._edgesRenderer.isEnabled && this._sourceMesh._renderingGroup) {\n      this._sourceMesh._renderingGroup._edgesRenderers.push(this._edgesRenderer);\n    }\n  };\n  InstancedMesh2.prototype.getWorldMatrix = function() {\n    if (this._currentLOD && this._currentLOD.billboardMode !== TransformNode.BILLBOARDMODE_NONE && this._currentLOD._masterMesh !== this) {\n      if (!this._billboardWorldMatrix) {\n        this._billboardWorldMatrix = new Matrix();\n      }\n      var tempMaster = this._currentLOD._masterMesh;\n      this._currentLOD._masterMesh = this;\n      TmpVectors.Vector3[7].copyFrom(this._currentLOD.position);\n      this._currentLOD.position.set(0, 0, 0);\n      this._billboardWorldMatrix.copyFrom(this._currentLOD.computeWorldMatrix(true));\n      this._currentLOD.position.copyFrom(TmpVectors.Vector3[7]);\n      this._currentLOD._masterMesh = tempMaster;\n      return this._billboardWorldMatrix;\n    }\n    return _super.prototype.getWorldMatrix.call(this);\n  };\n  Object.defineProperty(InstancedMesh2.prototype, \"isAnInstance\", {\n    get: function() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  InstancedMesh2.prototype.getLOD = function(camera) {\n    if (!camera) {\n      return this;\n    }\n    var sourceMeshLODLevels = this.sourceMesh.getLODLevels();\n    if (!sourceMeshLODLevels || sourceMeshLODLevels.length === 0) {\n      this._currentLOD = this.sourceMesh;\n    } else {\n      var boundingInfo = this.getBoundingInfo();\n      this._currentLOD = this.sourceMesh.getLOD(camera, boundingInfo.boundingSphere);\n    }\n    return this._currentLOD;\n  };\n  InstancedMesh2.prototype._preActivateForIntermediateRendering = function(renderId) {\n    return this.sourceMesh._preActivateForIntermediateRendering(renderId);\n  };\n  InstancedMesh2.prototype._syncSubMeshes = function() {\n    this.releaseSubMeshes();\n    if (this._sourceMesh.subMeshes) {\n      for (var index = 0; index < this._sourceMesh.subMeshes.length; index++) {\n        this._sourceMesh.subMeshes[index].clone(this, this._sourceMesh);\n      }\n    }\n    return this;\n  };\n  InstancedMesh2.prototype._generatePointsArray = function() {\n    return this._sourceMesh._generatePointsArray();\n  };\n  InstancedMesh2.prototype._updateBoundingInfo = function() {\n    if (this.hasBoundingInfo) {\n      this.getBoundingInfo().update(this.worldMatrixFromCache);\n    } else {\n      this.buildBoundingInfo(this.absolutePosition, this.absolutePosition, this.worldMatrixFromCache);\n    }\n    this._updateSubMeshesBoundingInfo(this.worldMatrixFromCache);\n    return this;\n  };\n  InstancedMesh2.prototype.clone = function(name2, newParent, doNotCloneChildren) {\n    if (newParent === void 0) {\n      newParent = null;\n    }\n    var result = this._sourceMesh.createInstance(name2);\n    DeepCopier.DeepCopy(this, result, [\n      \"name\",\n      \"subMeshes\",\n      \"uniqueId\",\n      \"parent\",\n      \"lightSources\",\n      \"receiveShadows\",\n      \"material\",\n      \"visibility\",\n      \"skeleton\",\n      \"sourceMesh\",\n      \"isAnInstance\",\n      \"facetNb\",\n      \"isFacetDataEnabled\",\n      \"isBlocked\",\n      \"useBones\",\n      \"hasInstances\",\n      \"collider\",\n      \"edgesRenderer\",\n      \"forward\",\n      \"up\",\n      \"right\",\n      \"absolutePosition\",\n      \"absoluteScaling\",\n      \"absoluteRotationQuaternion\",\n      \"isWorldMatrixFrozen\",\n      \"nonUniformScaling\",\n      \"behaviors\",\n      \"worldMatrixFromCache\",\n      \"hasThinInstances\",\n      \"hasBoundingInfo\"\n    ], []);\n    this.refreshBoundingInfo();\n    if (newParent) {\n      result.parent = newParent;\n    }\n    if (!doNotCloneChildren) {\n      for (var index = 0; index < this.getScene().meshes.length; index++) {\n        var mesh = this.getScene().meshes[index];\n        if (mesh.parent === this) {\n          mesh.clone(mesh.name, result);\n        }\n      }\n    }\n    result.computeWorldMatrix(true);\n    this.onClonedObservable.notifyObservers(result);\n    return result;\n  };\n  InstancedMesh2.prototype.dispose = function(doNotRecurse, disposeMaterialAndTextures) {\n    if (disposeMaterialAndTextures === void 0) {\n      disposeMaterialAndTextures = false;\n    }\n    this._sourceMesh.removeInstance(this);\n    _super.prototype.dispose.call(this, doNotRecurse, disposeMaterialAndTextures);\n  };\n  return InstancedMesh2;\n}(AbstractMesh);\nMesh.prototype.registerInstancedBuffer = function(kind, stride) {\n  var _a, _b;\n  (_b = (_a = this._userInstancedBuffersStorage) === null || _a === void 0 ? void 0 : _a.vertexBuffers[kind]) === null || _b === void 0 ? void 0 : _b.dispose();\n  if (!this.instancedBuffers) {\n    this.instancedBuffers = {};\n    for (var _i = 0, _c = this.instances; _i < _c.length; _i++) {\n      var instance = _c[_i];\n      instance.instancedBuffers = {};\n    }\n    if (!this._userInstancedBuffersStorage) {\n      this._userInstancedBuffersStorage = {\n        data: {},\n        vertexBuffers: {},\n        strides: {},\n        sizes: {},\n        vertexArrayObjects: this.getEngine().getCaps().vertexArrayObject ? {} : void 0\n      };\n    }\n  }\n  this.instancedBuffers[kind] = null;\n  this._userInstancedBuffersStorage.strides[kind] = stride;\n  this._userInstancedBuffersStorage.sizes[kind] = stride * 32;\n  this._userInstancedBuffersStorage.data[kind] = new Float32Array(this._userInstancedBuffersStorage.sizes[kind]);\n  this._userInstancedBuffersStorage.vertexBuffers[kind] = new VertexBuffer(this.getEngine(), this._userInstancedBuffersStorage.data[kind], kind, true, false, stride, true);\n  for (var _d = 0, _e = this.instances; _d < _e.length; _d++) {\n    var instance = _e[_d];\n    instance.instancedBuffers[kind] = null;\n  }\n  this._invalidateInstanceVertexArrayObject();\n  this._markSubMeshesAsAttributesDirty();\n};\nMesh.prototype._processInstancedBuffers = function(visibleInstances, renderSelf) {\n  var instanceCount = visibleInstances.length;\n  for (var kind in this.instancedBuffers) {\n    var size = this._userInstancedBuffersStorage.sizes[kind];\n    var stride = this._userInstancedBuffersStorage.strides[kind];\n    var expectedSize = (instanceCount + 1) * stride;\n    while (size < expectedSize) {\n      size *= 2;\n    }\n    if (this._userInstancedBuffersStorage.data[kind].length != size) {\n      this._userInstancedBuffersStorage.data[kind] = new Float32Array(size);\n      this._userInstancedBuffersStorage.sizes[kind] = size;\n      if (this._userInstancedBuffersStorage.vertexBuffers[kind]) {\n        this._userInstancedBuffersStorage.vertexBuffers[kind].dispose();\n        this._userInstancedBuffersStorage.vertexBuffers[kind] = null;\n      }\n    }\n    var data = this._userInstancedBuffersStorage.data[kind];\n    var offset = 0;\n    if (renderSelf) {\n      var value = this.instancedBuffers[kind];\n      if (value.toArray) {\n        value.toArray(data, offset);\n      } else if (value.copyToArray) {\n        value.copyToArray(data, offset);\n      } else {\n        data[offset] = value;\n      }\n      offset += stride;\n    }\n    for (var instanceIndex = 0; instanceIndex < instanceCount; instanceIndex++) {\n      var instance = visibleInstances[instanceIndex];\n      var value = instance.instancedBuffers[kind];\n      if (value.toArray) {\n        value.toArray(data, offset);\n      } else if (value.copyToArray) {\n        value.copyToArray(data, offset);\n      } else {\n        data[offset] = value;\n      }\n      offset += stride;\n    }\n    if (!this._userInstancedBuffersStorage.vertexBuffers[kind]) {\n      this._userInstancedBuffersStorage.vertexBuffers[kind] = new VertexBuffer(this.getEngine(), this._userInstancedBuffersStorage.data[kind], kind, true, false, stride, true);\n      this._invalidateInstanceVertexArrayObject();\n    } else {\n      this._userInstancedBuffersStorage.vertexBuffers[kind].updateDirectly(data, 0);\n    }\n  }\n};\nMesh.prototype._invalidateInstanceVertexArrayObject = function() {\n  if (!this._userInstancedBuffersStorage || this._userInstancedBuffersStorage.vertexArrayObjects === void 0) {\n    return;\n  }\n  for (var kind in this._userInstancedBuffersStorage.vertexArrayObjects) {\n    this.getEngine().releaseVertexArrayObject(this._userInstancedBuffersStorage.vertexArrayObjects[kind]);\n  }\n  this._userInstancedBuffersStorage.vertexArrayObjects = {};\n};\nMesh.prototype._disposeInstanceSpecificData = function() {\n  if (this._instanceDataStorage.instancesBuffer) {\n    this._instanceDataStorage.instancesBuffer.dispose();\n    this._instanceDataStorage.instancesBuffer = null;\n  }\n  while (this.instances.length) {\n    this.instances[0].dispose();\n  }\n  for (var kind in this.instancedBuffers) {\n    if (this._userInstancedBuffersStorage.vertexBuffers[kind]) {\n      this._userInstancedBuffersStorage.vertexBuffers[kind].dispose();\n    }\n  }\n  this._invalidateInstanceVertexArrayObject();\n  this.instancedBuffers = {};\n};\nconst defaultOptions = {\n  assetPath: \"\",\n  enableShadows: false,\n  groupId: null,\n  id: null,\n  lights: [],\n  rollId: null,\n  scene: null\n};\nconst _Dice = class {\n  constructor(options, scene) {\n    __publicField(this, \"value\", 0);\n    __publicField(this, \"asleep\", false);\n    this.config = __spreadValues(__spreadValues({}, defaultOptions), options);\n    this.id = this.config.id !== void 0 ? this.config.id : Date.now();\n    this.dieType = `d${this.config.sides}`;\n    this.comboKey = `${this.config.theme}_${this.dieType}`;\n    this.scene = scene;\n    this.createInstance();\n  }\n  createInstance() {\n    const targetDie = `${this.config.meshName}_${this.dieType}_${this.config.theme}${this.config.colorSuffix}`;\n    const instanceName = `${targetDie}-instance-${this.id}`;\n    const dieInstance = this.scene.getMeshByName(targetDie).createInstance(instanceName);\n    if (this.config.colorSuffix.length > 0) {\n      const color = Color3.FromHexString(this.config.themeColor);\n      dieInstance.instancedBuffers.customColor = color;\n    }\n    dieInstance.position.y = -100;\n    dieInstance.scaling = new Vector3(this.config.scale, this.config.scale, this.config.scale);\n    if (this.config.enableShadows) {\n      this.config.lights[\"directional\"].shadowGenerator.addShadowCaster(dieInstance);\n    }\n    this.mesh = dieInstance;\n  }\n  static async loadDie(options, scene) {\n    const { sides, theme = \"default\", meshName, colorSuffix } = options;\n    const dieMeshName = meshName + \"_d\" + sides;\n    const dieMaterialName = dieMeshName + \"_\" + theme + colorSuffix;\n    let die = scene.getMeshByName(dieMaterialName);\n    if (!die) {\n      die = scene.getMeshByName(dieMeshName).clone(dieMaterialName);\n    }\n    if (!die.material) {\n      die.material = scene.getMaterialByName(theme + colorSuffix);\n      if (colorSuffix.length > 0) {\n        die.registerInstancedBuffer(\"customColor\", 3);\n      }\n    }\n    return options;\n  }\n  static async loadModels(options, scene) {\n    const { meshFilePath, meshName, scale, d4FaceDown = true } = options;\n    let has_d100 = false;\n    let has_d10 = false;\n    const modelData = await fetch(`${meshFilePath}`).then((resp) => {\n      if (resp.ok) {\n        const contentType = resp.headers.get(\"content-type\");\n        if (contentType && contentType.indexOf(\"application/json\") !== -1) {\n          return resp.json();\n        } else if (resp.type && resp.type === \"basic\") {\n          return resp.json();\n        } else {\n          throw new Error(`Incorrect contentType: ${contentType}. Expected \"application/json\" or \"basic\"`);\n        }\n      } else {\n        throw new Error(`Unable to load 3D mesh file: '${meshFilePath}'. Request rejected with status ${resp.status}: ${resp.statusText}`);\n      }\n    }).catch((error) => console.error(error));\n    if (!modelData) {\n      return;\n    }\n    SceneLoader.ImportMeshAsync(null, null, \"data:\" + JSON.stringify(modelData), scene).then((data) => {\n      data.meshes.forEach((model) => {\n        if (model.name === \"__root__\") {\n          model.dispose();\n        }\n        if (model.name.includes(\"collider\")) {\n          model.scaling = new Vector3(0.9, 0.9, 0.9);\n        }\n        if (!has_d100) {\n          has_d100 = model.name === \"d100\";\n        }\n        if (!has_d10) {\n          has_d10 = model.name === \"d10\";\n        }\n        model.setEnabled(false);\n        model.freezeNormals();\n        model.freezeWorldMatrix();\n        model.isPickable = false;\n        model.doNotSyncBoundingInfo = true;\n        model.name = meshName + \"_\" + model.name;\n      });\n      if (!has_d100 && has_d10) {\n        scene.getMeshByName(meshName + \"_d10\").clone(meshName + \"_d100\");\n        scene.getMeshByName(meshName + \"_d10_collider\").clone(meshName + \"_d100_collider\");\n        if (modelData.colliderFaceMap) {\n          modelData.colliderFaceMap[\"d100\"] = deepCopy(modelData.colliderFaceMap[\"d10\"]);\n          Object.values(modelData.colliderFaceMap[\"d100\"]).forEach((val, i) => {\n            modelData.colliderFaceMap[\"d100\"][i] = val * (val === 10 ? 0 : 10);\n          });\n        }\n      }\n      if (!modelData.colliderFaceMap) {\n        throw new Error(`'colliderFaceMap' data not found in ${meshFilePath}. Without the colliderFaceMap data dice values can not be resolved.`);\n      }\n      scene.themeData[meshName] = {};\n      scene.themeData[meshName].colliderFaceMap = modelData.colliderFaceMap;\n      scene.themeData[meshName].d4FaceDown = d4FaceDown;\n    }).catch((error) => console.error(error));\n    return modelData.meshes.filter((model) => model.name.includes(\"collider\"));\n  }\n  updateConfig(option) {\n    this.config = __spreadValues(__spreadValues({}, this.config), option);\n  }\n  static setVector3(x, y, z) {\n    return _Dice.vector3.set(x, y, z);\n  }\n  static getVector3() {\n    return _Dice.vector3;\n  }\n  static async getRollResult(die, scene) {\n    const getDieRoll = (d = die) => new Promise((resolve, reject) => {\n      const meshName = die.config.parentMesh || die.config.meshName;\n      const meshFaceIds = scene.themeData[meshName].colliderFaceMap;\n      const d4FaceDown = scene.themeData[meshName].d4FaceDown;\n      if (!meshFaceIds[d.dieType]) {\n        throw new Error(`No colliderFaceMap data for ${d.dieType}`);\n      }\n      const dieHitbox = scene.getMeshByName(`${meshName}_${d.dieType}_collider`).createInstance(`${meshName}_${d.dieType}-hitbox-${d.id}`);\n      dieHitbox.isPickable = true;\n      dieHitbox.isVisible = true;\n      dieHitbox.setEnabled(true);\n      dieHitbox.position = d.mesh.position;\n      dieHitbox.rotationQuaternion = d.mesh.rotationQuaternion;\n      let vector = _Dice.setVector3(0, 1, 0);\n      if (d.dieType === \"d4\" && d4FaceDown) {\n        vector = _Dice.setVector3(0, -1, 0);\n      }\n      _Dice.ray.direction = vector;\n      _Dice.ray.origin = die.mesh.position;\n      const picked = scene.pickWithRay(_Dice.ray);\n      dieHitbox.dispose();\n      d.value = meshFaceIds[d.dieType][picked.faceId];\n      if (d.value === void 0) {\n        throw new Error(`colliderFaceMap Error: No value found for ${d.dieType} mesh face ${picked.faceId}`);\n      }\n      return resolve(d.value);\n    }).catch((error) => console.error(error));\n    if (!die.mesh) {\n      return die.value;\n    }\n    return await getDieRoll();\n  }\n};\nlet Dice = _Dice;\n__publicField(Dice, \"ray\", new Ray(Vector3.Zero(), Vector3.Zero(), 1));\n__publicField(Dice, \"vector3\", new Vector3.Zero());\nvar ShaderSpecialParts = function() {\n  function ShaderSpecialParts2() {\n  }\n  return ShaderSpecialParts2;\n}();\nvar CustomMaterial = function(_super) {\n  __extends(CustomMaterial2, _super);\n  function CustomMaterial2(name2, scene) {\n    var _this = _super.call(this, name2, scene) || this;\n    _this.CustomParts = new ShaderSpecialParts();\n    _this.customShaderNameResolve = _this.Builder;\n    _this.FragmentShader = Effect.ShadersStore[\"defaultPixelShader\"];\n    _this.VertexShader = Effect.ShadersStore[\"defaultVertexShader\"];\n    return _this;\n  }\n  CustomMaterial2.prototype.AttachAfterBind = function(mesh, effect) {\n    if (this._newUniformInstances) {\n      for (var el in this._newUniformInstances) {\n        var ea = el.toString().split(\"-\");\n        if (ea[0] == \"vec2\") {\n          effect.setVector2(ea[1], this._newUniformInstances[el]);\n        } else if (ea[0] == \"vec3\") {\n          effect.setVector3(ea[1], this._newUniformInstances[el]);\n        } else if (ea[0] == \"vec4\") {\n          effect.setVector4(ea[1], this._newUniformInstances[el]);\n        } else if (ea[0] == \"mat4\") {\n          effect.setMatrix(ea[1], this._newUniformInstances[el]);\n        } else if (ea[0] == \"float\") {\n          effect.setFloat(ea[1], this._newUniformInstances[el]);\n        }\n      }\n    }\n    if (this._newSamplerInstances) {\n      for (var el in this._newSamplerInstances) {\n        var ea = el.toString().split(\"-\");\n        if (ea[0] == \"sampler2D\" && this._newSamplerInstances[el].isReady && this._newSamplerInstances[el].isReady()) {\n          effect.setTexture(ea[1], this._newSamplerInstances[el]);\n        }\n      }\n    }\n  };\n  CustomMaterial2.prototype.ReviewUniform = function(name2, arr) {\n    if (name2 == \"uniform\" && this._newUniforms) {\n      for (var ind = 0; ind < this._newUniforms.length; ind++) {\n        if (this._customUniform[ind].indexOf(\"sampler\") == -1) {\n          arr.push(this._newUniforms[ind]);\n        }\n      }\n    }\n    if (name2 == \"sampler\" && this._newUniforms) {\n      for (var ind = 0; ind < this._newUniforms.length; ind++) {\n        if (this._customUniform[ind].indexOf(\"sampler\") != -1) {\n          arr.push(this._newUniforms[ind]);\n        }\n      }\n    }\n    return arr;\n  };\n  CustomMaterial2.prototype.Builder = function(shaderName, uniforms, uniformBuffers, samplers, defines, attributes) {\n    var _this = this;\n    if (attributes && this._customAttributes && this._customAttributes.length > 0) {\n      attributes.push.apply(attributes, this._customAttributes);\n    }\n    this.ReviewUniform(\"uniform\", uniforms);\n    this.ReviewUniform(\"sampler\", samplers);\n    if (this._isCreatedShader) {\n      return this._createdShaderName;\n    }\n    this._isCreatedShader = false;\n    CustomMaterial2.ShaderIndexer++;\n    var name2 = \"custom_\" + CustomMaterial2.ShaderIndexer;\n    var fn_afterBind = this._afterBind.bind(this);\n    this._afterBind = function(m, e) {\n      if (!e) {\n        return;\n      }\n      _this.AttachAfterBind(m, e);\n      try {\n        fn_afterBind(m, e);\n      } catch (e2) {\n      }\n    };\n    Effect.ShadersStore[name2 + \"VertexShader\"] = this.VertexShader.replace(\"#define CUSTOM_VERTEX_BEGIN\", this.CustomParts.Vertex_Begin ? this.CustomParts.Vertex_Begin : \"\").replace(\"#define CUSTOM_VERTEX_DEFINITIONS\", (this._customUniform ? this._customUniform.join(\"\\n\") : \"\") + (this.CustomParts.Vertex_Definitions ? this.CustomParts.Vertex_Definitions : \"\")).replace(\"#define CUSTOM_VERTEX_MAIN_BEGIN\", this.CustomParts.Vertex_MainBegin ? this.CustomParts.Vertex_MainBegin : \"\").replace(\"#define CUSTOM_VERTEX_UPDATE_POSITION\", this.CustomParts.Vertex_Before_PositionUpdated ? this.CustomParts.Vertex_Before_PositionUpdated : \"\").replace(\"#define CUSTOM_VERTEX_UPDATE_NORMAL\", this.CustomParts.Vertex_Before_NormalUpdated ? this.CustomParts.Vertex_Before_NormalUpdated : \"\").replace(\"#define CUSTOM_VERTEX_MAIN_END\", this.CustomParts.Vertex_MainEnd ? this.CustomParts.Vertex_MainEnd : \"\");\n    if (this.CustomParts.Vertex_After_WorldPosComputed) {\n      Effect.ShadersStore[name2 + \"VertexShader\"] = Effect.ShadersStore[name2 + \"VertexShader\"].replace(\"#define CUSTOM_VERTEX_UPDATE_WORLDPOS\", this.CustomParts.Vertex_After_WorldPosComputed);\n    }\n    Effect.ShadersStore[name2 + \"PixelShader\"] = this.FragmentShader.replace(\"#define CUSTOM_FRAGMENT_BEGIN\", this.CustomParts.Fragment_Begin ? this.CustomParts.Fragment_Begin : \"\").replace(\"#define CUSTOM_FRAGMENT_MAIN_BEGIN\", this.CustomParts.Fragment_MainBegin ? this.CustomParts.Fragment_MainBegin : \"\").replace(\"#define CUSTOM_FRAGMENT_DEFINITIONS\", (this._customUniform ? this._customUniform.join(\"\\n\") : \"\") + (this.CustomParts.Fragment_Definitions ? this.CustomParts.Fragment_Definitions : \"\")).replace(\"#define CUSTOM_FRAGMENT_UPDATE_DIFFUSE\", this.CustomParts.Fragment_Custom_Diffuse ? this.CustomParts.Fragment_Custom_Diffuse : \"\").replace(\"#define CUSTOM_FRAGMENT_UPDATE_ALPHA\", this.CustomParts.Fragment_Custom_Alpha ? this.CustomParts.Fragment_Custom_Alpha : \"\").replace(\"#define CUSTOM_FRAGMENT_BEFORE_LIGHTS\", this.CustomParts.Fragment_Before_Lights ? this.CustomParts.Fragment_Before_Lights : \"\").replace(\"#define CUSTOM_FRAGMENT_BEFORE_FRAGCOLOR\", this.CustomParts.Fragment_Before_FragColor ? this.CustomParts.Fragment_Before_FragColor : \"\").replace(\"#define CUSTOM_FRAGMENT_MAIN_END\", this.CustomParts.Fragment_MainEnd ? this.CustomParts.Fragment_MainEnd : \"\");\n    if (this.CustomParts.Fragment_Before_Fog) {\n      Effect.ShadersStore[name2 + \"PixelShader\"] = Effect.ShadersStore[name2 + \"PixelShader\"].replace(\"#define CUSTOM_FRAGMENT_BEFORE_FOG\", this.CustomParts.Fragment_Before_Fog);\n    }\n    this._isCreatedShader = true;\n    this._createdShaderName = name2;\n    return name2;\n  };\n  CustomMaterial2.prototype.AddUniform = function(name2, kind, param) {\n    if (!this._customUniform) {\n      this._customUniform = new Array();\n      this._newUniforms = new Array();\n      this._newSamplerInstances = {};\n      this._newUniformInstances = {};\n    }\n    if (param) {\n      if (kind.indexOf(\"sampler\") != -1) {\n        this._newSamplerInstances[kind + \"-\" + name2] = param;\n      } else {\n        this._newUniformInstances[kind + \"-\" + name2] = param;\n      }\n    }\n    this._customUniform.push(\"uniform \" + kind + \" \" + name2 + \";\");\n    this._newUniforms.push(name2);\n    return this;\n  };\n  CustomMaterial2.prototype.AddAttribute = function(name2) {\n    if (!this._customAttributes) {\n      this._customAttributes = [];\n    }\n    this._customAttributes.push(name2);\n    return this;\n  };\n  CustomMaterial2.prototype.Fragment_Begin = function(shaderPart) {\n    this.CustomParts.Fragment_Begin = shaderPart;\n    return this;\n  };\n  CustomMaterial2.prototype.Fragment_Definitions = function(shaderPart) {\n    this.CustomParts.Fragment_Definitions = shaderPart;\n    return this;\n  };\n  CustomMaterial2.prototype.Fragment_MainBegin = function(shaderPart) {\n    this.CustomParts.Fragment_MainBegin = shaderPart;\n    return this;\n  };\n  CustomMaterial2.prototype.Fragment_MainEnd = function(shaderPart) {\n    this.CustomParts.Fragment_MainEnd = shaderPart;\n    return this;\n  };\n  CustomMaterial2.prototype.Fragment_Custom_Diffuse = function(shaderPart) {\n    this.CustomParts.Fragment_Custom_Diffuse = shaderPart.replace(\"result\", \"diffuseColor\");\n    return this;\n  };\n  CustomMaterial2.prototype.Fragment_Custom_Alpha = function(shaderPart) {\n    this.CustomParts.Fragment_Custom_Alpha = shaderPart.replace(\"result\", \"alpha\");\n    return this;\n  };\n  CustomMaterial2.prototype.Fragment_Before_Lights = function(shaderPart) {\n    this.CustomParts.Fragment_Before_Lights = shaderPart;\n    return this;\n  };\n  CustomMaterial2.prototype.Fragment_Before_Fog = function(shaderPart) {\n    this.CustomParts.Fragment_Before_Fog = shaderPart;\n    return this;\n  };\n  CustomMaterial2.prototype.Fragment_Before_FragColor = function(shaderPart) {\n    this.CustomParts.Fragment_Before_FragColor = shaderPart.replace(\"result\", \"color\");\n    return this;\n  };\n  CustomMaterial2.prototype.Vertex_Begin = function(shaderPart) {\n    this.CustomParts.Vertex_Begin = shaderPart;\n    return this;\n  };\n  CustomMaterial2.prototype.Vertex_Definitions = function(shaderPart) {\n    this.CustomParts.Vertex_Definitions = shaderPart;\n    return this;\n  };\n  CustomMaterial2.prototype.Vertex_MainBegin = function(shaderPart) {\n    this.CustomParts.Vertex_MainBegin = shaderPart;\n    return this;\n  };\n  CustomMaterial2.prototype.Vertex_Before_PositionUpdated = function(shaderPart) {\n    this.CustomParts.Vertex_Before_PositionUpdated = shaderPart.replace(\"result\", \"positionUpdated\");\n    return this;\n  };\n  CustomMaterial2.prototype.Vertex_Before_NormalUpdated = function(shaderPart) {\n    this.CustomParts.Vertex_Before_NormalUpdated = shaderPart.replace(\"result\", \"normalUpdated\");\n    return this;\n  };\n  CustomMaterial2.prototype.Vertex_After_WorldPosComputed = function(shaderPart) {\n    this.CustomParts.Vertex_After_WorldPosComputed = shaderPart;\n    return this;\n  };\n  CustomMaterial2.prototype.Vertex_MainEnd = function(shaderPart) {\n    this.CustomParts.Vertex_MainEnd = shaderPart;\n    return this;\n  };\n  CustomMaterial2.ShaderIndexer = 1;\n  return CustomMaterial2;\n}(StandardMaterial);\nRegisterClass(\"BABYLON.CustomMaterial\", CustomMaterial);\nCustomMaterial.prototype.clone = function(name2) {\n  const th = this;\n  const result = SerializationHelper.Clone(() => new CustomMaterial(name2, this.getScene()), this);\n  result.name = name2;\n  result.id = name2;\n  result.CustomParts.Fragment_Begin = th.CustomParts.Fragment_Begin;\n  result.CustomParts.Fragment_Definitions = th.CustomParts.Fragment_Definitions;\n  result.CustomParts.Fragment_MainBegin = th.CustomParts.Fragment_MainBegin;\n  result.CustomParts.Fragment_Custom_Diffuse = th.CustomParts.Fragment_Custom_Diffuse;\n  result.CustomParts.Fragment_Before_Lights = th.CustomParts.Fragment_Before_Lights;\n  result.CustomParts.Fragment_Before_Fog = th.CustomParts.Fragment_Before_Fog;\n  result.CustomParts.Fragment_Custom_Alpha = th.CustomParts.Fragment_Custom_Alpha;\n  result.CustomParts.Fragment_Before_FragColor = th.CustomParts.Fragment_Before_FragColor;\n  result.CustomParts.Vertex_Begin = th.CustomParts.Vertex_Begin;\n  result.CustomParts.Vertex_Definitions = th.CustomParts.Vertex_Definitions;\n  result.CustomParts.Vertex_MainBegin = th.CustomParts.Vertex_MainBegin;\n  result.CustomParts.Vertex_Before_PositionUpdated = th.CustomParts.Vertex_Before_PositionUpdated;\n  result.CustomParts.Vertex_Before_NormalUpdated = th.CustomParts.Vertex_Before_NormalUpdated;\n  result.CustomParts.Vertex_After_WorldPosComputed = th.CustomParts.Vertex_After_WorldPosComputed;\n  result.CustomParts.Vertex_MainEnd = th.CustomParts.Vertex_MainEnd;\n  return result;\n};\nclass ThemeLoader {\n  constructor(options) {\n    __publicField(this, \"loadedThemes\", {});\n    __publicField(this, \"themeData\", {});\n    this.scene = options.scene;\n  }\n  async loadStandardMaterial(options) {\n    const { theme, material: matParams } = options;\n    const diceMaterial = new StandardMaterial(theme, this.scene);\n    if (matParams.diffuseTexture) {\n      diceMaterial.diffuseTexture = await this.getTexture(\"diffuse\", options);\n    }\n    if (matParams.bumpTexture) {\n      diceMaterial.bumpTexture = await this.getTexture(\"bump\", options);\n    }\n    if (matParams.specularTexture) {\n      diceMaterial.specularTexture = await this.getTexture(\"specular\", options);\n    }\n    diceMaterial.allowShaderHotSwapping = false;\n  }\n  async loadColorMaterial(options) {\n    const { theme, material: matParams } = options;\n    const diceMatLight = new CustomMaterial(theme + \"_light\", this.scene);\n    const opts = deepCopy(options);\n    if (matParams.diffuseTexture && matParams.diffuseTexture.light) {\n      opts.material.diffuseTexture = options.material.diffuseTexture.light;\n      diceMatLight.diffuseTexture = await this.getTexture(\"diffuse\", opts);\n    }\n    if (matParams.bumpTexture) {\n      diceMatLight.bumpTexture = await this.getTexture(\"bump\", options);\n    }\n    if (matParams.specularTexture) {\n      diceMatLight.specularTexture = await this.getTexture(\"specular\", options);\n    }\n    diceMatLight.allowShaderHotSwapping = false;\n    diceMatLight.Vertex_Definitions(`\n      attribute vec3 customColor;\n      varying vec3 vColor;\n    `).Vertex_MainEnd(`\n      vColor = customColor;\n    `).Fragment_Definitions(`\n      varying vec3 vColor;\n    `).Fragment_Custom_Diffuse(`\n      baseColor.rgb = mix(vColor.rgb, baseColor.rgb, baseColor.a);\n    `);\n    diceMatLight.AddAttribute(\"customColor\");\n    const diceMatDark = diceMatLight.clone(theme + \"_dark\");\n    if (matParams.diffuseTexture && matParams.diffuseTexture.dark) {\n      opts.material.diffuseTexture = options.material.diffuseTexture.dark;\n      diceMatDark.diffuseTexture = await this.getTexture(\"diffuse\", opts);\n    }\n    diceMatDark.AddAttribute(\"customColor\");\n  }\n  async getTexture(type, options) {\n    const { basePath, material: matParams, theme } = options;\n    let texture;\n    const level = type + \"Level\";\n    const textureKey = type + \"Texture\";\n    try {\n      switch (type) {\n        case \"diffuse\":\n          texture = await this.importTextureAsync(`${basePath}/${matParams[textureKey]}`, theme);\n          if (matParams[level]) {\n            texture.level = matParams[level];\n          }\n          break;\n        case \"bump\":\n          texture = await this.importTextureAsync(`${basePath}/${matParams[textureKey]}`, theme);\n          if (matParams[level]) {\n            texture.level = matParams[level];\n          }\n          break;\n        case \"specular\":\n          texture = await this.importTextureAsync(`${basePath}/${matParams[textureKey]}`, theme);\n          if (matParams.specularPower) {\n            texture.specularPower = matParams.specularPower;\n          }\n          break;\n        default:\n          throw new Error(`Texture type: ${type} is not supported`);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n    return texture;\n  }\n  async importTextureAsync(url, theme) {\n    return new Promise((resolve, reject) => {\n      let fileName = url.match(/^(.*\\/)(.*)$/);\n      let texture = new Texture(url, this.scene, void 0, true, void 0, () => resolve(texture), () => reject(`Unable to load texture '${fileName[2]}' for theme: '${theme}'. Check that your assetPath is configured correctly and that the files exist at path: '${fileName[1]}'`));\n    }).catch((error) => console.error(error));\n  }\n  async load(options) {\n    const { material } = options;\n    if (material.type === \"color\") {\n      await this.loadColorMaterial(options);\n    } else if (material.type === \"standard\") {\n      await this.loadStandardMaterial(options);\n    } else {\n      console.error(`Material type: ${material.type} not supported`);\n    }\n  }\n}\nclass WorldOnscreen {\n  constructor(options) {\n    __privateAdd(this, _add);\n    __publicField(this, \"config\");\n    __publicField(this, \"initialized\", false);\n    __privateAdd(this, _dieCache, {});\n    __privateAdd(this, _count, 0);\n    __privateAdd(this, _sleeperCount, 0);\n    __privateAdd(this, _dieRollTimer, []);\n    __privateAdd(this, _canvas, void 0);\n    __privateAdd(this, _engine, void 0);\n    __privateAdd(this, _scene, void 0);\n    __privateAdd(this, _camera, void 0);\n    __privateAdd(this, _lights, void 0);\n    __privateAdd(this, _container, void 0);\n    __privateAdd(this, _themeLoader, void 0);\n    __privateAdd(this, _physicsWorkerPort, void 0);\n    __privateAdd(this, _meshList, {});\n    __publicField(this, \"noop\", () => {\n    });\n    __publicField(this, \"diceBufferView\", new Float32Array(8e3));\n    this.onInitComplete = options.onInitComplete || this.noop;\n    this.onThemeLoaded = options.onThemeLoaded || this.noop;\n    this.onRollResult = options.onRollResult || this.noop;\n    this.onRollComplete = options.onRollComplete || this.noop;\n    this.onDieRemoved = options.onDieRemoved || this.noop;\n    this.initialized = this.initScene(options);\n  }\n  async initScene(config) {\n    __privateSet(this, _canvas, config.canvas);\n    __privateGet(this, _canvas).width = config.width;\n    __privateGet(this, _canvas).height = config.height;\n    this.config = config.options;\n    __privateSet(this, _engine, createEngine(__privateGet(this, _canvas)));\n    __privateSet(this, _scene, createScene({ engine: __privateGet(this, _engine) }));\n    __privateSet(this, _camera, createCamera({ engine: __privateGet(this, _engine), scene: __privateGet(this, _scene) }));\n    __privateSet(this, _lights, createLights({\n      enableShadows: this.config.enableShadows,\n      shadowTransparency: this.config.shadowTransparency,\n      intensity: this.config.lightIntensity,\n      scene: __privateGet(this, _scene)\n    }));\n    __privateSet(this, _container, new Container({\n      enableShadows: this.config.enableShadows,\n      aspect: __privateGet(this, _canvas).width / __privateGet(this, _canvas).height,\n      lights: __privateGet(this, _lights),\n      scene: __privateGet(this, _scene)\n    }));\n    __privateSet(this, _themeLoader, new ThemeLoader({ scene: __privateGet(this, _scene) }));\n    this.onInitComplete();\n  }\n  connect(port) {\n    __privateSet(this, _physicsWorkerPort, port);\n    __privateGet(this, _physicsWorkerPort).postMessage({\n      action: \"initBuffer\",\n      diceBuffer: this.diceBufferView.buffer\n    }, [this.diceBufferView.buffer]);\n    __privateGet(this, _physicsWorkerPort).onmessage = (e) => {\n      switch (e.data.action) {\n        case \"updates\":\n          this.updatesFromPhysics(e.data.diceBuffer);\n          break;\n        default:\n          console.error(\"action from physicsWorker not found in offscreen worker\");\n          break;\n      }\n    };\n  }\n  updateConfig(options) {\n    const prevConfig = this.config;\n    this.config = options;\n    if (prevConfig.enableShadows !== this.config.enableShadows) {\n      Object.values(__privateGet(this, _lights)).forEach((light) => light.dispose());\n      __privateSet(this, _lights, createLights({ enableShadows: this.config.enableShadows }));\n    }\n    if (prevConfig.scale !== this.config.scale) {\n      Object.values(__privateGet(this, _dieCache)).forEach(({ mesh }) => {\n        if (mesh) {\n          mesh.scaling = new Vector3(this.config.scale, this.config.scale, this.config.scale);\n        }\n      });\n    }\n    if (prevConfig.shadowTransparency !== this.config.shadowTransparency) {\n      __privateGet(this, _lights).directional.shadowGenerator.darkness = this.config.shadowTransparency;\n    }\n    if (prevConfig.lightIntensity !== this.config.lightIntensity) {\n      __privateGet(this, _lights).directional.intensity = 0.65 * this.config.lightIntensity;\n      __privateGet(this, _lights).hemispheric.intensity = 0.4 * this.config.lightIntensity;\n    }\n  }\n  render(newStartPoint) {\n    __privateGet(this, _engine).runRenderLoop(this.renderLoop.bind(this));\n    __privateGet(this, _physicsWorkerPort).postMessage({\n      action: \"resumeSimulation\",\n      newStartPoint\n    });\n  }\n  renderLoop() {\n    if (__privateGet(this, _sleeperCount) && __privateGet(this, _sleeperCount) === Object.keys(__privateGet(this, _dieCache)).length) {\n      __privateGet(this, _engine).stopRenderLoop();\n      __privateGet(this, _physicsWorkerPort).postMessage({\n        action: \"stopSimulation\"\n      });\n      this.onRollComplete();\n    } else {\n      __privateGet(this, _scene).render();\n    }\n  }\n  async loadTheme(options) {\n    const { theme, basePath, material, meshFilePath, meshName } = options;\n    await __privateGet(this, _themeLoader).load({ theme, basePath, material });\n    if (!Object.keys(__privateGet(this, _meshList)).includes(meshName)) {\n      __privateGet(this, _meshList)[meshName] = meshFilePath;\n      const colliders = await Dice.loadModels({ meshFilePath, meshName }, __privateGet(this, _scene));\n      if (!colliders) {\n        throw new Error(\"No colliders returned from the 3D mesh file. Low poly colliders are expected to be in the same file as the high poly dice and the mesh name contains the word 'collider'\");\n      }\n      __privateGet(this, _physicsWorkerPort).postMessage({\n        action: \"loadModels\",\n        options: {\n          colliders,\n          meshName\n        }\n      });\n    }\n    this.onThemeLoaded({ id: theme });\n  }\n  clear() {\n    if (!Object.keys(__privateGet(this, _dieCache)).length && !__privateGet(this, _sleeperCount)) {\n      return;\n    }\n    if (this.diceBufferView.byteLength) {\n      this.diceBufferView.fill(0);\n    }\n    __privateGet(this, _dieRollTimer).forEach((timer) => clearTimeout(timer));\n    __privateGet(this, _engine).stopRenderLoop();\n    Object.values(__privateGet(this, _dieCache)).forEach((die) => {\n      if (die.mesh)\n        die.mesh.dispose();\n    });\n    __privateSet(this, _dieCache, {});\n    __privateSet(this, _count, 0);\n    __privateSet(this, _sleeperCount, 0);\n    __privateGet(this, _scene).render();\n  }\n  add(options) {\n    Dice.loadDie(options, __privateGet(this, _scene)).then((resp) => {\n      __privateGet(this, _dieRollTimer).push(setTimeout(() => {\n        __privateMethod(this, _add, add_fn).call(this, resp);\n      }, __privateWrapper(this, _count)._++ * this.config.delay));\n    });\n  }\n  addNonDie(die) {\n    if (__privateGet(this, _engine).activeRenderLoops.length === 0) {\n      this.render(false);\n    }\n    const _a = die, { id, value } = _a, rest = __objRest(_a, [\"id\", \"value\"]);\n    const newDie = {\n      id,\n      value,\n      config: rest\n    };\n    __privateGet(this, _dieCache)[id] = newDie;\n    setTimeout(() => {\n      __privateGet(this, _dieRollTimer).push(setTimeout(() => {\n        this.handleAsleep(newDie);\n      }, __privateWrapper(this, _count)._++ * this.config.delay));\n    }, 10);\n  }\n  remove(data) {\n    const dieData = __privateGet(this, _dieCache)[data.id];\n    if (dieData.hasOwnProperty(\"d10Instance\")) {\n      if (__privateGet(this, _dieCache)[dieData.d10Instance.id].mesh) {\n        __privateGet(this, _dieCache)[dieData.d10Instance.id].mesh.dispose();\n        __privateGet(this, _physicsWorkerPort).postMessage({\n          action: \"removeDie\",\n          id: dieData.d10Instance.id\n        });\n      }\n      delete __privateGet(this, _dieCache)[dieData.d10Instance.id];\n      __privateWrapper(this, _sleeperCount)._--;\n    }\n    if (__privateGet(this, _dieCache)[data.id].mesh) {\n      __privateGet(this, _dieCache)[data.id].mesh.dispose();\n    }\n    delete __privateGet(this, _dieCache)[data.id];\n    __privateWrapper(this, _sleeperCount)._--;\n    __privateGet(this, _scene).render();\n    this.onDieRemoved(data.rollId);\n  }\n  updatesFromPhysics(buffer) {\n    this.diceBufferView = new Float32Array(buffer);\n    let bufferIndex = 1;\n    for (let i = 0, len = this.diceBufferView[0]; i < len; i++) {\n      if (!Object.keys(__privateGet(this, _dieCache)).length) {\n        continue;\n      }\n      const die = __privateGet(this, _dieCache)[`${this.diceBufferView[bufferIndex]}`];\n      if (!die) {\n        console.log(\"Error: die not available in scene to animate\");\n        break;\n      }\n      if (this.diceBufferView[bufferIndex + 1] === -1) {\n        this.handleAsleep(die);\n      } else {\n        const px = this.diceBufferView[bufferIndex + 1];\n        const py = this.diceBufferView[bufferIndex + 2];\n        const pz = this.diceBufferView[bufferIndex + 3];\n        const qx = this.diceBufferView[bufferIndex + 4];\n        const qy = this.diceBufferView[bufferIndex + 5];\n        const qz = this.diceBufferView[bufferIndex + 6];\n        const qw = this.diceBufferView[bufferIndex + 7];\n        die.mesh.position.set(px, py, pz);\n        die.mesh.rotationQuaternion.set(qx, qy, qz, qw);\n      }\n      bufferIndex = bufferIndex + 8;\n    }\n    requestAnimationFrame(() => {\n      __privateGet(this, _physicsWorkerPort).postMessage({\n        action: \"stepSimulation\",\n        diceBuffer: this.diceBufferView.buffer\n      }, [this.diceBufferView.buffer]);\n    });\n  }\n  async handleAsleep(die) {\n    var _a, _b;\n    die.asleep = true;\n    await Dice.getRollResult(die, __privateGet(this, _scene));\n    if (die.d10Instance || die.dieParent) {\n      if (((_a = die == null ? void 0 : die.d10Instance) == null ? void 0 : _a.asleep) || ((_b = die == null ? void 0 : die.dieParent) == null ? void 0 : _b.asleep)) {\n        const d100 = die.config.sides === 100 ? die : die.dieParent;\n        const d10 = die.config.sides === 10 ? die : die.d10Instance;\n        if (d10.value === 0 && d100.value === 0) {\n          d100.value = 100;\n        } else {\n          d100.value = d100.value + d10.value;\n        }\n        this.onRollResult({\n          rollId: d100.config.rollId,\n          value: d100.value\n        });\n      }\n    } else {\n      if (die.config.sides === 10 && die.value === 0) {\n        die.value = 10;\n      }\n      this.onRollResult({\n        rollId: die.config.rollId,\n        value: die.value\n      });\n    }\n    __privateWrapper(this, _sleeperCount)._++;\n  }\n  resize(options) {\n    const width = __privateGet(this, _canvas).width = options.width;\n    const height = __privateGet(this, _canvas).height = options.height;\n    __privateGet(this, _container).create({ aspect: width / height });\n    __privateGet(this, _engine).resize();\n  }\n}\n_dieCache = new WeakMap();\n_count = new WeakMap();\n_sleeperCount = new WeakMap();\n_dieRollTimer = new WeakMap();\n_canvas = new WeakMap();\n_engine = new WeakMap();\n_scene = new WeakMap();\n_camera = new WeakMap();\n_lights = new WeakMap();\n_container = new WeakMap();\n_themeLoader = new WeakMap();\n_physicsWorkerPort = new WeakMap();\n_meshList = new WeakMap();\n_add = new WeakSet();\nadd_fn = async function(options) {\n  if (__privateGet(this, _engine).activeRenderLoops.length === 0) {\n    this.render(options.newStartPoint);\n  }\n  const diceOptions = __spreadProps(__spreadValues({}, options), {\n    assetPath: this.config.assetPath,\n    enableShadows: this.config.enableShadows,\n    scale: this.config.scale,\n    lights: __privateGet(this, _lights)\n  });\n  const newDie = new Dice(diceOptions, __privateGet(this, _scene));\n  __privateGet(this, _dieCache)[newDie.id] = newDie;\n  __privateGet(this, _physicsWorkerPort).postMessage({\n    action: \"addDie\",\n    options: {\n      sides: options.sides,\n      scale: this.config.scale,\n      id: newDie.id,\n      newStartPoint: options.newStartPoint,\n      theme: options.theme,\n      meshName: options.meshName\n    }\n  });\n  if (options.sides === 100) {\n    newDie.d10Instance = await Dice.loadDie(__spreadProps(__spreadValues({}, diceOptions), { sides: 10, id: newDie.id + 1e4 }), __privateGet(this, _scene)).then((response) => {\n      const d10Instance = new Dice(response, __privateGet(this, _scene));\n      d10Instance.dieParent = newDie;\n      return d10Instance;\n    });\n    __privateGet(this, _dieCache)[`${newDie.d10Instance.id}`] = newDie.d10Instance;\n    __privateGet(this, _physicsWorkerPort).postMessage({\n      action: \"addDie\",\n      options: {\n        sides: 10,\n        scale: this.config.scale,\n        id: newDie.d10Instance.id,\n        theme: options.theme,\n        meshName: options.meshName\n      }\n    });\n  }\n  return newDie;\n};\nexport { WorldOnscreen as default };\n"],"names":["_dieCache","_count","_sleeperCount","_dieRollTimer","_canvas","_engine","_scene","_camera","_lights","_container","_themeLoader","_physicsWorkerPort","_meshList","_add","add_fn","__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","__publicField","__accessCheck","member","msg","has","TypeError","__privateGet","getter","get","__privateAdd","WeakSet","add","set","__privateSet","setter","__privateWrapper","_","Scalar","Scalar2","WithinEpsilon","epsilon","Math","abs","ToHex","i","str","toString","toUpperCase","Sign","isNaN","Clamp","min","max","Log2","log","LOG2E","ILog2","log2","floor","NaN","Infinity","n","Repeat","length","Normalize","Denormalize","normalized","DeltaAngle","current","target","num","PingPong","tx","t","SmoothStep","from","to","MoveTowards","maxDelta","MoveTowardsAngle","result","Lerp","start","end","amount","LerpAngle","InverseLerp","Hermite","value1","tangent1","value2","tangent2","squared","cubed","Hermite1stDerivative","time","t2","RandomRange","random","RangeToPercent","number","PercentToRange","percent","NormalizeRadians","angle","TwoPi","PI","HCF","r","ToGammaSpace","ToLinearSpace","Epsilon","ArrayTools","ArrayTools2","BuildArray","size","itemBuilder","push","BuildTuple","_RegisteredTypes","RegisterClass","className","type","GetClass","fqdn","PerformanceConfigurator","PerformanceConfigurator2","SetMatrixPrecision","use64bits","MatrixTrackPrecisionChange","MatrixUse64Bits","MatrixTrackedMatrices","m","matrix","values","_m","Array","MatrixCurrentType","Float32Array","EngineStore","EngineStore2","this","Instances","_LastCreatedScene","UseFallbackTexture","FallbackTexture","_ExtractAsInt","parseInt","replace","Vector2","Vector22","x","y","concat","getClassName","getHashCode","hash","toArray","array","index","fromArray","FromArrayToRef","asArray","copyFrom","source","copyFromFloats","otherVector","addToRef","addInPlace","addVector3","subtract","subtractToRef","subtractInPlace","multiplyInPlace","multiply","multiplyToRef","multiplyByFloats","divide","divideToRef","divideInPlace","negate","negateInPlace","negateToRef","scaleInPlace","scale","scaleToRef","scaleAndAddToRef","equals","equalsWithEpsilon","fract","rotateToRef","cos","sin","sqrt","lengthSquared","normalize","NormalizeToRef","clone","Zero","One","FromArray","offset","CatmullRom","value3","value4","part1","part2","part3","part4","Hermite1stDerivativeToRef","Dot","left","right","vector","newVector","len","Minimize","Maximize","Transform","transformation","TransformToRef","PointInTriangle","p","p0","p1","p2","sign","s","Distance","DistanceSquared","Center","CenterToRef","ref","DistanceOfPointFromSegment","segA","segB","l2","v","proj","Vector3","Vector32","z","_isDirty","_x","_y","_z","toQuaternion","Quaternion","RotationYawPitchRoll","addInPlaceFromFloats","subtractFromFloatsToRef","subtractFromFloats","applyRotationQuaternionToRef","q","ix","w","iy","iz","iw","applyRotationQuaternionInPlace","applyRotationQuaternion","projectOnPlane","plane","origin","projectOnPlaneToRef","normal","d","V","MathTmp","denom","scaledV","equalsToFloats","minimizeInPlace","other","minimizeInPlaceFromFloats","maximizeInPlace","maximizeInPlaceFromFloats","isNonUniformWithinEpsilon","absX","absY","absZ","normalizeFromLength","reorderInPlace","order","_this","toLowerCase","forEach","val","rotateByQuaternionToRef","quaternion","toRotationMatrix","Matrix","TransformCoordinatesToRef","rotateByQuaternionAroundPointToRef","point","cross","Cross","normalizeToNew","normalizeToRef","reference","setAll","GetClipFactor","vector0","vector1","axis","d0","GetAngleBetweenVectors","v0","v1","dot","acos","CrossToRef","GetAngleBetweenVectorsOnPlane","vNormal","forward","atan2","SlerpToRef","slerp","vector0Dir","vector1Dir","vector0Length","vector1Length","scale0","scale1","omega","invSin","SmoothToRef","goal","deltaTime","lerpTime","FromFloatArray","FromFloatArrayToRef","FromFloatsToRef","Up","_UpReadOnly","_RightReadOnly","_LeftReadOnly","_LeftHandedForwardReadOnly","_RightHandedForwardReadOnly","_ZeroReadOnly","Down","Forward","rightHandedSystem","Backward","Right","Left","TransformCoordinates","TransformCoordinatesFromFloatsToRef","rx","ry","rz","rw","TransformNormal","TransformNormalToRef","TransformNormalFromFloatsToRef","ClampToRef","CheckExtends","LerpToRef","Project","world","transform","viewport","ProjectToRef","cw","width","ch","height","cx","cy","viewportMatrix","FromValuesToRef","_UnprojectFromInvertedMatrixToRef","UnprojectFromTransform","viewportWidth","viewportHeight","Unproject","IdentityReadOnly","view","projection","UnprojectToRef","UnprojectFloatsToRef","sourceX","sourceY","sourceZ","_a","invert","screenSource","LastCreatedEngine","isNDCHalfZRange","ProjectOnTriangleToRef","p1p0","p2p0","p2p1","vectorp0","p1p0L","p2p0L","p2p1L","nl","l","cosA","projVector","v2","tmp","projP","s0","s1","e0","e1","s2","edge","tmp2","tmp3","e0proj","e0projL","cosG","triProj","RotationFromAxis","axis1","axis2","axis3","rotation","RotationFromAxisToRef","quat","RotationQuaternionFromAxisToRef","toEulerAnglesToRef","Vector4","Vector42","toVector3","FromVector3","Quaternion2","_w","otherQuaternion","q1","conjugateToRef","conjugateInPlace","conjugate","invertInPlace","inv","toEulerAngles","qz","qx","qy","qw","zAxisY","limit","sqw","sqz","sqx","sqy","asin","FromQuaternionToRef","fromRotationMatrix","FromRotationMatrixToRef","FromRotationMatrix","data","m11","m12","m13","m21","m22","m23","m31","m32","m33","trace","AreClose","quat0","quat1","Inverse","InverseToRef","Identity","IsIdentity","RotationAxis","RotationAxisToRef","FromEulerAngles","RotationYawPitchRollToRef","FromEulerAnglesToRef","FromEulerVector","vec","FromEulerVectorToRef","FromUnitVectorsToRef","vecFrom","vecTo","TmpVectors","yaw","pitch","roll","halfRoll","halfPitch","halfYaw","sinRoll","cosRoll","sinPitch","cosPitch","sinYaw","cosYaw","RotationAlphaBetaGamma","alpha","beta","gamma","RotationAlphaBetaGammaToRef","halfGammaPlusAlpha","halfGammaMinusAlpha","halfBeta","RotationQuaternionFromAxis","rotMat","FromXYZAxesToRef","FromLookDirectionLH","up","FromLookDirectionLHToRef","LookDirectionLHToRef","FromLookDirectionRH","FromLookDirectionRHToRef","LookDirectionRHToRef","Slerp","num2","num3","num4","flag","num5","num6","Matrix2","_isIdentity","_isIdentityDirty","_isIdentity3x2","_isIdentity3x2Dirty","updateFlag","markAsUpdated","_UpdateFlagSeed","_updateIdentityStatus","isIdentity","isIdentityDirty","isIdentity3x2","isIdentity3x2Dirty","isIdentityAs3x2","determinant","m00","m01","m02","m03","m10","m20","m30","det_22_33","det_21_33","det_21_32","det_20_33","det_20_32","det_20_31","invertToRef","reset","resultM","otherM","addToSelf","IdentityToRef","cofact_00","cofact_01","cofact_02","cofact_03","det","detInv","det_12_33","det_11_33","det_11_32","det_10_33","det_10_32","det_10_31","det_12_23","det_11_23","det_11_22","det_10_23","det_10_22","det_10_21","cofact_10","cofact_11","cofact_12","cofact_13","cofact_20","cofact_21","cofact_22","cofact_23","cofact_30","cofact_31","cofact_32","cofact_33","addAtIndex","multiplyAtIndex","setTranslationFromFloats","addTranslationFromFloats","setTranslation","vector3","getTranslation","getTranslationToRef","removeRotationAndScaling","copyToArray","o","multiplyToArray","tm0","tm1","tm2","tm3","tm4","tm5","tm6","tm7","tm8","tm9","tm10","tm11","tm12","tm13","tm14","tm15","om0","om1","om2","om3","om4","om5","om6","om7","om8","om9","om10","om11","om12","om13","om14","om15","om","decomposeToTransformNode","node","rotationQuaternion","decompose","scaling","position","translation","preserveScalingNode","signX","signY","signZ","sx","sy","sz","getRow","setRow","row","setRowFromFloats","transpose","Transpose","transposeToRef","TransposeToRef","toNormalMatrix","getRotationMatrix","getRotationMatrixToRef","toggleModelMatrixHandInPlace","toggleProjectionMatrixHandInPlace","FromFloat32ArrayToRefScaled","_IdentityReadOnly","initialM11","initialM12","initialM13","initialM14","initialM21","initialM22","initialM23","initialM24","initialM31","initialM32","initialM33","initialM34","initialM41","initialM42","initialM43","initialM44","FromValues","Compose","ComposeToRef","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","identity","zero","RotationX","RotationXToRef","Invert","c","RotationY","RotationYToRef","RotationZ","RotationZToRef","c1","RotationAlignToRef","k","Scaling","ScalingToRef","Translation","TranslationToRef","startValue","endValue","gradient","startM","endM","DecomposeLerp","DecomposeLerpToRef","startScale","startRotation","startTranslation","endScale","endRotation","endTranslation","resultScale","resultRotation","resultTranslation","LookAtLH","eye","LookAtLHToRef","xAxis","yAxis","zAxis","xSquareLength","ex","ey","ez","LookAtRH","LookAtRHToRef","LookDirectionLH","back","LookDirectionRH","OrthoLH","znear","zfar","halfZRange","OrthoLHToRef","mtxConvertNDCToHalfZRange","OrthoOffCenterLH","bottom","top","OrthoOffCenterLHToRef","i0","i1","OrthoOffCenterRH","OrthoOffCenterRHToRef","PerspectiveLH","projectionPlaneTilt","rot","tan","PerspectiveFovLH","fov","aspect","reverseDepthBufferMode","PerspectiveFovLHToRef","isVerticalFovFixed","f","PerspectiveFovReverseLHToRef","PerspectiveFovRH","PerspectiveFovRHToRef","PerspectiveFovReverseRHToRef","PerspectiveFovWebVRToRef","rightHanded","rightHandedFactor","upTan","upDegrees","downTan","downDegrees","leftTan","leftDegrees","rightTan","rightDegrees","xScale","yScale","GetFinalMatrix","zmin","zmax","GetAsMatrix2x2","arr","GetAsMatrix3x3","rm","mm","Reflection","ReflectionToRef","temp","temp2","temp3","xaxis","yaxis","zaxis","zw","zx","yw","xw","MathTmp2","TmpVectors2","extendStatics","setPrototypeOf","__proto__","d2","b2","__extends","String","__","constructor","create","__assign","assign","arguments","apply","__decorate","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","then","__generator","body","g","label","sent","trys","ops","verb","Symbol","iterator","op","pop","InternalTextureSource","InternalTextureSource2","EventState","EventState2","mask","skipNextObservers","currentTarget","initialize","Observer","callback","scope","_willBeUnregistered","unregisterOnNextCall","Observable","Observable2","onObserverAdded","_observers","_eventState","_onObserverAdded","FromPromise","promise","onErrorObservable","observable","ret","notifyObservers","catch","err","insertFirst","unregisterOnFirstCall","observer","unshift","addOnce","remove","indexOf","_deferUnregister","removeCallback","setTimeout","_remove","splice","makeObserverTopPriority","makeObserverBottomPriority","eventData","userInfo","state","lastReturnValue","_i","obs","notifyObserversWithPromise","lastReturnedValue","notifyObserver","hasObservers","clear","slice","hasSpecificMask","TextureSampler","TextureSampler2","samplingMode","_useMipMaps","_cachedWrapU","_cachedWrapV","_cachedWrapR","_cachedAnisotropicFilteringLevel","_comparisonFunction","setParameters","wrapU","wrapV","wrapR","anisotropicFilteringLevel","comparisonFunction","compareSampler","InternalTexture","_super","InternalTexture2","engine","delayAllocation","isReady","isCube","is3D","is2DArray","isMultiview","url","generateMipMaps","samples","format","onLoadedObservable","onRebuildCallback","depth","baseWidth","baseHeight","baseDepth","invertY","_invertVScale","_associatedChannel","_source","Unknown","_buffer","_bufferView","_bufferViewArray","_bufferViewArrayArray","_size","_extension","_files","_workingCanvas","_workingContext","_cachedCoordinatesMode","_isDisabled","_compression","_sphericalPolynomial","_sphericalPolynomialPromise","_sphericalPolynomialComputed","_lodGenerationScale","_lodGenerationOffset","_useSRGBBuffer","_lodTextureHigh","_lodTextureMid","_lodTextureLow","_isRGBD","_linearSpecularLOD","_irradianceTexture","_hardwareTexture","_maxLodLevel","_references","_gammaSpace","_uniqueId","_Counter","_createHardwareTexture","getEngine","incrementReferences","updateSize","updateTextureDimensions","_rebuild","data_1","swapAndSetIsReady","proxyInternalTexture","_swapAndDie","isAsync","proxy","Temp","Url","createTexture","_originalUrl","Raw","createRawTexture","Raw3D","createRawTexture3D","Raw2DArray","createRawTexture2DArray","Dynamic","createDynamicTexture","updateDynamicTexture","getRenderingCanvas","Cube","createCubeTexture","CubeRaw","createRawCubeTexture","CubeRawRGBD","CubePrefiltered","createPrefilteredCubeTexture","proxy2","swapAll","setUsage","dispose","cache","getLoadedTexturesCache","_releaseTexture","IsWindowObjectExist","window","IsNavigatorAvailable","navigator","IsDocumentAvailable","document","GetDOMTextContent","element","child","firstChild","nodeType","textContent","nextSibling","DomManagement","_WarnImport","name2","ShaderLanguage","ShaderLanguage2","Logger","Logger2","_CheckLimit","message","entry","_LogLimitOutputs","_GenerateLimitMessage","messageType","MessageLimitReached","Log","Warn","Error","_AddLogEntry","_LogCache","OnNewCacheEntry","_FormatMessage","padStr","date","Date","getHours","getMinutes","getSeconds","_LogDisabled","_LogEnabled","formattedMessage","console","_WarnDisabled","_WarnEnabled","warn","_ErrorDisabled","_ErrorEnabled","errorsCount","error","ClearLogCache","level","MessageLogLevel","WarningLogLevel","ErrorLogLevel","NoneLogLevel","AllLogLevel","ShaderCodeNode","ShaderCodeNode2","children","isValid","preprocessors","process","options","line","processor","lineProcessor","isFragment","processingContext","attributeProcessor","startsWith","varyingProcessor","uniformProcessor","uniformRegexp","test","lookForClosingBracketForUniformBuffer","uniformBufferProcessor","uniformBufferRegexp","textureProcessor","textureRegexp","endOfUniformBufferProcessor","additionalDefineKey","additionalDefineValue","ShaderCodeCursor","ShaderCodeCursor2","_lines","lineIndex","value_1","trim","split","subLine","ShaderCodeConditionNode","ShaderCodeConditionNode2","ShaderCodeTestNode","ShaderCodeTestNode2","testExpression","isTrue","ShaderDefineExpression","ShaderDefineExpression2","postfixToInfix","postfix","stack","postfix_1","_OperatorPriority","infixToPostfix","infix","stackIdx","pushOperand","operand","_Stack","peek","idx","charAt","token","substr","ShaderDefineIsDefinedOperator","ShaderDefineIsDefinedOperator2","define","not","condition","ShaderDefineOrOperator","ShaderDefineOrOperator2","leftOperand","rightOperand","ShaderDefineAndOperator","ShaderDefineAndOperator2","ShaderDefineArithmeticOperator","ShaderDefineArithmeticOperator2","testValue","regexSE","regexSERevert","regexShaderInclude","ShaderProcessor","ShaderProcessor2","Initialize","initializeShaders","Process","sourceCode","preProcessShaderCode","_ProcessIncludes","codeWithIncludes","processCodeAfterIncludes","migratedCode","_ProcessShaderConversion","PreProcess","_ApplyPreProcessing","Finalize","vertexCode","fragmentCode","finalizeShaders","_ProcessPrecision","noPrecision","shouldUseHighPrecisionShader","_ExtractOperation","expression","match","exec","operator","indexOperator","operators_1","substring","_BuildSubExpression","_BuildExpression","command","_MoveCursorWithinIf","cursor","rootNode","ifNode","currentLine","_MoveCursor","first5","elseNode","elifNode","canRead","matches","newRootNode","newNode","_EvaluatePreProcessors","lines","_PreparePreProcessors","defines_1","defines","shaderLanguage","GLSL","version","platformName","_getGlobalDefines","preparedSourceCode","preProcessor","postProcessor","_features","needShaderCodeInlining","inlineShaderCode","_b","returnValue","keepProcessing","_loop_1","includeFile","supportsUniformBuffers","includesShadersStore","includeShaderUrl","shadersRepository","_FileToolsLoadFile","fileContent","includeContent","splits","RegExp","dest","indexString","indexSplits","minIndex","maxIndex","sourceIncludeContent","indexParameters","state_1","onSuccess","onProgress","offlineProvider","useArrayBuffer","onError","ShaderStore","ShaderStore2","GetShadersRepository","ShadersRepository","ShadersRepositoryWGSL","GetShadersStore","ShadersStore","ShadersStoreWGSL","GetIncludesShadersStore","IncludesShadersStore","IncludesShadersStoreWGSL","Effect","Effect2","baseName","attributesNamesOrOptions","uniformsNamesOrEngine","samplers","fallbacks","onCompiled","_c","name","onBind","uniqueId","onCompileObservable","_onBindObservable","_wasPreviouslyReady","_isDisposed","_bonesComputationForcedToCPU","_uniformBuffersNames","_multiTarget","_samplers","_isReady","_compilationError","_allFallbacksProcessed","_uniforms","_key","_fallbacks","_vertexSourceCodeOverride","_fragmentSourceCodeOverride","_transformFeedbackVaryings","_pipelineContext","_vertexSourceCode","_fragmentSourceCode","_rawVertexSourceCode","_rawFragmentSourceCode","vertexSource","fragmentSource","processFinalCode","attributes","_attributesNames","_uniformsNames","uniformsNames","_samplerList","_indexParameters","transformFeedbackVaryings","multiTarget","_shaderLanguage","uniformBuffersNames","_uniformBuffersNamesList","_attributeLocationByName","_UniqueIdSeed","hostDocument","getHostDocument","vertexElement","getElementById","vertex","fragmentElement","fragment","_processingContext","_getShaderProcessingContext","processorOptions","_shouldUseHighPrecisionShader","_getShaderProcessor","shaderPlatformName","useReverseDepthBuffer","shaderCodes","shadersLoaded","migratedVertexCode_1","migratedFragmentCode","finalShaders","_useFinalCode","_loadShader","migratedVertexCode","repo","spectorName","WGSL","_prepareEffect","_isReadyInternal","getPipelineContext","getAttributesNames","getAttributeLocation","_attributes","getAttributeLocationByName","getAttributesCount","getUniformIndex","uniformName","getUniform","getSamplers","getUniformNames","getUniformBuffersNames","getIndexParameters","getCompilationError","allFallbacksProcessed","executeWhenCompiled","func","effect","_checkIsReady","previousPipelineContext","_processCompilationErrors","shader2","optionalKey","HTMLElement","shaderUrl","shaderStore","_loadFile","atob","_getVertexShaderCode","_getFragmentShaderCode","_rebuildProgram","vertexSourceCode","fragmentSourceCode","scenes","markAllMaterialsAsDirty","_handlesSpectorRebuildCallback","attributesNames","engine_1","createPipelineContext","_name","rebuildRebind","bind","_preparePipelineContext","_executeWhenRenderingStateIsCompiled","_fillEffectInformation","name_1","bindSamplers","unBindMesh","_deletePipelineContext","_getShaderCodeAndErrorLine","code","regexp","errorLine","res","lineNumber","_d","_e","map","uniform","attribute","LogShaderCodeOnCompilationError","lineErrorVertex","lineErrorFragment","hasMoreFallbacks","reduce","_bindTexture","channel","texture","setTexture","setDepthStencilTexture","setTextureArray","textures","exName","initialPos","currentExName","channelIndex","setTextureFromPostProcess","postProcess","setTextureFromPostProcessOutput","bindUniformBuffer","buffer","bufferName","_BaseCache","useUBOBindingCache","bindUniformBufferBase","bindUniformBlock","blockName","setInt","setInt2","setInt3","setInt4","setIntArray","setIntArray2","setIntArray3","setIntArray4","setFloatArray","setArray","setFloatArray2","setArray2","setFloatArray3","setArray3","setFloatArray4","setArray4","setMatrices","matrices","setMatrix","setMatrix3x3","setMatrix2x2","setFloat","setBool","bool","setVector2","vector2","setFloat2","setVector3","setFloat3","setVector4","vector4","setQuaternion","setFloat4","setColor3","color3","setColor4","setDirectColor4","color4","_releaseEffect","RegisterShader","pixelShader","vertexShader","ResetCache","DepthCullingState","DepthCullingState2","_isDepthTestDirty","_isDepthMaskDirty","_isDepthFuncDirty","_isCullFaceDirty","_isCullDirty","_isZOffsetDirty","_isFrontFaceDirty","_zOffset","_zOffsetUnits","_cullFace","_cull","_depthFunc","_depthMask","_depthTest","_frontFace","gl","isDirty","cull","enable","CULL_FACE","disable","cullFace","depthMask","depthTest","DEPTH_TEST","depthFunc","zOffset","zOffsetUnits","POLYGON_OFFSET_FILL","polygonOffset","frontFace","StencilState","StencilState2","enabled","ALWAYS","funcRef","funcMask","opStencilFail","KEEP","opDepthFail","opStencilDepthPass","REPLACE","AlphaState","AlphaState2","_blendFunctionParameters","_blendEquationParameters","_blendConstants","_isBlendConstantsDirty","_alphaBlend","_isAlphaBlendDirty","_isBlendFunctionParametersDirty","_isBlendEquationParametersDirty","setAlphaBlendConstants","setAlphaBlendFunctionParameters","value0","setAlphaEquationParameters","rgb","BLEND","blendFuncSeparate","blendEquationSeparate","blendColor","WebGLShaderProcessor","WebGLShaderProcessor2","getCaps","drawBuffersExtension","WebGL2ShaderProcessor","WebGL2ShaderProcessor2","varying","hasDrawBuffersExtension","search","DataBuffer","DataBuffer2","references","capacity","is32Bits","WebGLDataBuffer","WebGLDataBuffer2","resource","WebGLPipelineContext","WebGLPipelineContext2","_valueCache","vertexCompilationError","fragmentCompilationError","programLinkError","programValidationError","isParallelCompiled","program","_isRenderingStateCompiled","uniforms","samplerList","getUniforms","index2","getAttributes","attr","_cacheMatrix","_cacheFloat2","changed","_cacheFloat3","_cacheFloat4","_getShaderSource","fragmentShader","WebGLHardwareTexture","WebGLHardwareTexture2","existingTexture","context","_MSAARenderBuffer","_context","_webGLTexture","hardwareTexture","release","deleteRenderbuffer","deleteTexture","DrawWrapper","DrawWrapper2","createMaterialContext","drawContext","createDrawContext","materialContext","IsWrapper","GetEffect","setEffect","resetContext","StencilStateComposer","StencilStateComposer2","_isStencilTestDirty","_isStencilMaskDirty","_isStencilFuncDirty","_isStencilOpDirty","useStencilGlobalOnly","_func","_funcRef","_funcMask","_opStencilFail","_opDepthFail","_opStencilDepthPass","_mask","_enabled","stencilMaterial","stencilGlobal","stencilMaterialEnabled","STENCIL_TEST","stencilMask","stencilFunc","stencilOp","BufferPointer","ThinEngine","ThinEngine2","canvasOrContext","antialias","adaptToDeviceRatio","forcePOTTextures","isFullscreen","cullBackFaces","renderEvenInBackground","preventCacheWipeBetweenFrames","validateShaderPrograms","_useReverseDepthBuffer","hasOriginBottomLeft","disableUniformBuffers","onDisposeObservable","_frameId","_uniformBuffers","_storageBuffers","_webGLVersion","_windowIsBackground","_highPrecisionShadersAllowed","_badOS","_badDesktopOS","_renderingQueueLaunched","_activeRenderLoops","onContextLostObservable","onContextRestoredObservable","_contextWasLost","_doNotHandleContextLost","disableVertexArrayObjects","_colorWrite","_colorWriteChanged","_depthCullingState","_stencilStateComposer","_stencilState","_alphaState","_alphaMode","_alphaEquation","_internalTexturesCache","_renderTargetWrapperCache","_activeChannel","_currentTextureChannel","_boundTexturesCache","_compiledEffects","_vertexAttribArraysEnabled","_uintIndicesCurrentlySet","_currentBoundBuffer","_currentFramebuffer","_dummyFramebuffer","_currentBufferPointers","_currentInstanceLocations","_currentInstanceBuffers","_vaoRecordInProgress","_mustWipeVertexAttributes","_nextFreeTextureSlots","_maxSimultaneousTextures","_maxMSAASamplesOverride","_activeRequests","_adaptToDeviceRatio","_transformTextureUrl","hostInformation","isMobile","premultipliedAlpha","onBeforeTextureInitObservable","_isWebGPU","_snapshotRenderingMode","_viewportCached","_unpackFlipYCached","enableUnpackFlipYCached","_boundUniforms","canvas","_creationOptions","useHighPrecisionMatrix","getContext","_renderingCanvas","deterministicLockstep","lockstepMaxSteps","timeStep","preserveDrawingBuffer","audioEngine","audioEngineOptions","audioContext","_audioContext","audioDestination","_audioDestination","stencil","xrCompatible","doNotHandleContextLost","userAgent","_checkForMobile","currentUA","addEventListener","ua","ExceptionList","exception","targets","capture","captureConstraint","constraint","targets_1","_onContextLost","evt","preventDefault","_onContextRestored","_restoreEngineAfterContextLost","_initGLContext","powerPreference","disableWebGL2Support","_gl","_shaderPlatformName","deleteQuery","renderbufferStorageMultisample","getContextAttributes","pixelStorei","UNPACK_COLORSPACE_CONVERSION_WEBGL","NONE","useHighPrecisionFloats","devicePixelRatio","limitDeviceRatio","_hardwareScalingLevel","resize","_isStencilEnable","_initFeatures","_caps","maxVertexAttribs","_shaderProcessor","webGLVersion","versionToLog","Version","description","setAttribute","parallelShaderCompile","useReverse","getCreationOptions","highPrecisionShaderSupported","dimensions","_framebufferDimensionsObject","_cachedViewport","_emptyTexture","Uint8Array","_emptyTexture3D","_emptyTexture2DArray","_emptyCubeTexture","faceData","cubeData","activate","mode","snapshotRenderingReset","snapshotRendering","_CreateCanvas","OffscreenCanvas","createElement","createCanvas","createCanvasImage","initEngine","stencilTest","_rebuildEffects","_rebuildComputeEffects","_rebuildInternalTextures","_rebuildRenderTargetWrappers","_rebuildBuffers","wipeCaches","_sharedInit","doNotHandleTouchAction","currentState_1","currentState_2","areAllEffectsReady","maxTexturesImageUnits","getParameter","MAX_TEXTURE_IMAGE_UNITS","maxCombinedTexturesImageUnits","MAX_COMBINED_TEXTURE_IMAGE_UNITS","maxVertexTextureImageUnits","MAX_VERTEX_TEXTURE_IMAGE_UNITS","maxTextureSize","MAX_TEXTURE_SIZE","maxSamples","MAX_SAMPLES","maxCubemapTextureSize","MAX_CUBE_MAP_TEXTURE_SIZE","maxRenderTextureSize","MAX_RENDERBUFFER_SIZE","MAX_VERTEX_ATTRIBS","maxVaryingVectors","MAX_VARYING_VECTORS","maxFragmentUniformVectors","MAX_FRAGMENT_UNIFORM_VECTORS","maxVertexUniformVectors","MAX_VERTEX_UNIFORM_VECTORS","getExtension","standardDerivatives","maxAnisotropy","astc","bptc","s3tc","s3tc_srgb","pvrtc","etc1","etc2","textureAnisotropicFilterExtension","uintIndices","fragmentDepthSupported","timerQuery","supportOcclusionQuery","canUseTimestampForTimerQuery","maxMSAASamples","colorBufferFloat","textureFloat","textureHalfFloat","textureHalfFloatRender","textureFloatLinearFiltering","textureFloatRender","textureHalfFloatLinearFiltering","vertexArrayObject","instancedArrays","textureLOD","blendMinMax","multiview","oculusMultiview","depthTextureExtension","canUseGLInstanceID","canUseGLVertexID","supportComputeShaders","supportSRGBBuffers","supportTransformFeedbacks","textureMaxLevel","texture2DArrayMaxLayerCount","_glVersion","VERSION","rendererInfo","_glRenderer","UNMASKED_RENDERER_WEBGL","_glVendor","UNMASKED_VENDOR_WEBGL","VENDOR","RENDERER","HALF_FLOAT_OES","RGBA16F","RGBA32F","DEPTH24_STENCIL8","getQuery","getQueryEXT","TIMESTAMP_EXT","QUERY_COUNTER_BITS_EXT","MAX_TEXTURE_MAX_ANISOTROPY_EXT","_canRenderToFloatFramebuffer","COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR","COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT","COMPRESSED_SRGB_S3TC_DXT1_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT","COMPRESSED_SRGB8_ETC2","COMPRESSED_SRGB8_ALPHA8_ETC2_EAC","_canRenderToHalfFloatFramebuffer","drawBuffers","drawBuffersWEBGL","DRAW_FRAMEBUFFER","FRAMEBUFFER","UNSIGNED_INT_24_8","UNSIGNED_INT_24_8_WEBGL","vertexArrayObjectExtension","createVertexArray","createVertexArrayOES","bindVertexArray","bindVertexArrayOES","deleteVertexArray","deleteVertexArrayOES","instanceExtension","drawArraysInstanced","drawArraysInstancedANGLE","drawElementsInstanced","drawElementsInstancedANGLE","vertexAttribDivisor","vertexAttribDivisorANGLE","getShaderPrecisionFormat","vertexhighp","VERTEX_SHADER","HIGH_FLOAT","fragmenthighp","FRAGMENT_SHADER","precision","blendMinMaxExtension","MAX","MAX_EXT","MIN","MIN_EXT","sRGBExtension","SRGB","SRGB_EXT","SRGB8","SRGB_ALPHA_EXT","SRGB8_ALPHA8","forceSRGBBufferSupportState","LEQUAL","slot","forceBitmapOverHTMLImageElement","supportRenderAndCopyToLodForFloatTextures","supportDepthStencilTexture","supportShadowSamplers","uniformBufferHardCheckMatrix","allowTexturePrefiltering","trackUbosInFrame","checkUbosContentBeforeUpload","supportCSM","basisNeedsPOT","support3DTextures","needTypeSuffixInShaderConstants","supportMSAA","supportSSAO2","supportExtendedTextureFormats","supportSwitchCaseInShader","supportSyncTextureRead","needsInvertingBitmap","needToAlwaysBindUniformBuffers","supportRenderPasses","_collectUbosUpdatedInFrame","_prepareWorkingCanvas","resetTextureCache","getInfo","getGlInfo","vendor","renderer","setHardwareScalingLevel","getHardwareScalingLevel","stopRenderLoop","renderFunction","_renderLoop","shouldRender","beginFrame","endFrame","_frameHandler","_queueNewFrame","_boundRenderFunction","getHostWindow","getAudioContext","getAudioDestination","ownerDocument","defaultView","getRenderWidth","useScreen","_currentRenderTarget","framebufferWidth","drawingBufferWidth","getRenderHeight","framebufferHeight","drawingBufferHeight","bindedRenderFunction","requester","QueueNewFrame","runRenderLoop","color","backBuffer","stencilStateComposer","applyStates","clearColor","COLOR_BUFFER_BIT","GEQUAL","clearDepth","DEPTH_BUFFER_BIT","clearStencil","STENCIL_BUFFER_BIT","_viewport","setViewport","requiredWidth","requiredHeight","flushFramebuffer","forceSetSize","devicePixelRatio_1","clientWidth","innerWidth","clientHeight","innerHeight","setSize","bindFramebuffer","faceIndex","forceFullscreenViewport","lodLevel","layer","webglRTWrapper","unBindFramebuffer","_bindUnboundFramebuffer","_MSAAFramebuffer","_framebuffer","framebufferTextureLayer","COLOR_ATTACHMENT0","underlyingResource","framebufferTexture2D","TEXTURE_CUBE_MAP_POSITIVE_X","depthStencilTexture","_depthStencilTexture","attachment","_depthStencilTextureWithStencil","DEPTH_STENCIL_ATTACHMENT","DEPTH_ATTACHMENT","TEXTURE_2D","pow","setState","culling","force","reverseSide","BACK","FRONT","setZOffset","setZOffsetUnits","CW","CCW","getZOffset","getZOffsetUnits","framebuffer","_currentFrameBufferIsDefaultFrameBuffer","generateMipmaps","_bindTextureDirectly","generateMipmap","disableGenerateMipMaps","onBeforeUnbind","isMulti","unBindMultiColorAttachmentFramebuffer","READ_FRAMEBUFFER","blitFramebuffer","NEAREST","flush","restoreDefaultFramebuffer","_resetVertexBufferBinding","bindArrayBuffer","_cachedVertexBuffers","createVertexBuffer","_createVertexBuffer","STATIC_DRAW","usage","vbo","createBuffer","dataBuffer","bufferData","ARRAY_BUFFER","createDynamicVertexBuffer","DYNAMIC_DRAW","_resetIndexBufferBinding","bindIndexBuffer","_cachedIndexBuffer","createIndexBuffer","indices","updatable","_normalizeIndexData","ELEMENT_ARRAY_BUFFER","BYTES_PER_ELEMENT","Uint32Array","Uint16Array","_unbindVertexArrayObject","_bindBuffer","pipelineContext","uniformLocation","getUniformBlockIndex","uniformBlockBinding","bindBuffer","updateArrayBuffer","bufferSubData","_vertexAttribPointer","indx","stride","pointer","active","vertexAttribPointer","_bindIndexBufferWithCache","indexBuffer","_bindVertexBuffersAttributes","vertexBuffers","overrideVertexBuffers","unbindAllAttributes","ai","vertexBuffer","enableVertexAttribArray","getBuffer","getSize","byteStride","byteOffset","getIsInstanced","getInstanceDivisor","recordVertexArrayObject","vao","bindVertexArrayObject","_cachedVertexArrayObject","bindBuffersDirectly","vertexDeclaration","vertexStrideSize","_cachedEffectForVertexBuffers","attributesCount","FLOAT","bindBuffers","unbindInstanceAttributes","boundBuffer","ul","instancesBuffer","offsetLocation","releaseVertexArrayObject","_releaseBuffer","_deleteBuffer","deleteBuffer","updateAndBindInstancesBuffer","offsetLocations","bindInstancesBuffer","attributesInfo","computeStride","attributeSize","_currentEffect","attributeName","attributeType","divisor","disableInstanceAttributeByName","attributeLocation","disableInstanceAttribute","shouldClean","disableAttributeByIndex","disableVertexAttribArray","draw","useTriangles","indexStart","indexCount","instancesCount","drawElementsType","drawPointClouds","verticesStart","verticesCount","drawArraysType","drawUnIndexed","fillMode","_reportDrawCall","drawMode","_drawMode","indexFormat","UNSIGNED_INT","UNSIGNED_SHORT","mult","drawElements","drawArrays","TRIANGLES","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLE_STRIP","TRIANGLE_FAN","webGLPipelineContext","__SPECTOR_rebuildProgram","deleteProgram","createEffect","vertexToken","fragmentToken","globalDefines","fullDefines","compiledEffect","_ConcatenateShader","shaderVersion","_compileShader","_compileRawShader","createShader","NO_ERROR","tempError","getError","isContextLost","shaderSource","compileShader","getShaderSource","createRawShaderProgram","_createShaderProgram","createShaderProgram","shaderProcessingContext","shaderProgram","createProgram","attachShader","linkProgram","_finalizePipelineContext","getProgramParameter","LINK_STATUS","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","getProgramInfoLog","validateProgram","VALIDATE_STATUS","deleteShader","createAsRaw","rawVertexSourceCode","rawFragmentSourceCode","webGLRenderingState","COMPLETION_STATUS_KHR","action","oldHandler","results","getUniformLocation","getAttribLocation","enableEffect","uniform1i","uniform2i","uniform3i","uniform4i","uniform1iv","uniform2iv","uniform3iv","uniform4iv","uniform1fv","uniform2fv","uniform3fv","uniform4fv","uniformMatrix4fv","uniformMatrix3fv","uniformMatrix2fv","uniform1f","uniform2f","uniform3f","uniform4f","colorMask","setColorWrite","getColorWrite","clearInternalTexturesCache","bruteForce","_currentProgram","UNPACK_PREMULTIPLY_ALPHA_WEBGL","_getSamplingParameters","magFilter","minFilter","LINEAR","LINEAR_MIPMAP_NEAREST","LINEAR_MIPMAP_LINEAR","NEAREST_MIPMAP_LINEAR","NEAREST_MIPMAP_NEAREST","mag","_createTexture","_createInternalTexture","delayGPUTextureCreation","fullOptions","useSRGBBuffer","isWebGPU","layers","filters","TEXTURE_2D_ARRAY","sizedFormat","_getRGBABufferInternalSizedFormat","internalFormat","_getInternalFormat","_getWebGLTextureType","texImage3D","texImage2D","texParameteri","TEXTURE_MAG_FILTER","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","_getUseSRGBBuffer","noMipmap","_createTextureBase","scene","onLoad","prepareTexture","prepareTextureProcessFunction","fallback","forcedExtension","mimeType","loaderOptions","fromData","fromBlob","isBase64","originalUrl","lastDot","lastIndexOf","extension","loader","_TextureLoaders","availableLoader","canLoad","_addPendingData","onLoadObserver","onInternalError","_removePendingData","callback_1","loadData","loadMipmap","isCompressed","loadFailed","ArrayBuffer","isView","request","responseURL","onload_1","img","decoding","close","_FileToolsLoadImage","imageOrientation","Blob","creationFlags","_prepareWebGLTexture","potWidth","potHeight","continuationCallback","isPot","RGBA","RGB","texelFormat","UNSIGNED_BYTE","_supportsHardwareTextureRescaling","drawImage","source_1","_rescaleTexture","input","imageBitmapOptions","destination","onComplete","compression","textureType","_unpackFlipY","UNPACK_FLIP_Y_WEBGL","_getUnpackAlignement","UNPACK_ALIGNMENT","_getTextureTarget","TEXTURE_CUBE_MAP","TEXTURE_3D","updateTextureSamplingMode","_setTextureParameterInteger","updateTextureWrappingMode","_getTextureWrapMode","TEXTURE_WRAP_R","_setupDepthStencilTexture","internalTexture","generateStencil","bilinearFiltering","samplingParameters","TEXTURE_COMPARE_FUNC","TEXTURE_COMPARE_MODE","COMPARE_REF_TO_TEXTURE","_uploadCompressedDataToTextureDirectly","lod","compressedTexImage2D","_uploadDataToTextureDirectly","imageData","babylonInternalFormat","useTextureWidthAndHeight","lodMaxWidth","round","lodMaxHeight","updateTextureData","xOffset","yOffset","texSubImage2D","_uploadArrayBufferViewToTexture","bindTarget","_prepareWebGLTextureContinuation","processFunction","needPOTTextures","GetExponentOfTwo","_setupFramebufferDepthAttachments","generateStencilBuffer","generateDepthBuffer","_createRenderBuffer","DEPTH_STENCIL","depthFormat","DEPTH_COMPONENT16","DEPTH_COMPONENT32F","STENCIL_INDEX8","STENCIL_ATTACHMENT","msInternalFormat","unbindBuffer","renderBuffer","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","framebufferRenderbuffer","_deleteTexture","unbindAllTextures","_releaseRenderTargetWrapper","rtWrapper","_setProgram","useProgram","_activateCurrentTexture","activeTexture","TEXTURE0","forTextureDataUpdate","wasPreviouslyBound","isTextureForRendering","bindTexture","_bindSamplerUniformToChannel","_setTexture","sourceSlot","_currentState","REPEAT","MIRRORED_REPEAT","isPartOfTextureArray","video","update","delayLoadState","delayLoad","getInternalTexture","emptyCubeTexture","emptyTexture3D","emptyTexture2DArray","emptyTexture","needToBind","coordinatesMode","textureWrapMode","_setAnisotropicLevel","_textureUnits","Int32Array","anisotropicFilterExtension","_setTextureParameterFloat","TEXTURE_MAX_ANISOTROPY_EXT","parameter","texParameterf","releaseEffects","deleteFramebuffer","releaseComputeEffects","removeEventListener","abort","attachContextLostEvent","attachContextRestoredEvent","_canRenderToFramebuffer","successful","fb","createFramebuffer","status","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","readFormat","readType","readPixels","UNSIGNED_SHORT_4_4_4_4","UNSIGNED_SHORT_5_5_5_1","UNSIGNED_SHORT_5_6_5","BYTE","SHORT","INT","HALF_FLOAT","UNSIGNED_INT_2_10_10_10_REV","UNSIGNED_INT_10F_11F_11F_REV","UNSIGNED_INT_5_9_9_9_REV","FLOAT_32_UNSIGNED_INT_24_8_REV","ALPHA","LUMINANCE","LUMINANCE_ALPHA","RED","RG","RED_INTEGER","RG_INTEGER","RGB_INTEGER","RGBA_INTEGER","R8_SNORM","RG8_SNORM","RGB8_SNORM","R8I","RG8I","RGB8I","RGBA8I","RGBA8_SNORM","R8","RG8","RGB8","RGBA8","R8UI","RG8UI","RGB8UI","RGBA8UI","R16I","RG16I","RGB16I","RGBA16I","R16UI","RG16UI","RGB16UI","RGBA16UI","R32I","RG32I","RGB32I","RGBA32I","R32UI","RG32UI","RGB32UI","RGBA32UI","R32F","RG32F","RGB32F","R16F","RG16F","RGB16F","RGB565","R11F_G11F_B10F","RGB9_E5","RGBA4","RGB5_A1","RGB10_A2","RGB10_A2UI","_getRGBAMultiSampleBufferFormat","onCompleteObservable","request2","hasAlpha","flushRenderer","numChannels","isSupported","_HasMajorPerformanceCaveat","_IsSupported","tempcanvas","WebGLRenderingContext","failIfMajorPerformanceCaveat","CeilingPOT","FloorPOT","NearestPOT","pot","requestPostAnimationFrame","requestAnimationFrame","msRequestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","CollisionsEpsilon","PrecisionDate","PrecisionDate2","performance","now","PerformanceMonitor","PerformanceMonitor2","frameSampleSize","_rollingFrameTime","RollingAverage","sampleFrame","timeMs","Now","_lastFrameTimeMs","dt","average","variance","history","isSaturated","RollingAverage2","_samples","delta","bottomValue","_pos","_sampleCount","_m2","_wrapPosition","PerfCounter","PerfCounter2","_startMonitoringTime","_min","_max","_average","_lastSecAverage","_current","_totalValueCount","_totalAccumulated","_lastSecAccumulated","_lastSecTime","_lastSecValueCount","fetchNewFrame","addCount","newCount","fetchResult","Enabled","_fetchResult","beginMonitoring","endMonitoring","newFrame","currentTime","setAlphaConstants","setAlphaMode","noDepthWriteChange","alphaBlend","ONE","ONE_MINUS_SRC_ALPHA","SRC_ALPHA","ZERO","ONE_MINUS_SRC_COLOR","DST_COLOR","CONSTANT_COLOR","ONE_MINUS_CONSTANT_COLOR","CONSTANT_ALPHA","ONE_MINUS_CONSTANT_ALPHA","DST_ALPHA","ONE_MINUS_DST_COLOR","ONE_MINUS_DST_ALPHA","depthCullingState","getAlphaMode","setAlphaEquation","equation","getAlphaEquation","_readTexturePixelsSync","noDataConversion","dummy","sizeOrDstBuffer","sizeInBytes","copyBuffer","buffer_1","Int8Array","buffer_2","buffer_3","Int16Array","buffer_4","buffer_5","buffer_6","buffer_7","allocateAndCopyTypedBuffer","_readTexturePixels","updateDynamicIndexBuffer","updateDynamicVertexBuffer","byteLength","dataLength","subarray","Engine","Engine2","enableOfflineSupport","disableManifestCheck","_virtualScenes","onNewSceneAddedObservable","postProcesses","isPointerLock","onResizeObservable","onCanvasBlurObservable","onCanvasFocusObservable","onCanvasPointerOutObservable","onBeginFrameObservable","customAnimationFrameRequester","onEndFrameObservable","onBeforeShaderCompilationObservable","onAfterShaderCompilationObservable","_deterministicLockstep","_lockstepMaxSteps","_timeStep","_fps","_deltaTime","_drawCalls","canvasTabIndex","disablePerformanceMonitorInBackground","_performanceMonitor","_compatibilityMode","currentRenderPassId","_renderPassNames","canvas_1","anyDoc_1","_onFullscreenChange","fullscreen","mozFullScreen","webkitIsFullScreen","msIsFullScreen","_pointerLockRequested","_RequestPointerlock","_onPointerLockChange","mozPointerLockElement","webkitPointerLockElement","msPointerLockElement","pointerLockElement","AudioEngineFactory","_connectVREvents","OfflineProviderFactory","_prepareVRComponent","autoEnableWebVR","initWebVR","NpmPackage","LastCreatedScene","_createImageBitmapFromSource","imageSource","image","Image","onload","decode","createImageBitmap","imageBitmap","onerror","src","resizeImageBitmap","bufferWidth","bufferHeight","getImageData","MarkAllMaterialsAsDirty","predicate","engineIndex","sceneIndex","DefaultLoadingScreenFactory","_RescalePostProcessFactory","getInputElement","_onCanvasFocus","_onCanvasBlur","_onBlur","_onFocus","_onCanvasPointerOut","ev","elementFromPoint","clientX","clientY","hostWindow","_disableTouchAction","getAspectRatio","viewportOwner","getScreenAspectRatio","getRenderingCanvasClientRect","getBoundingClientRect","getInputElementClientRect","isDeterministicLockStep","getLockstepMaxSteps","getTimeStep","generateMipMapsForCubemap","unbind","getDepthBuffer","setDepthBuffer","getDepthWrite","setDepthWrite","getStencilBuffer","setStencilBuffer","getStencilMask","setStencilMask","getStencilFunction","getStencilFunctionReference","stencilFuncRef","getStencilFunctionMask","stencilFuncMask","setStencilFunction","setStencilFunctionReference","setStencilFunctionMask","getStencilOperationFail","stencilOpStencilFail","getStencilOperationDepthFail","stencilOpDepthFail","getStencilOperationPass","stencilOpStencilDepthPass","setStencilOperationFail","operation","setStencilOperationDepthFail","setStencilOperationPass","setDitheringState","DITHER","setRasterizerState","RASTERIZER_DISCARD","getDepthFunction","setDepthFunction","setDepthFunctionToGreater","setDepthFunctionToGreaterOrEqual","setDepthFunctionToLess","setDepthFunctionToLessOrEqual","cacheStencilState","_cachedStencilBuffer","_cachedStencilFunction","_cachedStencilMask","_cachedStencilOperationPass","_cachedStencilOperationFail","_cachedStencilOperationDepthFail","_cachedStencilReference","restoreStencilState","setDirectViewport","currentViewport","scissorClear","enableScissor","disableScissor","SCISSOR_TEST","scissor","numDrawCalls","document2","_submitVRFrame","disableVR","isVRPresenting","_requestVRFrame","_loadFileAsync","getVertexShaderSource","shaders","getAttachedShaders","getFragmentShaderSource","postProcessInput","_textures","_currentRenderTextureInd","_forcedOutputTexture","_outputTexture","resetCachedMaterial","_rebuildGeometries","_rebuildTextures","_renderFrame","_renderViews","requestID","switchFullscreen","requestPointerLock","exitFullscreen","enterFullscreen","_RequestFullscreen","_ExitFullscreen","enterPointerlock","exitPointerlock","_ExitPointerlock","_measureFps","camIndex","cameras","_currentRenderId","transformFeedback","deleteTransformFeedback","createTransformFeedback","bindTransformFeedback","setTranformFeedbackVaryings","camera","_postProcesses","getRenderPassNames","getCurrentRenderPassName","createRenderPassId","id","_RenderPassIdCounter","releaseRenderPassId","meshes","mesh","subMeshes","_removeDrawWrapper","rtt","createRenderTargetTexture","_rescalePostProcess","externalTextureSamplerBinding","getEffect","onApply","hostingScene","postProcessManager","directRender","copyTexImage2D","getFps","getDeltaTime","averageFPS","instantaneousFrameTime","wrapWebGLTexture","_uploadImageToTexture","updateTextureComparisonFunction","createInstancesBuffer","deleteInstancesBuffer","_clientWaitAsync","sync","flags","intervalms","check","clientWaitSync","WAIT_FAILED","TIMEOUT_EXPIRED","_readPixelsAsync","h","outputBuffer","buf","PIXEL_PACK_BUFFER","STREAM_READ","fenceSync","SYNC_GPU_COMMANDS_COMPLETE","deleteSync","getBufferSubData","hideLoadingUI","style","touchAction","msTouchAction","webkitTapHighlightColor","displayLoadingUI","loadingScreen","_loadingScreen","text","loadingUIText","loadingUIBackgroundColor","createVideoElement","constraints","msRequestPointerLock","mozRequestPointerLock","webkitRequestPointerLock","focus","anyDoc","exitPointerLock","msExitPointerLock","mozExitPointerLock","webkitExitPointerLock","requestFunction","requestFullscreen","msRequestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","mozCancelFullScreen","webkitCancelFullScreen","msCancelFullScreen","getFontOffset","font","innerHTML","block","display","verticalAlign","div","whiteSpace","appendChild","fontAscent","fontHeight","removeChild","ascent","descent","ALPHA_DISABLE","ALPHA_ADD","ALPHA_COMBINE","ALPHA_SUBTRACT","ALPHA_MULTIPLY","ALPHA_MAXIMIZED","ALPHA_ONEONE","ALPHA_PREMULTIPLIED","ALPHA_PREMULTIPLIED_PORTERDUFF","ALPHA_INTERPOLATE","ALPHA_SCREENMODE","DELAYLOADSTATE_NONE","DELAYLOADSTATE_LOADED","DELAYLOADSTATE_LOADING","DELAYLOADSTATE_NOTLOADED","NEVER","LESS","EQUAL","GREATER","NOTEQUAL","INCR","DECR","INVERT","INCR_WRAP","DECR_WRAP","TEXTURE_CLAMP_ADDRESSMODE","TEXTURE_WRAP_ADDRESSMODE","TEXTURE_MIRROR_ADDRESSMODE","TEXTUREFORMAT_ALPHA","TEXTUREFORMAT_LUMINANCE","TEXTUREFORMAT_LUMINANCE_ALPHA","TEXTUREFORMAT_RGB","TEXTUREFORMAT_RGBA","TEXTUREFORMAT_RED","TEXTUREFORMAT_R","TEXTUREFORMAT_RG","TEXTUREFORMAT_RED_INTEGER","TEXTUREFORMAT_R_INTEGER","TEXTUREFORMAT_RG_INTEGER","TEXTUREFORMAT_RGB_INTEGER","TEXTUREFORMAT_RGBA_INTEGER","TEXTURETYPE_UNSIGNED_BYTE","TEXTURETYPE_UNSIGNED_INT","TEXTURETYPE_FLOAT","TEXTURETYPE_HALF_FLOAT","TEXTURETYPE_BYTE","TEXTURETYPE_SHORT","TEXTURETYPE_UNSIGNED_SHORT","TEXTURETYPE_INT","TEXTURETYPE_UNSIGNED_INTEGER","TEXTURETYPE_UNSIGNED_SHORT_4_4_4_4","TEXTURETYPE_UNSIGNED_SHORT_5_5_5_1","TEXTURETYPE_UNSIGNED_SHORT_5_6_5","TEXTURETYPE_UNSIGNED_INT_2_10_10_10_REV","TEXTURETYPE_UNSIGNED_INT_24_8","TEXTURETYPE_UNSIGNED_INT_10F_11F_11F_REV","TEXTURETYPE_UNSIGNED_INT_5_9_9_9_REV","TEXTURETYPE_FLOAT_32_UNSIGNED_INT_24_8_REV","TEXTURE_NEAREST_SAMPLINGMODE","TEXTURE_BILINEAR_SAMPLINGMODE","TEXTURE_TRILINEAR_SAMPLINGMODE","TEXTURE_NEAREST_NEAREST_MIPLINEAR","TEXTURE_LINEAR_LINEAR_MIPNEAREST","TEXTURE_LINEAR_LINEAR_MIPLINEAR","TEXTURE_NEAREST_NEAREST_MIPNEAREST","TEXTURE_NEAREST_LINEAR_MIPNEAREST","TEXTURE_NEAREST_LINEAR_MIPLINEAR","TEXTURE_NEAREST_LINEAR","TEXTURE_NEAREST_NEAREST","TEXTURE_LINEAR_NEAREST_MIPNEAREST","TEXTURE_LINEAR_NEAREST_MIPLINEAR","TEXTURE_LINEAR_LINEAR","TEXTURE_LINEAR_NEAREST","TEXTURE_EXPLICIT_MODE","TEXTURE_SPHERICAL_MODE","TEXTURE_PLANAR_MODE","TEXTURE_CUBIC_MODE","TEXTURE_PROJECTION_MODE","TEXTURE_SKYBOX_MODE","TEXTURE_INVCUBIC_MODE","TEXTURE_EQUIRECTANGULAR_MODE","TEXTURE_FIXED_EQUIRECTANGULAR_MODE","TEXTURE_FIXED_EQUIRECTANGULAR_MIRRORED_MODE","SCALEMODE_FLOOR","SCALEMODE_NEAREST","SCALEMODE_CEILING","_debugPushGroup","groupName","targetObject","_debugPopGroup","_debugInsertMarker","_debugFlushPendingCommands","Color3","Color32","toColor4","Color4$1","toLuminance","otherColor","equalsFloats","clampToRef","toHexString","intR","intG","intB","toLinearSpace","convertedColor","toLinearSpaceToRef","toHSV","toHSVToRef","dm","toGammaSpace","toGammaSpaceToRef","HSVtoRGBToRef","hue","saturation","chroma","FromHexString","hex","FromInts","Black","Red","Green","Blue","_BlackReadOnly","White","Purple","Magenta","Yellow","Gray","Teal","Random","Color42","returnAsColor3","intA","FromColor3","CheckColors4","colors","count","colors4","newIndex","TmpColors","TmpColors2","Color4","CloneValue","destinationObject","DeepCopier","DeepCopier2","DeepCopy","doNotCopyList","mustCopyList","properties","props","getOwnPropertyNames","getPrototypeOf","GetAllPropertyNames","properties_1","endsWith","sourceValue","typeOfSourceValue","clonedValue","WebRequest","WebRequest2","_xhr","_native","XMLHttpRequest","_requestURL","_injectCustomRequestHeaders","_shouldSkipRequestModifications","CustomRequestHeaders","setRequestHeader","SkipRequestModificationForBabylonCDN","includes","onprogress","readyState","statusText","response","responseText","responseType","timeout","listener","send","open","method","CustomRequestModifiers","getResponseHeader","FilesInputStore","FilesInputStore2","FilesToLoad","RetryStrategy","RetryStrategy2","ExponentialBackoff","maxRetries","baseInterval","retryIndex","BaseError","BaseError2","_setPrototypeOf","proto","ErrorCodes","RuntimeError","RuntimeError2","errorCode","innerError","EncodeArrayBufferToBase64","chr1","chr2","chr3","enc1","enc2","enc3","enc4","keyStr","output","bytes","Number","DecodeBase64ToString","base64Data","TimingTools","TimingTools2","SetImmediate","setImmediate","Base64DataUrlRegEx","LoadFileError","LoadFileError2","object","file","RequestFileError","RequestFileError2","ReadFileError","ReadFileError2","FileToolsOptions","DefaultRetryStrategy","BaseUrl","CorsBehavior","PreprocessUrl","_CleanUrl","SetCorsBehavior","crossOrigin","LoadImage","usingObjectURL","URL","createObjectURL","onErrorHandler","inputText","LoadFile","premultiplyAlpha","imgBmp","revokeObjectURL","reason","loadHandler","errorHandler","noOfflineSupport","enableTexturesOffline","loadImage","textureName","decodeURIComponent","blobURL","ReadFile","reader","FileReader","fileRequest","onloadend","readAsArrayBuffer","readAsText","fileOrUrl","onOpened","fileName","IsBase64DataUrl","fileRequest_1","DecodeBase64UrlToBinary","DecodeBase64UrlToString","RequestFile","loadUrl","aborted","requestFile","onReadyStateChange","retryHandle","unbindEvents","onLoadEnd","DONE","clearTimeout","handleError","retryLoop","IsFileURL","retryStrategy","waitTime","enableSceneOffline","noOfflineSupport_1","loadFile","event","location","protocol","uri","decodedString","bufferLength","bufferView","charCodeAt","DecodeBase64ToBinary","FileTools","FileToolsOptions2","IsBase64DataUrl2","IsFileURL2","LoadFile2","LoadImage2","ReadFile2","RequestFile2","SetCorsBehavior2","InstantiationTools","InstantiationTools2","Instantiate","RegisteredExternalClasses","internalClass","fn","RandomGUID","Tools","Tools2","strategy","classes","FetchToRef","u","pixels","Mix","IsExponentOfTwo","FloatRound","fround","_TmpFloatArray","GetFilename","path","GetFolderPath","returnUnchangedIfNoSlash","ToDegrees","ToRadians","MakeArray","allowsNullUndefined","isArray","GetPointerPrefix","eventPrefix","PointerEvent","CleanUrl","LoadFileAsync","LoadScript","scriptUrl","scriptId","head","getElementsByTagName","script","LoadScriptAsync","ReadFileAsDataURL","fileToLoad","progressCallback","readAsDataURL","FileAsURL","content","fileBlob","webkitURL","Format","decimals","toFixed","IsEmpty","RegisterTopRootEvents","windowElement","events","event_1","handler","parent","UnregisterTopRootEvents","event_2","DumpFramebuffer","successCallback","DumpData","toArrayBuffer","quality","_ScreenshotCanvas","data2","createImageData","putImageData","canvas2","ctx2","translate","ToBlob","blob","fileReader","arrayBuffer","EncodeScreenshotCanvasData","DumpDataAsync","toBlob","quality2","binStr","toDataURL","stringDate","getFullYear","getMonth","getDate","Download","url_1","newWindow","msSaveBlob","href","download","parentElement","click","BackCompatCameraNoPreventDefault","args","CreateScreenshot","CreateScreenshotAsync","CreateScreenshotUsingRenderTarget","antialiasing","CreateScreenshotUsingRenderTargetAsync","RandomId","IsBase64","DecodeBase64","LogCache","LogLevels","PerformanceUserMarkLogLevel","StartPerformanceCounter","_StartUserMark","EndPerformanceCounter","_EndUserMark","PerformanceConsoleLogLevel","_StartPerformanceConsole","_EndPerformanceConsole","_StartPerformanceCounterDisabled","_EndPerformanceCounterDisabled","counterName","_Performance","mark","measure","timeEnd","GetClassName","isType","First","array_1","el","getFullClassName","moduleName","classObj","DelayAsync","delay","IsSafari","UseCustomRequestHeaders","GetAbsoluteUrl","PerformanceNoneLogLevel","AsyncLoop","AsyncLoop2","iterations","_done","_fn","_successCallback","executeNext","breakLoop","Run","loop","SyncAsyncForLoop","syncedIterations","breakFunction","ceil","iteration","SmartArray","SmartArray2","_id","_GlobalId","sort","compareFn","contains","SmartArrayNoDuplicate","SmartArrayNoDuplicate2","_duplicateId","__smartArrayFlags","pushNoDuplicate","concatWithNoDuplicate","item","StringDictionary","StringDictionary2","_data","getOrAddWithFactory","factory","getOrAdd","curVal","getAndRemove","cur","first","AndOrNotEvaluator","AndOrNotEvaluator2","Eval","query","evaluateCallback","_HandleParenthesisContent","parenthesisContent","or","ori","_SimplifyNegation","and","j","andj","booleanString","Tags","Tags2","EnableFor","_tags","hasTags","HasTags","addTags","tagsString","AddTagsTo","removeTags","RemoveTagsFrom","matchesTagsQuery","tagsQuery","MatchesQuery","DisableFor","tags","GetTags","asString","tagsArray","tag","join","_AddTagTo","_RemoveTagFrom","AbstractScene","AbstractScene2","rootNodes","lights","skeletons","particleSystems","animations","animationGroups","multiMaterials","materials","morphTargetManagers","geometries","transformNodes","actionManagers","_environmentTexture","AddParser","parser","_BabylonFileParsers","GetParser","AddIndividualParser","_IndividualBabylonFileParsers","GetIndividualParser","Parse","jsonData","container","rootUrl","parserName","getNodes","nodes","skeleton","bones","__decoratorInitialStore","__mergedStore","_copySource","creationFunction","instanciate","classStore","getMergedStore","property","propertyDescriptor","sourceProperty","propertyType","SerializationHelper","AllowLoadingUniqueId","isRenderTarget","classKey","store","currentKey","initialStore","parent_1","generateSerializableMember","sourceName","propertyKey","getDirectStore","expandToProperty","targetKey","setCallback","generateExpandMember","serialize","serializeAsTexture","serializeAsColor3","serializeAsFresnelParameters","serializeAsVector3","serializeAsColor4","SerializationHelper2","AppendSerializedAnimations","animationIndex","animation","Serialize","entity","serializationObject","serializedProperties","targetPropertyName","_TextureParser","_FresnelParametersParser","getLastMeshById","_ColorCurvesParser","_ImageProcessingConfigurationParser","getCameraById","Clone","Instanciate","nativeOverride","descriptor","jsFunc","params","nativeFunc_1","params2","_i2","filter","MaterialDefines","MaterialDefines2","externalProperties","_areLightsDirty","_areLightsDisposed","_areAttributesDirty","_areTexturesDirty","_areFresnelDirty","_areMiscDirty","_arePrePassDirty","_areImageProcessingDirty","_normals","_uvs","_needNormals","_needUVs","_externalProperties","_setDefaultValue","markAsProcessed","markAsUnprocessed","markAllAsDirty","markAsImageProcessingDirty","markAsLightDirty","disposed","markAsAttributesDirty","markAsTexturesDirty","markAsFresnelDirty","markAsMiscDirty","markAsPrePassDirty","rebuild","_keys","keys","isEqual","cloneTo","defValue","default","ColorCurves","ColorCurves2","_dirty","_tempColor","_globalCurve","_highlightsCurve","_midtonesCurve","_shadowsCurve","_positiveCurve","_negativeCurve","_globalHue","_globalDensity","_globalSaturation","_globalExposure","_highlightsHue","_highlightsDensity","_highlightsSaturation","_highlightsExposure","_midtonesHue","_midtonesDensity","_midtonesSaturation","_midtonesExposure","_shadowsHue","_shadowsDensity","_shadowsSaturation","_shadowsExposure","Bind","colorCurves","positiveUniform","neutralUniform","negativeUniform","_getColorGradingDataToRef","PrepareUniforms","uniformsList","density","exposure","_Clamp","_ApplyColorGradingSliderNonlinear","_FromHSBToRef","brightness","ImageProcessingConfigurationDefines","IMAGEPROCESSING","VIGNETTE","VIGNETTEBLENDMODEMULTIPLY","VIGNETTEBLENDMODEOPAQUE","TONEMAPPING","TONEMAPPING_ACES","CONTRAST","COLORCURVES","COLORGRADING","COLORGRADING3D","SAMPLER3DGREENDEPTH","SAMPLER3DBGRMAP","IMAGEPROCESSINGPOSTPROCESS","EXPOSURE","SKIPFINALCOLORCLAMP","ImageProcessingConfiguration","ImageProcessingConfiguration2","_colorCurvesEnabled","_colorGradingEnabled","_colorGradingWithGreenDepth","_colorGradingBGR","_exposure","_toneMappingEnabled","_toneMappingType","TONEMAPPING_STANDARD","_contrast","vignetteStretch","vignetteCentreX","vignetteCentreY","vignetteWeight","vignetteColor","vignetteCameraFov","_vignetteBlendMode","VIGNETTEMODE_MULTIPLY","_vignetteEnabled","_skipFinalColorClamp","_applyByPostProcess","_isEnabled","onUpdateParameters","_updateParameters","_colorGradingTexture","PrepareSamplers","samplersList","prepareDefines","forPostProcess","applyByPostProcess","skipFinalColorClamp","vignetteEnabled","vignetteBlendMode","_VIGNETTEMODE_MULTIPLY","toneMappingEnabled","contrast","colorCurvesEnabled","colorGradingEnabled","colorGradingTexture","colorGradingWithGreenDepth","colorGradingBGR","overrideAspectRatio","inverseWidth","inverseHeight","aspectRatio","vignetteScaleY","vignetteScaleX","vignetteScaleGeometricMean","vignettePower","textureSize","_VIGNETTEMODE_OPAQUE","createUniformBuffer","elements","ubo","UNIFORM_BUFFER","createDynamicUniformBuffer","updateUniformBuffer","uniformBuffer","location2","bindBufferBase","DeviceType","DeviceType2","PointerInput","PointerInput2","NativePointerInput","NativePointerInput2","DualShockInput","DualShockInput2","DualSenseInput","DualSenseInput2","XboxInput","XboxInput2","SwitchInput","SwitchInput2","DeviceInputEventType","DeviceInputEventType2","UniformBuffer","UniformBuffer2","dynamic","forceNoUniformBuffer","_noUBO","_dynamic","_uniformLocations","_uniformSizes","_uniformArraySizes","_uniformLocationPointer","_needSync","_buffers","_bufferIndex","_createBufferOnWrite","_currentFrameId","updateMatrix3x3","_updateMatrix3x3ForEffect","updateMatrix2x2","_updateMatrix2x2ForEffect","updateFloat","_updateFloatForEffect","updateFloat2","_updateFloat2ForEffect","updateFloat3","_updateFloat3ForEffect","updateFloat4","_updateFloat4ForEffect","updateFloatArray","_updateFloatArrayForEffect","updateArray","_updateArrayForEffect","updateIntArray","_updateIntArrayForEffect","updateMatrix","_updateMatrixForEffect","updateMatrices","_updateMatricesForEffect","updateVector3","_updateVector3ForEffect","updateVector4","_updateVector4ForEffect","updateColor3","_updateColor3ForEffect","updateColor4","_updateColor4ForEffect","updateDirectColor4","_updateDirectColor4ForEffect","updateInt","_updateIntForEffect","updateInt2","_updateInt2ForEffect","updateInt3","_updateInt3ForEffect","updateInt4","_updateInt4ForEffect","_updateMatrix3x3ForUniform","_updateMatrix2x2ForUniform","_updateFloatForUniform","_updateFloat2ForUniform","_updateFloat3ForUniform","_updateFloat4ForUniform","_updateFloatArrayForUniform","_updateArrayForUniform","_updateIntArrayForUniform","_updateMatrixForUniform","_updateMatricesForUniform","_updateVector3ForUniform","_updateVector4ForUniform","_updateColor3ForUniform","_updateColor4ForUniform","_updateDirectColor4ForUniform","_updateIntForUniform","_updateInt2ForUniform","_updateInt3ForUniform","_updateInt4ForUniform","isDynamic","getData","_bufferData","_fillAlignment","alignment","oldPointer","diff","addUniform","arraySize","strideSize","addMatrix","mat","addFloat2","addFloat3","addColor3","addColor4","addMatrix3x3","addMatrix2x2","_buffersEqual","buf1","buf2","_copyBuffer","dst","_UpdatedUbosInFrame","_createNewBuffer","_checkNewFrame","frameId","updateUniform","updateUniformArray","arraySizes","countToFour","baseStride","_TempBuffer","suffix","_TempBufferInt32View","updateUniformDirectly","bindToEffect","_currentEffectName","unbindEffect","setDataBuffer","uniformBuffers","_MAX_UNIFORM_SIZE","Buffer2","Buffer3","postponeInternalCreation","instanced","useBytes","_isAlreadyOwned","getScene","_updatable","_instanced","_divisor","kind","VertexBuffer","isUpdatable","getStrideSize","updateDirectly","vertexCount","_increaseReferences","VertexBuffer2","takeBufferOwnership","_ownsBuffer","_kind","typeByteLength","GetTypeByteLength","DeduceStride","_instanceDivisor","_computeHashCode","hashCode","getKind","getFloatData","totalVertices","forceCopy","tightlyPackedByteStride","copy_1","remainder","getOffset","ForEach","UVKind","UV2Kind","UV3Kind","UV4Kind","UV5Kind","UV6Kind","NormalKind","PositionKind","ColorKind","MatricesIndicesKind","MatricesIndicesExtraKind","MatricesWeightsKind","MatricesWeightsExtraKind","TangentKind","componentCount","componentType","componentIndex","dataView","DataView","componentByteLength","componentByteOffset","_GetFloatValue","getInt8","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","ColorInstanceKind","PickingInfo","PickingInfo2","_pickingUnavailable","hit","distance","pickedPoint","pickedMesh","bu","bv","faceId","subMeshFaceId","subMeshId","pickedSprite","thinInstanceIndex","ray","originMesh","aimTransform","gripTransform","getNormal","useWorldCoordinates","useVerticesNormals","isVerticesDataPresent","getIndices","normals","getVerticesData","normal0","normal1","normal2","positions","vertex1","vertex2","vertex3","p1p2","p3p2","wm","getWorldMatrix","nonUniformScaling","getTextureCoordinates","uvs","uv0","uv1","uv2","ActionEvent","ActionEvent2","pointerX","pointerY","meshUnderPointer","sourceEvent","additionalData","CreateNew","CreateNewFromSprite","CreateNewFromScene","CreateNewFromPrimitive","prim","pointerPos","PostProcessManager","PostProcessManager2","_vertexBuffers","_prepareBuffers","vertices","_buildIndexBuffer","_indexBuffer","vb","_prepareFrame","sourceTexture","activeCamera","pp","postProcessesEnabled","targetTexture","doNotBindFrambuffer","onBeforeRenderObservable","onAfterRenderObservable","_finalizeFrame","doNotPresent","pp2","RenderingGroup","RenderingGroup2","opaqueSortCompareFn","alphaTestSortCompareFn","transparentSortCompareFn","_opaqueSubMeshes","_transparentSubMeshes","_alphaTestSubMeshes","_depthOnlySubMeshes","_particleSystems","_spriteManagers","_empty","_edgesRenderers","_opaqueSortCompareFn","PainterSortCompare","_renderOpaque","_renderOpaqueSorted","_alphaTestSortCompareFn","_renderAlphaTest","_renderAlphaTestSorted","_transparentSortCompareFn","defaultTransparentSortCompare","_renderTransparent","_renderTransparentSorted","render","customRenderFunction","renderSprites","renderParticles","activeMeshes","stencilState","_renderSprites","_renderParticles","onBeforeTransparentRendering","useOrderIndependentTransparency","excludedMeshes","depthPeelingRenderer","edgesRendererIndex","_RenderSorted","sortCompareFn","transparent","subMesh","subIndex","cameraPosition","globalPosition","_ZeroVector","_alphaIndex","getMesh","alphaIndex","_distanceToCamera","getBoundingInfo","boundingSphere","centerWorld","sortedArray","_activeMeshesFrozenButKeepClipping","isInFrustum","_frustumPlanes","material","getMaterial","needDepthPrePass","backToFrontSortCompare","frontToBackSortCompare","meshA","meshB","prepare","dispatch","needAlphaBlendingForMesh","needAlphaTesting","_renderingGroup","_edgesRenderer","isEnabled","dispatchSprites","spriteManager","dispatchParticles","particleSystem","onBeforeParticlesRenderingObservable","particleIndex","layerMask","emitter","_activeParticles","onAfterParticlesRenderingObservable","spritesEnabled","onBeforeSpritesRenderingObservable","onAfterSpritesRenderingObservable","RenderingGroupInfo","RenderingManager","RenderingManager2","_useSceneAutoClearSetup","_renderingGroups","_autoClearDepthStencil","_customOpaqueSortCompareFn","_customAlphaTestSortCompareFn","_customTransparentSortCompareFn","_renderingGroupInfo","MIN_RENDERINGGROUPS","MAX_RENDERINGGROUPS","autoClear","_clearDepthStencilBuffer","_depthStencilBufferAlreadyCleaned","info","spriteManagers","manager","renderingGroup","renderingGroupMask","renderingGroupId","onBeforeRenderingGroupObservable","AUTOCLEAR","getAutoClearDepthStencilSetup","_beforeRenderingGroupDrawStage","_afterRenderingGroupDrawStage","onAfterRenderingGroupObservable","freeRenderingGroups","_prepareRenderingGroup","setRenderingOrder","group","setRenderingAutoClearDepthStencil","autoClearDepthStencil","SceneComponentConstants","SceneComponentConstants2","NAME_EFFECTLAYER","NAME_LAYER","NAME_LENSFLARESYSTEM","NAME_BOUNDINGBOXRENDERER","NAME_PARTICLESYSTEM","NAME_GAMEPAD","NAME_SIMPLIFICATIONQUEUE","NAME_GEOMETRYBUFFERRENDERER","NAME_PREPASSRENDERER","NAME_DEPTHRENDERER","NAME_DEPTHPEELINGRENDERER","NAME_POSTPROCESSRENDERPIPELINEMANAGER","NAME_SPRITE","NAME_SUBSURFACE","NAME_OUTLINERENDERER","NAME_PROCEDURALTEXTURE","NAME_SHADOWGENERATOR","NAME_OCTREE","NAME_PHYSICSENGINE","NAME_AUDIO","STEP_ISREADYFORMESH_EFFECTLAYER","STEP_BEFOREEVALUATEACTIVEMESH_BOUNDINGBOXRENDERER","STEP_EVALUATESUBMESH_BOUNDINGBOXRENDERER","STEP_PREACTIVEMESH_BOUNDINGBOXRENDERER","STEP_CAMERADRAWRENDERTARGET_EFFECTLAYER","STEP_BEFORECAMERADRAW_PREPASS","STEP_BEFORECAMERADRAW_EFFECTLAYER","STEP_BEFORECAMERADRAW_LAYER","STEP_BEFORERENDERTARGETDRAW_PREPASS","STEP_BEFORERENDERTARGETDRAW_LAYER","STEP_BEFORERENDERINGMESH_PREPASS","STEP_BEFORERENDERINGMESH_OUTLINE","STEP_AFTERRENDERINGMESH_PREPASS","STEP_AFTERRENDERINGMESH_OUTLINE","STEP_AFTERRENDERINGGROUPDRAW_EFFECTLAYER_DRAW","STEP_AFTERRENDERINGGROUPDRAW_BOUNDINGBOXRENDERER","STEP_BEFORECAMERAUPDATE_SIMPLIFICATIONQUEUE","STEP_BEFORECAMERAUPDATE_GAMEPAD","STEP_BEFORECLEAR_PROCEDURALTEXTURE","STEP_AFTERRENDERTARGETDRAW_PREPASS","STEP_AFTERRENDERTARGETDRAW_LAYER","STEP_AFTERCAMERADRAW_PREPASS","STEP_AFTERCAMERADRAW_EFFECTLAYER","STEP_AFTERCAMERADRAW_LENSFLARESYSTEM","STEP_AFTERCAMERADRAW_EFFECTLAYER_DRAW","STEP_AFTERCAMERADRAW_LAYER","STEP_AFTERRENDER_AUDIO","STEP_GATHERRENDERTARGETS_DEPTHRENDERER","STEP_GATHERRENDERTARGETS_GEOMETRYBUFFERRENDERER","STEP_GATHERRENDERTARGETS_SHADOWGENERATOR","STEP_GATHERRENDERTARGETS_POSTPROCESSRENDERPIPELINEMANAGER","STEP_GATHERACTIVECAMERARENDERTARGETS_DEPTHRENDERER","STEP_BEFORECLEARSTAGE_PREPASS","STEP_BEFORERENDERTARGETCLEARSTAGE_PREPASS","STEP_POINTERMOVE_SPRITE","STEP_POINTERDOWN_SPRITE","STEP_POINTERUP_SPRITE","Stage","Stage2","items","Create","registerStep","component","MAX_VALUE","PointerEventTypes","PointerEventTypes2","POINTERDOWN","POINTERUP","POINTERMOVE","POINTERWHEEL","POINTERPICK","POINTERTAP","POINTERDOUBLETAP","PointerInfoBase","PointerInfoPre","PointerInfoPre2","localX","localY","skipOnPointerObservable","localPosition","PointerInfo","PointerInfo2","pickInfo","AbstractActionManager","AbstractActionManager2","hoverCursor","actions","isRecursive","Triggers","tAsInt","HasSpecificTrigger","trigger","KeyboardEventTypes","KeyboardEventTypes2","KEYDOWN","KEYUP","KeyboardInfo","KeyboardInfoPre","KeyboardInfoPre2","skipOnKeyboardObservable","EventConstants","EventConstants2","DOM_DELTA_PIXEL","DOM_DELTA_LINE","DOM_DELTA_PAGE","DeviceEventFactory","DeviceEventFactory2","CreateDeviceEvent","deviceType","deviceSlot","inputIndex","currentState","deviceInputSystem","elementToAttachTo","Keyboard","_CreateKeyboardEvent","Mouse","MouseWheelX","MouseWheelY","MouseWheelZ","_CreateWheelEvent","Touch","_CreatePointerEvent","_CreateMouseEvent","pointerId","pointerType","Move","LeftClick","RightClick","button","deltaMode","deltaX","deltaY","deltaZ","_CreateEvent","pollInput","Horizontal","Vertical","movementX","movementY","offsetX","offsetY","DeltaHorizontal","DeltaVertical","_CheckNonCharacterKeys","fromCharCode","keyCode","isKeyboardActive","isDeviceAvailable","altKey","ctrlKey","metaKey","shiftKey","NativeDeviceInputSystem","NativeDeviceInputSystem2","onDeviceConnected","onDeviceDisconnected","onInputChanged","_nativeInput","DeviceInputSystem","_createDummyNativeInput","MAX_POINTER_INPUTS","WebDeviceInputSystem","WebDeviceInputSystem2","_inputs","_keyboardActive","_pointerActive","_usingSafari","_keyboardDownEvent","_keyboardUpEvent","_keyboardBlurEvent","_pointerMoveEvent","_pointerDownEvent","_pointerUpEvent","_pointerCancelEvent","_pointerWheelEvent","_pointerBlurEvent","_eventsAttached","_mouseId","_isUsingFirefox","_maxTouchPoints","_pointerInputClearObserver","_gamepadConnectedEvent","_gamepadDisconnectedEvent","_eventPrefix","_onDeviceConnected","_onDeviceDisconnected","_onInputChanged","_enableEvents","_onEngineViewChanged","device","DualShock","DualSense","getGamepads","_updateDevice","currentValue","_elementToAttachTo","_disableEvents","inputElement","inputs","deviceSlotKey","tabIndex","_handleKeyActions","_handlePointerActions","_handleGamepadActions","_checkForConnectedDevices","_wheelEventName","gamepads_1","gamepad","_addGamePad","matchMedia","_addPointerDevice","_getGamepadDeviceType","_gamepads","_registerDevice","buttons","axes","currentX","currentY","numberOfInputs","_unregisterDevice","kbKey","deviceEvent","maxTouchPoints","_activeTouchIds","_getPointerType","previousHorizontal","previousVertical","hasPointerCapture","setPointerCapture","releasePointerCapture","BrowserForward","onmousewheel","passiveSupported","noop","passive","wheelDelta","gp","valueOf","deviceName","Xbox","Switch","Generic","touches","DeviceSource","DeviceSource2","onInputChangedObservable","_deviceInputSystem","getInput","InternalDeviceSourceManager","InternalDeviceSourceManager2","_registeredManagers","_refCount","registerManager","_devices","_addDevice","unregisterManager","numberOfDeviceTypes","deviceSource","_removeDevice","DeviceSourceManager","DeviceSourceManager2","_firstDevice","_deviceSourceManager","onDeviceConnectedObservable","devices","devices_1","onDeviceDisconnectedObservable","_onDisposeObserver","getDeviceSource","getDeviceSources","_updateFirstDevices","_ClickInfo","_ClickInfo2","_singleClick","_doubleClick","_hasSwiped","_ignore","InputManager","InputManager2","_alreadyAttached","_meshPickProceed","_currentPickResult","_previousPickResult","_totalPointersPressed","_doubleClickOccured","_pointerX","_pointerY","_startingPointerPosition","_previousStartingPointerPosition","_startingPointerTime","_previousStartingPointerTime","_pointerCaptures","_meshUnderPointerId","_pointerOverMesh","getMeshUnderPointerByPointerId","_unTranslatedPointerX","_unTranslatedPointerY","_updatePointerPosition","canvasRect","_processPointerMove","pickResult","doNotHandleCursors","defaultCursor","isMeshPicked","setPointerOverMesh","actionManager","_getActionManagerForTrigger","hasPointerTriggers","_pointerMoveStage","onPointerMove","onPointerObservable","pi","_setRayOnPointerInfo","pointerInfo","createPickingRay","_checkPrePointerObservable","nearInteractionPickingInfo","onPrePointerObservable","simulatePointerMove","pointerEventInit","simulatePointerDown","_processPointerDown","_pickedDownMesh","actionManager_1","hasPickTriggers","processTrigger","hasSpecificTrigger","pickResult2","pick","isPickable","isVisible","cameraToUseForPointers","LongPressDelay","_isPointerSwiping","_pointerDownStage","onPointerDown","DragMovementThreshold","simulatePointerUp","doubleTap","clickInfo","doubleClick","singleClick","_processPointerUp","_pickedUpMesh","onPointerPick","ignore","type_1","hasSwiped","doubleClickActionManager","_pointerUpStage","pickedDownActionManager","onPointerUp","isPointerCaptured","attachControl","attachUp","attachDown","attachMove","detachControl","_alreadyAttachedTo","_initActionManager","act","skipPointerUpPicking","pointerUpPredicate","_delayedSimpleClick","btn","cb","DoubleClickDelay","_previousButtonPressed","_initClickEvent","obs1","obs2","checkPicking","needToIgnoreNext","checkSingleClickImmediately","ExclusiveDoubleClickMode","_previousDelayedSimpleClickTimeout","_delayedSimpleClickTimeout","checkDoubleClick","_onPointerMove","skipPointerMovePicking","pointerMovePredicate","enablePointerMoveEvents","constantlyUpdateMeshUnderPointer","pointerMoveTrianglePredicate","_onPointerDown","preventDefaultOnPointerDown","pointerDownPredicate","skipPointerDownPicking","_onPointerUp","preventDefaultOnPointerUp","HasTriggers","_onKeyDown","onPreKeyboardObservable","onKeyboardObservable","_onKeyUp","MiddleClick","underPointerMesh","getPointerOverMesh","_invalidateMesh","Plane","Plane2","norm","magnitude","invertedMatrix","_TmpMatrix","dotCoordinate","copyFromPoints","point1","point2","point3","invPyth","x1","y1","z1","pyth","isFrontFacingTo","direction","signedDistanceTo","FromPoints","FromPositionAndNormal","SignedDistanceToPlaneFromPositionAndNormal","Frustum","Frustum2","GetPlanes","frustumPlanes","GetPlanesToRef","GetNearPlaneToRef","frustumPlane","GetFarPlaneToRef","GetLeftPlaneToRef","GetRightPlaneToRef","GetTopPlaneToRef","GetBottomPlaneToRef","UniqueIdGenerator","UniqueIdGenerator2","_UniqueIdCounter","LightConstants","LightConstants2","CompareLightsPriority","shadowEnabled","renderPriority","FALLOFF_DEFAULT","FALLOFF_PHYSICAL","FALLOFF_GLTF","FALLOFF_STANDARD","LIGHTMAP_DEFAULT","LIGHTMAP_SPECULAR","LIGHTMAP_SHADOWSONLY","INTENSITYMODE_AUTOMATIC","INTENSITYMODE_LUMINOUSPOWER","INTENSITYMODE_LUMINOUSINTENSITY","INTENSITYMODE_ILLUMINANCE","INTENSITYMODE_LUMINANCE","LIGHTTYPEID_POINTLIGHT","LIGHTTYPEID_DIRECTIONALLIGHT","LIGHTTYPEID_SPOTLIGHT","LIGHTTYPEID_HEMISPHERICLIGHT","ComputePressureObserverWrapper","ComputePressureObserverWrapper2","thresholds","IsAvailable","_observer","ComputePressureObserver","observe","unobserve","Scene","Scene2","_inputManager","_isScene","_blockEntityCollection","autoClearDepthAndStencil","ambientColor","environmentIntensity","_forceWireframe","_skipFrustumClipping","_forcePointsCloud","animationsEnabled","_animationPropertiesOverride","useConstantAnimationDeltaTime","metadata","reservedDataStore","disableOfflineSupportExceptionRules","_onBeforeRenderObserver","onAfterRenderCameraObservable","_onAfterRenderObserver","onBeforeAnimationsObservable","onAfterAnimationsObservable","onBeforeDrawPhaseObservable","onAfterDrawPhaseObservable","onReadyObservable","onBeforeCameraRenderObservable","_onBeforeCameraRenderObserver","onAfterCameraRenderObservable","_onAfterCameraRenderObserver","onBeforeActiveMeshesEvaluationObservable","onAfterActiveMeshesEvaluationObservable","onDataLoadedObservable","onNewCameraAddedObservable","onCameraRemovedObservable","onNewLightAddedObservable","onLightRemovedObservable","onNewGeometryAddedObservable","onGeometryRemovedObservable","onNewTransformNodeAddedObservable","onTransformNodeRemovedObservable","onNewMeshAddedObservable","onMeshRemovedObservable","onNewSkeletonAddedObservable","onSkeletonRemovedObservable","onNewMaterialAddedObservable","onNewMultiMaterialAddedObservable","onMaterialRemovedObservable","onMultiMaterialRemovedObservable","onNewTextureAddedObservable","onTextureRemovedObservable","onBeforeRenderTargetsRenderObservable","onAfterRenderTargetsRenderObservable","onBeforeStepObservable","onAfterStepObservable","onActiveCameraChanged","onMeshImportedObservable","onAnimationFileImportedObservable","_registeredForLateAnimationBindings","_useRightHandedSystem","_timeAccumulator","_currentStepId","_currentInternalStep","_fogEnabled","_fogMode","FOGMODE_NONE","fogColor","fogDensity","fogStart","fogEnd","needsPreviousWorldMatrices","_shadowsEnabled","_lightsEnabled","activeCameras","_texturesEnabled","physicsEnabled","particlesEnabled","_skeletonsEnabled","lensFlaresEnabled","collisionsEnabled","gravity","renderTargetsEnabled","dumpNextRenderTargets","customRenderTargets","importedMeshesFiles","probesEnabled","_meshesForIntersections","proceduralTexturesEnabled","_totalVertices","_activeIndices","_activeBones","_animationTime","animationTimeScale","_renderId","_executeWhenReadyTimeoutId","_intermediateRendering","_defaultFrameBufferCleared","_viewUpdateFlag","_projectionUpdateFlag","_toBeDisposed","_pendingData","dispatchAllSubMeshesOfActiveMeshes","_activeMeshes","_processedMaterials","_renderTargets","_materialsRenderTargets","_activeParticleSystems","_activeSkeletons","_softwareSkinnedMeshes","_activeAnimatables","_transformMatrix","requireLightSorting","_components","_serializableComponents","_transientComponents","_beforeCameraUpdateStage","_beforeClearStage","_beforeRenderTargetClearStage","_gatherRenderTargetsStage","_gatherActiveCameraRenderTargetsStage","_isReadyForMeshStage","_beforeEvaluateActiveMeshStage","_evaluateSubMeshStage","_preActiveMeshStage","_cameraDrawRenderTargetStage","_beforeCameraDrawStage","_beforeRenderTargetDrawStage","_beforeRenderingMeshStage","_afterRenderingMeshStage","_afterCameraDrawStage","_afterRenderTargetDrawStage","_afterRenderStage","_geometriesByUniqueId","_defaultMeshCandidates","_defaultSubMeshCandidates","_preventFreeActiveMeshesAndRenderingGroups","_activeMeshesFrozen","_skipEvaluateActiveMeshesCompletely","_allowPostProcessClearColor","getDeterministicFrameTime","_blockMaterialDirtyMechanism","_perfCollector","onComputePressureChanged","useGeometryUniqueIdsMap","useMaterialMeshMap","useClonedMeshMap","virtual","_uid","_renderingManager","_createUbo","_imageProcessingConfiguration","setDefaultCandidateProviders","_computePressureObserver","cpuUtilizationThresholds","cpuSpeedThresholds","DefaultMaterialFactory","CollisionCoordinatorFactory","unTranslatedPointer","bindEyePosition","variableName","isVector3","eyePosition","_forcedViewPosition","_mirroredCameraPosition","devicePosition","invertNormal","useRightHandedSystem","finalizeSceneUbo","getSceneUniformBuffer","setStepId","newStepId","getStepId","getInternalStep","prePassRenderer","defaultRT","_activeCamera","_defaultMaterial","_collisionCoordinator","init","_registerTransientComponents","register","_addComponent","serializableComponent","addFromContainer","_getComponent","_getDefaultMeshCandidates","_getDefaultSubMeshCandidates","getActiveMeshCandidates","getActiveSubMeshCandidates","getIntersectingSubMeshCandidates","getCollidingSubMeshCandidates","getCachedMaterial","_cachedMaterial","getCachedEffect","_cachedEffect","getCachedVisibility","_cachedVisibility","isCachedMaterialInvalid","visibility","getTotalVertices","getActiveIndices","getActiveParticles","getActiveBones","getActiveMeshes","getAnimationRatio","_animationRatio","getRenderId","getFrameId","incrementRenderId","setSceneUniformBuffer","createSceneUniformBuffer","checkRenderTargets","hardwareInstancedRendering","hasThinInstances","instances","defaultMaterial","_storeEffectOnSubMeshes","hasRenderTargetTextures","getRenderTargetTextures","isReadyForRendering","_f","_g","registerBeforeRender","unregisterBeforeRender","registerAfterRender","unregisterAfterRender","_executeOnceBeforeRender","execFunc","executeOnceBeforeRender","wasLoading","isLoading","getWaitingItemsCount","executeWhenReady","whenReadyAsync","resetLastAnimationTimeFrame","_animationTimeLast","getViewMatrix","_viewMatrix","getProjectionMatrix","_projectionMatrix","getTransformMatrix","setTransformMatrix","viewL","projectionL","viewR","projectionR","_multiviewSceneUbo","useUbo","_updateMultiviewUbo","_sceneUbo","sceneUbo","getUniqueId","UniqueId","addMesh","newMesh","recursive","_resyncLightSources","_addToSceneRootNodes","getChildMeshes","removeMesh","toRemove","_removeFromSceneRootNodes","addTransformNode","newTransformNode","_indexInSceneTransformNodesArray","removeTransformNode","lastNode","removeSkeleton","_executeActiveContainerCleanup","removeMorphTargetManager","removeLight","_removeLightSource","sortLightsByPriority","removeCamera","removeParticleSystem","removeAnimation","stopAnimation","animationName","targetMask","removeAnimationGroup","removeMultiMaterial","removeMaterial","_indexInSceneMaterialArray","lastMaterial","removeActionManager","removeTexture","addLight","newLight","lightSources","addCamera","newCamera","addSkeleton","newSkeleton","addParticleSystem","newParticleSystem","addAnimation","newAnimation","addAnimationGroup","newAnimationGroup","addMultiMaterial","newMultiMaterial","addMaterial","newMaterial","addMorphTargetManager","newMorphTargetManager","addGeometry","newGeometry","addActionManager","newActionManager","addTexture","newTexture","switchActiveCamera","setActiveCameraById","setActiveCameraByName","getCameraByName","getAnimationGroupByName","getMaterialByUniqueID","getMaterialById","getLastMaterialById","allowMultiMaterials","getMaterialByName","getTextureByUniqueId","getTextureByName","getCameraByUniqueId","getBoneById","skeletonIndex","boneIndex","getBoneByName","getLightByName","getLightById","getLightByUniqueId","getParticleSystemById","getGeometryById","_getGeometryByUniqueId","pushGeometry","geometry","removeGeometry","lastGeometry","getGeometries","getMeshById","getMeshesById","getTransformNodeById","getTransformNodeByUniqueId","getTransformNodesById","getMeshByUniqueId","getLastEntryById","getNodeById","transformNode","light","bone","getNodeByName","getMeshByName","getTransformNodeByName","getLastSkeletonById","getSkeletonByUniqueId","getSkeletonById","getSkeletonByName","getMorphTargetManagerById","getMorphTargetById","managerIndex","morphTargetManager","numTargets","getTarget","getMorphTargetByName","getPostProcessByName","postProcessIndex","isActiveMesh","addExternalData","_externalData","getExternalData","getOrAddExternalDataWithFactory","removeExternalData","_evaluateSubMesh","initialMesh","hasInstances","isAnInstance","alwaysSelectAsActiveMesh","freeProcessedMaterials","freeActiveMeshes","blockfreeActiveMeshesAndRenderingGroups","renderList","_isInIntermediateRendering","freezeActiveMeshes","skipEvaluateActiveMeshes","freezeMeshes","keepFrustumCulling","updateTransformMatrix","_evaluateActiveMeshes","_freeze","unfreezeActiveMeshes","_internalAbstractMeshDataInfo","_isActive","_unFreeze","snapshotRenderingMode","len_1","computeWorldMatrix","psLength","animate","_currentLODIsUpToDate","isBlocked","hasAZeroComponent","hasSpecificTriggers2","meshToRender","customLODSelector","getLOD","_currentLOD","billboardMode","_preActivate","_activate","_actAsRegularMesh","_onlyForInstances","_activeMesh","_postActivate","isStarted","sourceMesh","computeBonesUsingShaders","_renderingMultiview","leftCamera","_rigCameras","rightCamera","_bindFrameBuffer","_multiviewTexture","outputRenderTarget","_clearFrameBuffer","onClearObservable","skipInitialClear","_cleared","_clear","_renderForCamera","rigParent","bindFrameBuffer","_skipRendering","prePass","softwareSkinnedMeshIndex","applySkeleton","environmentTexture","needRebind","renderIndex","renderTarget","_shouldRender","hasSpecialRenderTargetCamera","renderPassId","_h","_j","_k","isIntermediate","_processSubCameras","cameraRigMode","_createMultiviewUbo","_useMultiviewToSingleView","_renderMultiviewToSingleView","_checkIntersections","actionIndex2","parameters","getTriggerParameter","otherMesh_1","areIntersecting","intersectsMesh","usePreciseIntersection","currentIntersectionInProgress","_intersectionsInProgress","_executeCurrent","parameterMesh","actionIndex","_advancePhysicsEngineStep","_animate","MinDeltaTime","MaxDeltaTime","defaultFrameTime","defaultFPS","stepsTaken","maxSubSteps","internalSteps","forceWireframe","forcePointsCloud","_checkCameraRenderTarget","isRigCamera","rigCameras","resetDrawCache","passId","updateCameras","ignoreAnimations","isDisposed","cameraIndex","currentActiveCamera","customIndex","afterRender","freezeMaterials","freeze","unfreezeMaterials","unfreeze","beforeRender","stopAllAnimations","activeRequests_1","index_1","_disposeList","item2","itemsCopy_1","clearCachedVertexData","meshIndex","clearCachedData","cleanCachedTextureBuffer","baseTexture","getWorldExtends","filterPredicate","infiniteDistance","boundingInfo","minBox","boundingBox","minimumWorld","maxBox","maximumWorld","cameraViewSpace","createPickingRayToRef","enableDistantPicking","createPickingRayInCameraSpace","createPickingRayInCameraSpaceToRef","fastCheck","trianglePredicate","pickWithBoundingInfo","pickWithRay","multiPick","multiPickWithRay","_getByTags","list","listByTags","getMeshesByTags","getCamerasByTags","getLightsByTags","getMaterialByTags","getTransformNodesByTags","markAsDirty","useOfflineSupport","_requestFile","_requestFileAsync","_readFile","_readFileAsync","getPerfCollector","FOGMODE_EXP","FOGMODE_EXP2","FOGMODE_LINEAR","inlineScheduler","coroutine","onStep","step_1","runCoroutine","scheduler","abortSignal","resume","reschedule","stepResult","runCoroutineSync","setActiveCameraByID","getLastMaterialByID","getMaterialByID","getTextureByUniqueID","getCameraByID","getCameraByUniqueID","getBoneByID","getLightByID","getLightByUniqueID","getParticleSystemByID","getGeometryByID","getMeshByID","getMeshesByID","getTransformNodeByID","getTransformNodeByUniqueID","getTransformNodesByID","getMeshByUniqueID","getLastMeshByID","getLastEntryByID","getNodeByID","getLastSkeletonByID","_InternalNodeDataInfo","_doNotSerialize","_sceneRootNodesIndex","_isParentEnabled","_onEnabledStateChangedObservable","_onClonedObservable","Node","Node2","_nodeDataStorage","_parentContainer","_ranges","onReady","_parentUpdateId","_childUpdateId","_waitingParentId","_cache","_parentNode","_children","_worldMatrix","_worldMatrixDeterminant","_worldMatrixDeterminantIsDirty","_isNode","_behaviors","_initCache","AddNodeConstructor","constructorFunc","_NodeConstructors","Construct","doNotSerialize","previousParentNode","_syncParentEnabledState","lastIdx","animationPropertiesOverride","addBehavior","behavior","attachImmediately","attach","removeBehavior","detach","getBehaviorByName","_getWorldMatrixDeterminant","updateCache","isSynchronized","_updateCache","initialCall","ignoreParentClass","_isSynchronized","_markSyncedWithParent","isSynchronizedWithParent","completeCheck","checkAncestors","setEnabled","isDescendantOf","ancestor","_getDescendants","directDescendantsOnly","getDescendants","cullingStrategy","getChildren","_setReady","getAnimationByName","createAnimationRange","_AnimationRangeFactory","nAnimations","createRange","deleteAnimationRange","deleteFrames","deleteRange","getAnimationRange","getAnimationRanges","animationRanges","beginAnimation","speedRatio","onAnimationEnd","range","serializeAnimationRanges","serializationRanges","localRange","doNotRecurse","disposeMaterialAndTextures","nodes_1","onEnabledStateChangedObservable","onClonedObservable","ParseAnimationRanges","parsedNode","ranges","getHierarchyBoundingVectors","includeDescendants","thisAbstractMesh","descendants_1","childMesh","VertexData","VertexData2","coroutineFactory","_applyTo","_applyToCoroutine","tangents","uvs2","uvs3","uvs4","uvs5","uvs6","matricesIndices","matricesWeights","matricesIndicesExtra","matricesWeightsExtra","applyToMesh","applyToGeometry","updateMesh","_update","updateGeometry","meshOrGeometry","setVerticesData","setIndices","updateExtends","makeItUnique","updateVerticesData","_TransformVector3Coordinates","coordinates","coordinate","transformedCoordinate","_TransformVector3Normals","transformedNormal","_TransformVector4Normals","_FlipFaces","flip","merge","others","use32BitsIndices","forceCloneIndices","vertexDatas","_mergeCoroutine","others_1","totalIndices","sliceIndices","indicesOffset","positionsOffset","vertexDatas_1","transform_1","_validate","vertexData","indexSum","_a2","_b2","some","_MergeElement","other2","nonNullOthers","sumLen","transformRange","ret32","nonNullOthers_1","transform_2","nonNullOthers_2","transform_3","getElementCount","positionsElementCount","validateElementCount","elementCount","_isExpanded","ExtractFromMesh","copyWhenShared","_ExtractFrom","ExtractFromGeometry","CreateRibbon","CreateBox","CreateTiledBox","CreateTiledPlane","CreateSphere","CreateCylinder","CreateTorus","CreateLineSystem","CreateDashedLines","CreateGround","CreateTiledGround","CreateGroundFromHeightMap","CreatePlane","CreateDisc","CreatePolygon","polygon","sideOrientation","fUV","fColors","frontUVs","backUVs","wrap","CreateIcoSphere","CreatePolyhedron","CreateCapsule","orientation","subdivisions","tessellation","radius","capSubdivisions","CreateTorusKnot","ComputeNormals","p1p2x","p1p2y","p1p2z","p3p2x","p3p2y","p3p2z","faceNormalx","faceNormaly","faceNormalz","v1x","v1y","v1z","v2x","v2y","v2z","v3x","v3y","v3z","computeFacetNormals","computeFacetPositions","computeFacetPartitioning","computeDepthSort","faceNormalSign","ratio","distanceTo","facetNormals","facetPositions","facetPartitioning","depthSort","xSubRatio","ySubRatio","zSubRatio","subSq","bbSize","subDiv","X","Y","Z","nbFaces","ox","bInfo","minimum","oy","oz","b1x","b1y","b1z","b2x","b2y","b2z","b3x","b3y","b3z","block_idx_v1","block_idx_v2","block_idx_v3","block_idx_o","dsf","depthSortedFacets","ind","sqDistance","_ComputeSides","li","ln","DEFAULTSIDE","FRONTSIDE","BACKSIDE","DOUBLESIDE","lp","lu","ImportVertexData","parsedVertexData","uv2s","uv3s","uv4s","uv5s","uv6s","setAllVerticesData","IntersectionInfo","BoundingBox","BoundingBox2","worldMatrix","vectors","center","extendSize","extendSizeWorld","directions","vectorsWorld","maximum","_drawWrapperFront","_drawWrapperBack","reConstruct","minX","minY","minZ","maxX","maxY","maxZ","factor","tmpVectors","_TmpVector3","newRadius","minWorld","maxWorld","IsInFrustum","isCompletelyInFrustum","IsCompletelyInFrustum","intersectsPoint","pointX","pointY","pointZ","intersectsSphere","sphere","IntersectsSphere","radiusWorld","intersectsMinMax","myMin","myMax","myMinX","myMinY","myMinZ","myMaxX","myMaxY","myMaxZ","Intersects","box0","box1","minPoint","maxPoint","sphereCenter","sphereRadius","boundingVectors","canReturnFalse","BoundingSphere","BoundingSphere2","tempRadiusVector","tempVector","isCenterInFrustum","squareDistance","sphere0","sphere1","radiusSum","CreateFromCenterAndRadius","_result0","_result1","computeBoxExtents","box","axisOverlap","BoundingInfo","BoundingInfo2","_isLocked","centerOn","extend","encapsulate","encapsulateBoundingInfo","toEncapsulate","_checkCollision","collider","_canDoCollision","intersects","precise","MathHelpers","MathHelpers2","extractMinAndMaxIndexed","extractMinAndMax","bias","Space","Space2","SubMesh","SubMesh2","materialIndex","renderingMesh","createBoundingBox","addToMesh","_mainDrawWrapperOverride","_linesIndexCount","_linesIndexBuffer","_lastColliderWorldVertices","_lastColliderTransformMatrix","_currentMaterial","_mesh","_renderingMesh","_trianglePlanes","refreshBoundingInfo","_getDrawWrapper","createIfNotExisting","drawWrapper","_drawWrappers","disposeWrapper","_setMainDrawWrapperOverride","wrapper","_drawWrapper","AddToMesh","getTotalIndices","IsGlobal","_boundingInfo","setBoundingInfo","getRenderingMesh","getReplacementMesh","getEffectiveMesh","replacementMesh","rootMaterial","getMaterialForRenderPass","_isMultiMaterial","effectiveMaterial","getSubMaterial","boundingBias","updateBoundingInfo","enableAlphaMode","_getLinesIndexBuffer","linesIndices","canIntersects","intersectsBox","checkStopper","_intersectLines","intersectionThreshold","_intersectUnIndexedLines","_unIndexed","_intersectUnIndexedTriangles","_intersectTriangles","intersectInfo","length_1","intersectionSegment","length_2","indexA","indexB","indexC","currentIntersectInfo","intersectsTriangle","newRenderingMesh","CreateFromIndices","startIndex","minVertexIndex","maxVertexIndex","vertexIndex","SceneLoaderFlags","SceneLoaderFlags2","_ForceFullSceneLoadingForIncremental","_ShowLoadingScreen","_LoggingLevel","_CleanBoneMatrixWeights","CompatibilityOptions","CompatibilityOptions2","UseOpenGLOrientationForUV","Geometry","Geometry2","_indexBufferIsUpdatable","_positionsCache","useBoundingInfoFromGeometry","_meshes","_indices","_vertexArrayObjects","_boundingBias","_updateBoundingInfo","CreateGeometryForMesh","_extend","_notifyUpdate","setVerticesBuffer","removeVerticesData","_disposeVertexArrayObjects","disposeExistingBuffer","numOfMeshes","_updateExtend","_resetPointsArrayCache","buildBoundingInfo","_createGlobalSubMesh","isUnIndexed","synchronizeInstances","updateVerticesDataDirectly","getVertexBuffer","meshes_1","hasBoundingInfo","subMeshes_1","_bind","indexToBind","overrideVertexArrayObjects","vbs","getVertexBuffers","vaos","isVertexBufferUpdatable","_delayInfo","getVerticesDataKinds","updateIndices","gpuMemoryOnly","needToUpdateSubMeshes","orig","getIndexBuffer","_releaseVertexArrayObject","releaseForMesh","shouldDispose","_invalidateInstanceVertexArrayObject","_geometry","previousGeometry","_positions","_applyToMesh","_syncGeometryWithMorphTargetManager","onGeometryUpdated","_markSubMeshesAsAttributesDirty","load","onLoaded","_queueLoad","delayLoadingFile","_delayLoadingFunction","JSON","parse","toLeftHanded","tIndices","tTemp","tPositions","tNormals","_generatePointsArray","arrayIdx","copy","stopChecking","_toNumberArray","vbName","serializeVerticeData","_GetGeometryByLoadedUniqueId","_loadedUniqueId","_ImportGeometry","parsedGeometry","geometryUniqueId","geometryId","binaryInfo","_binaryInfo","positionsAttrDesc","positionsData","normalsAttrDesc","normalsData","tangetsAttrDesc","tangentsData","uvsAttrDesc","uvsData","uvs2AttrDesc","uvs2Data","uvs3AttrDesc","uvs3Data","uvs4AttrDesc","uvs4Data","uvs5AttrDesc","uvs5Data","uvs6AttrDesc","uvs6Data","colorsAttrDesc","colorsData","matricesIndicesAttrDesc","matricesIndicesData","floatIndices","matricesIndicesExtraAttrDesc","matricesWeightsAttrDesc","matricesWeightsData","indicesAttrDesc","indicesData","subMeshesAttrDesc","subMeshesData","matricesIndex","_CleanMatricesWeights","parsedSubMesh","_shouldGenerateFlatShading","convertToFlatShadedMesh","CleanBoneMatrixWeights","noInfluenceBoneIndex","skeletonId","influencers","numBoneInfluencer","weight","firstZeroWeight","mweight","boundingBoxMinimum","boundingBoxMaximum","hasUVs","hasUVs2","hasUVs3","hasUVs4","hasUVs5","hasUVs6","hasColors","hasMatricesIndices","hasMatricesWeights","Coordinate","Coordinate2","Axis","Axis2","TransformNode","TransformNode2","isPure","_forward","_up","_right","_position","_rotation","_rotationQuaternion","_scaling","_transformToBoneReferal","_isAbsoluteSynced","_billboardMode","BILLBOARDMODE_NONE","_preserveParentRotationForBillboard","scalingDeterminant","_infiniteDistance","ignoreNonUniformScaling","reIntegrateRotationIntoRotationQuaternion","_poseMatrix","_localMatrix","_usePivotMatrix","_absolutePosition","_absoluteScaling","_absoluteRotationQuaternion","_pivotMatrix","_postMultiplyPivotMatrix","_isWorldMatrixFrozen","onAfterWorldMatrixUpdateObservable","_nonUniformScaling","newPosition","isUsingPivotMatrix","newRotation","newScaling","updatePoseMatrix","getPoseMatrix","pivotMatrixUpdated","localMatrixUpdated","getAbsolutePosition","_syncAbsoluteScalingAndRotation","setPreTransformMatrix","setPivotMatrix","postMultiplyPivotMatrix","_pivotMatrixInverse","getPivotMatrix","instantiateHierarchy","newParent","onNewNodeCreated","getChildTransformNodes","freezeWorldMatrix","newWorldMatrix","_afterComputeWorldMatrix","unfreezeWorldMatrix","setAbsolutePosition","absolutePosition","absolutePositionX","absolutePositionY","absolutePositionZ","invertParentWorldMatrix","setPositionWithLocalVector","getPositionExpressedInLocalSpace","invLocalWorldMatrix","locallyTranslate","lookAt","targetPoint","yawCor","pitchCor","rollCor","space","LOCAL","dv","_LookAtVectorCache","pos","setDirection","WORLD","rotationMatrix","parentRotationMatrix","quaternionRotation","getDirection","localAxis","getDirectionToRef","setPivotPoint","tmat","getPivotPoint","getPivotPointToRef","getAbsolutePivotPoint","getAbsolutePivotPointToRef","setParent","preserveScalingSign","quatRotation","invParentMatrix","composedMatrix","currentRotation","_TmpRotation","_updateNonUniformScalingState","attachToBone","affectedTransformNode","_currentParentWhenAttachingToBone","getSkeleton","detachFromBone","resetToPreviousParent","rotate","_RotationAxisCache","rotateAround","tmpVector","finalScale","finalTranslation","finalRotation","translationMatrix","translationMatrixInv","finalMatrix","displacementVector","tempV3","addRotation","accumulation","_getEffectiveParent","currentRenderId","useBillboardPosition","BILLBOARDMODE_USE_POSITION","useBillboardPath","preserveParentRotationForBillboard","_TmpScaling","cameraWorldMatrix","cameraGlobalPosition","_TmpTranslation","scaleMatrix","translation_1","storedTranslation","BILLBOARDMODE_ALL","eulerAngles","BILLBOARDMODE_X","BILLBOARDMODE_Y","BILLBOARDMODE_Z","camInObjSpace","resetLocalMatrix","independentOfChildren","bakedMatrix","tmpRotationQuaternion","registerAfterWorldMatrixUpdate","unregisterAfterWorldMatrixUpdate","getPositionInCameraSpace","getDistanceToCamera","doNotCloneChildren","directDescendants","currentSerializationObject","parentId","localMatrix","parsedTransformNode","pivotMatrix","transformNodes_1","normalizeToUnitCube","ignoreRotation","storedRotation","storedRotationQuaternion","sizeVec","maxDimension","_MeshCollisionData","_checkCollisions","_collisionMask","_collisionGroup","_surroundingMeshes","_collider","_oldPositionForCollisions","_diffPositionForCollisions","_collisionResponse","_FacetDataStorage","facetNb","partitioningSubdivisions","partitioningBBoxRatio","facetDataEnabled","facetParameters","facetDepthSort","facetDepthSortEnabled","_InternalAbstractMeshDataInfo","_hasVertexAlpha","_useVertexColors","_numBoneInfluencers","_applyFog","_receiveShadows","_facetData","_visibility","_skeleton","_layerMask","_computeBonesUsingShaders","_isActiveIntermediate","_onlyForInstancesIntermediate","_collisionRetryCount","_morphTargetManager","_renderingGroupId","_bakedVertexAnimationManager","_material","_meshCollisionData","_enableDistantPicking","AbstractMesh","AbstractMesh2","_waitingMaterialId","CULLINGSTRATEGY_BOUNDINGSPHERE_ONLY","onCollideObservable","onCollisionPositionChangeObservable","onMaterialChangedObservable","definedFacingForward","_occlusionQuery","isNearPickable","isNearGrabbable","showSubMeshesBoundingBox","isBlocker","outlineColor","outlineWidth","overlayColor","overlayAlpha","useOctreeForRenderingSelection","useOctreeForPicking","useOctreeForCollisions","doNotSyncBoundingInfo","ellipsoid","ellipsoidOffset","edgesWidth","edgesColor","_masterMesh","_boundingInfoIsDirty","_lightSources","_waitingData","lods","_bonesTransformMatrices","_transformMatrixTexture","onRebuildObservable","_onCollisionPositionChange","collisionId","collidedMesh","_uniformBuffer","_buildUniformLayout","nb","facetDepthSortFrom","retryCount","_markSubMeshesAsMiscDirty","_onCollideObserver","_onCollisionPositionChangeObserver","oldValue","meshMap","_unBindEffect","_materialForRenderPass","setMaterialForRenderPass","_markSubMeshesAsLightDirty","needInitialSkinMatrix","_unregisterMeshWithPoseMatrix","_registerMeshWithPoseMatrix","transferToEffect","getMeshUniformBuffer","fullDetails","canAffectMesh","_resyncLightSource","isIn","removed","_markSubMeshesAsDirty","skeletonsEnabled","_preActivateForIntermediateRendering","renderId","intermediateRendering","movePOV","amountRight","amountUp","amountForward","calcMovePOV","rotMatrix","translationDelta","defForwardMult","rotatePOV","flipBack","twirlClockwise","tiltRight","calcRotatePOV","applyMorph","isLocked","_refreshBoundingInfo","_getPositionData","_getData","faceIndexCount","positionIndex","targetCount","targetMorph","influence","morphTargetPositions","getPositions","needExtras","numBoneInfluencers","matricesIndicesExtraData","matricesWeightsExtraData","skeletonMatrices","getTransformMatrices","tempMatrix","matWeightIdx","inf","getNormalsData","getPositionData","worldMatrixFromCache","_updateSubMeshesBoundingInfo","otherBoundingInfo","collisionEnabled","moveWithCollisions","displacement","coordinator","collisionCoordinator","createCollider","_radius","getNewPosition","collisionRetryCount","_collideForSubMesh","transformMatrix","_collide","_shouldConvertRHS","_processCollisionsForSubMeshes","collisionsScalingMatrix","collisionsTransformMatrix","onlyBoundingInfo","worldToUse","skipBoundingInfo","pickingInfo","anySubmeshSupportIntersect","worldOrigin","releaseSubMeshes","includedOnlyMeshes","getShadowGenerator","shadowMap","getShadowMap","isOcclusionQueryInProgress","disableFacetData","addChild","_initFacetData","updateFacetData","depthSortedIndices","needs32bits","facetDepthSortFunction","f1","f2","depthSortedFacet","facetDepthSortOrigin","bbSizeMax","getFacetLocalNormals","getFacetLocalPositions","getFacetLocalPartitioning","sind","facetData","getFacetPosition","getFacetPositionToRef","localPos","getFacetNormal","getFacetNormalToRef","localNorm","getFacetsAtLocalCoordinates","getClosestFacetAtCoordinates","projected","checkFace","facing","invMat","invVect","closest","getClosestFacetAtLocalCoordinates","tmpx","tmpy","tmpz","t0","projx","projy","projz","facetsInBlock","fib","shortest","tmpDistance","getFacetDataParameters","createNormals","alignWithNormal","upDirection","axisX","axisZ","_checkOcclusionQuery","disableEdgesRendering","enableEdgesRendering","checkVerticesInsteadOfIndices","getConnectedParticleSystems","OCCLUSION_TYPE_NONE","OCCLUSION_TYPE_OPTIMISTIC","OCCLUSION_TYPE_STRICT","OCCLUSION_ALGORITHM_TYPE_ACCURATE","OCCLUSION_ALGORITHM_TYPE_CONSERVATIVE","CULLINGSTRATEGY_STANDARD","CULLINGSTRATEGY_OPTIMISTIC_INCLUSION","CULLINGSTRATEGY_OPTIMISTIC_INCLUSION_THEN_BSPHERE_ONLY","MaterialPluginEvent","MaterialPluginEvent2","Viewport","Viewport2","toGlobal","renderWidth","renderHeight","toGlobalToRef","Camera","Camera2","setActiveOnSceneIfNoneActive","_upVector","orthoLeft","orthoRight","orthoBottom","orthoTop","inertia","PERSPECTIVE_CAMERA","fovMode","FOVMODE_VERTICAL_FIXED","RIG_MODE_NONE","onViewMatrixChangedObservable","onProjectionMatrixChangedObservable","onAfterCheckInputsObservable","onRestoreStateObservable","_webvrViewMatrix","_globalPosition","_computedViewMatrix","_doNotComputeProjectionMatrix","_refreshFrustumPlanes","_absoluteRotation","_isCamera","_isLeftCamera","_isRightCamera","halfWidth","halfHeight","storeState","_stateStored","_storedFov","_restoreStateValues","restoreState","applyVerticalCorrection","absoluteRotation","upVector","_isSynchronizedViewMatrix","_isSynchronizedProjectionMatrix","_ignored","_noPreventDefault","_checkInputs","_updateRigCameras","_rigPostProcess","_getFirstPostProcess","ppIndex","_cascadePostProcessesToRigCams","firstPostProcess","markTextureDirty","cam","rigPostProcess","getEffectName","attachPostProcess","insertAt","isReusable","detachPostProcess","_getViewMatrix","_cameraRigParams","vrPreViewMatrix","freezeProjectionMatrix","unfreezeProjectionMatrix","reverseDepth","getTransformationMatrix","_updateFrustumPlanes","checkRigCameras","result_1","getForwardRay","getForwardRayToRef","refRay","i_1","getLeftTarget","getRightTarget","setCameraRigMode","rigParams","interaxialDistance","stereoHalfAngle","createRigCamera","_setRigMode","_getVRProjectionMatrix","vrMetrics","aspectRatioFov","vrWorkMatrix","vrHMatrix","_updateCameraRotationMatrix","_updateWebVRCameraRotationMatrix","_getWebVRProjectionMatrix","_getWebVRViewMatrix","setCameraRigParameter","RIG_MODE_STEREOSCOPIC_ANAGLYPH","_setupInputs","GetConstructorFromName","isStereoscopicSideBySide","interaxial_distance","_CreateDefaultParsedCamera","parsedCamera","construct","setPosition","setTarget","parsedAnimation","autoAnimate","autoAnimateFrom","autoAnimateTo","autoAnimateLoop","autoAnimateSpeed","ORTHOGRAPHIC_CAMERA","FOVMODE_HORIZONTAL_FIXED","RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL","RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED","RIG_MODE_STEREOSCOPIC_OVERUNDER","RIG_MODE_STEREOSCOPIC_INTERLACED","RIG_MODE_VR","RIG_MODE_WEBVR","RIG_MODE_CUSTOM","ForceAttachControlToAlwaysPreventDefault","Light","Light2","diffuse","specular","falloffType","intensity","_range","_inverseSquaredRange","_photometricScale","_intensityMode","_shadowEnabled","_excludeWithLayerMask","_includeOnlyWithLayerMask","_lightmapMode","_excludedMeshesIds","_includedOnlyMeshesIds","_isLight","_resyncMeshes","_computePhotometricScale","_markMeshesAsLightDirty","_includedOnlyMeshes","_hookArrayForIncludedOnly","_excludedMeshes","_hookArrayForExcluded","transferTexturesToEffect","lightIndex","_bindLight","useSpecular","receiveShadows","iAsString","needUpdate","_lastUseSpecular","scaledIntensity","getScaledIntensity","shadowsEnabled","shadowGenerator","bindShadowLight","getTypeID","_shadowGenerator","includeOnlyWithLayerMask","excludeWithLayerMask","clonedLight","excludedMeshesIds","includedOnlyMeshesIds","parsedLight","lightmapMode","oldPush","items_1","oldSplice","deleteCount","deleted","deleted_1","_getPhotometricScale","photometricScale","lightTypeID","photometricMode","intensityMode","apexAngleRadians","_reorderLightsInScene","_renderPriority","ThinMaterialHelper","ThinMaterialHelper2","BindClipPlane","holder","clipPlane","clipPlane2","clipPlane3","clipPlane4","clipPlane5","clipPlane6","MaterialHelper","MaterialHelper2","BindSceneUniformBuffer","PrepareDefinesForMergedUV","getTextureMatrix","coordinatesIndex","BindTextureMatrix","GetFogState","fogEnabled","applyFog","fogMode","PrepareDefinesForMisc","useLogarithmicDepth","pointsCloud","alphaTest","PrepareDefinesForFrameBoundValues","useInstances","useClipPlane","useThinInstances","useClipPlane1","useClipPlane2","useClipPlane3","useClipPlane4","useClipPlane5","useClipPlane6","PrepareDefinesForBones","useBones","materialSupportsBoneTexture","isUsingTextureForMatrices","nonExcluded","excludedSkinnedMesh","PrepareDefinesForMorphTargets","supportsUVs","supportsTangents","supportsNormals","numInfluencers","isUsingTextureForTargets","PrepareDefinesForBakedVertexAnimation","bakedVertexAnimationManager","PrepareDefinesForAttributes","useVertexColor","useMorphTargets","useVertexAlpha","useBakedVertexAnimation","hasVertexColors","useVertexColors","hasVertexAlpha","PrepareDefinesForMultiview","previousMultiview","MULTIVIEW","getViewCount","PrepareDefinesForOIT","needAlphaBlending","previousDefine","ORDER_INDEPENDENT_TRANSPARENCY","previousDefine16Bits","ORDER_INDEPENDENT_TRANSPARENCY_16BITS","PrepareDefinesForPrePass","canRenderToMRT","previousPrePass","PREPASS","texturesList","SCENE_MRT_COUNT","mrtCount","getIndex","PrepareDefinesForLight","specularSupported","needNormals","needRebuild","prepareLightSpecificDefines","specularEnabled","PrepareDefinesForLights","maxSimultaneousLights","disableLighting","lightsEnabled","caps","PrepareUniformsAndSamplersForLight","projectedLightTexture","uniformBuffersList","updateOnlyBuffersList","PrepareUniformsAndSamplersList","uniformsListOrOptions","HandleFallbacksForShadows","rank","lightFallbackRank","addFallback","PrepareAttributesForMorphTargetsInfluencers","attribs","_TmpMorphInfluencers","NUM_MORPH_INFLUENCERS","PrepareAttributesForMorphTargets","maxAttributesCount","tangent","uv","PrepareAttributesForBakedVertexAnimation","PrepareAttributesForBones","addCPUSkinningFallback","PrepareAttributesForInstances","PushAttributesForInstances","INSTANCESCOLOR","needsPreviousMatrices","BindLightProperties","BindLight","BindLights","BindFogParameters","linearSpace","_TempFogColor","BindBonesParameters","prePassConfiguration","boneTexture","getTransformMatrixTexture","previousBones","_CopyBonesTransformationMatrices","BindMorphTargetParameters","abstractMesh","influences","BindLogDepth","LN2","MaterialStencilState","MaterialStencilState2","copyTo","Material","Material2","doNotAdd","shadowDepthWrapper","allowShaderHotSwapping","checkReadyOnEveryCall","checkReadyOnlyOnce","_alpha","_backFaceCulling","_cullBackFaces","_onUnBindObservable","_onBindObserver","_needDepthPrePass","disableDepthWrite","disableColorWrite","forceDepthWrite","depthFunction","separateCullingPass","pointSize","_useUBO","_fillMode","TriangleFillMode","_cachedDepthWriteState","_cachedColorWriteState","_cachedDepthFunctionState","_uniformBufferLayoutBuilt","_eventInfo","_callbackPluginEventGeneric","_callbackPluginEventIsReadyForSubMesh","_callbackPluginEventPrepareDefines","_callbackPluginEventHardBindForSubMesh","_callbackPluginEventBindForSubMesh","_callbackPluginEventHasRenderTargetTextures","_callbackPluginEventFillRenderTargetTextures","_forceAlphaTest","_transparencyMode","setScene","_dirtyCallbacks","_markAllSubMeshesAsTexturesDirty","_markAllSubMeshesAsLightsDirty","_markAllSubMeshesAsFresnelDirty","_markAllSubMeshesAsAttributesDirty","_markAllSubMeshesAsMiscDirty","_markAllSubMeshesAsPrePassDirty","_markAllSubMeshesAsAllDirty","_materialContext","ClockWiseSideOrientation","CounterClockWiseSideOrientation","OnEventObservable","Created","MiscDirtyFlag","TextureDirtyFlag","onBindObservable","_onEffectCreatedObservable","WireFrameFillMode","LineListDrawMode","LineLoopDrawMode","LineStripDrawMode","PointFillMode","PointListDrawMode","_setDrawWrapper","markDirty","isReadyForSubMesh","materialDefines","MATERIAL_ALPHATESTANDBLEND","_markAllSubMeshesAsTexturesAndMiscDirty","MATERIAL_OPAQUE","MATERIAL_ALPHATEST","_disableAlphaBlending","_shouldTurnAlphaTestOn","getAlphaTestTexture","_preBind","overrideOrientation","reverse","backFaceCulling","buildUniformLayout","PrepareUniformBuffer","bindForSubMesh","bindOnlyWorldMatrix","bindView","_needToBindSceneUbo","bindViewProjection","_afterBind","getAnimatables","animatables","GetAnimatables","getActiveTextures","activeTextures","GetActiveTextures","hasTexture","HasTexture","getBindedMeshes","meshId","mesh2","forceCompilation","localOptions","currentHotSwapingState","checkReady","clipPlaneState","allDone","lastError","tempSubMesh","forceCompilationAsync","blockMaterialDirtyMechanism","_DirtyCallbackArray","_TextureDirtyCallBack","LightDirtyFlag","_LightsDirtyCallBack","FresnelDirtyFlag","_FresnelDirtyCallBack","AttributesDirtyFlag","_AttributeDirtyCallBack","_MiscDirtyCallBack","PrePassDirtyFlag","_PrePassDirtyCallBack","_markAllSubMeshesAsDirty","_RunDirtyCallBacks","meshes_2","meshes_3","_markScenePrePassDirty","enablePrePassRenderer","_AllDirtyCallBack","_markAllSubMeshesAsImageProcessingDirty","_ImageProcessingDirtyCallBack","_markAllSubMeshesAsFresnelAndMiscDirty","_FresnelAndMiscDirtyCallBack","_TextureAndMiscDirtyCallBack","setPrePassRenderer","forceDisposeEffect","forceDisposeTextures","notBoundToMesh","Disposed","meshes_4","parsedMaterial","customType","overloadedAlbedo","BABYLON","LegacyPBRMaterial","TriangleStripDrawMode","TriangleFanDrawMode","AllDirtyFlag","MATERIAL_ALPHABLEND","MATERIAL_NORMALBLENDMETHOD_WHITEOUT","MATERIAL_NORMALBLENDMETHOD_RNM","MultiMaterial","MultiMaterial2","_waitingSubMaterialsUniqueIds","subMaterials","_subMaterials","_hookArray","subMaterial","cloneChildren","materialsUniqueIds","matIndex","subMat","forceDisposeChildren","ParseMultiMaterial","parsedMultiMaterial","multiMaterial","subMatId","MeshLODLevel","distanceOrScreenCoverage","_InstanceDataStorage","visibleInstances","batchCache","_InstancesBatch","batchCacheReplacementModeInFrozenMode","instancesBufferSize","mustReturn","renderSelf","_ThinInstanceDataStorage","matrixBuffer","previousMatrixBuffer","matrixBufferSize","matrixData","worldMatrices","_InternalMeshDataInfo","_areNormalsFrozen","_preActivateId","_LODLevels","_useLODScreenCoverage","_effectiveMaterial","_forcedInstanceCount","Mesh","Mesh2","clonePhysicsImpostor","_internalMeshDataInfo","_creationDataStorage","_instanceDataStorage","_thinInstanceDataStorage","_originalBuilderSideOrientation","overrideMaterialSideOrientation","ignoreCameraMaxZ","_onBeforeDraw","isInstance","getPhysicsEngine","physicsEngine","impostor","getImpostorForPhysicsObject","physicsImpostor","system","_onMeshReadyObserverAdded","onMeshReadyObservable","_checkReadinessObserver","_GetDefaultSideOrientation","_sourcePositions","_sourceNormals","_onBeforeRenderObservable","_onBeforeBindObservable","_onAfterRenderObservable","_onBetweenPassObservable","_onBeforeDrawObservable","_onBeforeDrawObserver","onBeforeDrawObservable","instancesData","instancesPreviousData","manualUpdate","previousManualUpdate","instance","doNotInstantiate","createInstance","ib","getLODLevels","_sortLODLevels","sortingOrderFactor","addLODLevel","getLODLevelAtDistance","internalDataInfo","removeLODLevel","bSphere","distanceToCamera","compareValue","compareSign","screenArea","meshArea","onLODLevelSelection","_checkDelayState","_userInstancedBuffersStorage","kind2","kinds","forceInstanceSupport","_l","_o","freezeNormals","unfreezeNormals","overridenInstanceCount","sceneRenderId","intermediateDefaultRenderId","_registerInstanceForRenderId","defaultRenderId","selfDefaultRenderId","previousRenderId","isFrozen","thinInstanceRefreshBoundingInfo","edgesShareWithInstances","edgesRenderer","customInstances","needToRecreate","submesh","subdivide","subdivisionSize","markVerticesDataAsUpdatable","makeGeometryUnique","updateMeshPositions","positionFunction","computeNormals","oldGeometry","vertexArrayObjects","_draw","forcedInstanceCount","_getInstancesRenderList","isReplacementMode","previousBatch","isInIntermediateRendering","onlyForInstances","_renderWithInstances","batch","instanceStorage","currentInstancesBufferSize","instancesPreviousBuffer","bufferSize","needUpdateBuffer","masterMeshPreviousWorldMatrix","INSTANCEDMESH_SORT_TRANSPARENT","instanceIndex","instanceMesh","m1","m2","_previousWorldMatrix","strides","sizes","_processInstancedBuffers","_currentDrawContext","useInstancing","_renderWithThinInstances","previousMatrixData","_thinInstanceCreateMatrixBuffer","_processRendering","onBeforeDraw","instanceCount","visibleInstancesForSubMesh","visibleInstanceCount","effectiveMeshReplacement","_occlusionDataStorage","forceRenderingWhenOccluded","oldCameraMaxZ","oldCamera","instanceDataStorage","alphaMode","effectiveMesh","mainDeterminant","cleanMatrixWeights","_normalizeSkinWeightsAndExtra","_normalizeSkinFourWeights","numWeights","recip","validateSkinning","skinned","valid","report","numberNotSorted","missingWeights","maxUsedWeights","numberNotNormalized","numInfluences","usedWeightCounts","lastWeight","usedWeights","tolerance","numBones","numBadBoneIndices","getBinaryData","_syncSubMeshes","setMaterialById","bakeTransformIntoVertices","submeshes","flipFaces","bakeCurrentTransformIntoVertices","bakeIndependenlyOfChildren","_disposeInstanceSpecificData","_disposeThinInstanceSpecificData","applyDisplacementMap","minHeight","maxHeight","uvOffset","uvScale","forceUpdate","heightMapWidth","heightMapHeight","applyDisplacementMapFromBuffer","kindIndex","newdata","updatableNormals","previousSubmeshes","flipNormalGeneration","p3","localIndex","submeshIndex","previousOne","convertToUnIndexedMesh","flipNormals","vertex_data","increaseVertices","numberPerEdge","currentIndices","segments","tempIndices","deltaPosition","deltaNormal","deltaUV","side","positionPtr","uvPtr","normalsPtr","forceSharedVertices","currentUVs","currentPositions","currentColors","pstring","indexPtr","uniquePositions","ptr","facet","_instancedMeshFactory","_PhysicsImpostorParser","physicObject","jsonObject","optimizeIndices","vectorPositions","dupes","realPos","testedPosition","againstPosition","originalSubMeshes","pickable","checkCollisions","materialUniqueId","materialId","morphTargetManagerId","getPhysicsImpostor","physicsMass","getParam","physicsFriction","physicsRestitution","serializationInstance","thinInstances","enablePicking","thinInstanceEnablePicking","_userThinInstanceBuffersStorage","userThinInstance","renderOverlay","morphTarget","getActiveTarget","getNormals","getTangents","getUVs","parsedMesh","_LinesMeshParser","_GroundMeshParser","_GoldbergMeshParser","showBoundingBox","useFlatShading","ForceFullSceneLoadingForIncremental","lodMeshIds","ids","distances","lodDistances","coverages","lodCoverages","parsedInstance","thinInstanceSetBuffer","setPositionsForCPUSkinning","setNormalsForCPUSkinning","_softwareSkinningFrameId","hasNormals","tempVector3","MinMax","minVector","maxVector","meshesOrMinMaxVector","minMaxVector","MergeMeshes","disposeSource","allow32BitsIndices","meshSubclass","subdivideWithSubMeshes","multiMultiMaterials","_MergeMeshesCoroutine","MergeMeshesAsync","yieldAfterMS","startTime","createYieldingScheduler","materialArray","materialIndexArray","indiceArray","currentOverrideMaterialSideOrientation","getVertexDataFromMesh","sourceVertexData","sourceTransform","meshVertexDatas","mergeCoroutine","mergeCoroutineStep","applyToCoroutine","applyToCoroutineStep","Boolean","addInstance","_indexInSourceMeshInstanceArray","removeInstance","last","NO_CAP","CAP_START","CAP_END","CAP_ALL","NO_FLIP","FLIP_TILE","ROTATE_TILE","FLIP_ROW","ROTATE_ROW","FLIP_N_ROTATE_TILE","FLIP_N_ROTATE_ROW","CENTER","LEFT","RIGHT","TOP","BOTTOM","setMaterialByID","CreateTube","CreateDecal","ExtendToGoldberg","SceneOptimization","SceneOptimization2","priority","getDescription","optimizer","TextureOptimization","TextureOptimization2","maximumSize","canRescale","currentSize","HardwareScalingOptimization","HardwareScalingOptimization2","maximumScale","_currentScale","_directionOffset","ShadowsOptimization","ShadowsOptimization2","isInImprovementMode","PostProcessesOptimization","PostProcessesOptimization2","LensFlaresOptimization","LensFlaresOptimization2","CustomOptimization","CustomOptimization2","onGetDescription","ParticlesOptimization","ParticlesOptimization2","RenderTargetsOptimization","RenderTargetsOptimization2","MergeMeshesOptimization","MergeMeshesOptimization2","_canBeMerged","hasLODLevels","_UpdateSelectionTree","updateSelectionTree","globalPool","globalLength","currentPool","otherMesh","sceneAsAny","createOrUpdateSelectionOctree","UpdateSelectionTree","SceneOptimizerOptions","SceneOptimizerOptions2","targetFrameRate","trackerDuration","optimizations","addOptimization","optimization","addCustomOptimization","LowDegradationAllowed","ModerateDegradationAllowed","HighDegradationAllowed","SceneOptimizer","SceneOptimizer2","autoGeneratePriorities","improvementMode","_isRunning","_currentPriorityLevel","_targetFrameRate","_trackerDuration","_currentFrameRate","_improvementMode","onSuccessObservable","onNewOptimizationAppliedObservable","onFailureObservable","_options","_sceneDisposeObserver","stop","_checkCurrentState","noOptimizationApplied","OptimizeAsync","onFailure","TargetCamera","TargetCamera2","_tmpUpVector","_tmpTargetVector","cameraDirection","cameraRotation","ignoreParentScaling","updateUpVectorFromRotation","_tmpQuaternion","speed","noRotationConstraint","invertRotation","inverseRotationSpeed","lockedTarget","_currentTarget","_initialFocalDistance","_camMatrix","_cameraTransformMatrix","_cameraRotationMatrix","_referencePoint","_transformedReferencePoint","_defaultUp","_cachedRotationZ","_cachedQuaternionRotationZ","getFrontPosition","_getLockedTargetPosition","_storedPosition","_storedRotation","_storedRotationQuaternion","lockedTargetPosition","_computeLocalCameraSpeed","atan","vDir","_decideIfNeedsToMove","_updatePosition","directionMultiplier","needToMove","needToRotate","_rotateUpVectorWithCameraRotationMatrix","_computeViewMatrix","parentWorldMatrix","rigCamera","camLeft","camRight","leftSign","rightSign","_getRigCamPositionAndTarget","halfSpace","_TargetFocalPoint","newFocalTarget","_TargetTransformMatrix","_RigCamTransformMatrix","ShadowLight","ShadowLight2","_needProjectionMatrixCompute","_setPosition","_setDirection","_direction","_shadowMinZ","forceProjectionMatrixCompute","_shadowMaxZ","computeTransformedInformation","transformedPosition","transformedDirection","getDepthScale","getShadowDirection","setDirectionToTarget","getRotation","needCube","needProjectionMatrixCompute","getDepthMinZ","shadowMinZ","getDepthMaxZ","shadowMaxZ","setShadowProjectionMatrix","viewMatrix","customProjectionMatrixBuilder","_setDefaultShadowProjectionMatrix","DirectionalLight","DirectionalLight2","_shadowFrustumSize","_shadowOrthoScale","autoUpdateExtends","autoCalcShadowZBounds","_orthoLeft","_orthoRight","MIN_VALUE","_orthoTop","_orthoBottom","shadowFrustumSize","_setDefaultFixedFrustumShadowProjectionMatrix","_setDefaultAutoExtendShadowProjectionMatrix","shadowOrthoScale","transferToNodeMaterialEffect","lightDataUniformName","HemisphericLight","HemisphericLight2","groundColor","_effect","normalizeDirection","Size","Size2","otherSize","GenerateBase64StringFromPixelData","npixels","ctx","Texture","Texture2","sceneOrEngine","noMipmapOrOptions","TRILINEAR_SAMPLINGMODE","uOffset","vOffset","uScale","vScale","uAng","vAng","wAng","uRotationCenter","vRotationCenter","wRotationCenter","homogeneousRotationInUVTransform","inspectableCustomProperties","_noMipmap","_invertY","_rowGenerationMatrix","_cachedTextureMatrix","_projectionModeMatrix","_t0","_t1","_t2","_cachedUOffset","_cachedVOffset","_cachedUScale","_cachedVScale","_cachedUAng","_cachedVAng","_cachedWAng","_cachedProjectionMatrixId","_cachedURotationCenter","_cachedVRotationCenter","_cachedWRotationCenter","_cachedHomogeneousRotationInUVTransform","_format","_delayedOnLoad","_delayedOnError","onLoadObservable","_isBlocking","_initialSamplingMode","_mimeType","_loaderOptions","_creationFlags","_forcedExtension","_getEngine","_texture","isBlocking","_loadingError","_errorObject","OnTextureLoadErrorObservable","_getFromCache","loadObserver_1","useDelayedTextureLoading","updateURL","releaseInternalTexture","_prepareRowForTextureGeneration","checkTransformsAreIdentical","uBase","getReflectionTextureMatrix","PROJECTION_MODE","flagMaterialsAsTextureDirty","PLANAR_MODE","projectionMatrix","textureFormat","savedName","SerializeBuffers","ForceSerializeBuffers","base64String","_forceSerialize","_readPixelsSync","GenerateBase64StringFromTexture","GenerateBase64StringFromTextureAsync","parsedTexture","parsedCustomTexture","updateSamplingMode","_samplingMode","_CubeTextureParser","sampling","texture_1","mirrorPlane","mirrorTexture","_CreateMirror","renderTargetSize","_waitingRenderList","renderTargetTexture","reflectionProbes","probe","cubeTexture","_CreateRenderTargetTexture","CreateFromBase64String","UseSerializedUrlIfAny","LoadFromDataString","jsonTexture","NEAREST_SAMPLINGMODE","NEAREST_NEAREST_MIPLINEAR","BILINEAR_SAMPLINGMODE","LINEAR_LINEAR_MIPNEAREST","LINEAR_LINEAR_MIPLINEAR","NEAREST_NEAREST_MIPNEAREST","NEAREST_LINEAR_MIPNEAREST","NEAREST_LINEAR_MIPLINEAR","NEAREST_LINEAR","NEAREST_NEAREST","LINEAR_NEAREST_MIPNEAREST","LINEAR_NEAREST_MIPLINEAR","LINEAR_LINEAR","LINEAR_NEAREST","EXPLICIT_MODE","SPHERICAL_MODE","CUBIC_MODE","SKYBOX_MODE","INVCUBIC_MODE","EQUIRECTANGULAR_MODE","FIXED_EQUIRECTANGULAR_MODE","FIXED_EQUIRECTANGULAR_MIRRORED_MODE","CLAMP_ADDRESSMODE","WRAP_ADDRESSMODE","MIRROR_ADDRESSMODE","BaseTexture2","_hasAlpha","_getAlphaFromRGB","_coordinatesIndex","_coordinatesMode","DEFAULT_ANISOTROPIC_FILTERING_LEVEL","_isCube","invertZ","lodLevelInAlpha","_prefiltered","_IsScene","_wrapU","_wrapV","isReadyOrNotBlocking","loadingError","correctedUseSRGBBuffer","texturesCache","texturesCacheEntry","maxWidth","WhenAllReady","numRemaining","ThinTexture2","_cachedSize","_cachedBaseSize","getBaseSize","WebGLRenderTargetWrapper","WebGLRenderTargetWrapper2","_depthStencilBuffer","_colorTextureArray","_depthStencilTextureArray","_cloneRenderTargetWrapper","rtw","createMultiviewRenderTargetTexture","_swapRenderTargetWrapper","_shareDepth","depthbuffer","_bindTextureRenderTarget","attachmentIndex","currentFB","disposePrevious","disposeOnlyFramebuffers","RenderTargetWrapper2","_attachments","_generateStencilBuffer","_generateDepthBuffer","_isMulti","setSamples","initializeBuffers","updateMultipleRenderTargetTextureSampleCount","updateRenderTargetTextureSampleCount","setTextures","createDepthStencilTexture","depthTextureFormat","textureArray","generateDepthTexture","textureCount","lastTextureSource","Depth","DepthStencil","samplingModes","types","optionsMRT","createMultipleRenderTarget","createRenderTargetCubeTexture","bilinear","releaseTextures","_createHardwareRenderTargetWrapper","noColorTarget","RenderTarget","currentFrameBuffer","_createDepthStencilCubeTexture","_createDepthStencilTexture","internalOptions","DEPTH_COMPONENT","DEPTH_COMPONENT24","colorRenderbuffer","face","RenderTargetTexture","RenderTargetTexture2","doNotChangeAspectRatio","ignoreCameraViewport","onBeforeBindObservable","onAfterUnbindObservable","_currentRefreshId","_refreshRate","_canRescale","_renderTarget","boundingBoxPosition","_initialSizeParameter","_renderPassIds","_isCubeData","_processSizeParameter","_resizeObserver","_generateMipMaps","_doNotChangeAspectRatio","_renderTargetOptions","getRenderSize","_textureMatrix","_renderList","wasEmpty","_prePassRenderTarget","_onAfterUnbindObserver","_onClearObserver","setMaterialForRendering","_onRatioRescale","_sizeRatio","_boundingBoxSize","_releaseRenderPassId","_createRenderPassId","numPasses","getRenderLayers","_bestReflectionRenderTargetDimension","resetRefreshCounter","addPostProcess","_postProcessManager","clearPostProcesses","removePostProcess","refreshRate","disableRescaling","newSize","wasCube","useCameraPostProcess","dumpForDebug","_render","checkReadiness","useCameraPostProcesses","renderListPredicate","scene_1","sceneMeshes","_defaultRenderListPrepared","numLayers","currentRenderList","defaultRenderList","defaultRenderListLength","getCustomRenderList","customIsReadyFunction","_renderToTarget","renderDimension","curved","_prepareRenderingManager","currentRenderListLength","checkLayerMask","isMasked","_unbindFrameBuffer","_prePassEnabled","saveGenerateMipMaps","disposeFramebufferObjects","REFRESHRATE_RENDER_ONCE","REFRESHRATE_RENDER_ONEVERYFRAME","REFRESHRATE_RENDER_ONEVERYTWOFRAMES","PostProcess","PostProcess2","fragmentUrl","reusable","vertexUrl","blockCompilation","nodeMaterialSource","enablePixelPerfectMode","scaleMode","alwaysForcePOT","adaptScaleToCurrentViewport","_reusable","_textureCache","_scaleRatio","_texelSize","onActivateObservable","onSizeChangedObservable","onApplyObservable","renderTargetSamplingMode","_textureType","_textureFormat","_fragmentUrl","_vertexUrl","_parameters","updateEffect","_onActivateObserver","_onSizeChangedObserver","_onApplyObserver","restoreDefaultInputTexture","getCamera","_shareOutputWithPostProcess","texelSize","shareOutputWith","_disposeTextures","useOwnOutput","_postProcessDefines","_createRenderTargetTexture","textureOptions","postProcessChannel","tex","lastUsedRenderId","_flushTextureCache","currentlyUsed","_resize","needMipMaps","forceDepthStencil","firstPP","isStencilEnable","maxSize","webVRCamera","desiredWidth","desiredHeight","inputTexture","alphaConstants","_disposeTextureCache","_prePassEffectConfiguration","addEffectConfiguration","cameraId","parsedPostProcess","postProcessType","_Parse","targetCamera","BlurPostProcess","BlurPostProcess2","kernel","_blockCompilation","varyingCount","depCount","_packedFloat","_staticDefines","_idealKernel","_kernel","_nearestBestKernel","N","centerIndex","offsets","weights","totalWeight","_gaussianWeight","linearSamplingWeights","linearSamplingOffsets","linearSamplingMap","sharedCell","weightLinear","offsetLinear","maxVaryingRows","freeVaryingVec2","_glslFloat","packedFloat","idealKernel","sigma","exponent","exp","decimalFigures","EffectFallbacks","EffectFallbacks2","_defines","_currentRank","_maxRank","currentDefines","currentFallbacks","ShadowGenerator","ShadowGenerator2","mapSize","usefullFloatFirst","onBeforeShadowMapRenderObservable","onAfterShadowMapRenderObservable","onBeforeShadowMapRenderMeshObservable","onAfterShadowMapRenderMeshObservable","_bias","_normalBias","_blurBoxOffset","_blurScale","_blurKernel","_useKernelBlur","_filter","FILTER_NONE","_filteringQuality","QUALITY_HIGH","_contactHardeningLightSizeUVRatio","_darkness","_transparencyShadow","enableSoftTransparentShadow","useOpacityTextureForTransparentShadow","frustumEdgeFalloff","forceBackFacesOnly","_lightDirection","_cachedPosition","_cachedDirection","_currentFaceIndex","_currentFaceIndexCache","_defaultTextureMatrix","_mapSize","_light","_sceneUBOs","_SceneComponentInitialization","_initializeGenerator","_applyFilterValues","normalBias","_disposeBlurPostProcesses","_depthScale","_validateFilter","FILTER_BLUREXPONENTIALSHADOWMAP","useExponentialShadowMap","FILTER_BLURCLOSEEXPONENTIALSHADOWMAP","useCloseExponentialShadowMap","FILTER_PCF","FILTER_PCSS","usePoissonSampling","FILTER_POISSONSAMPLING","FILTER_EXPONENTIALSHADOWMAP","FILTER_CLOSEEXPONENTIALSHADOWMAP","filteringQuality","contactHardeningLightSizeUVRatio","setDarkness","getDarkness","darkness","setTransparencyShadow","_shadowMap","getShadowMapForRendering","_shadowMap2","CLASSNAME","addShadowCaster","removeShadowCaster","getLight","recreateShadowMap","_initializeShadowMap","_createTargetRenderTexture","_storedUniqueId","_renderForShadowMap","_currentSceneUBO","useBlurExponentialShadowMap","useBlurCloseExponentialShadowMap","_blurPostProcesses","clearZero","clearOne","engine2","_initializeBlurRTTAndPostProcesses","targetSize","blurScale","useKernelBlur","_kernelBlurXPostprocess","blurKernel","_kernelBlurYPostprocess","_boxBlurPostprocess","opaqueSubMeshes","alphaTestSubMeshes","transparentSubMeshes","depthOnlySubMeshes","_renderSubMeshForShadowMap","_bindCustomEffectForRenderSubMeshForShadowMap","isTransparent","detNeg","reverseSideOrientation","customAllowRendering","effect_1","depthScale","standalone","baseMaterial","opacityTexture","alphaTexture","world_1","worldOverride","renderList_1","currentIndex","_isReadyCustomDefines","_prepareShadowDefines","usePercentageCloserFiltering","useContactHardeningShadow","subMeshEffect","cachedDefines","alphaCutOff","DEFAULT_ALPHA_CUTOFF","morphInfluencers","customShaderOptions","shaderName","attrib","sampler","maxSimultaneousMorphTargets","QUALITY_LOW","QUALITY_MEDIUM","lightPosition","_disposeRTTandPostProcesses","renderList_2","_disposeSceneUBOs","lightId","transparencyShadow","blurBoxOffset","parsedShadowGenerator","constr","useVarianceShadowMap","useBlurVarianceShadowMap","DepthRenderer","DepthRenderer2","storeNonLinearDepth","forceDepthWriteTransparentMeshes","useOnlyInActiveCamera","_storeNonLinearDepth","isPacked","_clearColor","_depthMap","renderSubMesh","scene2","camera2","renderingMaterial","cameraIsOrtho","numMorphInfluencers","getDepthMap","keysToDelete","_depthRenderer","keysToDelete_1","DepthReducer","DepthReducer2","setDepthRenderer","depthRenderer","_depthRendererId","setSourceTexture","depthRedux","deactivate","disposeAll","MinMaxReducer2","onAfterReductionPerformed","_forceFullscreenViewport","_activated","_onContextRestoredObserver","_sourceTexture","_reductionSteps","reductionInitial","w2","h2","reduction","reduction2","minmax","UpDir","ZeroVec","tmpv1","tmpv2","tmpMatrix","CascadedShadowGenerator","CascadedShadowGenerator2","usefulFloatFirst","IsSupported","_numCascades","MIN_CASCADES_COUNT","MAX_CASCADES_COUNT","_recreateSceneUBOs","_freezeShadowCastersBoundingInfo","_freezeShadowCastersBoundingInfoObservable","_computeShadowCastersBoundingInfo","_scbiMin","_scbiMax","_shadowCastersBoundingInfo","setMinMaxDistance","_minDistance","_maxDistance","_breaksAreDirty","getCascadeMinExtents","cascadeIndex","_cascadeMinExtents","getCascadeMaxExtents","_cascadeMaxExtents","_debug","dbg","_depthClamp","_cascadeBlendPercentage","_lambda","lambda","getCascadeViewMatrix","cascadeNum","_viewMatrices","getCascadeProjectionMatrix","_projectionMatrices","getCascadeTransformMatrix","_transformMatrices","_depthReducer","_autoCalcDepthBounds","splitFrustum","_splitFrustum","near","far","cameraRange","minDistance","_cascades","prevBreakDistance","breakDistance","_viewSpaceFrustumsZ","_frustumLengths","_computeMatrices","_computeFrustumInWorldSpace","_computeCascadeFrustum","_frustumCenter","_shadowCameraPos","_transformMatricesAsArray","prevSplitDist","splitDist","invViewProj","cornerIndexOffset","cornerIndex","_FrustumCornersNDCSpace","_frustumCornersWorldSpace","stabilizeCascades","dist","lightCameraPos","_p","_q","_r","_s","_t","_u","_v","penumbraDarkness","DEFAULT_CASCADES_COUNT","freezeShadowCastersBoundingInfo","_currentLayer","numCascades","_lightSizeUVCorrection","_depthCorrection","debug","cascadeBlendPercentage","depthClamp","autoCalcDepthBounds","maxDistance","parsedData","shadowGenerators","ShadowGeneratorSceneComponent","ShadowGeneratorSceneComponent2","_gatherRenderTargets","lights_1","removeFromContainer","renderTargets","defaultOptions$2","enableShadows","createLights","undefined","shadowTransparency","d_light","h_light","directional","hemispheric","CreateBoxVertexData","topBaseAt","bottomBaseAt","topIndex","bottomIndex","basePositions","topFaceBase","bottomFaceBase","topFaceOrder","bottomFaceOrder","flat","scaleArray","accumulator","faceUV","faceColors","totalColors","PrePassConfiguration","PrePassConfiguration2","previousWorldMatrices","AddUniforms","AddSamplers","currentRTisSceneRT","previousViewProjection","currentViewProjection","_lastUpdateFrameId","PushMaterial","PushMaterial2","storeEffectOnSubMeshes","_normalMatrix","_activeEffect","_isReadyForSubMesh","bindOnlyNormalMatrix","normalMatrix","_mustRebind","MaterialFlags","MaterialFlags2","_DiffuseTextureEnabled","_DetailTextureEnabled","_AmbientTextureEnabled","_OpacityTextureEnabled","_ReflectionTextureEnabled","_EmissiveTextureEnabled","_SpecularTextureEnabled","_BumpTextureEnabled","_LightmapTextureEnabled","_RefractionTextureEnabled","_ColorGradingTextureEnabled","_FresnelEnabled","_ClearCoatTextureEnabled","_ClearCoatBumpTextureEnabled","_ClearCoatTintTextureEnabled","_SheenTextureEnabled","_AnisotropicTextureEnabled","_ThicknessTextureEnabled","_RefractionIntensityTextureEnabled","_TranslucencyIntensityTextureEnabled","_IridescenceTextureEnabled","MaterialPluginManager","MaterialPluginManager2","_plugins","_activePlugins","_activePluginsForExtraEvents","_addPlugin","plugin","pluginClassName","_MaterialPluginClassToMainDefine","_MaterialPluginCounter","_handlePluginEvent","_codeInjectionPoints","defineNamesFromPlugins","plugin_1","collectDefines","_collectPointNames","getCustomCode","_defineNamesFromPlugins","_activatePlugin","_handlePluginEventIsReadyForSubMesh","_handlePluginEventPrepareDefines","_handlePluginEventBindForSubMesh","registerForExtraEvents","_handlePluginEventHasRenderTargetTextures","_handlePluginEventFillRenderTargetTextures","_handlePluginEventHardBindForSubMesh","getPlugin","hardBindForSubMesh","fillRenderTargetTextures","GetDefineNames","defineNames","PrepareEffect","fallbackRank","addFallbacks","_uniformList","_uboList","customCode","_injectCustomCode","_uboDeclaration","_vertexDeclaration","_fragmentDeclaration","shaderType","pointName","existingCallback","points","injectedCode","fullPointName","MaterialPluginBase","MaterialPluginBase2","addToPluginList","pluginManager","_pluginDefineNames","_pluginManager","_enable","markAllDefinesAsDirty","currentRank","ubos","MaterialDetailMapDefines","MaterialDetailMapDefines2","DETAIL","DETAILDIRECTUV","DETAIL_NORMALBLENDMETHOD","DetailMapConfiguration","DetailMapConfiguration2","diffuseBlendLevel","roughnessBlendLevel","bumpLevel","_normalBlendMethod","_internalMarkAllSubMeshesAsTexturesDirty","texturesEnabled","DetailTextureEnabled","isSync","onCreatedEffectParameters","StandardMaterialDefines","StandardMaterialDefines2","MAINUV1","MAINUV2","MAINUV3","MAINUV4","MAINUV5","MAINUV6","DIFFUSE","DIFFUSEDIRECTUV","BAKED_VERTEX_ANIMATION_TEXTURE","AMBIENT","AMBIENTDIRECTUV","OPACITY","OPACITYDIRECTUV","OPACITYRGB","REFLECTION","EMISSIVE","EMISSIVEDIRECTUV","SPECULAR","SPECULARDIRECTUV","BUMP","BUMPDIRECTUV","PARALLAX","PARALLAXOCCLUSION","SPECULAROVERALPHA","CLIPPLANE","CLIPPLANE2","CLIPPLANE3","CLIPPLANE4","CLIPPLANE5","CLIPPLANE6","ALPHATEST","DEPTHPREPASS","ALPHAFROMDIFFUSE","POINTSIZE","FOG","SPECULARTERM","DIFFUSEFRESNEL","OPACITYFRESNEL","REFLECTIONFRESNEL","REFRACTIONFRESNEL","EMISSIVEFRESNEL","FRESNEL","NORMAL","TANGENT","UV1","UV2","UV3","UV4","UV5","UV6","VERTEXCOLOR","VERTEXALPHA","NUM_BONE_INFLUENCERS","BonesPerMesh","BONETEXTURE","BONES_VELOCITY_ENABLED","INSTANCES","THIN_INSTANCES","GLOSSINESS","ROUGHNESS","EMISSIVEASILLUMINATION","LINKEMISSIVEWITHDIFFUSE","REFLECTIONFRESNELFROMSPECULAR","LIGHTMAP","LIGHTMAPDIRECTUV","OBJECTSPACE_NORMALMAP","USELIGHTMAPASSHADOWMAP","REFLECTIONMAP_3D","REFLECTIONMAP_SPHERICAL","REFLECTIONMAP_PLANAR","REFLECTIONMAP_CUBIC","USE_LOCAL_REFLECTIONMAP_CUBIC","USE_LOCAL_REFRACTIONMAP_CUBIC","REFLECTIONMAP_PROJECTION","REFLECTIONMAP_SKYBOX","REFLECTIONMAP_EXPLICIT","REFLECTIONMAP_EQUIRECTANGULAR","REFLECTIONMAP_EQUIRECTANGULAR_FIXED","REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED","REFLECTIONMAP_OPPOSITEZ","INVERTCUBICMAP","LOGARITHMICDEPTH","REFRACTION","REFRACTIONMAP_3D","REFLECTIONOVERALPHA","TWOSIDEDLIGHTING","SHADOWFLOAT","MORPHTARGETS","MORPHTARGETS_NORMAL","MORPHTARGETS_TANGENT","MORPHTARGETS_UV","MORPHTARGETS_TEXTURE","NONUNIFORMSCALING","PREMULTIPLYALPHA","ALPHATEST_AFTERALLALPHACOMPUTATIONS","ALPHABLEND","PREPASS_IRRADIANCE","PREPASS_IRRADIANCE_INDEX","PREPASS_ALBEDO_SQRT","PREPASS_ALBEDO_SQRT_INDEX","PREPASS_DEPTH","PREPASS_DEPTH_INDEX","PREPASS_NORMAL","PREPASS_NORMAL_INDEX","PREPASS_POSITION","PREPASS_POSITION_INDEX","PREPASS_VELOCITY","PREPASS_VELOCITY_INDEX","PREPASS_REFLECTIVITY","PREPASS_REFLECTIVITY_INDEX","RGBDLIGHTMAP","RGBDREFLECTION","RGBDREFRACTION","IS_REFLECTION_LINEAR","IS_REFRACTION_LINEAR","setReflectionMode","modeToEnable","modes_1","StandardMaterial","StandardMaterial2","_diffuseTexture","_ambientTexture","_opacityTexture","_reflectionTexture","_emissiveTexture","_specularTexture","_bumpTexture","_lightmapTexture","_refractionTexture","diffuseColor","specularColor","emissiveColor","specularPower","_useAlphaFromDiffuseTexture","_useEmissiveAsIllumination","_linkEmissiveWithDiffuse","_useSpecularOverAlpha","_useReflectionOverAlpha","_disableLighting","_useObjectSpaceNormalMap","_useParallax","_useParallaxOcclusion","parallaxScaleBias","_roughness","indexOfRefraction","invertRefractionY","_useLightmapAsShadowmap","_useReflectionFresnelFromSpecular","_useGlossinessFromSpecularMapAlpha","_maxSimultaneousLights","_invertNormalMapX","_invertNormalMapY","_twoSidedLighting","_worldViewProjectionMatrix","_globalAmbientColor","_cacheHasRenderTargetTextures","detailMap","_attachImageProcessingConfiguration","ReflectionTextureEnabled","RefractionTextureEnabled","configuration","_imageProcessingObserver","imageProcessingConfiguration","_useLogarithmicDepth","_shouldUseAlphaFromDiffuseTexture","_opacityFresnelParameters","_hasAlphaChannel","oit","DiffuseTextureEnabled","AmbientTextureEnabled","OpacityTextureEnabled","getAlphaFromRGB","isRGBD","boundingBoxSize","EmissiveTextureEnabled","LightmapTextureEnabled","SpecularTextureEnabled","BumpTextureEnabled","transparencyMode","reflectionTexture","gammaSpace","refractionTexture","FresnelEnabled","_diffuseFresnelParameters","_emissiveFresnelParameters","_refractionFresnelParameters","_reflectionFresnelParameters","lightDisposed","csnrOptions","customShaderNameResolve","previousEffect","mustRebind","diffuseFresnelParameters","leftColor","power","rightColor","opacityFresnelParameters","reflectionFresnelParameters","refractionFresnelParameters","emissiveFresnelParameters","roughness","BlackReadOnly","ColorGradingTextureEnabled","ShadowOnlyMaterialDefines","ShadowOnlyMaterialDefines2","ShadowOnlyMaterial","ShadowOnlyMaterial2","_needAlphaBlending","shadowColor","_activeLight","_getFirstShadowLightForMesh","csg","defaultOptions$1","enableDebugging","Container","config","destroy","wallHeight","boxMaterial","ground","wallTop","wallRight","wallBottom","wallLeft","SceneLoaderAnimationGroupLoadingMode","SceneLoaderAnimationGroupLoadingMode2","SceneLoader","SceneLoader2","ShowLoadingScreen","loggingLevel","GetDefaultPlugin","_RegisteredPlugins","_GetPluginForExtension","registeredPlugin","_GetPluginForDirectLoad","canDirectLoad","_GetPluginForFilename","sceneFilename","queryStringPosition","dotPosition","_GetDirectLoad","_FormatErrorMessage","fileInfo","errorMessage","_LoadData","onDispose","pluginExtension","directLoad","createPlugin","OnPluginActivatedObservable","isBinary","dataCallback","pluginDisposed","manifestChecked","errorCallback","canUseOfflineSupport","exceptionFound","_GetFileInfo","sceneFile","filename","GetPluginForExtension","IsPluginForExtensionAvailable","RegisterPlugin","extensions","extensions_1","extension2","ImportMesh","meshNames","loadingToken","disposeHandler","progressHandler","successHandler","rewriteRootURL","importMesh","syncedPlugin","loadingPluginName","importMeshAsync","ImportMeshAsync","Load","Append","LoadAsync","_ShowingLoadingScreen","loadAsync","AppendAsync","LoadAssetContainer","assets","loadAssetContainer","assetContainer","loadAssetContainerAsync","assetContainer2","LoadAssetContainerAsync","ImportAnimations","overwriteAnimations","animationGroupLoadingMode","targetConverter","Clean","animationGroup","Stop","Sync","restart","NoSync","startingIndexForNewAnimatables","mergeAnimationsTo","ImportAnimationsAsync","_scene2","NO_LOGGING","MINIMAL_LOGGING","SUMMARY_LOGGING","DETAILED_LOGGING","Ray","Ray2","intersectsBoxMinMax","intersectionTreshold","newMinimum","newMaximum","maxValue","rr","vertex0","edge1","edge2","pvec","tvec","qvec","invdet","bw","intersectsPlane","result1","result2","intersectsAxis","tm","_tmpRay","intersectsMeshes","_comparePickingInfo","pickingInfoA","pickingInfoB","sega","segb","threshold","rsegb","_Rayl","sN","tN","D","sD","tD","_Smallnum","sc","tc","qtc","qsc","dP","_RayDistant","unprojectRayToRef","CreateNewFromTo","dir","nearScreenSource","farScreenSource","nearVec3","farVec3","_internalPickForMesh","rayFunction","_internalPick","tmpMatrix2","thinMatrices","thinInstanceGetWorldMatrices","_internalMultiPick","pickingInfos","result_2","_tempPickingRay","_pickWithRayInverseMatrix","_cachedRayForTransform","names","hierarchyIds","logOperation","producer","exporter_version","meshesNames","currentMesh","InstancedMesh","instancedBuffers","InstancedMesh2","_sourceMesh","_billboardWorldMatrix","tempMaster","sourceMeshLODLevels","registerInstancedBuffer","expectedSize","defaultOptions","assetPath","groupId","rollId","_Dice","dieType","sides","comboKey","theme","targetDie","meshName","colorSuffix","instanceName","dieInstance","themeColor","customColor","loadDie","dieMeshName","dieMaterialName","die","loadModels","meshFilePath","d4FaceDown","has_d100","has_d10","modelData","fetch","resp","ok","contentType","headers","json","stringify","model","colliderFaceMap","deepCopy","themeData","updateConfig","option","getVector3","getRollResult","parentMesh","meshFaceIds","dieHitbox","picked","getDieRoll","Dice","ShaderSpecialParts","CustomMaterial","CustomMaterial2","CustomParts","Builder","FragmentShader","VertexShader","AttachAfterBind","_newUniformInstances","ea","_newSamplerInstances","ReviewUniform","_newUniforms","_customUniform","_customAttributes","_isCreatedShader","_createdShaderName","ShaderIndexer","fn_afterBind","e2","Vertex_Begin","Vertex_Definitions","Vertex_MainBegin","Vertex_Before_PositionUpdated","Vertex_Before_NormalUpdated","Vertex_MainEnd","Vertex_After_WorldPosComputed","Fragment_Begin","Fragment_MainBegin","Fragment_Definitions","Fragment_Custom_Diffuse","Fragment_Custom_Alpha","Fragment_Before_Lights","Fragment_Before_FragColor","Fragment_MainEnd","Fragment_Before_Fog","AddUniform","param","AddAttribute","shaderPart","th","ThemeLoader","loadStandardMaterial","matParams","diceMaterial","diffuseTexture","getTexture","bumpTexture","specularTexture","loadColorMaterial","diceMatLight","opts","diceMatDark","dark","basePath","textureKey","importTextureAsync","WorldOnscreen","onInitComplete","onThemeLoaded","onRollResult","onRollComplete","onDieRemoved","initialized","initScene","optimizationSettings","createScene","cameraDistance","createCamera","lightIntensity","connect","port","postMessage","diceBuffer","diceBufferView","onmessage","updatesFromPhysics","prevConfig","_ref","newStartPoint","renderLoop","loadTheme","colliders","fill","timer","__privateMethod","addNonDie","activeRenderLoops","newDie","__objRest","exclude","handleAsleep","dieData","d10Instance","bufferIndex","px","py","pz","asleep","dieParent","d100","d10","WeakMap","async","diceOptions"],"sourceRoot":""}